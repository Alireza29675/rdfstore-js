(function(){typeof console=="undefined"&&(console={log:function(){}});var x={"extends":function(b,c){c.prototype=new b},stackCounterLimit:1E3,stackCounter:0};x.recur=function(b){x.stackCounter===x.stackCounterLimit?(x.stackCounter=0,setTimeout(b,0)):(x.stackCounter++,b())};x.clone=function(b){return JSON.parse(JSON.stringify(b))};x.shuffle=function(b){for(var c,d,j=b.length;j;c=parseInt(Math.random()*j),d=b[--j],b[j]=b[c],b[c]=d);return b};x.include=function(b,c,d){for(var j=b.length-1;j>=0;j--){var h=
!1,h=d==null?b[j]===c:d(b[j],c)===0;if(h===!0)return!0}return!1};x.remove=function(b,c){for(var d=[],j=0;j<b.length;j++)b[j]!==c&&d.push(b[j]);return d};x.repeat=function(b,c,d,j,h){arguments.length===4&&(h={});b<c?(h._i=b,d(function(g,d){x.recur(function(){x.repeat(b+1,c,g,j,d)})},h)):j(h)};Utilsmeanwhile=function(b,c,d,j){arguments.length===3&&(j={});j._stack_counter==null&&(j._stack_counter=0);b===!0?c(function(c,b,j){j._stack_counter%40==39?(j._stack_counter+=1,setTimeout(function(){Utilsmeanwhile(c,
b,d,j)},0)):(j._stack_counter+=1,Utilsmeanwhile(c,b,d,j))},j):d(j)};x.seq=function(){var b=arguments;return function(c){x.repeat(0,b.length,function(c,j){var h=arguments.callee;b[j._i](function(){c(h,j)})},function(){c()})}};x.partition=function(b,c){for(var d=b.length%c,j=[],h=0;h<d;h++)j.push(null);d=[];for(h=0;h<b.length;h++)j.push(b[h]),j.length%c==0&&(d.push(j),j=[]);return d};x.keys=function(b){var c=[],d;for(d in b)c.push(d);return c};x.iso8601=function(b){function c(c){return c<10?"0"+c:c}
return b.getUTCFullYear()+"-"+c(b.getUTCMonth()+1)+"-"+c(b.getUTCDate())+"T"+c(b.getUTCHours())+":"+c(b.getUTCMinutes())+":"+c(b.getUTCSeconds())+"Z"};x.parseStrictISO8601=function(b){var b=b.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),c=0,d=new Date(b[1],0,1);if(b[3])d.setMonth(b[3]-1);else throw"missing ISO8061 component";if(b[5])d.setDate(b[5]);else throw"missing ISO8061 component";if(b[7])d.setHours(b[7]);
else throw"missing ISO8061 component";if(b[8])d.setMinutes(b[8]);else throw"missing ISO8061 component";if(b[10])d.setSeconds(b[10]);else throw"missing ISO8061 component";b[12]&&d.setMilliseconds(Number("0."+b[12])*1E3);b[14]&&(c=Number(b[16])*60+Number(b[17]),c*=b[15]=="-"?1:-1);c-=d.getTimezoneOffset();time=Number(d)+c*6E4;b=new Date;b.setTime(Number(time));return b};x.parseISO8601=function(b){var b=b.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),
c=0,d=new Date(b[1],0,1);b[3]&&d.setMonth(b[3]-1);b[5]&&d.setDate(b[5]);b[7]&&d.setHours(b[7]);b[8]&&d.setMinutes(b[8]);b[10]&&d.setSeconds(b[10]);b[12]&&d.setMilliseconds(Number("0."+b[12])*1E3);b[14]&&(c=Number(b[16])*60+Number(b[17]),c*=b[15]=="-"?1:-1);c-=d.getTimezoneOffset();time=Number(d)+c*6E4;b=new Date;b.setTime(Number(time));return b};x.parseISO8601Components=function(b){var b=b.match(RegExp("([0-9]{4})(-([0-9]{2}))(-([0-9]{2}))(T([0-9]{2}):([0-9]{2})(:([0-9]{2}))?(.([0-9]+))?)?(Z|([-+])([0-9]{2})(:([0-9]{2}))?)?")),
c,d,j,h,g,k,i,o;c=Number(b[1]);d=b[3]-1;j=Number(b[5]);h=Number(b[7]);g=Number(b[8]);k=Number(b[10]);b[12]&&(i=Number("0."+b[12])*1E3);b[13]==="Z"?o=0:b[14]?(o=0,b[17]&&(o=Number(b[17])),o+=Number(b[15])*60,o*=b[14]=="-"?-1:1):b[14]==null&&b[11]&&(o=Number(b[12])*60);return{year:isNaN(c)?null:c,month:isNaN(d)?null:d,date:isNaN(j)?null:j,hours:isNaN(h)?null:h,minutes:isNaN(g)?null:g,seconds:isNaN(k)?null:k,millisecs:isNaN(i)?null:i,timezone:isNaN(o)?null:o}};x.compareDateComponents=function(b,c){var d=
x.parseISO8601Components(b),j=x.parseISO8601Components(c);return d.timezone==null&&j.timezone==null||d.timezone!=null&&j.timezone!=null?(da=x.parseISO8601(b),db=x.parseISO8601(c),da.getTime()==db.getTime()?0:da.getTime()<db.getTime()?-1:1):d.timezone!=null&&j.timezone==null?(da=x.parseISO8601(b),db=x.parseISO8601(c),ta=da.getTime(),tb=db.getTime(),d=50400,ta<tb&&ta<tb+d?-1:ta>tb&&ta>tb-d?1:null):(da=x.parseISO8601(b),db=x.parseISO8601(c),ta=da.getTime(),tb=db.getTime(),d=50400,ta<tb&&ta+d<tb?-1:ta>
tb&&ta+d>tb?1:null)};x.lexicalFormLiteral=function(b,c){var d=b.value,j=b.lang,h=b.type,g=null;if(d!=null&&h!=null&&typeof h!="string"){d=h.value;if(d==null)d=h.suffix,h=c.namespaces[h.prefix],b.type=h+d,d=h+d;g=d.indexOf("hexBinary")!=-1?'"'+b.value.toLowerCase()+'"^^<'+d+">":'"'+b.value+'"^^<'+d+">"}else g=j==null&&h==null?'"'+d+'"':h==null?'"'+d+'"@'+j:h.indexOf("hexBinary")!=-1?'"'+b.value.toLowerCase()+'"^^<'+h+">":'"'+b.value+'"^^<'+h+">";return g};x.lexicalFormBaseUri=function(b,c){var d=null;
if(b.value==null)var d=b.prefix,j=b.suffix,h=c.namespaces[d],d=h!=null?h+j:d+":"+j;else d=b.value;if(d===null)return null;else d.indexOf(":")==-1&&(d=(c.base||"")+d);return d};x.lexicalFormTerm=function(b,c){if(b.token==="uri")return{uri:x.lexicalFormBaseUri(b,c)};else if(b.token==="literal")return{literal:x.lexicalFormLiteral(b,c)};else if(b.token==="blank")return{blank:"_:"+b.value};else throw"Error, cannot get lexical form of unknown token: "+b.token;};x.normalizeUnicodeLiterals=function(b){for(var c=
b.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||[],d={},j=0;j<c.length;j++)d[c[j]]==null&&(d[c[j]]=!0,b=b.replace(RegExp("\\"+c[j],"g"),eval("'"+c[j]+"'")));return b};x.hashTerm=function(b){try{if(b==null)return"";if(b.token==="uri")return"u"+b.value;else if(b.token==="blank")return"b"+b.value;else if(b.token==="literal")return l="l"+b.value,l+=b.type||"",l+=b.lang||"",l}catch(c){if(typeof b==="object"){var d="";for(p in b)d=d+p+b[p];return d}return b}};var va={PriorityQueue:function(b){var c=[],d={},j=!1,
h,g=b.maxSize||10;h=function(c,b){return d[b].priority-d[c].priority};var k=function(){c.sort(h);j=!0};return{debugContents:c,debugStore:d,debugSort:k,push:function(b,h){c.length===g?(j||k(),d[b]==null?(delete d[c[0]],c[0]=b,priority=d[c[c.length-1]].priority-1,d[b]={object:h,priority:priority}):(priority=d[c[c.length-1]].priority-1,d[b].priority=priority),j=!1):c.length===0?(c.push(b),d[b]={object:h,priority:1E3}):(priority=d[c[c.length-1]].priority-1,d[b]==null?(d[b]={object:h,priority:priority},
c.push(b)):(d[b].priority=priority,j=!1))},remove:function(b){if(d[b]!=null){delete d[b];for(var g=null,j=0;j<c.length;j++)if(c[j]===b){g=j;break}g!=null&&c.splice(g,1)}},fetch:function(b){var g=d[b];return d[b]!=null?(j||k(),priority=d[c[c.length-1]].priority-1,d[b].priority=priority,j=!1,g.object):null}}}},E={};E.Tree=function(b,c,d,j){if(arguments.length!=0){var h=null;if(d===!0)try{if(h=window.localStorage,h==null)throw"not found";}catch(g){throw"Local storage is not present, cannot create persistent storage";
}h==null&&(h=function(){var c={};return{setItem:function(b,g){c[b]=g},getItem:function(b){return c[b]||null},removeItem:function(b){delete c[b]},get:function(b){var g=0,d;for(d in c){if(b===g)return d;g++}return""},length:c.length}}());this.storage=h;this.order=b;this.name=c;this.diskManager=new E.LocalStorageManager(c,h,j);this.root=this.diskManager._readRootNode();this.root==null?(this.root=this._allocateNode(),this.root.isLeaf=!0,this.root.level=0,this._diskWrite(this.root),this._updateRootNode(this.root),
this.root=this.root.pointer):this.root=this.diskManager._diskRead(this.root).pointer;this.comparator=function(c,b){return c<b?-1:c>b?1:0};this.merger=null}};E.Tree.prototype._allocateNode=function(){return new E.Node};E.Tree.prototype._diskWrite=function(b){this.diskManager._diskWrite(b)};E.Tree.prototype._diskRead=function(b){return this.diskManager._diskRead(b)};E.Tree.prototype._diskDelete=function(b){this.diskManager._diskDelete(b)};E.Tree.prototype._updateRootNode=function(b){this.diskManager._updateRootNode(b);
return b};E.Tree.prototype.search=function(b,c){for(var d=!0,j=this._diskRead(this.root);d;){for(var h=0;h<j.numberActives&&this.comparator(b,j.keys[h].key)===1;)h++;if(h<j.numberActives&&this.comparator(j.keys[h].key,b)===0)return c!=null&&c==!0?!0:j.keys[h].data;else j.isLeaf===!0?d=!1:j=this._diskRead(j.children[h])}return null};E.Tree.prototype.walk=function(b){this._walk(b,this._diskRead(this.root))};E.Tree.prototype._walk=function(b,c){if(c.isLeaf)for(var d=0;d<c.numberActives;d++)b(c.keys[d]);
else{for(d=0;d<c.numberActives;d++)this._walk(b,this._diskRead(c.children[d])),b(c.keys[d]);this._walk(b,this._diskRead(c.children[c.numberActives]))}};E.Tree.prototype.walkNodes=function(b){this._walkNodes(b,this._diskRead(this.root))};E.Tree.prototype._walkNodes=function(b,c){if(c.isLeaf)b(c);else{b(c);for(var d=0;d<c.numberActives;d++)this._walkNodes(b,this._diskRead(c.children[d]));this._walkNodes(b,this._diskRead(c.children[c.numberActives]))}};E.Tree.prototype._splitChild=function(b,c,d){var j=
this._allocateNode();j.isLeaf=d.isLeaf;j.level=d.level;j.numberActives=this.order-1;var h=d.keys[this.order-1];d.keys[this.order-1]=null;for(var g=0;g<this.order-1;g++)j.keys[g]=d.keys[g+this.order],d.keys[g+this.order]=null,d.isLeaf||(j.children[g]=d.children[g+this.order],d.children[g+this.order]=null);d.isLeaf||(j.children[g]=d.children[g+this.order],d.children[g+this.order]=null);d.numberActives=this.order-1;for(g=b.numberActives+1;g>c+1;g--)b.children[g]=b.children[g-1];this._diskWrite(j);b.children[c+
1]=j.pointer;for(g=b.numberActives;g>c;g--)b.keys[g]=b.keys[g-1];b.keys[c]=h;b.numberActives++;this._diskWrite(b);this._diskWrite(d)};E.Tree.prototype.insert=function(b,c){var d=this._diskRead(this.root);if(d.numberActives===2*this.order-1){var j=this._allocateNode();j.isLeaf=!1;j.level=d.level+1;j.numberActives=0;j.children[0]=d.pointer;this._diskWrite(j);this._splitChild(j,0,d);this.root=j.pointer;this._updateRootNode(j);this._insertNonFull(j,b,c)}else this._insertNonFull(d,b,c)};E.Tree.prototype._insertNonFull=
function(b,c,d){for(var j=b.numberActives-1;!b.isLeaf;){for(;j>=0&&this.comparator(c,b.keys[j].key)===-1;)j--;j++;var h=this._diskRead(b.children[j]);h.numberActives===2*this.order-1&&(this._splitChild(b,j,h),this.comparator(c,b.keys[j].key)===1&&j++);b=this._diskRead(b.children[j]);j=b.numberActives-1}for(;j>=0&&this.comparator(c,b.keys[j].key)===-1;)b.keys[j+1]=b.keys[j],j--;b.keys[j+1]={key:c,data:d};b.numberActives++;this._diskWrite(b)};E.Tree.prototype["delete"]=function(b){for(var c=this._diskRead(this.root),
d=null,j=!0,h=null,g=null,k=null,i=!0;i===!0;){for(i=!1;j===!0;){q=0;if(c.numberActives===0)return!1;for(;q<c.numberActives&&this.comparator(b,c.keys[q].key)===1;)q++;h=q;q<c.numberActives&&this.comparator(b,c.keys[q].key)===0&&(j=!1);if(j===!0){if(c.isLeaf===!0)return!1;d=c;c=this._diskRead(c.children[q]);if(c===null)return!1;h===d.numberActives?(g=this._diskRead(d.children[h-1]),k=null):h===0?(g=null,k=this._diskRead(d.children[1])):(g=this._diskRead(d.children[h-1]),k=this._diskRead(d.children[h+
1]));c.numberActives===this.order-1&&d!=null&&(k!=null&&k.numberActives>this.order-1?(this._moveKey(d,q,-1),c=this._diskRead(c.pointer)):g!=null&&g.numberActives>this.order-1?(this._moveKey(d,q,1),c=this._diskRead(c.pointer)):g!=null&&g.numberActives===this.order-1?c=this._mergeSiblings(d,q,-1):k!=null&&k.numberActives===this.order-1&&(c=this._mergeSiblings(d,q,1)))}}if(c.isLeaf&&c.numberActives>this.order-1)return this._deleteKeyFromNode(c,h),!0;if(c.isLeaf&&c.pointer===this.root)return this._deleteKeyFromNode(c,
h),!0;try{if(c.isLeaf===!1)if(g=d=null,(d=this._diskRead(c.children[h])).numberActives>this.order-1){var o=this._getMaxKeyPos(d),b=o.node.keys[o.index];c.keys[h]=b;this._diskWrite(c);c=d;b=b.key;j=i=!0}else if((d=this._diskRead(c.children[h+1])).numberActives>this.order-1)o=this._getMinKeyPos(d),b=o.node.keys[o.index],c.keys[h]=b,this._diskWrite(c),c=d,b=b.key,j=i=!0;else if((d=this._diskRead(c.children[h])).numberActives===this.order-1&&(g=this._diskRead(c.children[h+1])).numberActives===this.order-
1){var t=this._mergeNodes(d,c.keys[h],g);c.children[h]=t.pointer;h++;for(var q=h;q<c.numberActives;q++)c.children[q]=c.children[q+1],c.keys[q-1]=c.keys[q];c.children[q]=null;c.keys[q-1]=null;c.numberActives--;if(c.numberActives===0&&this.root===c.pointer)this.root=t.pointer,this._updateRootNode(t);this._diskWrite(c);c=t;j=i=!0}}catch(w){console.log("!!!"),console.log(w)}c.isLeaf&&c.numberActives>this.order-1&&j===!1&&this._deleteKeyFromNode(c,h);if(i===!1)return!0}};E.Tree.prototype._moveKey=function(b,
c,d){d===1&&c--;var j=this._diskRead(b.children[c]),h=this._diskRead(b.children[c+1]);if(d==-1){j.keys[j.numberActives]=b.keys[c];j.children[j.numberActives+1]=h.children[0];h.children[0]=null;j.numberActives++;b.keys[c]=h.keys[0];for(d=1;d<h.numberActives;d++)h.keys[d-1]=h.keys[d],h.children[d-1]=h.children[d];h.children[h.numberActives-1]=h.children[h.numberActives];h.numberActives--}else{h.children[h.numberActives+1]=h.children[h.numberActives];for(d=h.numberActives;d>0;d--)h.children[d]=h.children[d-
1],h.keys[d]=h.keys[d-1];h.keys[0]=null;h.children[0]=null;h.children[0]=j.children[j.numberActives];h.keys[0]=b.keys[c];h.numberActives++;j.children[j.numberActives]=null;b.keys[c]=j.keys[j.numberActives-1];j.keys[j.numberActives-1]=null;j.numberActives--}this._diskWrite(j);this._diskWrite(h);this._diskWrite(b)};E.Tree.prototype._mergeSiblings=function(b,c){var d,j,h;c===b.numberActives?(c--,j=this._diskRead(b.children[b.numberActives-1]),h=this._diskRead(b.children[b.numberActives])):(j=this._diskRead(b.children[c]),
h=this._diskRead(b.children[c+1]));var g=this._allocateNode();g.isLeaf=j.isLeaf;g.level=j.level;for(d=0;d<this.order-1;d++)g.keys[d]=j.keys[d],g.children[d]=j.children[d];g.keys[this.order-1]=b.keys[c];g.children[this.order-1]=j.children[this.order-1];for(d=0;d<this.order-1;d++)g.keys[d+this.order]=h.keys[d],g.children[d+this.order]=h.children[d];g.children[2*this.order-1]=h.children[this.order-1];this._diskWrite(g);b.children[c]=g.pointer;for(d=c;d<b.numberActives;d++)b.keys[d]=b.keys[d+1],b.children[d+
1]=b.children[d+2];g.numberActives=j.numberActives+h.numberActives+1;b.numberActives--;for(d=b.numberActives;d<2*this.order-1;d++)b.keys[d]=null;if(b.numberActives===0&&this.root===b.pointer)this.root=g.pointer,g.isLeaf=g.level?!1:!0;this._diskWrite(g);this.root===g.pointer&&this._updateRootNode(g);this._diskWrite(b);this._diskDelete(j);this._diskDelete(h);return g};E.Tree.prototype._deleteKeyFromNode=function(b,c){var d=2*this.order-1;if(b.numberActives<d)d=b.numberActives;var j;if(b.isLeaf===!1)return!1;
for(j=c;j<d-1;j++)b.keys[j]=b.keys[j+1];b.keys.splice(d-1,b.keys.length-(d-1));b.numberActives--;this._diskWrite(b);return!0};E.Tree.prototype._mergeNodes=function(b,c,d){var j,h;j=this._allocateNode();j.isLeaf=!0;for(h=0;h<b.numberActives;h++)j.keys[h]=b.keys[h],j.children[h]=b.children[h];j.children[b.numberActives]=b.children[b.numberActives];j.keys[b.numberActives]=c;for(h=0;h<d.numberActives;h++)j.keys[h+b.numberActives+1]=d.keys[h],j.children[h+b.numberActives+1]=d.children[h];j.children[2*
this.order-1]=d.children[d.numberActives];j.numberActives=b.numberActives+d.numberActives+1;j.isLeaf=b.isLeaf;j.level=b.level;this._diskWrite(j);this._diskDelete(b);this._diskDelete(d);return j};E.Tree.prototype.audit=function(b){var c=[],d=[],j=this,h=function(g){for(var h=0;h<d.length;h++)if(j.comparator(d[h],g)===0){var i=" !!! duplicated key "+g;b===!0&&console.log(i);c.push(i)}},g=null,j=this;this.walkNodes(function(k){b===!0&&(console.log("--- Node at "+k.level+" level"),console.log(" - pointer: "+
k.pointer),console.log(" - leaf? "+k.isLeaf),console.log(" - num actives? "+k.numberActives),console.log(" - keys: "));for(var i=k.numberActives;i<k.keys.length;i++)k.keys[i]!=null&&b===!0&&(console.log(" * warning : redundant key data"),c.push(" * warning : redundant key data"));for(i=k.numberActives+1;i<k.children.length;i++)k.children[i]!=null&&b===!0&&(console.log(" * warning : redundant children data"),c.push(" * warning : redundant key data"));if(k.isLeaf===!1)for(i=0;i<k.numberActives;i++){var o=
j._diskRead(k.children[i]).keys[j._diskRead(k.children[i]).numberActives-1].key,t=j._diskRead(k.children[i+1]).keys[0].key;b===!0&&console.log("   "+k.keys[i].key+"("+o+","+t+")");if(j.comparator(k.keys[i].key,o)===-1){var q=" !!! value max left "+o+" > key "+k.keys[i].key;b===!0&&console.log(q);c.push(q)}j.comparator(k.keys[i].key,t)===1&&(q=" !!! value min right "+t+" < key "+k.keys[i].key,b===!0&&console.log(q),c.push(q));h(k.keys[i].key);d.push(k.keys[i].key)}else{g===null?g=k.level:g!=k.level&&
(q=" !!! Leaf node with wrong level value",b===!0&&console.log(q),c.push(q));for(i=0;i<k.numberActives;i++)b===!0&&console.log(" "+k.keys[i].key),h(k.keys[i].key),d.push(k.keys[i].key)}k.pointer!=j.root&&(k.numberActives>2*j.order-1&&(b===!0&&(q=" !!!! MAX num keys restriction violated "),console.log(q),c.push(q)),k.numberActives<j.order-1&&(b===!0&&(q=" !!!! MIN num keys restriction violated "),console.log(q),c.push(q)))});return c};E.Tree.prototype.clear=function(){this.diskManager.clear();this.root=
this._allocateNode();this.root.isLeaf=!0;this.root.level=0;this._diskWrite(this.root);this._updateRootNode(this.root);this.root=this.root.pointer};E.Tree.prototype._getMaxKeyPos=function(b){for(var c={};;){if(b===null)break;if(b.isLeaf===!0){c.node=b;c.index=b.numberActives-1;break}else c.node=b,c.index=b.numberActives-1,b=this._diskRead(b.children[b.numberActives])}return c};E.Tree.prototype._getMinKeyPos=function(b){for(var c={};;){if(b===null)break;if(b.isLeaf===!0){c.node=b;c.index=0;break}else c.node=
b,c.index=0,b=this._diskRead(b.children[0])}return c};E.Node=function(){this.numberActives=0;this.isLeaf=null;this.keys=[];this.children=[];this.level=0};E.LocalStorageManager=function(b,c,d){this.name=b;this.storage=c;this.maxSize=d;this.bufferCache=new va.PriorityQueue({maxSize:d});this.counter=this.storage.getItem("__"+this.name+"__ID_COUNTER__")||0};E.LocalStorageManager.prototype.clear=function(){for(var b=this.storage.length,c=[],d=0;d<b;d++){var j=this.storage.key(d);(j.indexOf(this.name)==
0||j.indexOf("__"+this.name)==0)&&c.push(j)}for(d=0;d<c.length;d++)this.storage.removeItem(c[d]);this.bufferCache=new va.PriorityQueue({maxSize:this.maxSize})};E.LocalStorageManager.prototype._genIndex=function(){var b=this.name+this.counter;this.counter++;this.storage.setItem("__"+this.name+"__ID_COUNTER__",this.counter);return b};E.LocalStorageManager.prototype._diskRead=function(b){if(typeof b==="object")b=b.pointer;var c=this.bufferCache.fetch(b);if(c==null&&(c=this.storage.getItem(b),c!=null))c=
this._decode(c),c.pointer=b,this.bufferCache.push(b,c);return c};E.LocalStorageManager.prototype._diskWrite=function(b){if(b.pointer==null)b.pointer=this._genIndex();var c=b.children,d=[];if(b.isLeaf===!1)for(var j=0;j<c.length;j++)c[j]==null?d.push(null):typeof c[j]==="object"?d.push(c[j].pointer):d.push(c[j]);b.children=d;this.storage.setItem(b.pointer,this._encode(b));b.children=c;this.bufferCache.push(b.pointer,b)};E.LocalStorageManager.prototype._diskDelete=function(b){this.storage.removeItem(b.pointer);
this.bufferCache.remove(b.pointer)};E.LocalStorageManager.prototype._updateRootNode=function(b){if(b.pointer)this.storage.setItem("__"+this.name+"__ROOT_NODE__",b.pointer);else throw"Cannot set as root of the b-tree a node without pointer";};E.LocalStorageManager.prototype._readRootNode=function(){var b=this.storage.getItem("__"+this.name+"__ROOT_NODE__");return b==null?null:this._diskRead(b)};E.LocalStorageManager.prototype._encode=function(b){encoded=""+b.numberActives;encoded=encoded+":"+b.pointer;
encoded=encoded+":"+b.level;encoded=encoded+":"+(b.isLeaf?1:0);for(var c=0,d="",j=0;j<b.keys.length;j++)b.keys[j]!=null&&(d=typeof b.keys[j].key==="number"?d+":"+b.keys[j].key:d+":"+("_"+(b.keys[j].key.subject||"")+"_"+(b.keys[j].key.predicate||"")+"_"+(b.keys[j].key.object||"")+"_"+(b.keys[j].key.graph||"")),b.keys[j].data==null?d+=":n:":d=typeof b.keys[j].data=="string"?d+":s:"+b.keys[j].data:typeof b.keys[j].data=="number"?b.keys[j]%1==0?d+":i:"+b.keys[j].data:d+":f:"+b.keys[j].data:d+":o:"+JSON.stringify(b.keys[j].data).replace(":",
"&colon;"),c++);encoded=encoded+":"+c+d;if(b.isLeaf===!1){c="";for(j=d=0;j<b.children.length;j++)b.children[j]!=null&&(c=c+":"+b.children[j],d++);encoded=encoded+":"+d+c}return encoded};E.LocalStorageManager.prototype._decode=function(b){var c=new E.Node,b=b.split(":");c.numberActives=parseInt(b[0]);c.pointer=b[1];c.level=parseInt(b[2]);c.isLeaf=b[3]==="1"?!0:!1;for(var d=parseInt(b[4]),j=5,h,g,k,i=0;i<d;i++)h=b[j],h[0]=="_"?(h=h.split("_"),h={subject:parseInt(h[1])||null,predicate:parseInt(h[2])||
null,object:parseInt(h[3])||null,graph:parseInt(h[4]||null)}):h=parseInt(b[j]),g=b[j+1],k=b[j+2],g==="n"?k=void 0:g==="i"?k=parseInt(k):g==="f"?k=parseFloat(k):g==="o"&&(k=JSON.parse(k.replace("&colon;",":"))),c.keys.push({key:h,data:k}),j+=3;if(c.isLeaf===!1){d=parseInt(b[j]);j++;for(i=0;i<d;i++)c.children[i]=b[j],j++}return c};var S={NodeKey:function(b,c){this.subject=b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.order=c}};S.NodeKey.prototype.comparator=function(b){for(var c=
0;c<this.order.length;c++){var d=this.order[c];if(b[d]==null)break;else if(this[d]<b[d])return-1;else if(this[d]>b[d])return 1}return 0};S.Pattern=function(b){this.subject=b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.indexKey=[];this.keyComponents={};for(var c=[],d=[],b=["subject","predicate","object","graph"],j=0;j<b.length;j++)typeof this[b[j]]==="string"?(d.push(b[j]),this.keyComponents[b[j]]=null):(c.push(b[j]),this.keyComponents[b[j]]=this[b[j]],this.indexKey.push(b[j]));
this.order=c.concat(d);this.key=new S.NodeKey(this.keyComponents,this.order)};var ca={Tree:function(b,c){if(arguments!=0)this.componentOrder=b.componentOrder,E.Tree.call(this,b.order,b.name,b.persistent,b.cacheMaxSize),this.comparator=function(c,b){for(var h=0;h<this.componentOrder.length;h++){var g=this.componentOrder[h],k=c[g],g=b[g];if(k<g)return-1;else if(k>g)return 1}return 0},this.rangeComparator=function(c,b){for(var h=0;h<this.componentOrder.length;h++){var g=this.componentOrder[h];if(b[g]==
null||c[g]==null)break;else if(c[g]<b[g])return-1;else if(c[g]>b[g])return 1}return 0},c!=null&&c(this)}};x["extends"](E.Tree,ca.Tree);ca.Tree.prototype.insert=function(b,c){E.Tree.prototype.insert.call(this,b,null);c&&c(!0);return!0};ca.Tree.prototype.search=function(b,c){var d=E.Tree.prototype.search.call(this,b,!0);c&&c(d);return d};ca.Tree.prototype.range=function(b,c){var d=null,d=typeof this.root==="string"?this._rangeTraverse(this,this._diskRead(this.root),b):this._rangeTraverse(this,this.root,
b);c&&c(d);return d};ca.Tree.prototype._rangeTraverse=function(b,c,d){for(var d=d.key,j=[],h=[c],g;h.length>0;){c=h.shift();for(g=0;g<c.numberActives&&b.rangeComparator(c.keys[g].key,d)===-1;)g++;if(c.isLeaf===!0)for(;g<c.numberActives&&b.rangeComparator(c.keys[g].key,d)===0;)j.push(c.keys[g].key),g++;else{var k=b._diskRead(c.children[g]);for(h.push(k);;)if(g<c.numberActives&&b.rangeComparator(c.keys[g].key,d)===0)j.push(c.keys[g].key),g++,k=b._diskRead(c.children[g]),h.push(k);else break}}return j};
var W={QuadBackend:function(b,c){if(arguments!=0){this.indexMap={};this.treeOrder=b.treeOrder;this.indices=["SPOG","GP","OGS","POG","GSP","OS"];this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};for(var d=0;d<this.indices.length;d++){var j=this.indices[d],h=new ca.Tree({order:this.treeOrder,
componentOrder:this.componentOrders[j],persistent:b.persistent,name:(b.name||"")+j,cacheMaxSize:b.cacheMaxSize});this.indexMap[j]=h}c&&c(this)}}};W.QuadBackend.prototype.clear=function(){for(var b=0;b<this.indices.length;b++)this.indexMap[this.indices[b]].clear()};W.QuadBackend.prototype._indexForPattern=function(b){for(var b=b.indexKey,c=this.indices,d=0;d<c.length;d++)for(var j=c[d],h=this.componentOrders[j],g=0;g<h.length;g++){if(x.include(b,h[g])===!1)break;if(g==b.length-1)return j}return"SPOG"};
W.QuadBackend.prototype.index=function(b,c){for(var d=0;d<this.indices.length;d++)this.indexMap[this.indices[d]].insert(b);c&&c(!0);return!0};W.QuadBackend.prototype.range=function(b,c){var d=this.indexMap[this._indexForPattern(b)].range(b);c&&c(d);return d};W.QuadBackend.prototype.search=function(b,c){var d=this.indexMap[this.indices[0]].search(b);c&&c(d!=null);return d!=null};W.QuadBackend.prototype["delete"]=function(b,c){for(var d,j=0;j<this.indices.length;j++)d=this.indices[j],d=this.indexMap[d],
d["delete"](b);c&&c(!0);return!0};var N={Lexicon:function(b,c){this.name=c||"";this.storage=null;try{this.storage=window.localStorage}catch(d){}if(this.storage==null)this.storage={setItem:function(){},getItem:function(){return null},removeItem:function(){},key:function(){return""},length:0};this.uriToOID={};this.OIDToUri={};this.literalToOID={};this.OIDToLiteral={};this.blankToOID={};this.OIDToBlank={};this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";
this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri,oid:this.defaultGraphOid};this.oidCounter=parseInt(this.storage.getItem(this.pointer("oidCounter")))||1;this.storage.getItem(this.pointer("knownGraphs"))==null?(this.knownGraphs={},this.storage.setItem(this.pointer("knownGraphs"),JSON.stringify(this.knownGraphs))):this.knownGraphs=JSON.parse(this.storage.getItem(this.pointer("knownGraphs")));b!=null&&b(this)}};N.Lexicon.prototype.updateAfterWrite=function(){this.storage.setItem(this.pointer("oidCounter"),
""+this.oidCounter)};N.Lexicon.prototype.pointer=function(b,c){b=="uriToOID"?b="uo":b=="OIDToUri"?b="ou":b=="literalToOID"?b="lo":b=="OIDToLiteral"?b="ok":b=="blankToOID"?b="bo":b=="OIDToBlank"&&(b="ob");return c==null?this.name+"_l_"+b:this.name+"_l_"+b+"_"+c};N.Lexicon.prototype.clear=function(){this.uriToOID={};this.OIDToUri={};this.literalToOID={};this.OIDToLiteral={};this.blankToOID={};this.OIDToBlank={};for(var b=this.storage.length,c=this.name+"_l_",d=[],j=0;j<b;j++){var h=this.storage.key(j);
h.indexOf(c)==0&&d.push(h)}for(j=0;j<d.length;j++)this.storage.removeItem(d[j])};N.Lexicon.prototype.registerGraph=function(b){b!=this.defaultGraphOid&&(this.knownGraphs[b]=!0,this.storage.setItem(this.pointer("knownGraphs"),JSON.stringify(this.knownGraphs)));return!0};N.Lexicon.prototype.registeredGraphs=function(b){var c=[],d;for(d in this.knownGraphs)b===!0?c.push(this.retrieve(d)):c.push(d);return c};N.Lexicon.prototype.registerUri=function(b){if(b===this.defaultGraphUri)return this.defaultGraphOid;
else{if(this.uriToOID[b]==null){var c=this.storage.getItem(this.pointer("uriToOID",b));if(c==null){var c=this.oidCounter,d="u"+c;this.oidCounter++;this.uriToOID[b]=[c,0];this.OIDToUri[d]=b;this.storage.setItem(this.pointer("uriToOID",b),c+":0");this.storage.setItem(this.pointer("OIDToUri",d),b)}else{var j=c.split(":"),c=parseInt(j[0]),d="u"+c,j=parseInt(j[1])+1;this.uriToOID[b]=[c,j];this.OIDToUri[d]=b;this.storage.setItem(this.pointer("uriToOID",b),c+":0")}}else d=this.uriToOID[b],c=d[0],j=d[1]+
1,this.uriToOID[b]=[c,j],this.storage.setItem(this.pointer("uriToOID",b),c+":"+j);return c}};N.Lexicon.prototype.resolveUri=function(b){if(b===this.defaultGraphUri)return this.defaultGraphOid;else{var c=this.uriToOID[b];if(c!=null)return c[0];else if(c=this.storage.getItem(this.pointer("uriToOID",b)),c==null)return-1;else{var d=c.split(":"),c=parseInt(d[0]),j="u"+c,d=parseInt(d[1]);this.uriToOID[b]=[c,d];this.OIDToUri[j]=b;return c}}};N.Lexicon.prototype.resolveUriCost=function(b){return b===this.defaultGraphUri?
this.defaultGraphOid:(b=this.uriToOID[b],b!=null?b[1]:-1)};N.Lexicon.prototype.registerBlank=function(){var b=this.oidCounter;this.oidCounter++;b=""+b;this.storage.setItem(this.pointer("OIDToBlank",b),!0);this.OIDToBlank[b]=!0;return b};N.Lexicon.prototype.resolveBlank=function(){var b=this.oidCounter;this.oidCounter++;return""+b};N.Lexicon.prototype.resolveBlankCost=function(){return 0};N.Lexicon.prototype.registerLiteral=function(b){if(this.literalToOID[b]==null){var c=this.storage.getItem(this.pointer("literalToOID",
b));if(c==null){var c=this.oidCounter,d="l"+c;this.oidCounter++;this.literalToOID[b]=[c,0];this.OIDToLiteral[d]=b;this.storage.setItem(this.pointer("literalToOID",b),c+":0");this.storage.setItem(this.pointer("OIDToLiteral",d),b)}else d=c.split(":"),c=parseInt(d[0]),d=parseInt(d[1])+1,this.literalToOID[b]=[c,d],this.storage.setItem(this.pointer("literalToOID",b),c+":"+d)}else d=this.literalToOID[b],c=d[0],d=d[1]+1,this.storage.setItem(this.pointer("literalToOID",b),c+":"+d),this.literalToOID[b]=[c,
d];return c};N.Lexicon.prototype.resolveLiteral=function(b){var c=this.literalToOID[b];if(c!=null)return c[0];else if(fromStorage=this.storage.getItem(this.pointer("literalToOID",b)),fromStorage!=null){var c=fromStorage.split(":"),d=parseInt(c[0]),c=parseInt(c[1]);this.literalToOID[b]=[d,c];this.OIDToLiteral["l"+d]=b;return d}else return-1};N.Lexicon.prototype.resolveLiteralCost=function(b){b=this.literalToOID[b];return b!=null?b[1]:0};N.Lexicon.prototype.parseLiteral=function(b){var c=b.lastIndexOf("@");
if(c!=-1&&b[c-1]==='"'){var d=b.substring(1,c-1),b=b.substring(c+1,b.length);return{token:"literal",value:d,lang:b}}c=b.lastIndexOf("^^");if(c!=-1&&b[c-1]==='"'&&b[c+2]==="<"&&b[b.length-1]===">")return d=b.substring(1,c-1),b=b.substring(c+3,b.length-1),{token:"literal",value:d,type:b};d=b.substring(1,b.length-1);return{token:"literal",value:d}};N.Lexicon.prototype.parseUri=function(b){return{token:"uri",value:b}};N.Lexicon.prototype.retrieve=function(b){var c;try{if(b===this.defaultGraphOid)return{token:"uri",
value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0};else{var d=this.OIDToUri["u"+b];if(d!=null)return this.parseUri(d);else{var j=this.OIDToLiteral["l"+b];if(j!=null)return this.parseLiteral(j);else{var h=this.OIDToBlank[""+b];if(h!=null)return{token:"blank",value:"_:"+b};else if(d=this.storage.getItem(this.pointer("OIDToUri","u"+b)),d!=null){this.OIDToUri["u"+b]=d;c=this.storage.getItem(this.pointer("uriToOID",d));var g=c.split(":"),k=parseInt(g[1]);this.uriToOID[d]=[b,k];return this.parseUri(d)}else if(j=
this.storage.getItem(this.pointer("OIDToLiteral","l"+b)),j!=null){this.OIDToLiteral["l"+b]=j;c=this.storage.getItem(this.pointer("literalToOID",j));var i=c.split(":"),b=parseInt(i[0]),k=parseInt(i[1]);this.literalToOID[j]=[b,k];return this.parseLiteral(j)}else if(h=this.storage.getItem(this.pointer("OIDToBlank",""+b)),h!=null)return this.OIDToBlank[""+b]=!0,{token:"blank",value:"_:"+b};else throw"Null value for OID";}}}}catch(o){throw console.log("error in lexicon retrieving OID:"),console.log(b),
o.message&&console.log(o.message),o.stack&&console.log(o.stack),Error("Unknown retrieving OID in lexicon:"+b);}};N.Lexicon.prototype.unregister=function(b,c){try{return this.unregisterTerm(b.subject.token,c.subject),this.unregisterTerm(b.predicate.token,c.predicate),this.unregisterTerm(b.object.token,c.object),b.graph!=null&&this.unregisterTerm(b.graph.token,c.graph),!0}catch(d){return console.log("Error unregistering quad"),console.log(d.message),!1}};N.Lexicon.prototype.unregisterTerm=function(b,
c){if(b==="uri"){if(c!=this.defaultGraphOid){var d="u"+c,j=this.OIDToUri[d],h=this.uriToOID[j],g=h[1];if(""+h[0]===""+c)g===0?(delete this.OIDToUri[d],delete this.uriToOID[j],delete this.knownGraphs[c]):this.uriToOID[j]=[c,g-1];else throw"Not matching OID : "+c+" vs "+h[0];}}else if(b==="literal")if(this.oidCounter++,d="l"+c,j=this.OIDToLiteral[d],h=this.literalToOID[j],g=h[1],""+h[0]===""+c)g===0?(delete this.OIDToLiteral[d],delete this.literalToOID[j]):this.literalToOID[j]=[c,g-1];else throw"Not matching OID : "+
c+" vs "+h[0];else b==="blank"&&delete this.OIDToBlank[""+c]};var V={};V.load=function(b,c,d){jQuery.ajax({url:b,headers:{Accept:c},success:function(c,b,g){if((""+g.status)[0]=="2"){for(var b=g.getAllResponseHeaders().split("\n"),g={},k=0;k<b.length;k++){var i=b[k].split(":");g[i[0]]=i[1]}d(!0,{headers:g,data:c})}},error:function(b){(""+b.status)[0]=="3"?redirection==0?d(!1,500):(b=b.getAllResponseHeaders().Location||b.getAllResponseHeaders().location,b!=null?V.load(b,c,d,redirection-1):d(!1,500)):
d(!1,b.statusCode())}})};var wa=null;(function(){var b=function(c,b){c.stack="";for(var g in b)c[g]=b[g]};if(typeof window!=="undefined"){var c=window.jsonld=window.jsonld||{};Exception=function(c){b(this,c)};if(!Object.keys)Object.keys=function(c){if(c!==Object(c))throw new TypeError("Object.keys called on non-object");var b=[],g;for(g in c)Object.prototype.hasOwnProperty.call(c,g)&&b.push(g);return b};if(!Array.prototype.filter)Array.prototype.filter=function(c,b){if(this==null)throw new TypeError;
var g=Object(this),d=g.length>>>0;if(typeof c!="function")throw new TypeError;for(var j=[],h=0;h<d;h++)if(h in g){var k=g[h];c.call(b,k,h,g)&&j.push(k)}return j}}else typeof module!=="undefined"&&module.exports&&(c={},Exception=function(c){b(this,c);this.stack=Error().stack});wa=c;var d={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",
cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#"},j={xsd:"http://www.w3.org/2001/XMLSchema#"},h={"boolean":j.xsd+"boolean","double":j.xsd+
"double",integer:j.xsd+"integer"},g=function(c,b,g){b in c?c[b].constructor===Array?c[b].push(g):c[b]=[c[b],g]:c[b]=g},k=function(c){var b;if(c.constructor===Object){b={};var g=Object.keys(c).sort(),d;for(d in g){var j=g[d];b[j]=k(c[j])}}else if(c.constructor===Array)for(d in b=[],c)b[d]=k(c[d]);else b=c;return b},i=function(c){var b={"@id":"@id","@language":"@language","@literal":"@literal","@type":"@type"};if(c){var g={},d;for(d in c)c[d].constructor===String&&c[d]in b&&(g[c[d]]=d);for(d in g)b[d]=
g[d]}return b},o=function(c,b){var g=null;b in c&&(c[b].constructor===String?g=c[b]:c[b].constructor===Object&&"@id"in c[b]&&(g=c[b]["@id"]));return g},t=function(c,b,g){var d=null,j;for(j in c)if(j.length>0&&j[0]!=="@"&&b===o(c,j)){d=j;g!==null&&(g[j]=k(c[j]));break}d===null&&b==="@type"&&(d=i(c)["@type"]);if(d===null)for(j in c)if(j.length>0&&j[0]!=="@"){var h=o(c,j);if(h!==null&&b.indexOf(h)===0&&b.length>h.length){d=j+":"+b.substr(h.length);g!==null&&(g[j]=k(c[j]));break}}d===null&&(d=b);return d},
q=function(c,b,g){var d=b,j=i(c),h=b.indexOf(":");if(h!==-1)j=b.substr(0,h),j in c&&(d=o(c,j)+b.substr(h+1),g!==null&&(g[j]=k(c[j])));else if(b in c)d=o(c,b),g!==null&&(g[b]=k(c[b]));else for(var q in j)if(b===j[q]){d=q;break}return d},w=function(c){var b=!1;c!==null&&c.constructor===Object&&!("@literal"in c)&&(b=Object.keys(c).length>1||!("@id"in c));return b};c.normalize=function(c){return(new B).normalize(c)};c.expand=function(c){return(new B).expand({},null,c)};c.compact=function(b,g){var d=null;
if(g!==null){var g=c.expand(g),j;g.constructor===Array?(d=[],j=g):j=[g];b.constructor===Array&&(b=c.mergeContexts({},b));for(var h in j){var i={},n=(new B).compact(k(b),null,j[h],i);if(Object.keys(i).length>0){var o=i,i={},q=Object.keys(o).sort(),t=void 0;for(t in q){var w=q[t];i[w]=o[w]}o=Object.keys(n);o.sort();o.unshift("@context");n["@context"]=i;var i={},x;for(x in o)q=o[x],i[q]=n[q];n=i}d===null?d=n:d.push(n)}}return d};c.mergeContexts=function(b,g){b.constructor===Array&&(b=c.mergeContexts({},
b));var d=k(b);if(g.constructor===Array)for(var j in g)d=c.mergeContexts(d,g[j]);else{for(var h in g)if(h.indexOf("@")!==0)for(var i in d)if(d[i]===g[h]){delete d[i];break}for(h in g)d[h]=k(g[h])}return d};c.expandTerm=q;c.compactIri=function(c,b){return t(c,b,null)};c.frame=function(c,b,g){return(new B).frame(c,b,g)};c.toTriples=function(b,g,d){var j=null,b=c.normalize(b),d=d||null;d===null&&(j=[],d=function(c,b,d){j.push({subject:x.lexicalFormTerm(c),predicate:x.lexicalFormTerm(b),object:x.lexicalFormTerm(d),
graph:g})});var h=!1,k;for(k in b){var i=b[k],n=i["@id"],n=n[0]=="_"?{token:"blank",value:n.split(":")[1]}:{token:"uri",value:n},o;for(o in i)if(o!=="@id"){var q=i[o];q.constructor!==Array&&(q=[q]);for(var t in q)if(h=q[t],o==="@type"?(o="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",h={token:"uri",value:h}):typeof h==="string"?h={token:"literal",value:h}:h["@id"]!=null?h=h["@id"][0]=="_"?{token:"blank",value:h["@id"].split(":")[1]}:{token:"uri",value:h["@id"]}:h["@type"]!=null?h={token:"literal",
value:h["@literal"],type:h["@type"]}:h["@language"]!=null&&(h={token:"literal",value:h["@literal"],lang:h["@language"]}),h=d(n,{token:"uri",value:o},h)===!1)break;if(h)break}if(h)break}return j};c.resolve=function(c,b,g){var d={},j=function(c,b){if(c.constructor===Array)for(var g in c)j(c[g]);else if(c.constructor===Object)for(var h in c)if(h==="@context")if(c[h].constructor===Array){var k=c[h];for(g in k)k[g].constructor===String&&(b?k[g]=d[k[g]]:d[k[g]]={})}else c[h].constructor===String&&(b?c[h]=
d[c[h]]:d[c[h]]={})};j(c,!1);var h=Object.keys(d).length,k=null;if(h===0)g(c,k);else for(var i in d)b(i,function(b,n){--h;if(b===null)k=k||[],k.push({url:i,error:n});else try{d[i]=b.constructor===String?JSON.parse(b)["@context"]:b["@context"]}catch(o){k=k||[],k.push({url:i,error:o})}h===0&&(k===null&&j(c,!0),g(c,k))})};var B=function(){};B.prototype.compact=function(c,b,g,d){var j,o=i(c);if(g===null)j=null,this.getCoerceType(c,b,d);else if(g.constructor===Array){j=[];for(var q in g)j.push(this.compact(c,
b,g[q],d))}else if(g.constructor===Object&&"@id"in g&&g["@id"].constructor===Array)j={},j[o["@id"]]=this.compact(c,b,g["@id"],d);else if(w(g)){j={};for(var x in g)if(g[x]!=="@context"&&(o=t(c,x,d),o!==x||!(o in j)))j[o]=this.compact(c,x,g[x],d)}else{b=this.getCoerceType(c,b,d);q=null;g.constructor===Object?"@language"in g||(q="@type"in g?g["@type"]:"@id"in g?"@id":b):g.constructor===String&&(q=b);if(b===null&&(q===h["boolean"]||q===h.integer||q===h["double"]))b=q;if(b!==null)if(q===null)throw{message:"Cannot coerce type when a language is specified. The language information would be lost."};
else if(q!==b)throw new Exception({message:"Cannot coerce type because the type does not match.",type:q,expected:b});else g.constructor===Object?"@id"in g?j=g["@id"]:"@literal"in g&&(j=g["@literal"]):j=g,b===h["boolean"]?j=j==="true"||j!=0:b===h["double"]?j=parseFloat(j):b===h.integer&&(j=parseInt(j));else if(g.constructor===Object)for(x in j={},g)j[o[x]]=g[x];else j=k(g);q==="@id"&&(j.constructor===Object?j[o["@id"]]=t(c,j[o["@id"]],d):j=t(c,j,d))}return j};B.prototype.expand=function(b,d,j){var o;
if(j===null)o=null;else if(d===null&&j.constructor===String)o=q(b,j,null);else if(j.constructor===Array){o=[];for(var t in j)o.push(this.expand(b,d,j[t]))}else if(j.constructor===Object){"@context"in j&&(b=c.mergeContexts(b,j["@context"]));o={};for(var w in j)w==="@embed"||w==="@explicit"||w==="@default"||w==="@omitDefault"?g(o,w,k(j[w])):w!=="@context"&&g(o,q(b,w,null),this.expand(b,w,j[w]))}else{t=this.getCoerceType(b,d,null);o=i(b);if(t===null&&(j.constructor===Number||j.constructor===Boolean))t=
j.constructor===Boolean?h["boolean"]:(""+j).indexOf(".")==-1?h.integer:h["double"];d===o["@id"]||d===o["@type"]?o=q(b,j,null):t!==null?(o={},t==="@id"?o["@id"]=q(b,j,null):(o["@type"]=t,t===h["double"]&&(j=j.toExponential(6).replace(/(e(?:\+|-))([0-9])$/,"$10$2")),o["@literal"]=""+j)):o=""+j}return o};B.prototype.normalize=function(c){var b=[];if(c!==null){this.ng={tmp:null,c14n:null};var g=this.expand(d,null,c);this.nameBlankNodes(g);c={};Fa(null,null,g,c);for(var j in c){var g=c[j],h={},k=Object.keys(g).sort(),
i;for(i in k){var n=k[i];h[n]=g[n]}b.push(h)}this.canonicalizeBlankNodes(b);b.sort(function(c,b){return L(c["@id"],b["@id"])})}return b};B.prototype.getCoerceType=function(c,b,g){var d=null,b=q(c,b,null);b==="@id"||b==="@type"?d="@id":(b=t(c,b,null),b in c&&c[b].constructor===Object&&"@type"in c[b]&&(d=q(c,c[b]["@type"],g),g!==null&&(g[b]=k(c[b]))));return d};var D=function(c){return c.indexOf("_:")===0},F=function(c){return c.constructor===Object&&"@id"in c&&D(c["@id"])},L=function(c,b){var g=0;
if(c.constructor===Array&&b.constructor===Array)for(var d=0;d<c.length&&g===0;++d)g=L(c[d],b[d]);else g=c<b?-1:c>b?1:0;return g},E=function(c,b,g){var d=0;g in c?d=g in b?L(c[g],b[g]):-1:g in b&&(d=1);return d},I=function(c,b){var g=0;c.constructor===String?g=b.constructor!==String?-1:L(c,b):b.constructor===String?g=1:(g=E(c,b,"@literal"),g===0&&("@literal"in c?(g=E(c,b,"@type"),g===0&&(g=E(c,b,"@language"))):g=L(c["@id"],b["@id"])));return g},H=function(c,b){var g=0,d;for(d in c)if(d!=="@id"){g=
L(c[d].constructor===Array?c[d].length:1,b[d].constructor===Array?b[d].length:1);if(g===0){var j=c[d],h=b[d];j.constructor!==Array&&(j=[j],h=[h]);j=j.filter(function(c){return!F(c)});h=h.filter(function(c){return!F(c)});g=L(j.length,h.length)}if(g===0){j.sort(I);h.sort(I);for(var k=0;k<j.length&&g===0;++k)g=I(j[k],h[k])}if(g!==0)break}return g},J=function(c){var b=-1,g={next:function(){++b;return g.current()},current:function(){return"_:"+c+b},inNamespace:function(b){return b.indexOf("_:"+c)===0}};
return g},O=function(c,b,g){if(c!==null)if(c.constructor===Array)for(var d in c)O(c[d],b,g);else if(c.constructor===Object){"@id"in c?c["@id"].constructor==Array?O(c["@id"],b,g):w(c)&&(b[c["@id"]]=c):w(c)&&(!("@id"in c)||F(c))&&g.push(c);for(var j in c)O(c[j],b,g)}},Fa=function(c,b,g,d){var j=null;if(g!==null)if(g.constructor===Array)for(var h in g)Fa(c,b,g[h],d);else if(g.constructor===Object)if("@literal"in g||b==="@type")j=k(g);else if(g["@id"].constructor===Array){if(c!==null)throw{message:"Embedded graph literals cannot be flattened."};
for(var i in g["@id"])Fa(c,b,g["@id"][i],d)}else{g["@id"]in d?h=d[g["@id"]]:(h={"@id":g["@id"]},d[g["@id"]]=h);var j={"@id":h["@id"]},n;for(n in g)i=g[n],i!==null&&n!=="@id"&&(n in h?h[n].constructor!==Array&&(h[n]=[h[n]]):h[n]=[],Fa(h[n],n,i,d),h[n].length===1&&(h[n]=h[n][0]))}else j=g;j!==null&&c!==null&&(c.constructor===Array?(b=!1,j.constructor===Object&&"@id"in j&&(b=c.filter(function(c){return c.constructor===Object&&"@id"in c&&c["@id"]===j["@id"]}).length>0),b||c.push(j)):c[b]=j)};B.prototype.nameBlankNodes=
function(c){var b=this.ng.tmp=J("tmp"),g={},d=[];O(c,g,d);for(var j in d)if(c=d[j],!("@id"in c)){for(;b.next()in g;);c["@id"]=b.current();g[b.current()]=c}};B.prototype.renameBlankNode=function(c,b){var g=c["@id"];c["@id"]=b;var d=this.subjects;d[b]=d[g];delete d[g];this.edges.refs[b]=this.edges.refs[g];this.edges.props[b]=this.edges.props[g];delete this.edges.refs[g];delete this.edges.props[g];var j=this.edges.refs[b].all,h;for(h in j){var k=j[h].s;k===g&&(k=b);var i=d[k],n=this.edges.props[k].all,
o;for(o in n)if(n[o].s===g){n[o].s=b;var k=n[o].p,k=i[k].constructor===Object?[i[k]]:i[k].constructor===Array?i[k]:[],q;for(q in k)k[q].constructor===Object&&"@id"in k[q]&&k[q]["@id"]===g&&(k[q]["@id"]=b)}}n=this.edges.props[b].all;for(h in n){var k=n[h].s,j=this.edges.refs[k].all,t;for(t in j)if(j[t].s===g)j[t].s=b}};B.prototype.canonicalizeBlankNodes=function(c){this.renamed={};this.mappings={};this.serializations={};var b=this.edges={refs:{},props:{}},g=this.subjects={},d=[],j;for(j in c){var h=
c[j]["@id"];g[h]=c[j];b.refs[h]={all:[],bnodes:[]};b.props[h]={all:[],bnodes:[]};D(h)&&d.push(c[j])}this.collectEdges();var c=this.ng.c14n=J("c14n"),k=this.ng.tmp;for(j in d){var i=d[j],h=i["@id"];if(c.inNamespace(h)){for(;k.next()in g;);this.renameBlankNode(i,k.current());h=i["@id"]}this.serializations[h]={props:null,refs:null}}for(var k=!0,n=this;d.length>0;){k&&(k=!1,d.sort(function(c,b){return n.deepCompareBlankNodes(c,b)}));var i=d.shift(),h=i["@id"],i=["props","refs"],o;for(o in i){var q=i[o];
if(this.serializations[h][q]===null){var t={};t[h]="s1"}else t=this.serializations[h][q].m;var w=Object.keys(t);w.sort(function(c,b){return L(t[c],t[b])});var x=[];for(j in w){var B=w[j];!c.inNamespace(h)&&B in g&&(this.renameBlankNode(g[B],c.next()),x.push(B))}w=d;d=[];for(j in w){var B=w[j],G=B["@id"];if(!c.inNamespace(G)){for(var F in x)this.markSerializationDirty(G,x[F],q)&&(k=!0);d.push(B)}}}}for(var E in b.props)if(b.props[E].bnodes.length>0){var i=g[E],H;for(H in i)H.indexOf("@")!==0&&i[H].constructor===
Array&&i[H].sort(I)}};MappingBuilder=function(){this.count=1;this.processed={};this.mapping={};this.adj={};this.keyStack=[{keys:["s1"],idx:0}];this.done={};this.s=""};MappingBuilder.prototype.copy=function(){var c=new MappingBuilder;c.count=this.count;c.processed=k(this.processed);c.mapping=k(this.mapping);c.adj=k(this.adj);c.keyStack=k(this.keyStack);c.done=k(this.done);c.s=this.s;return c};MappingBuilder.prototype.mapNode=function(c){c in this.mapping||(this.mapping[c]=c.indexOf("_:c14n")===0?"c"+
c.substr(6):"s"+this.count++);return this.mapping[c]};MappingBuilder.prototype.serialize=function(c,b){if(this.keyStack.length>0)for(var g=this.keyStack.pop();g.idx<g.keys.length;++g.idx){var d=g.keys[g.idx];if(!(d in this.adj)){this.keyStack.push(g);break}if(d in this.done)this.s+="_"+d;else{this.done[d]=!0;var j=d,d=this.adj[d],h=d.i;if(h in c){var k=c[h],i="",n=!0,o=void 0;for(o in k)if(o!=="@id"){n?n=!1:i+="|";i+="<"+o+">";var q=k[o].constructor===Array?k[o]:[k[o]],t;for(t in q){var w=q[t];w.constructor===
Object?"@id"in w?i+=D(w["@id"])?"_:":"<"+w["@id"]+">":(i+='"'+w["@literal"]+'"',"@type"in w?i+="^^<"+w["@type"]+">":"@language"in w&&(i+="@"+w["@language"])):i+='"'+w+'"'}}j+="["+i+"]";k=!0;j+="[";var h=b.refs[h].all,x;for(x in h)k?k=!1:j+="|",j+="<"+h[x].p+">",j+=D(h[x].s)?"_:":"<"+h[x].s+">";j+="]"}j+=d.k.join("");this.s+=j;this.keyStack.push({keys:d.k,idx:0});this.serialize(c,b)}}};B.prototype.markSerializationDirty=function(c,b,g){var d=!1,c=this.serializations[c];c[g]!==null&&b in c[g].m&&(c[g]=
null,d=!0);return d};var K=function(c,b){var g=0;return g=c.length==b.length?L(c,b):c.length>b.length?L(c.substr(0,b.length),b):L(c,b.substr(0,c.length))};B.prototype.serializeCombos=function(c,b,g,d,j,h,i){if(i.length>0){h=k(h);h[d.mapNode(i[0].s)]=i[0].s;for(var n=d.copy(),i=i.slice(1),o=Math.max(1,i.length),q=0;q<o;++q){var t=q===0?d:n.copy();this.serializeCombos(c,b,g,t,j,h,i);i.unshift.apply(i,i.splice(1,i.length))}}else if(i=Object.keys(h).sort(),d.adj[g]={i:b,k:i,m:h},d.serialize(this.subjects,
this.edges),c[j]===null||K(d.s,c[j].s)<=0){for(n in i)this.serializeBlankNode(c,h[i[n]],d,j);d.serialize(this.subjects,this.edges);if(c[j]===null||K(d.s,c[j].s)<=0&&d.s.length>=c[j].s.length)c[j]={s:d.s,m:d.mapping}}};B.prototype.serializeBlankNode=function(c,b,g,d){if(!(b in g.processed)){g.processed[b]=!0;var j=g.mapNode(b),h=g.copy(),k=this.edges[d][b].bnodes,i={},n=[],o;for(o in k)k[o].s in g.mapping?i[g.mapping[k[o].s]]=k[o].s:n.push(k[o]);k=Math.max(1,n.length);for(o=0;o<k;++o){var q=o===0?
g:h.copy();this.serializeCombos(c,b,j,q,d,i,n)}}};B.prototype.deepCompareBlankNodes=function(c,b){var g=0,d=c["@id"],j=b["@id"];if(d===j)g=0;else if(g=this.shallowCompareBlankNodes(c,b),g===0)for(var h=["props","refs"],i=0;g===0&&i<h.length;++i){var g=h[i],n=this.serializations[d],o=this.serializations[j];if(n[g]===null){var q=new MappingBuilder;if(g==="refs")q.mapping=k(n.props.m),q.count=Object.keys(q.mapping).length+1;this.serializeBlankNode(n,d,q,g)}if(o[g]===null){q=new MappingBuilder;if(g===
"refs")q.mapping=k(o.props.m),q.count=Object.keys(q.mapping).length+1;this.serializeBlankNode(o,j,q,g)}g=L(n[g].s,o[g].s)}return g};B.prototype.shallowCompareBlankNodes=function(c,b){var g=0,d=Object.keys(c),j=Object.keys(b),g=L(d.length,j.length);g===0&&(g=L(d.sort(),j.sort()));g===0&&(g=H(c,b));if(g===0)var h=this.edges.refs[c["@id"]].all,k=this.edges.refs[b["@id"]].all,g=L(h.length,k.length);if(g===0)for(d=0;d<h.length&&g===0;++d)g=this.compareEdges(h[d],k[d]);return g};B.prototype.compareEdges=
function(c,b){var g=0,d=D(c.s),j=D(b.s),h=this.ng.c14n;d!=j?g=d?1:-1:(d||(g=L(c.s,b.s)),g===0&&(g=L(c.p,b.p)),g===0&&h!==null&&(d=h.inNamespace(c.s),h=h.inNamespace(b.s),d!=h?g=d?1:-1:d&&(g=L(c.s,b.s))));return g};B.prototype.collectEdges=function(){var c=this.edges.refs,b=this.edges.props,g;for(g in this.subjects){var d=this.subjects[g],j;for(j in d)if(j!=="@id"){var h=d[j],h=h.constructor!==Array?[h]:h,k;for(k in h){var i=h[k];i.constructor===Object&&"@id"in i&&i["@id"]in this.subjects&&(i=i["@id"],
c[i].all.push({s:g,p:j}),b[g].all.push({s:i,p:j}))}}}var n=this;for(g in c)c[g].all.sort(function(c,b){return n.compareEdges(c,b)}),c[g].bnodes=c[g].all.filter(function(c){return D(c.s)});for(g in b)b[g].all.sort(function(c,b){return n.compareEdges(c,b)}),b[g].bnodes=b[g].all.filter(function(c){return D(c.s)})};var N=function(c,b){var g=!1;if(!("@type"in b)){var d=Object.keys(b).filter(function(c){return c.indexOf("@")!==0});if(d.length===0)g=!0;else if(c.constructor===Object&&"@id"in c){var g=!0,
j;for(j in d)if(!(d[j]in c)){g=!1;break}}}return g},V=function(c,b,g,d,j,h,k,i){var n=b["@id"],o=n in d?d[n]:null;if(("@embed"in g&&g["@embed"]||!("@embed"in g)&&i.defaults.embedOn)&&(o===null||o.autoembed&&!j)){if(o===null)o={},d[n]=o;else if(o.parent!==null){if(o.parent[o.key].constructor===Array){var q=o.parent[o.key],t;for(t in q)if(q[t].constructor===Object&&"@id"in q[t]&&q[t]["@id"]===n){q[t]={"@id":b["@id"]};break}}else o.parent[o.key]={"@id":b["@id"]};var w=function(c){var b=Object.keys(d),
g;for(g in b)g=b[g],g in d&&d[g].parent!==null&&d[g].parent["@id"]===c&&(delete d[g],w(g))};w(n)}o.autoembed=j;o.parent=h;o.key=k;if(g["@explicit"]===!0||i.defaults.explicitOn)for(x in b)x!=="@id"&&!(x in g)&&delete b[x];j=Object.keys(b);for(t in j){var x=j[t];if(x.indexOf("@")!==0){x in g?(h=g[x],k=!1):(h=b[x].constructor===Array?[]:{},k=!0);var n=b[x],n=n.constructor===Array?n:[n],B;for(B in n)n[B].constructor===Object&&"@id"in n[B]&&n[B]["@id"]in c&&(n[B]=c[n[B]["@id"]]);b[x]=S(c,n,h,d,k,b,x,i)}}for(x in g)if(x.indexOf("@")!==
0&&(!(x in b)||b[x]===null))h=g[x],h.constructor===Array?b[x]=[]:(h.constructor===Array&&(h=h.length>0?h[0]:{}),h["@omitDefault"]===!0||i.defaults.omitDefaultOn||(b[x]="@default"in h?h["@default"]:null))}else b={"@id":b["@id"]};return b},S=function(c,b,g,d,j,h,k,i){var n=null,o=-1,q;g.constructor===Array?(n=[],q=g,q.length===0&&q.push({})):(q=[g],o=1);for(var t=[],x=0;x<q.length&&o!==0;++x){g=q[x];if(g.constructor!==Object)throw{message:"Invalid JSON-LD frame. Frame must be an object or an array.",
frame:g};t[x]=[];for(var B=0;B<b.length&&o!==0;++B){var D=b[B],L=!1,F="@type";if("@type"in g&&D.constructor===Object&&F in D)for(var E=D[F].constructor===Array?D[F]:[D[F]],H=g[F].constructor===Array?g[F]:[g[F]],I=0;I<H.length&&!L;++I){var F=H[I],J;for(J in E)if(E[J]===F){L=!0;break}}if(L||N(D,g))t[x].push(D),--o}}for(var bb in t)for(var Cc in t[bb])g=q[bb],b=t[bb][Cc],w(b)&&(b=V(c,b,g,d,j,h,k,i)),n===null?n=b:(g=b!==null&&b.constructor===Object&&"@id"in b&&Object.keys(b).length===1&&b["@id"]in d,
h===null&&g||n.push(b));return n};B.prototype.frame=function(b,g,d){var b=c.normalize(b),j=null;if("@context"in g)j=k(g["@context"]),g=c.expand(g);else if(g.constructor===Array){g.length>0&&"@context"in g[0]&&(j=k(g[0]["@context"]));var d=[],h;for(h in g)d.push(c.expand(g[h]));g=d}var d={defaults:{embedOn:!0,explicitOn:!1,omitDefaultOn:!1}},i={};for(h in b)i[b[h]["@id"]]=b[h];b=S(i,b,g,{},!1,null,null,d);j!==null&&b!==null&&(b=c.compact(j,b));return b}})();var ya={parser:{}};ya.parser.parse=function(b,
c){typeof b==="string"&&(b=JSON.parse(b));return wa.toTriples(b,c)};var Y={RDFLoader:function(b){this.precedences=["text/turtle","text/n3","application/json"];this.parsers={"text/turtle":aa.parser,"text/n3":aa.parser,"application/json":ya.parser};if(b!=null)for(var c in b.parsers)this.parsers[c]=b.parsers[c];if(b&&b.precedences!=null)for(c in this.precedences=b.precedences,b.parsers)x.include(this.precedences,c)||this.precedences.push(c);this.acceptHeaderValue="";for(b=0;b<this.precedences.length;b++)b!=
0?this.acceptHeaderValue=this.acceptHeaderValue+","+this.precedences[b]:this.acceptHeaderValue+=this.precedences[b]}};Y.RDFLoader.prototype.registerParser=function(b,c){this.parsers[b]=c;this.precedences.push(b)};Y.RDFLoader.prototype.unregisterParser=function(b){delete this.parsers[b];for(var c=[],d=0;d<this.precedences.length;d++)this.precedences[d]!=b&&c.push(this.precedences[d]);this.precedences=c};Y.RDFLoader.prototype.setAcceptHeaderPrecedence=function(b){this.precedences=b};Y.RDFLoader.prototype.load=
function(b,c,d){var j=this;V.load(b,this.acceptHeaderValue,function(h,g){if(h==!0){var k=g.headers["Content-Type"]||g.headers["content-type"],i=g.data;if(k!=null){var k=k.split(";")[0],o;for(o in j.parsers)if(o.indexOf("/")!=-1){var t=o.split("/");if(t[1]==="*"){if(k.indexOf(t[0])!=-1)return j.tryToParse(j.parsers[o],c,i,d)}else if(k.indexOf(o)!=-1)return j.tryToParse(j.parsers[o],c,i,d);else if(k.indexOf(t[1])!=-1)return j.tryToParse(j.parsers[o],c,i,d)}else if(k.indexOf(o)!=-1)return j.tryToParse(j.parsers[o],
b,c,d);d(!1,"Unknown media type : "+k)}else console.log("Unknown media type"),console.log(g.headers),d(!1,"Uknown media type")}else d(!1,"Network error: "+g)})};Y.RDFLoader.prototype.loadFromFile=function(b,c,d,j){try{var h=this;fs=require("fs");fs.readFile(d.split("file:/")[1],function(g,d){if(g)throw g;d=d.toString("utf8");h.tryToParse(b,c,d,j)})}catch(g){j(!1,g)}};Y.RDFLoader.prototype.tryToParse=function(b,c,d,j){try{typeof d==="string"&&(d=x.normalizeUnicodeLiterals(d));var h=b.parse(d,c);h!=
null?j(!0,h):j(!1,"parsing error")}catch(g){console.log(g.message),console.log(g.stack),j(!1,"parsing error with mime type : "+g)}};var K={AbstractQueryTree:function(){}};K.AbstractQueryTree.prototype.parseQueryString=function(b){return ma.parser.parse(b)};K.AbstractQueryTree.prototype.parseExecutableUnit=function(b){if(b.kind==="select")return this.parseSelect(b);else if(b.kind==="ask")return this.parseSelect(b);else if(b.kind==="modify")return this.parseSelect(b);else if(b.kind==="construct")return this.parseSelect(b);
else if(b.kind==="insertdata")return this.parseInsertData(b);else if(b.kind==="deletedata")return this.parseInsertData(b);else if(b.kind==="load")return b;else if(b.kind==="clear")return b;else if(b.kind==="drop")return b;else if(b.kind==="create")return b;else throw Error("unknown executable unit: "+b.kind);};K.AbstractQueryTree.prototype.parseSelect=function(b){return b==null?(console.log("error parsing query"),null):(b.pattern=this.build(b.pattern,{freshCounter:0}),b)};K.AbstractQueryTree.prototype.parseInsertData=
function(b){return b==null?(console.log("error parsing query"),null):b};K.AbstractQueryTree.prototype.build=function(b,c){if(b.token==="groupgraphpattern")return this._buildGroupGraphPattern(b,c);else if(b.token==="basicgraphpattern"){var d={kind:"BGP",value:b.triplesContext};return d=K.translatePathExpressionsInBGP(d,c)}else if(b.token==="graphunionpattern"){var d=this.build(b.value[0],c),j=this.build(b.value[1],c);return{kind:"UNION",value:[d,j]}}else if(b.token==="graphgraphpattern")return{kind:"GRAPH",
value:this.build(b.value,c),graph:b.graph};else throw Error("not supported token in query:"+b.token);};K.translatePathExpressionsInBGP=function(b,c){for(var d,j=[],h=0;h<b.value.length;h++)if(b.value[h].predicate&&b.value[h].predicate.token==="path"){d=b.value[h];rest=b.value.slice(h+1);var g=K.translatePathExpression(d,c);d=null;if(g.kind==="BGP")j=j.concat(g.value);else if(g.kind==="ZERO_OR_MORE_PATH"||g.kind==="ONE_OR_MORE_PATH"){bottomJoin=j.length>0?{kind:"JOIN",lvalue:{kind:"BGP",value:j},rvalue:g}:
g;if(g.kind==="ZERO_OR_MORE_PATH")if(g.y.token==="var"&&g.y.value.indexOf("fresh:")===0&&g.x.token==="var"&&g.x.value.indexOf("fresh:")===0)for(h=0;h<b.value.length;h++){if(b.value[h].object&&b.value[h].object.token==="var"&&b.value[h].object.value===g.x.value)d=x.clone(b.value[h]),d.object=g.y}else if(g.y.token==="var"&&g.y.value.indexOf("fresh:")===0)for(h=0;h<b.value.length;h++)if(b.value[h].subject&&b.value[h].subject.token==="var"&&b.value[h].subject.value===g.y.value)d=x.clone(b.value[h]),d.subject=
g.x;return rest.length>0?(h=K.translatePathExpressionsInBGP({kind:"BGP",value:rest},c),d!=null?(j=j.concat([d]).concat(rest),{kind:"UNION",value:[{kind:"JOIN",lvalue:bottomJoin,rvalue:h},{kind:"BGP",value:j}]}):{kind:"JOIN",lvalue:bottomJoin,rvalue:h}):bottomJoin}else return g}else j.push(b.value[h]);b.value=j;return b};K.translatePathExpression=function(b,c){if(b.predicate.kind==="element")if(b.predicate.modifier==="+"){b.predicate.modifier=null;var d=K.translatePathExpression(b,c);return{kind:"ONE_OR_MORE_PATH",
path:d,x:b.subject,y:b.object}}else return b.predicate.modifier==="*"?(b.predicate.modifier=null,d=K.translatePathExpression(b,c),{kind:"ZERO_OR_MORE_PATH",path:d,x:b.subject,y:b.object}):(b.predicate=b.predicate.value,{kind:"BGP",value:[b]});else if(b.predicate.kind==="sequence"){for(var d=b.subject,j=b.object,h=b.graph,g,k,i=[],o=0;o<b.predicate.value.length;o++){o!=b.predicate.value.length-1?(g={token:"var",value:"fresh:"+c.freshCounter},c.freshCounter++):g=j;k={subject:d,predicate:b.predicate.value[o],
object:g};if(h!=null)k.graph=x.clone(h);i.push(k);o!=b.predicate.value.length-1&&(d=x.clone(g))}bgp={kind:"BGP",value:i};return K.translatePathExpressionsInBGP(bgp,c)}};K.AbstractQueryTree.prototype._buildGroupGraphPattern=function(b,c){for(var d=b.filters||[],j={kind:"EMPTY_PATTERN"},h=0;h<b.patterns.length;h++){var g=b.patterns[h];g.token==="optionalgraphpattern"?(g=this.build(g.value,c),j=g.kind==="FILTER"?{kind:"LEFT_JOIN",lvalue:j,rvalue:g.value,filter:g.filter}:{kind:"LEFT_JOIN",lvalue:j,rvalue:g,
filter:!0}):(g=this.build(g,c),j=j.kind=="EMPTY_PATTERN"?g:{kind:"JOIN",lvalue:j,rvalue:g})}if(d.length!=0)if(j.kind==="EMPTY_PATTERN")return{kind:"FILTER",filter:d,value:j};else if(j.kind==="LEFT_JOIN"&&j.filter===!0)return{kind:"FILTER",filter:d,value:j};else if(j.kind==="LEFT_JOIN")return{kind:"FILTER",filter:d,value:j};else if(j.kind==="JOIN")return{kind:"FILTER",filter:d,value:j};else if(j.kind==="UNION")return{kind:"FILTER",filter:d,value:j};else if(j.kind==="GRAPH")return{kind:"FILTER",filter:d,
value:j};else if(j.kind==="BGP")return{kind:"FILTER",filter:d,value:j};else throw Error("Unknow kind of algebra expression: "+j.kind);else return j};K.AbstractQueryTree.prototype.collectBasicTriples=function(b,c){c==null&&(c=[]);if(b.kind==="select")c=this.collectBasicTriples(b.pattern,c);else if(b.kind==="BGP")c=c.concat(b.value);else if(b.kind==="ZERO_OR_MORE_PATH")c=this.collectBasicTriples(b.path);else if(b.kind==="UNION")c=this.collectBasicTriples(b.value[0],c),c=this.collectBasicTriples(b.value[1],
c);else if(b.kind==="GRAPH")c=this.collectBasicTriples(b.value,c);else if(b.kind==="LEFT_JOIN"||b.kind==="JOIN")c=this.collectBasicTriples(b.lvalue,c),c=this.collectBasicTriples(b.rvalue,c);else if(b.kind==="FILTER")c=this.collectBasicTriples(b.value,c);else if(b.kind==="construct")c=this.collectBasicTriples(b.pattern,c);else if(b.kind!=="EMPTY_PATTERN")throw"Unknown pattern: "+b.kind;return c};K.AbstractQueryTree.prototype.bind=function(b,c){if(b.graph!=null&&b.graph.token&&b.graph.token==="var"&&
c[b.graph.value]!=null)b.graph=c[b.graph.value];if(b.filter!=null){for(var d=[],j=0;j<b.filter.length;j++)b.filter[j].value=this._bindFilter(b.filter[j].value,c),d.push(b.filter[j]);b.filter=d}if(b.kind==="select")b.pattern=this.bind(b.pattern,c);else if(b.kind==="BGP")b.value=this._bindTripleContext(b.value,c);else if(b.kind==="ZERO_OR_MORE_PATH"){b.path=this._bindTripleContext(b.path,c);if(b.x&&b.x.token==="var"&&c[b.x.value]!=null)b.x=c[b.x.value];if(b.y&&b.y.token==="var"&&c[b.y.value]!=null)b.y=
c[b.y.value]}else if(b.kind==="UNION")b.value[0]=this.bind(b.value[0],c),b.value[1]=this.bind(b.value[1],c);else if(b.kind==="GRAPH")b.value=this.bind(b.value,c);else if(b.kind==="LEFT_JOIN"||b.kind==="JOIN")b.lvalue=this.bind(b.lvalue,c),b.rvalue=this.bind(b.rvalue,c);else if(b.kind==="FILTER")b.filter=this._bindFilter(b.filter[j].value,c);else if(b.kind!=="EMPTY_PATTERN")throw"Unknown pattern: "+b.kind;return b};K.AbstractQueryTree.prototype._bindTripleContext=function(b,c){for(var d=0;d<b.length;d++){delete b[d].graph;
delete b[d].variables;for(var j in b[d]){var h=b[d][j];h.token==="var"&&c[h.value]!=null&&(b[d][j]=c[h.value])}}return b};K.AbstractQueryTree.prototype._bindFilter=function(b,c){if(b.expressionType!=null){var d=b.expressionType;if(d=="relationalexpression")b.op1=this._bindFilter(b.op1,c),b.op2=this._bindFilter(b.op2,c);else if(d=="conditionalor"||d=="conditionaland")for(d=0;d<b.operands.length;d++)b.operands[d]=this._bindFilter(b.operands[d],c);else if(d=="additiveexpression"){b.summand=this._bindFilter(b.summand,
c);for(d=0;d<b.summands.length;d++)b.summands[d].expression=this._bindFilter(b.summands[d].expression,c)}else if(d=="builtincall")for(d=0;d<b.args.length;d++)b.args[d]=this._bindFilter(b.args[d],c);else if(d=="multiplicativeexpression"){b.factor=this._bindFilter(b.factor,c);for(d=0;d<b.factors.length;d++)b.factors[d].expression=this._bindFilter(b.factors[d].expression,c)}else if(d=="unaryexpression")b.expression=this._bindFilter(b.expression,c);else if(d=="irireforfunction")for(d=0;d<b.factors.args;d++)b.args[d]=
this._bindFilter(b.args[d],c);else if(d=="atomic"&&b.primaryexpression=="var"&&c[b.value.value]!=null)d=c[b.value.value],b.primaryexpression=d.token==="uri"?"iri":"literal",b.value=d}return b};K.AbstractQueryTree.prototype.replace=function(b,c,d,j){if(b.graph!=null&&b.graph.token&&b.graph.token===c.token&&b.graph.value==c.value)b.graph=x.clone(d);if(b.filter!=null){for(var h=[],g=0;g<b.filter.length;g++)b.filter[g].value=this._replaceFilter(b.filter[g].value,c,d,j),h.push(b.filter[g]);b.filter=h}if(b.kind===
"select")b.pattern=this.replace(b.pattern,c,d,j);else if(b.kind==="BGP")b.value=this._replaceTripleContext(b.value,c,d,j);else if(b.kind==="ZERO_OR_MORE_PATH"){b.path=this._replaceTripleContext(b.path,c,d,j);if(b.x&&b.x.token===c.token&&b.value===c.value)b.x=x.clone(d);if(b.y&&b.y.token===c.token&&b.value===c.value)b.y=x.clone(d)}else if(b.kind==="UNION")b.value[0]=this.replace(b.value[0],c,d,j),b.value[1]=this.replace(b.value[1],c,d,j);else if(b.kind==="GRAPH")b.value=this.replace(b.value,c,d);else if(b.kind===
"LEFT_JOIN"||b.kind==="JOIN")b.lvalue=this.replace(b.lvalue,c,d,j),b.rvalue=this.replace(b.rvalue,c,d,j);else if(b.kind==="FILTER")b.value=this._replaceFilter(b.value,c,d,j);else if(b.kind!=="EMPTY_PATTERN")throw"Unknown pattern: "+b.kind;return b};K.AbstractQueryTree.prototype._replaceTripleContext=function(b,c,d,j){for(var h=0;h<b.length;h++)for(var g in b[h]){var k=b[h][g];if(k.token==="var"&&c.token==="var"&&k.value===c.value)b[h][g]=d;else if(k.token==="blank"&&c.token==="blank"&&k.value===c.value)b[h][g]=
d;else if((k.token==="literal"||k.token==="uri")&&(c.token==="literal"||c.token==="uri")&&k.token===c.token&&x.lexicalFormTerm(k,j)[k.token]===x.lexicalFormTerm(c,j)[k.token])b[h][g]=d}return b};K.AbstractQueryTree.prototype._replaceFilter=function(b,c,d,j){if(b.expressionType!=null){var h=b.expressionType;if(h=="relationalexpression")b.op1=this._replaceFilter(b.op1,c,d,j),b.op2=this._replaceFilter(b.op2,c,d,j);else if(h=="conditionalor"||h=="conditionaland")for(h=0;h<b.operands.length;h++)b.operands[h]=
this._replaceFilter(b.operands[h],c,d,j);else if(h=="additiveexpression"){b.summand=this._replaceFilter(b.summand,c,d,j);for(h=0;h<b.summands.length;h++)b.summands[h].expression=this._replaceFilter(b.summands[h].expression,c,d,j)}else if(h=="builtincall")for(h=0;h<b.args.length;h++)b.args[h]=this._replaceFilter(b.args[h],c,d,j);else if(h=="multiplicativeexpression"){b.factor=this._replaceFilter(b.factor,c,d,j);for(h=0;h<b.factors.length;h++)b.factors[h].expression=this._replaceFilter(b.factors[h].expression,
c,d,j)}else if(h=="unaryexpression")b.expression=this._replaceFilter(b.expression,c,d,j);else if(h=="irireforfunction")for(h=0;h<b.factors.args;h++)b.args[h]=this._replaceFilter(b.args[h],c,d,j);else if(h=="atomic"){j=null;if(b.primaryexpression==c.token&&b.value==c.value)j=d.value;else if(b.primaryexpression=="iri"&&c.token=="uri"&&b.value==c.value)j=d.value;if(j!=null)b.primaryexpression=d.token==="uri"?"iri":d.token,b.value=j}}return b};var ma={};ma.parser=function(){var b={parse:function(c,b){function j(a){var c=
a.charCodeAt(0);if(c<=255)var a="x",b=2;else a="u",b=4;var a="\\"+a,f=c.toString(16).toUpperCase(),c=f;b-=f.length;for(f=0;f<b;f++)c="0"+c;return a+c}function h(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,j)+'"'}function g(c){a<za||(a>za&&(za=a,eb=[]),eb.push(c))}function k(){var c="SPARQL@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=i();b===null&&(b=ab(),b=b!==null?b:null);z[c]={nextPos:a,result:b};return b}function i(){var c=
"Query@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=a,e=o();if(e!==null){var y=E();y===null&&(y=J(),y===null&&(y=O(),y===null&&(y=K(),y=y!==null?y:null)));y!==null?e=[e,y]:(e=null,a=f)}else e=null,a=f;f=e!==null?{token:"query",kind:"query",prologue:e[0],units:[e[1]]}:null;f===null&&(f=null,a=d);(m=b)&&f===null&&g("[2] Query");z[c]={nextPos:a,result:f};return f}function o(){var c="Prologue@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=a,e=t(),e=e!==null?e:"";if(e!==
null){for(var y=[],u=r();u!==null;)y.push(u),u=r();if(y!==null){for(var u=[],v=q();v!==null;)u.push(v),v=q();u!==null?e=[e,y,u]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;f=e!==null?{token:"prologue",base:e[0],prefixes:e[2]}:null;f===null&&(f=null,a=d);(m=b)&&f===null&&g("[3] Prologue");z[c]={nextPos:a,result:f};return f}function t(){var b="BaseDecl@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],y=r();y!==null;)e.push(y),y=r();if(e!==null)if(c.substr(a,1)==="B"?(y="B",
a+=1):(y=null,m&&g('"B"')),y===null&&(c.substr(a,1)==="b"?(y="b",a+=1):(y=null,m&&g('"b"')),y=y!==null?y:null),y!==null){if(c.substr(a,1)==="A"){var u="A";a+=1}else u=null,m&&g('"A"');u===null&&(c.substr(a,1)==="a"?(u="a",a+=1):(u=null,m&&g('"a"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="S"){var v="S";a+=1}else v=null,m&&g('"S"');v===null&&(c.substr(a,1)==="s"?(v="s",a+=1):(v=null,m&&g('"s"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="E"){var C="E";a+=1}else C=null,m&&g('"E"');
C===null&&(c.substr(a,1)==="e"?(C="e",a+=1):(C=null,m&&g('"e"')),C=C!==null?C:null);if(C!==null){for(var h=[],s=r();s!==null;)h.push(s),s=r();h!==null?(s=na(),s!==null?e=[e,y,u,v,C,h,s]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?function(a){base={token:"base"};base.value=a;return base}(e[6]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[4] BaseDecl");z[b]={nextPos:a,result:f};return f}function q(){var b="PrefixDecl@"+a,
d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],y=r();y!==null;)e.push(y),y=r();if(e!==null)if(c.substr(a,1)==="P"?(y="P",a+=1):(y=null,m&&g('"P"')),y===null&&(c.substr(a,1)==="p"?(y="p",a+=1):(y=null,m&&g('"p"')),y=y!==null?y:null),y!==null){if(c.substr(a,1)==="R"){var u="R";a+=1}else u=null,m&&g('"R"');u===null&&(c.substr(a,1)==="r"?(u="r",a+=1):(u=null,m&&g('"r"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var v="E";a+=1}else v=null,m&&g('"E"');v===null&&(c.substr(a,
1)==="e"?(v="e",a+=1):(v=null,m&&g('"e"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="F"){var C="F";a+=1}else C=null,m&&g('"F"');C===null&&(c.substr(a,1)==="f"?(C="f",a+=1):(C=null,m&&g('"f"')),C=C!==null?C:null);if(C!==null){if(c.substr(a,1)==="I"){var h="I";a+=1}else h=null,m&&g('"I"');h===null&&(c.substr(a,1)==="i"?(h="i",a+=1):(h=null,m&&g('"i"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="X"){var s="X";a+=1}else s=null,m&&g('"X"');s===null&&(c.substr(a,1)==="x"?(s="x",a+=1):
(s=null,m&&g('"x"')),s=s!==null?s:null);if(s!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();if(k!==null)if(i=Ga(),i!==null){for(var M=[],n=r();n!==null;)M.push(n),n=r();M!==null?(n=na(),n!==null?e=[e,y,u,v,C,h,s,k,i,M,n]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){prefix={token:"prefix"};prefix.prefix=a;prefix.local=c;return prefix}(e[8],e[10]):
null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[5] PrefixDecl");z[b]={nextPos:a,result:f};return f}function w(){var c="TURTLE@"+a,b=z[c];if(b)return a=b.nextPos,b.result;for(var b=a,g=[],f=x();f!==null;)g.push(f),f=x();g=g!==null?g:null;g===null&&(g=null,a=b);z[c]={nextPos:a,result:g};return g}function x(){var b="statement@"+a,d=z[b];if(d)return a=d.nextPos,d.result;for(var j=d=a,f=[],e=r();e!==null;)f.push(e),e=r();if(f!==null)if(e=D(),e!==null){for(var y=[],u=r();u!==null;)y.push(u),u=r();if(y!==
null)if(c.substr(a,1)==="."?(u=".",a+=1):(u=null,m&&g('"."')),u!==null){for(var v=[],C=r();C!==null;)v.push(C),C=r();v!==null?f=[f,e,y,u,v]:(f=null,a=j)}else f=null,a=j;else f=null,a=j}else f=null,a=j;else f=null,a=j;j=f!==null?f[1]:null;j===null&&(j=null,a=d);if(j!==null)d=j;else{j=d=a;f=[];for(e=r();e!==null;)f.push(e),e=r();if(f!==null)if(e=oa(),e!==null){y=[];for(u=r();u!==null;)y.push(u),u=r();y!==null?f=[f,e,y]:(f=null,a=j)}else f=null,a=j;else f=null,a=j;j=f!==null?f[1]:null;j===null&&(j=null,
a=d);if(j!==null)d=j;else{d=r();if(d!==null)for(j=[];d!==null;)j.push(d),d=r();else j=null;d=j!==null?j:null}}z[b]={nextPos:a,result:d};return d}function D(){var c="directive@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=L();b===null&&(b=F(),b=b!==null?b:null);z[c]={nextPos:a,result:b};return b}function F(){var b="base@"+a,d=z[b];if(d)return a=d.nextPos,d.result;for(var j=d=a,f=[],e=r();e!==null;)f.push(e),e=r();if(f!==null)if(c.substr(a,5)==="@base"?(e="@base",a+=5):(e=null,m&&g('"@base"')),e!==
null){var y=r();if(y!==null)for(var u=[];y!==null;)u.push(y),y=r();else u=null;u!==null?(y=na(),y!==null?f=[f,e,u,y]:(f=null,a=j)):(f=null,a=j)}else f=null,a=j;else f=null,a=j;j=f!==null?function(a){base={token:"base"};base.value=a;return base}(f[3]):null;j===null&&(j=null,a=d);z[b]={nextPos:a,result:j};return j}function L(){var b="prefixID@"+a,d=z[b];if(d)return a=d.nextPos,d.result;for(var j=d=a,f=[],e=r();e!==null;)f.push(e),e=r();if(f!==null)if(c.substr(a,7)==="@prefix"?(e="@prefix",a+=7):(e=
null,m&&g('"@prefix"')),e!==null){var y=r();if(y!==null)for(var u=[];y!==null;)u.push(y),y=r();else u=null;if(u!==null)if(y=fb(),y=y!==null?y:"",y!==null){if(c.substr(a,1)===":"){var v=":";a+=1}else v=null,m&&g('":"');if(v!==null){for(var C=[],h=r();h!==null;)C.push(h),h=r();C!==null?(h=na(),h!==null?f=[f,e,u,y,v,C,h]:(f=null,a=j)):(f=null,a=j)}else f=null,a=j}else f=null,a=j;else f=null,a=j}else f=null,a=j;else f=null,a=j;j=f!==null?function(a,c){prefix={token:"prefix"};prefix.prefix=a;prefix.local=
c;return prefix}(f[3],f[6]):null;j===null&&(j=null,a=d);z[b]={nextPos:a,result:j};return j}function E(){var c="SelectQuery@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=a,e=I();if(e!==null){for(var y=[],u=r();u!==null;)y.push(u),u=r();if(y!==null){for(var u=[],v=N();v!==null;)u.push(v),v=N();if(u!==null){for(var v=[],j=r();j!==null;)v.push(j),j=r();if(v!==null)if(j=W(),j!==null){for(var h=[],s=r();s!==null;)h.push(s),s=r();if(h!==null)if(s=Y(),s!==null){for(var k=[],i=r();i!==null;)k.push(i),
i=r();k!==null?(i=wa(),i!==null?e=[e,y,u,v,j,h,s,k,i]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c,b,e){for(var f={named:[],"default":[]},g=0;g<c.length;g++){var d=c[g];d.kind==="default"?f["default"].push(d.graph):f.named.push(d.graph)}f.named.length===0&&f["default"].length===0&&f["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});
c={kind:"select",token:"executableunit"};c.dataset=f;c.projection=a.vars;c.modifier=a.modifier;c.pattern=b;if(e!=null&&e.limit!=null)c.limit=e.limit;if(e!=null&&e.offset!=null)c.offset=e.offset;if(e!=null&&e.order!=null&&e.order!="")c.order=e.order;if(e!=null&&e.group!=null)c.group=e.group;return c}(e[0],e[2],e[4],e[6]):null;f===null&&(f=null,a=d);(m=b)&&f===null&&g("[6] SelectQuery");z[c]={nextPos:a,result:f};return f}function H(){var c="SubSelect@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;
m=!1;var d=a,f=I();if(f!==null){var e=W();if(e!==null){var y=Y();y!==null?f=[f,e,y]:(f=null,a=d)}else f=null,a=d}else f=null,a=d;(m=b)&&f===null&&g("[7] SubSelect");z[c]={nextPos:a,result:f};return f}function I(){var b="SelectClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],y=r();y!==null;)e.push(y),y=r();if(e!==null)if(c.substr(a,1)==="S"?(y="S",a+=1):(y=null,m&&g('"S"')),y===null&&(c.substr(a,1)==="s"?(y="s",a+=1):(y=null,m&&g('"s"')),y=y!==null?y:null),y!==null){if(c.substr(a,
1)==="E"){var u="E";a+=1}else u=null,m&&g('"E"');u===null&&(c.substr(a,1)==="e"?(u="e",a+=1):(u=null,m&&g('"e"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="L"){var v="L";a+=1}else v=null,m&&g('"L"');v===null&&(c.substr(a,1)==="l"?(v="l",a+=1):(v=null,m&&g('"l"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="E"){var C="E";a+=1}else C=null,m&&g('"E"');C===null&&(c.substr(a,1)==="e"?(C="e",a+=1):(C=null,m&&g('"e"')),C=C!==null?C:null);if(C!==null){if(c.substr(a,1)==="C"){var h="C";a+=
1}else h=null,m&&g('"C"');h===null&&(c.substr(a,1)==="c"?(h="c",a+=1):(h=null,m&&g('"c"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="T"){var s="T";a+=1}else s=null,m&&g('"T"');s===null&&(c.substr(a,1)==="t"?(s="t",a+=1):(s=null,m&&g('"t"')),s=s!==null?s:null);if(s!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();if(k!==null){i=a;if(c.substr(a,1)==="D"){var M="D";a+=1}else M=null,m&&g('"D"');M===null&&(c.substr(a,1)==="d"?(M="d",a+=1):(M=null,m&&g('"d"')),M=M!==null?M:null);if(M!==null){if(c.substr(a,
1)==="I"){var n="I";a+=1}else n=null,m&&g('"I"');n===null&&(c.substr(a,1)==="i"?(n="i",a+=1):(n=null,m&&g('"i"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="S"){var A="S";a+=1}else A=null,m&&g('"S"');A===null&&(c.substr(a,1)==="s"?(A="s",a+=1):(A=null,m&&g('"s"')),A=A!==null?A:null);if(A!==null){if(c.substr(a,1)==="T"){var o="T";a+=1}else o=null,m&&g('"T"');o===null&&(c.substr(a,1)==="t"?(o="t",a+=1):(o=null,m&&g('"t"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="I"){var q="I";a+=
1}else q=null,m&&g('"I"');q===null&&(c.substr(a,1)==="i"?(q="i",a+=1):(q=null,m&&g('"i"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="N"){var t="N";a+=1}else t=null,m&&g('"N"');t===null&&(c.substr(a,1)==="n"?(t="n",a+=1):(t=null,m&&g('"n"')),t=t!==null?t:null);if(t!==null){if(c.substr(a,1)==="C"){var w="C";a+=1}else w=null,m&&g('"C"');w===null&&(c.substr(a,1)==="c"?(w="c",a+=1):(w=null,m&&g('"c"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="T"){var x="T";a+=1}else x=null,m&&g('"T"');
x===null&&(c.substr(a,1)==="t"?(x="t",a+=1):(x=null,m&&g('"t"')),x=x!==null?x:null);x!==null?M=[M,n,A,o,q,t,w,x]:(M=null,a=i)}else M=null,a=i}else M=null,a=i}else M=null,a=i}else M=null,a=i}else M=null,a=i}else M=null,a=i}else M=null,a=i;M!==null?i=M:(i=a,c.substr(a,1)==="R"?(M="R",a+=1):(M=null,m&&g('"R"')),M===null&&(c.substr(a,1)==="r"?(M="r",a+=1):(M=null,m&&g('"r"')),M=M!==null?M:null),M!==null?(c.substr(a,1)==="E"?(n="E",a+=1):(n=null,m&&g('"E"')),n===null&&(c.substr(a,1)==="e"?(n="e",a+=1):
(n=null,m&&g('"e"')),n=n!==null?n:null),n!==null?(c.substr(a,1)==="D"?(A="D",a+=1):(A=null,m&&g('"D"')),A===null&&(c.substr(a,1)==="d"?(A="d",a+=1):(A=null,m&&g('"d"')),A=A!==null?A:null),A!==null?(c.substr(a,1)==="U"?(o="U",a+=1):(o=null,m&&g('"U"')),o===null&&(c.substr(a,1)==="u"?(o="u",a+=1):(o=null,m&&g('"u"')),o=o!==null?o:null),o!==null?(c.substr(a,1)==="C"?(q="C",a+=1):(q=null,m&&g('"C"')),q===null&&(c.substr(a,1)==="c"?(q="c",a+=1):(q=null,m&&g('"c"')),q=q!==null?q:null),q!==null?(c.substr(a,
1)==="E"?(t="E",a+=1):(t=null,m&&g('"E"')),t===null&&(c.substr(a,1)==="e"?(t="e",a+=1):(t=null,m&&g('"e"')),t=t!==null?t:null),t!==null?(c.substr(a,1)==="D"?(w="D",a+=1):(w=null,m&&g('"D"')),w===null&&(c.substr(a,1)==="d"?(w="d",a+=1):(w=null,m&&g('"d"')),w=w!==null?w:null),w!==null?M=[M,n,A,o,q,t,w]:(M=null,a=i)):(M=null,a=i)):(M=null,a=i)):(M=null,a=i)):(M=null,a=i)):(M=null,a=i)):(M=null,a=i),i=M!==null?M:null);i=i!==null?i:"";if(i!==null){M=[];for(n=r();n!==null;)M.push(n),n=r();if(M!==null){A=
a;o=[];for(q=r();q!==null;)o.push(q),q=r();if(o!==null)if(q=T(),q!==null){t=[];for(w=r();w!==null;)t.push(w),w=r();t!==null?o=[o,q,t]:(o=null,a=A)}else o=null,a=A;else o=null,a=A;if(o!==null)A=o;else{A=a;o=[];for(q=r();q!==null;)o.push(q),q=r();if(o!==null)if(c.substr(a,1)==="("?(q="(",a+=1):(q=null,m&&g('"("')),q!==null){t=[];for(w=r();w!==null;)t.push(w),w=r();if(t!==null)if(w=P(),w!==null){for(var x=[],R=r();R!==null;)x.push(R),R=r();if(x!==null)if(c.substr(a,1)==="A"?(R="A",a+=1):(R=null,m&&g('"A"')),
R===null&&(c.substr(a,1)==="a"?(R="a",a+=1):(R=null,m&&g('"a"')),R=R!==null?R:null),R!==null){if(c.substr(a,1)==="S"){var B="S";a+=1}else B=null,m&&g('"S"');B===null&&(c.substr(a,1)==="s"?(B="s",a+=1):(B=null,m&&g('"s"')),B=B!==null?B:null);if(B!==null){for(var D=[],G=r();G!==null;)D.push(G),G=r();if(D!==null)if(G=T(),G!==null){for(var F=[],E=r();E!==null;)F.push(E),E=r();if(F!==null)if(c.substr(a,1)===")"?(E=")",a+=1):(E=null,m&&g('")"')),E!==null){for(var L=[],H=r();H!==null;)L.push(H),H=r();L!==
null?o=[o,q,t,w,x,R,B,D,G,F,E,L]:(o=null,a=A)}else o=null,a=A;else o=null,a=A}else o=null,a=A;else o=null,a=A}else o=null,a=A}else o=null,a=A;else o=null,a=A}else o=null,a=A;else o=null,a=A}else o=null,a=A;else o=null,a=A;A=o!==null?o:null}if(A!==null)for(n=[];A!==null;){n.push(A);A=a;o=[];for(q=r();q!==null;)o.push(q),q=r();if(o!==null)if(q=T(),q!==null){t=[];for(w=r();w!==null;)t.push(w),w=r();t!==null?o=[o,q,t]:(o=null,a=A)}else o=null,a=A;else o=null,a=A;if(o!==null)A=o;else{A=a;o=[];for(q=r();q!==
null;)o.push(q),q=r();if(o!==null)if(c.substr(a,1)==="("?(q="(",a+=1):(q=null,m&&g('"("')),q!==null){t=[];for(w=r();w!==null;)t.push(w),w=r();if(t!==null)if(w=P(),w!==null){x=[];for(R=r();R!==null;)x.push(R),R=r();if(x!==null)if(c.substr(a,1)==="A"?(R="A",a+=1):(R=null,m&&g('"A"')),R===null&&(c.substr(a,1)==="a"?(R="a",a+=1):(R=null,m&&g('"a"')),R=R!==null?R:null),R!==null)if(c.substr(a,1)==="S"?(B="S",a+=1):(B=null,m&&g('"S"')),B===null&&(c.substr(a,1)==="s"?(B="s",a+=1):(B=null,m&&g('"s"')),B=B!==
null?B:null),B!==null){D=[];for(G=r();G!==null;)D.push(G),G=r();if(D!==null)if(G=T(),G!==null){F=[];for(E=r();E!==null;)F.push(E),E=r();if(F!==null)if(c.substr(a,1)===")"?(E=")",a+=1):(E=null,m&&g('")"')),E!==null){L=[];for(H=r();H!==null;)L.push(H),H=r();L!==null?o=[o,q,t,w,x,R,B,D,G,F,E,L]:(o=null,a=A)}else o=null,a=A;else o=null,a=A}else o=null,a=A;else o=null,a=A}else o=null,a=A;else o=null,a=A;else o=null,a=A}else o=null,a=A;else o=null,a=A}else o=null,a=A;else o=null,a=A;A=o!==null?o:null}}else n=
null;if(n===null){n=a;A=[];for(o=r();o!==null;)A.push(o),o=r();if(A!==null)if(c.substr(a,1)==="*"?(o="*",a+=1):(o=null,m&&g('"*"')),o!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();q!==null?A=[A,o,q]:(A=null,a=n)}else A=null,a=n;else A=null,a=n;n=A!==null?A:null}n!==null?e=[e,y,u,v,C,h,s,k,i,M,n]:(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){var b=
[];if(c.length===3&&c[1]==="*")return{vars:[{token:"variable",kind:"*"}],modifier:Ib(a)};for(var e=0;e<c.length;e++){var f=c[e];f.length===3?b.push({token:"variable",kind:"var",value:f[1]}):b.push({token:"variable",kind:"aliased",expression:f[3],alias:f[8]})}return{vars:b,modifier:Ib(a)}}(e[8],e[10]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[8] SelectClause");z[b]={nextPos:a,result:f};return f}function J(){var b="ConstructQuery@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=
a,f=a,e=[],y=r();y!==null;)e.push(y),y=r();if(e!==null)if(c.substr(a,1)==="C"?(y="C",a+=1):(y=null,m&&g('"C"')),y===null&&(c.substr(a,1)==="c"?(y="c",a+=1):(y=null,m&&g('"c"')),y=y!==null?y:null),y!==null){if(c.substr(a,1)==="O"){var u="O";a+=1}else u=null,m&&g('"O"');u===null&&(c.substr(a,1)==="o"?(u="o",a+=1):(u=null,m&&g('"o"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="N"){var v="N";a+=1}else v=null,m&&g('"N"');v===null&&(c.substr(a,1)==="n"?(v="n",a+=1):(v=null,m&&g('"n"')),v=v!==null?
v:null);if(v!==null){if(c.substr(a,1)==="S"){var C="S";a+=1}else C=null,m&&g('"S"');C===null&&(c.substr(a,1)==="s"?(C="s",a+=1):(C=null,m&&g('"s"')),C=C!==null?C:null);if(C!==null){if(c.substr(a,1)==="T"){var h="T";a+=1}else h=null,m&&g('"T"');h===null&&(c.substr(a,1)==="t"?(h="t",a+=1):(h=null,m&&g('"t"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="R"){var s="R";a+=1}else s=null,m&&g('"R"');s===null&&(c.substr(a,1)==="r"?(s="r",a+=1):(s=null,m&&g('"r"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,
1)==="U"){var k="U";a+=1}else k=null,m&&g('"U"');k===null&&(c.substr(a,1)==="u"?(k="u",a+=1):(k=null,m&&g('"u"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="C"){var i="C";a+=1}else i=null,m&&g('"C"');i===null&&(c.substr(a,1)==="c"?(i="c",a+=1):(i=null,m&&g('"c"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="T"){var n="T";a+=1}else n=null,m&&g('"T"');n===null&&(c.substr(a,1)==="t"?(n="t",a+=1):(n=null,m&&g('"t"')),n=n!==null?n:null);if(n!==null){for(var o=[],q=r();q!==null;)o.push(q),
q=r();if(o!==null)if(q=Jb(),q!==null){for(var t=[],w=r();w!==null;)t.push(w),w=r();if(t!==null){for(var w=[],x=N();x!==null;)w.push(x),x=N();if(w!==null){for(var x=[],B=r();B!==null;)x.push(B),B=r();if(x!==null)if(B=W(),B!==null){for(var gb=[],R=r();R!==null;)gb.push(R),R=r();gb!==null?(R=Y(),R!==null?e=[e,y,u,v,C,h,s,k,i,n,o,q,t,w,x,B,gb,R]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=
null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c,b,e){for(var f={named:[],"default":[]},g=0;g<c.length;g++){var d=c[g];d.kind==="default"?f["default"].push(d.graph):f.named.push(d.graph)}f.named.length===0&&f["default"].length===0&&f["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});c={kind:"construct",token:"executableunit"};c.dataset=
f;c.template=a;c.pattern=b;if(e!=null&&e.limit!=null)c.limit=e.limit;if(e!=null&&e.offset!=null)c.offset=e.offset;if(e!=null&&e.order!=null&&e.order!="")c.order=e.order;return c}(e[11],e[13],e[15],e[17]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[9] ConstructQuery");z[b]={nextPos:a,result:f};return f}function O(){var b="DescribeQuery@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a;if(c.substr(a,8)==="DESCRIBE"){var f="DESCRIBE";a+=8}else f=null,m&&g('"DESCRIBE"');if(f!==null){var e=
ia();if(e!==null)for(var y=[];e!==null;)y.push(e),e=ia();else y=null;y!==null?e=y:(c.substr(a,1)==="*"?(e="*",a+=1):(e=null,m&&g('"*"')),e=e!==null?e:null);if(e!==null){for(var y=[],u=N();u!==null;)y.push(u),u=N();if(y!==null)if(u=W(),u=u!==null?u:"",u!==null){var v=Y();v!==null?f=[f,e,y,u,v]:(f=null,a=j)}else f=null,a=j;else f=null,a=j}else f=null,a=j}else f=null,a=j;(m=d)&&f===null&&g("[10] DescribeQuery");z[b]={nextPos:a,result:f};return f}function K(){var b="AskQuery@"+a,d=z[b];if(d)return a=
d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],y=r();y!==null;)e.push(y),y=r();if(e!==null)if(c.substr(a,1)==="A"?(y="A",a+=1):(y=null,m&&g('"A"')),y===null&&(c.substr(a,1)==="a"?(y="a",a+=1):(y=null,m&&g('"a"')),y=y!==null?y:null),y!==null){if(c.substr(a,1)==="S"){var u="S";a+=1}else u=null,m&&g('"S"');u===null&&(c.substr(a,1)==="s"?(u="s",a+=1):(u=null,m&&g('"s"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="K"){var v="K";a+=1}else v=null,m&&g('"K"');v===null&&(c.substr(a,1)==="k"?(v=
"k",a+=1):(v=null,m&&g('"k"')),v=v!==null?v:null);if(v!==null){for(var C=[],h=r();h!==null;)C.push(h),h=r();if(C!==null){for(var h=[],s=N();s!==null;)h.push(s),s=N();if(h!==null){for(var s=[],k=r();k!==null;)s.push(k),k=r();s!==null?(k=W(),k!==null?e=[e,y,u,v,C,h,s,k]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){for(var b={named:[],"default":[]},e=0;e<a.length;e++){var f=a[e];f.kind==="default"?
b["default"].push(f.graph):b.named.push(f.graph)}b.named.length===0&&b["default"].length===0&&b["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});e={kind:"ask",token:"executableunit"};e.dataset=b;e.pattern=c;return e}(e[5],e[7]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[11] AskQuery");z[b]={nextPos:a,result:f};return f}function N(){var b="DatasetClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,
1)==="F"){var e="F";a+=1}else e=null,m&&g('"F"');e===null&&(c.substr(a,1)==="f"?(e="f",a+=1):(e=null,m&&g('"f"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="R"){var y="R";a+=1}else y=null,m&&g('"R"');y===null&&(c.substr(a,1)==="r"?(y="r",a+=1):(y=null,m&&g('"r"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="O"){var u="O";a+=1}else u=null,m&&g('"O"');u===null&&(c.substr(a,1)==="o"?(u="o",a+=1):(u=null,m&&g('"o"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="M"){var v="M";a+=
1}else v=null,m&&g('"M"');v===null&&(c.substr(a,1)==="m"?(v="m",a+=1):(v=null,m&&g('"m"')),v=v!==null?v:null);if(v!==null){for(var C=[],h=r();h!==null;)C.push(h),h=r();if(C!==null)if(h=S(),h===null&&(h=V(),h=h!==null?h:null),h!==null){for(var s=[],k=r();k!==null;)s.push(k),k=r();s!==null?e=[e,y,u,v,C,h,s]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?e[5]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[12] DatasetClause");
z[b]={nextPos:a,result:f};return f}function S(){var c="DefaultGraphClause@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;for(var d=a,f=a,e=[],j=r();j!==null;)e.push(j),j=r();e!==null?(j=U(),j!==null?e=[e,j]:(e=null,a=f)):(e=null,a=f);f=e!==null?{graph:e[1],kind:"default",token:"graphClause"}:null;f===null&&(f=null,a=d);(m=b)&&f===null&&g("[13] DefaultGraphClause");z[c]={nextPos:a,result:f};return f}function V(){var b="NamedGraphClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=
a,f=a;if(c.substr(a,1)==="N"){var e="N";a+=1}else e=null,m&&g('"N"');e===null&&(c.substr(a,1)==="n"?(e="n",a+=1):(e=null,m&&g('"n"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="A"){var y="A";a+=1}else y=null,m&&g('"A"');y===null&&(c.substr(a,1)==="a"?(y="a",a+=1):(y=null,m&&g('"a"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="M"){var u="M";a+=1}else u=null,m&&g('"M"');u===null&&(c.substr(a,1)==="m"?(u="m",a+=1):(u=null,m&&g('"m"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)===
"E"){var v="E";a+=1}else v=null,m&&g('"E"');v===null&&(c.substr(a,1)==="e"?(v="e",a+=1):(v=null,m&&g('"e"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="D"){var C="D";a+=1}else C=null,m&&g('"D"');C===null&&(c.substr(a,1)==="d"?(C="d",a+=1):(C=null,m&&g('"d"')),C=C!==null?C:null);if(C!==null){for(var h=[],s=r();s!==null;)h.push(s),s=r();h!==null?(s=U(),s!==null?e=[e,y,u,v,C,h,s]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==
null?{graph:e[6],kind:"named",token:"graphCluase"}:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[14] NamedGraphClause");z[b]={nextPos:a,result:f};return f}function W(){var b="WhereClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=a;if(c.substr(a,1)==="W"){var y="W";a+=1}else y=null,m&&g('"W"');y===null&&(c.substr(a,1)==="w"?(y="w",a+=1):(y=null,m&&g('"w"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="H"){var u="H";a+=1}else u=null,m&&g('"H"');u===null&&(c.substr(a,
1)==="h"?(u="h",a+=1):(u=null,m&&g('"h"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var v="E";a+=1}else v=null,m&&g('"E"');v===null&&(c.substr(a,1)==="e"?(v="e",a+=1):(v=null,m&&g('"e"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="R"){var C="R";a+=1}else C=null,m&&g('"R"');C===null&&(c.substr(a,1)==="r"?(C="r",a+=1):(C=null,m&&g('"r"')),C=C!==null?C:null);if(C!==null){if(c.substr(a,1)==="E"){var h="E";a+=1}else h=null,m&&g('"E"');h===null&&(c.substr(a,1)==="e"?(h="e",a+=1):
(h=null,m&&g('"e"')),h=h!==null?h:null);h!==null?y=[y,u,v,C,h]:(y=null,a=e)}else y=null,a=e}else y=null,a=e}else y=null,a=e}else y=null,a=e;e=y!==null?y:"";if(e!==null){y=[];for(u=r();u!==null;)y.push(u),u=r();if(y!==null)if(u=Z(),u!==null){v=[];for(C=r();C!==null;)v.push(C),C=r();v!==null?e=[e,y,u,v]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?e[2]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[16] WhereClause");z[b]={nextPos:a,result:f};return f}function Y(){var c=
"SolutionModifier@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=a,e=ca(),e=e!==null?e:"";if(e!==null){var j=la(),j=j!==null?j:"";if(j!==null){var u=ma(),u=u!==null?u:"";if(u!==null){var v=va(),v=v!==null?v:"";v!==null?e=[e,j,u,v]:(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c,b){var e={};if(b!=null){if(b.limit!=null)e.limit=b.limit;if(b.offset!=null)e.offset=b.offset}if(a!=null)e.group=a;e.order=c;return e}(e[0],e[2],e[3]):null;f===null&&(f=null,
a=d);(m=b)&&f===null&&g("[17] SolutionModifier");z[c]={nextPos:a,result:f};return f}function ca(){var b="GroupClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="G"){var e="G";a+=1}else e=null,m&&g('"G"');e===null&&(c.substr(a,1)==="g"?(e="g",a+=1):(e=null,m&&g('"g"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="R"){var y="R";a+=1}else y=null,m&&g('"R"');y===null&&(c.substr(a,1)==="r"?(y="r",a+=1):(y=null,m&&g('"r"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,
1)==="O"){var u="O";a+=1}else u=null,m&&g('"O"');u===null&&(c.substr(a,1)==="o"?(u="o",a+=1):(u=null,m&&g('"o"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="U"){var v="U";a+=1}else v=null,m&&g('"U"');v===null&&(c.substr(a,1)==="u"?(v="u",a+=1):(v=null,m&&g('"u"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="P"){var C="P";a+=1}else C=null,m&&g('"P"');C===null&&(c.substr(a,1)==="p"?(C="p",a+=1):(C=null,m&&g('"p"')),C=C!==null?C:null);if(C!==null){for(var h=[],s=r();s!==null;)h.push(s),
s=r();if(h!==null)if(c.substr(a,1)==="B"?(s="B",a+=1):(s=null,m&&g('"B"')),s===null&&(c.substr(a,1)==="b"?(s="b",a+=1):(s=null,m&&g('"b"')),s=s!==null?s:null),s!==null){if(c.substr(a,1)==="Y"){var k="Y";a+=1}else k=null,m&&g('"Y"');k===null&&(c.substr(a,1)==="y"?(k="y",a+=1):(k=null,m&&g('"y"')),k=k!==null?k:null);if(k!==null){for(var i=[],n=r();n!==null;)i.push(n),n=r();if(i!==null){n=aa();if(n!==null)for(var o=[];n!==null;)o.push(n),n=aa();else o=null;o!==null?e=[e,y,u,v,C,h,s,k,i,o]:(e=null,a=
f)}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?e[9]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[18] GroupClause");z[b]={nextPos:a,result:f};return f}function aa(){var b="GroupCondition@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],y=r();y!==null;)e.push(y),y=r();if(e!==null)if(y=Ha(),y!==null){for(var u=[],v=r();v!==null;)u.push(v),v=r();u!==null?e=[e,y,u]:
(e=null,a=f)}else e=null,a=f;else e=null,a=f;f=e!==null?e[1]:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;e=[];for(y=r();y!==null;)e.push(y),y=r();if(e!==null)if(y=hb(),y!==null){u=[];for(v=r();v!==null;)u.push(v),v=r();u!==null?e=[e,y,u]:(e=null,a=f)}else e=null,a=f;else e=null,a=f;f=e!==null?e[1]:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;e=[];for(y=r();y!==null;)e.push(y),y=r();if(e!==null)if(c.substr(a,1)==="("?(y="(",a+=1):(y=null,m&&g('"("')),y!==null){u=[];for(v=r();v!==
null;)u.push(v),v=r();if(u!==null)if(v=P(),v!==null){for(var C=[],h=r();h!==null;)C.push(h),h=r();if(C!==null){h=a;if(c.substr(a,1)==="A"){var s="A";a+=1}else s=null,m&&g('"A"');s===null&&(c.substr(a,1)==="a"?(s="a",a+=1):(s=null,m&&g('"a"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="S"){var k="S";a+=1}else k=null,m&&g('"S"');k===null&&(c.substr(a,1)==="s"?(k="s",a+=1):(k=null,m&&g('"s"')),k=k!==null?k:null);if(k!==null){for(var i=[],n=r();n!==null;)i.push(n),n=r();i!==null?(n=T(),n!==null?
s=[s,k,i,n]:(s=null,a=h)):(s=null,a=h)}else s=null,a=h}else s=null,a=h;h=s!==null?s:"";if(h!==null){s=[];for(k=r();k!==null;)s.push(k),k=r();if(s!==null)if(c.substr(a,1)===")"?(k=")",a+=1):(k=null,m&&g('")"')),k!==null){i=[];for(n=r();n!==null;)i.push(n),n=r();i!==null?e=[e,y,u,v,C,h,s,k,i]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?e[5].length!=0?{token:"aliased_expression",expression:e[3],
alias:e[5][3]}:e[3]:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;e=[];for(y=r();y!==null;)e.push(y),y=r();if(e!==null)if(y=T(),y!==null){u=[];for(v=r();v!==null;)u.push(v),v=r();u!==null?e=[e,y,u]:(e=null,a=f)}else e=null,a=f;else e=null,a=f;f=e!==null?e[1]:null;f===null&&(f=null,a=j);j=f!==null?f:null}}}(m=d)&&j===null&&g("[19] GroupCondition");z[b]={nextPos:a,result:j};return j}function la(){var b="HavingClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a;if(c.substr(a,
6)==="HAVING"){var f="HAVING";a+=6}else f=null,m&&g('"HAVING"');if(f!==null){var e=Aa();if(e!==null)for(var y=[];e!==null;)y.push(e),e=Aa();else y=null;y!==null?f=[f,y]:(f=null,a=j)}else f=null,a=j;(m=d)&&f===null&&g("[20] HavingClause");z[b]={nextPos:a,result:f};return f}function ma(){var b="OrderClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="O"){var e="O";a+=1}else e=null,m&&g('"O"');e===null&&(c.substr(a,1)==="o"?(e="o",a+=1):(e=null,m&&g('"o"')),e=
e!==null?e:null);if(e!==null){if(c.substr(a,1)==="R"){var y="R";a+=1}else y=null,m&&g('"R"');y===null&&(c.substr(a,1)==="r"?(y="r",a+=1):(y=null,m&&g('"r"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="D"){var u="D";a+=1}else u=null,m&&g('"D"');u===null&&(c.substr(a,1)==="d"?(u="d",a+=1):(u=null,m&&g('"d"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var v="E";a+=1}else v=null,m&&g('"E"');v===null&&(c.substr(a,1)==="e"?(v="e",a+=1):(v=null,m&&g('"e"')),v=v!==null?v:null);if(v!==
null){if(c.substr(a,1)==="R"){var C="R";a+=1}else C=null,m&&g('"R"');C===null&&(c.substr(a,1)==="r"?(C="r",a+=1):(C=null,m&&g('"r"')),C=C!==null?C:null);if(C!==null){for(var h=[],k=r();k!==null;)h.push(k),k=r();if(h!==null)if(c.substr(a,1)==="B"?(k="B",a+=1):(k=null,m&&g('"B"')),k===null&&(c.substr(a,1)==="b"?(k="b",a+=1):(k=null,m&&g('"b"')),k=k!==null?k:null),k!==null){if(c.substr(a,1)==="Y"){var i="Y";a+=1}else i=null,m&&g('"Y"');i===null&&(c.substr(a,1)==="y"?(i="y",a+=1):(i=null,m&&g('"y"')),
i=i!==null?i:null);if(i!==null){for(var Q=[],n=r();n!==null;)Q.push(n),n=r();if(Q!==null){var o=Ya();if(o!==null)for(n=[];o!==null;)n.push(o),o=Ya();else n=null;if(n!==null){for(var o=[],q=r();q!==null;)o.push(q),q=r();o!==null?e=[e,y,u,v,C,h,k,i,Q,n,o]:(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?e[9]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[22] OrderClause");
z[b]={nextPos:a,result:f};return f}function Ya(){var b="OrderCondition@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,3)==="ASC"){var e="ASC";a+=3}else e=null,m&&g('"ASC"');e===null&&(c.substr(a,4)==="DESC"?(e="DESC",a+=4):(e=null,m&&g('"DESC"')),e=e!==null?e:null);if(e!==null){for(var y=[],u=r();u!==null;)y.push(u),u=r();if(y!==null)if(u=Ia(),u!==null){for(var v=[],C=r();C!==null;)v.push(C),C=r();v!==null?e=[e,y,u,v]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=
null,a=f;f=e!==null?{direction:e[0],expression:e[2]}:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;e=Aa();e===null&&(e=T(),e=e!==null?e:null);if(e!==null){y=[];for(u=r();u!==null;)y.push(u),u=r();y!==null?e=[e,y]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){a.token==="var"&&(a={token:"expression",expressionType:"atomic",primaryexpression:"var",value:a});return{direction:"ASC",expression:a}}(e[0]):null;f===null&&(f=null,a=j);j=f!==null?f:null}(m=d)&&j===null&&g("[23] OrderCondition");
z[b]={nextPos:a,result:j};return j}function va(){var c="LimitOffsetClauses@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=a,e=Za();if(e!==null){var j=$a(),j=j!==null?j:"";j!==null?e=[e,j]:(e=null,a=f)}else e=null,a=f;e!==null?f=e:(f=a,e=$a(),e!==null?(j=Za(),j=j!==null?j:"",j!==null?e=[e,j]:(e=null,a=f)):(e=null,a=f),f=e!==null?e:null);f=f!==null?function(a){for(var c={},b=0;b<a.length;b++){var e=a[b];if(e.limit!=null)c.limit=e.limit;else if(e.offset!=null)c.offset=e.offset}return c}(f):
null;f===null&&(f=null,a=d);(m=b)&&f===null&&g("[24] LimitOffsetClauses");z[c]={nextPos:a,result:f};return f}function Za(){var b="LimitClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="L"){var e="L";a+=1}else e=null,m&&g('"L"');e===null&&(c.substr(a,1)==="l"?(e="l",a+=1):(e=null,m&&g('"l"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="I"){var y="I";a+=1}else y=null,m&&g('"I"');y===null&&(c.substr(a,1)==="i"?(y="i",a+=1):(y=null,m&&g('"i"')),y=y!==
null?y:null);if(y!==null){if(c.substr(a,1)==="M"){var u="M";a+=1}else u=null,m&&g('"M"');u===null&&(c.substr(a,1)==="m"?(u="m",a+=1):(u=null,m&&g('"m"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="I"){var v="I";a+=1}else v=null,m&&g('"I"');v===null&&(c.substr(a,1)==="i"?(v="i",a+=1):(v=null,m&&g('"i"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="T"){var C="T";a+=1}else C=null,m&&g('"T"');C===null&&(c.substr(a,1)==="t"?(C="t",a+=1):(C=null,m&&g('"t"')),C=C!==null?C:null);if(C!==null){for(var h=
[],k=r();k!==null;)h.push(k),k=r();if(h!==null)if(k=ea(),k!==null){for(var i=[],Q=r();Q!==null;)i.push(Q),Q=r();i!==null?e=[e,y,u,v,C,h,k,i]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?{limit:parseInt(e[6].value)}:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[25] LimitClause");z[b]={nextPos:a,result:f};return f}function $a(){var b="OffsetClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=
a,f=a;if(c.substr(a,1)==="O"){var e="O";a+=1}else e=null,m&&g('"O"');e===null&&(c.substr(a,1)==="o"?(e="o",a+=1):(e=null,m&&g('"o"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="F"){var y="F";a+=1}else y=null,m&&g('"F"');y===null&&(c.substr(a,1)==="f"?(y="f",a+=1):(y=null,m&&g('"f"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="F"){var u="F";a+=1}else u=null,m&&g('"F"');u===null&&(c.substr(a,1)==="f"?(u="f",a+=1):(u=null,m&&g('"f"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)===
"S"){var v="S";a+=1}else v=null,m&&g('"S"');v===null&&(c.substr(a,1)==="s"?(v="s",a+=1):(v=null,m&&g('"s"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="E"){var C="E";a+=1}else C=null,m&&g('"E"');C===null&&(c.substr(a,1)==="e"?(C="e",a+=1):(C=null,m&&g('"e"')),C=C!==null?C:null);if(C!==null){if(c.substr(a,1)==="T"){var h="T";a+=1}else h=null,m&&g('"T"');h===null&&(c.substr(a,1)==="t"?(h="t",a+=1):(h=null,m&&g('"t"')),h=h!==null?h:null);if(h!==null){for(var k=[],i=r();i!==null;)k.push(i),i=
r();if(k!==null)if(i=ea(),i!==null){for(var Q=[],n=r();n!==null;)Q.push(n),n=r();Q!==null?e=[e,y,u,v,C,h,k,i,Q]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?{offset:parseInt(e[7].value)}:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[26] OffsetClause");z[b]={nextPos:a,result:f};return f}function wa(){var b="BindingsClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a;if(c.substr(a,
8)==="BINDINGS"){var f="BINDINGS";a+=8}else f=null,m&&g('"BINDINGS"');if(f!==null){for(var e=[],y=T();y!==null;)e.push(y),y=T();if(e!==null)if(c.substr(a,1)==="{"?(y="{",a+=1):(y=null,m&&g('"{"')),y!==null){var u=[],v=a;if(c.substr(a,1)==="("){var C="(";a+=1}else C=null,m&&g('"("');if(C!==null){var h=xa();if(h!==null)for(var k=[];h!==null;)k.push(h),h=xa();else k=null;k!==null?(c.substr(a,1)===")"?(h=")",a+=1):(h=null,m&&g('")"')),h!==null?C=[C,k,h]:(C=null,a=v)):(C=null,a=v)}else C=null,a=v;C!==
null?v=C:(v=ja(),v=v!==null?v:null);for(;v!==null;){u.push(v);v=a;c.substr(a,1)==="("?(C="(",a+=1):(C=null,m&&g('"("'));if(C!==null){h=xa();if(h!==null)for(k=[];h!==null;)k.push(h),h=xa();else k=null;k!==null?(c.substr(a,1)===")"?(h=")",a+=1):(h=null,m&&g('")"')),h!==null?C=[C,k,h]:(C=null,a=v)):(C=null,a=v)}else C=null,a=v;C!==null?v=C:(v=ja(),v=v!==null?v:null)}u!==null?(c.substr(a,1)==="}"?(v="}",a+=1):(v=null,m&&g('"}"')),v!==null?f=[f,e,y,u,v]:(f=null,a=j)):(f=null,a=j)}else f=null,a=j;else f=
null,a=j}else f=null,a=j;j=f!==null?f:"";(m=d)&&j===null&&g("[27] BindingsClause");z[b]={nextPos:a,result:j};return j}function xa(){var b="BindingValue@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=U();j===null&&(j=Ja(),j===null&&(j=Ka(),j===null&&(j=La(),j===null&&(c.substr(a,5)==="UNDEF"?(j="UNDEF",a+=5):(j=null,m&&g('"UNDEF"')),j=j!==null?j:null))));(m=d)&&j===null&&g("[28] BindingValue");z[b]={nextPos:a,result:j};return j}function ab(){var b="Update@"+a,d=z[b];if(d)return a=d.nextPos,
d.result;d=m;m=!1;var j=a,f=a,e=o();if(e!==null){for(var y=[],u=r();u!==null;)y.push(u),u=r();if(y!==null)if(u=ya(),u!==null){for(var v=a,C=[],h=r();h!==null;)C.push(h),h=r();if(C!==null)if(c.substr(a,1)===";"?(h=";",a+=1):(h=null,m&&g('";"')),h!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();k!==null?(i=ab(),i=i!==null?i:"",i!==null?C=[C,h,k,i]:(C=null,a=v)):(C=null,a=v)}else C=null,a=v;else C=null,a=v;v=C!==null?C:"";v!==null?e=[e,y,u,v]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=
null,a=f;f=e!==null?function(a,c,b){var e={token:"query",kind:"update"};e.prologue=a;a=[c];b.length!=null&&b[3]!=null&&b[3].units!=null&&(a=a.concat(b[3].units));e.units=a;return e}(e[0],e[2],e[3]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[30] Update");z[b]={nextPos:a,result:f};return f}function ya(){var c="Update1@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=zb();d===null&&(d=Cb(),d===null&&(d=Db(),d===null&&(d=Eb(),d===null&&(d=Fb(),d===null&&(d=Gb(),d===null&&(d=Ab(),d===null&&
(d=Bb(),d=d!==null?d:null)))))));(m=b)&&d===null&&g("[31] Update1");z[c]={nextPos:a,result:d};return d}function zb(){var b="Load@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="L"){var e="L";a+=1}else e=null,m&&g('"L"');e===null&&(c.substr(a,1)==="l"?(e="l",a+=1):(e=null,m&&g('"l"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="O"){var y="O";a+=1}else y=null,m&&g('"O"');y===null&&(c.substr(a,1)==="o"?(y="o",a+=1):(y=null,m&&g('"o"')),y=y!==null?y:null);
if(y!==null){if(c.substr(a,1)==="A"){var u="A";a+=1}else u=null,m&&g('"A"');u===null&&(c.substr(a,1)==="a"?(u="a",a+=1):(u=null,m&&g('"a"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="D"){var v="D";a+=1}else v=null,m&&g('"D"');v===null&&(c.substr(a,1)==="d"?(v="d",a+=1):(v=null,m&&g('"d"')),v=v!==null?v:null);if(v!==null){for(var C=[],h=r();h!==null;)C.push(h),h=r();if(C!==null)if(h=U(),h!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();if(k!==null){i=a;if(c.substr(a,1)==="I"){var n=
"I";a+=1}else n=null,m&&g('"I"');n===null&&(c.substr(a,1)==="i"?(n="i",a+=1):(n=null,m&&g('"i"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="N"){var o="N";a+=1}else o=null,m&&g('"N"');o===null&&(c.substr(a,1)==="n"?(o="n",a+=1):(o=null,m&&g('"n"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="T"){var q="T";a+=1}else q=null,m&&g('"T"');q===null&&(c.substr(a,1)==="t"?(q="t",a+=1):(q=null,m&&g('"t"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="O"){var A="O";a+=1}else A=null,
m&&g('"O"');A===null&&(c.substr(a,1)==="o"?(A="o",a+=1):(A=null,m&&g('"o"')),A=A!==null?A:null);if(A!==null){for(var t=[],w=r();w!==null;)t.push(w),w=r();t!==null?(w=Ma(),w!==null?n=[n,o,q,A,t,w]:(n=null,a=i)):(n=null,a=i)}else n=null,a=i}else n=null,a=i}else n=null,a=i}else n=null,a=i;i=n!==null?n:"";i!==null?e=[e,y,u,v,C,h,k,i]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c){var b={kind:"load",
token:"executableunit"};b.sourceGraph=a;b.destinyGraph=c[5];return b}(e[5],e[7]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[32] Load");z[b]={nextPos:a,result:f};return f}function Cb(){var b="Clear@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="C"){var e="C";a+=1}else e=null,m&&g('"C"');e===null&&(c.substr(a,1)==="c"?(e="c",a+=1):(e=null,m&&g('"c"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="L"){var y="L";a+=1}else y=null,m&&g('"L"');y===null&&
(c.substr(a,1)==="l"?(y="l",a+=1):(y=null,m&&g('"l"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="E"){var u="E";a+=1}else u=null,m&&g('"E"');u===null&&(c.substr(a,1)==="e"?(u="e",a+=1):(u=null,m&&g('"e"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="A"){var v="A";a+=1}else v=null,m&&g('"A"');v===null&&(c.substr(a,1)==="a"?(v="a",a+=1):(v=null,m&&g('"a"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="R"){var C="R";a+=1}else C=null,m&&g('"R"');C===null&&(c.substr(a,1)==="r"?
(C="r",a+=1):(C=null,m&&g('"r"')),C=C!==null?C:null);if(C!==null){for(var h=[],k=r();k!==null;)h.push(k),k=r();if(h!==null){k=a;if(c.substr(a,1)==="S"){var i="S";a+=1}else i=null,m&&g('"S"');i===null&&(c.substr(a,1)==="s"?(i="s",a+=1):(i=null,m&&g('"s"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="I"){var n="I";a+=1}else n=null,m&&g('"I"');n===null&&(c.substr(a,1)==="i"?(n="i",a+=1):(n=null,m&&g('"i"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="L"){var o="L";a+=1}else o=null,m&&
g('"L"');o===null&&(c.substr(a,1)==="l"?(o="l",a+=1):(o=null,m&&g('"l"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="E"){var q="E";a+=1}else q=null,m&&g('"E"');q===null&&(c.substr(a,1)==="e"?(q="e",a+=1):(q=null,m&&g('"e"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="N"){var A="N";a+=1}else A=null,m&&g('"N"');A===null&&(c.substr(a,1)==="n"?(A="n",a+=1):(A=null,m&&g('"n"')),A=A!==null?A:null);if(A!==null){if(c.substr(a,1)==="T"){var t="T";a+=1}else t=null,m&&g('"T"');t===null&&(c.substr(a,
1)==="t"?(t="t",a+=1):(t=null,m&&g('"t"')),t=t!==null?t:null);t!==null?i=[i,n,o,q,A,t]:(i=null,a=k)}else i=null,a=k}else i=null,a=k}else i=null,a=k}else i=null,a=k}else i=null,a=k;k=i!==null?i:"";if(k!==null){i=[];for(n=r();n!==null;)i.push(n),n=r();i!==null?(n=ib(),n!==null?e=[e,y,u,v,C,h,k,i,n]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={kind:"clear",token:"executableunit"};
c.destinyGraph=a;return c}(e[8]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[33] Clear");z[b]={nextPos:a,result:f};return f}function Db(){var b="Drop@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="D"){var e="D";a+=1}else e=null,m&&g('"D"');e===null&&(c.substr(a,1)==="d"?(e="d",a+=1):(e=null,m&&g('"d"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="R"){var y="R";a+=1}else y=null,m&&g('"R"');y===null&&(c.substr(a,1)==="r"?(y="r",a+=1):(y=null,m&&g('"r"')),
y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="O"){var u="O";a+=1}else u=null,m&&g('"O"');u===null&&(c.substr(a,1)==="o"?(u="o",a+=1):(u=null,m&&g('"o"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="P"){var v="P";a+=1}else v=null,m&&g('"P"');v===null&&(c.substr(a,1)==="p"?(v="p",a+=1):(v=null,m&&g('"p"')),v=v!==null?v:null);if(v!==null){for(var C=[],h=r();h!==null;)C.push(h),h=r();if(C!==null){h=a;if(c.substr(a,1)==="S"){var k="S";a+=1}else k=null,m&&g('"S"');k===null&&(c.substr(a,1)===
"s"?(k="s",a+=1):(k=null,m&&g('"s"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="I"){var i="I";a+=1}else i=null,m&&g('"I"');i===null&&(c.substr(a,1)==="i"?(i="i",a+=1):(i=null,m&&g('"i"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="L"){var n="L";a+=1}else n=null,m&&g('"L"');n===null&&(c.substr(a,1)==="l"?(n="l",a+=1):(n=null,m&&g('"l"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="E"){var o="E";a+=1}else o=null,m&&g('"E"');o===null&&(c.substr(a,1)==="e"?(o="e",a+=1):(o=null,
m&&g('"e"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="N"){var q="N";a+=1}else q=null,m&&g('"N"');q===null&&(c.substr(a,1)==="n"?(q="n",a+=1):(q=null,m&&g('"n"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="T"){var A="T";a+=1}else A=null,m&&g('"T"');A===null&&(c.substr(a,1)==="t"?(A="t",a+=1):(A=null,m&&g('"t"')),A=A!==null?A:null);A!==null?k=[k,i,n,o,q,A]:(k=null,a=h)}else k=null,a=h}else k=null,a=h}else k=null,a=h}else k=null,a=h}else k=null,a=h;h=k!==null?k:"";if(h!==null){k=
[];for(i=r();i!==null;)k.push(i),i=r();k!==null?(i=ib(),i!==null?e=[e,y,u,v,C,h,k,i]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={kind:"drop",token:"executableunit"};c.destinyGraph=a;return c}(e[7]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[34] Drop");z[b]={nextPos:a,result:f};return f}function Eb(){var b="Create@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,
1)==="C"){var e="C";a+=1}else e=null,m&&g('"C"');e===null&&(c.substr(a,1)==="c"?(e="c",a+=1):(e=null,m&&g('"c"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="R"){var y="R";a+=1}else y=null,m&&g('"R"');y===null&&(c.substr(a,1)==="r"?(y="r",a+=1):(y=null,m&&g('"r"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="E"){var u="E";a+=1}else u=null,m&&g('"E"');u===null&&(c.substr(a,1)==="e"?(u="e",a+=1):(u=null,m&&g('"e"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="A"){var v="A";a+=
1}else v=null,m&&g('"A"');v===null&&(c.substr(a,1)==="a"?(v="a",a+=1):(v=null,m&&g('"a"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="T"){var h="T";a+=1}else h=null,m&&g('"T"');h===null&&(c.substr(a,1)==="t"?(h="t",a+=1):(h=null,m&&g('"t"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="E"){var k="E";a+=1}else k=null,m&&g('"E"');k===null&&(c.substr(a,1)==="e"?(k="e",a+=1):(k=null,m&&g('"e"')),k=k!==null?k:null);if(k!==null){for(var i=[],n=r();n!==null;)i.push(n),n=r();if(i!==null){n=
a;if(c.substr(a,1)==="S"){var Q="S";a+=1}else Q=null,m&&g('"S"');Q===null&&(c.substr(a,1)==="s"?(Q="s",a+=1):(Q=null,m&&g('"s"')),Q=Q!==null?Q:null);if(Q!==null){if(c.substr(a,1)==="I"){var o="I";a+=1}else o=null,m&&g('"I"');o===null&&(c.substr(a,1)==="i"?(o="i",a+=1):(o=null,m&&g('"i"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="L"){var q="L";a+=1}else q=null,m&&g('"L"');q===null&&(c.substr(a,1)==="l"?(q="l",a+=1):(q=null,m&&g('"l"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)===
"E"){var A="E";a+=1}else A=null,m&&g('"E"');A===null&&(c.substr(a,1)==="e"?(A="e",a+=1):(A=null,m&&g('"e"')),A=A!==null?A:null);if(A!==null){if(c.substr(a,1)==="N"){var t="N";a+=1}else t=null,m&&g('"N"');t===null&&(c.substr(a,1)==="n"?(t="n",a+=1):(t=null,m&&g('"n"')),t=t!==null?t:null);if(t!==null){if(c.substr(a,1)==="T"){var w="T";a+=1}else w=null,m&&g('"T"');w===null&&(c.substr(a,1)==="t"?(w="t",a+=1):(w=null,m&&g('"t"')),w=w!==null?w:null);w!==null?Q=[Q,o,q,A,t,w]:(Q=null,a=n)}else Q=null,a=n}else Q=
null,a=n}else Q=null,a=n}else Q=null,a=n}else Q=null,a=n;n=Q!==null?Q:"";if(n!==null){Q=[];for(o=r();o!==null;)Q.push(o),o=r();Q!==null?(o=Ma(),o!==null?e=[e,y,u,v,h,k,i,n,Q,o]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={kind:"create",token:"executableunit"};c.destinyGraph=a;return c}(e[9]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[35] Create");z[b]={nextPos:a,
result:f};return f}function Fb(){var b="InsertData@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="I"){var e="I";a+=1}else e=null,m&&g('"I"');e===null&&(c.substr(a,1)==="i"?(e="i",a+=1):(e=null,m&&g('"i"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="N"){var y="N";a+=1}else y=null,m&&g('"N"');y===null&&(c.substr(a,1)==="n"?(y="n",a+=1):(y=null,m&&g('"n"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="S"){var u="S";a+=1}else u=null,m&&g('"S"');u===
null&&(c.substr(a,1)==="s"?(u="s",a+=1):(u=null,m&&g('"s"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var v="E";a+=1}else v=null,m&&g('"E"');v===null&&(c.substr(a,1)==="e"?(v="e",a+=1):(v=null,m&&g('"e"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="R"){var h="R";a+=1}else h=null,m&&g('"R"');h===null&&(c.substr(a,1)==="r"?(h="r",a+=1):(h=null,m&&g('"r"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="T"){var k="T";a+=1}else k=null,m&&g('"T"');k===null&&(c.substr(a,1)===
"t"?(k="t",a+=1):(k=null,m&&g('"t"')),k=k!==null?k:null);if(k!==null){for(var i=[],n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)==="D"?(n="D",a+=1):(n=null,m&&g('"D"')),n===null&&(c.substr(a,1)==="d"?(n="d",a+=1):(n=null,m&&g('"d"')),n=n!==null?n:null),n!==null){if(c.substr(a,1)==="A"){var o="A";a+=1}else o=null,m&&g('"A"');o===null&&(c.substr(a,1)==="a"?(o="a",a+=1):(o=null,m&&g('"a"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="T"){var q="T";a+=1}else q=null,m&&g('"T"');
q===null&&(c.substr(a,1)==="t"?(q="t",a+=1):(q=null,m&&g('"t"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="A"){var t="A";a+=1}else t=null,m&&g('"A"');t===null&&(c.substr(a,1)==="a"?(t="a",a+=1):(t=null,m&&g('"a"')),t=t!==null?t:null);if(t!==null){for(var A=[],w=r();w!==null;)A.push(w),w=r();A!==null?(w=jb(),w!==null?e=[e,y,u,v,h,k,i,n,o,q,t,A,w]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=
null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={kind:"insertdata",token:"executableunit"};c.quads=a;return c}(e[12]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[36] InsertData");z[b]={nextPos:a,result:f};return f}function Gb(){var b="DeleteData@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="D"){var e="D";a+=1}else e=null,m&&g('"D"');e===null&&(c.substr(a,1)==="d"?(e="d",a+=1):(e=null,m&&g('"d"')),e=e!==null?e:null);
if(e!==null){if(c.substr(a,1)==="E"){var y="E";a+=1}else y=null,m&&g('"E"');y===null&&(c.substr(a,1)==="e"?(y="e",a+=1):(y=null,m&&g('"e"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="L"){var u="L";a+=1}else u=null,m&&g('"L"');u===null&&(c.substr(a,1)==="l"?(u="l",a+=1):(u=null,m&&g('"l"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var v="E";a+=1}else v=null,m&&g('"E"');v===null&&(c.substr(a,1)==="e"?(v="e",a+=1):(v=null,m&&g('"e"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,
1)==="T"){var h="T";a+=1}else h=null,m&&g('"T"');h===null&&(c.substr(a,1)==="t"?(h="t",a+=1):(h=null,m&&g('"t"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="E"){var k="E";a+=1}else k=null,m&&g('"E"');k===null&&(c.substr(a,1)==="e"?(k="e",a+=1):(k=null,m&&g('"e"')),k=k!==null?k:null);if(k!==null){for(var i=[],n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)==="D"?(n="D",a+=1):(n=null,m&&g('"D"')),n===null&&(c.substr(a,1)==="d"?(n="d",a+=1):(n=null,m&&g('"d"')),n=n!==null?n:null),
n!==null){if(c.substr(a,1)==="A"){var o="A";a+=1}else o=null,m&&g('"A"');o===null&&(c.substr(a,1)==="a"?(o="a",a+=1):(o=null,m&&g('"a"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="T"){var q="T";a+=1}else q=null,m&&g('"T"');q===null&&(c.substr(a,1)==="t"?(q="t",a+=1):(q=null,m&&g('"t"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="A"){var t="A";a+=1}else t=null,m&&g('"A"');t===null&&(c.substr(a,1)==="a"?(t="a",a+=1):(t=null,m&&g('"a"')),t=t!==null?t:null);if(t!==null){var A=jb();
A!==null?e=[e,y,u,v,h,k,i,n,o,q,t,A]:(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={kind:"deletedata",token:"executableunit"};c.quads=a;return c}(e[11]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[37] DeleteData");z[b]={nextPos:a,result:f};return f}function Ab(){var b="DeleteWhere@"+a,d=z[b];if(d)return a=d.nextPos,d.result;
d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="D"){var e="D";a+=1}else e=null,m&&g('"D"');e===null&&(c.substr(a,1)==="d"?(e="d",a+=1):(e=null,m&&g('"d"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="E"){var y="E";a+=1}else y=null,m&&g('"E"');y===null&&(c.substr(a,1)==="e"?(y="e",a+=1):(y=null,m&&g('"e"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="L"){var u="L";a+=1}else u=null,m&&g('"L"');u===null&&(c.substr(a,1)==="l"?(u="l",a+=1):(u=null,m&&g('"l"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,
1)==="E"){var v="E";a+=1}else v=null,m&&g('"E"');v===null&&(c.substr(a,1)==="e"?(v="e",a+=1):(v=null,m&&g('"e"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="T"){var h="T";a+=1}else h=null,m&&g('"T"');h===null&&(c.substr(a,1)==="t"?(h="t",a+=1):(h=null,m&&g('"t"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="E"){var k="E";a+=1}else k=null,m&&g('"E"');k===null&&(c.substr(a,1)==="e"?(k="e",a+=1):(k=null,m&&g('"e"')),k=k!==null?k:null);if(k!==null){for(var i=[],n=r();n!==null;)i.push(n),
n=r();if(i!==null)if(c.substr(a,1)==="W"?(n="W",a+=1):(n=null,m&&g('"W"')),n===null&&(c.substr(a,1)==="w"?(n="w",a+=1):(n=null,m&&g('"w"')),n=n!==null?n:null),n!==null){if(c.substr(a,1)==="H"){var o="H";a+=1}else o=null,m&&g('"H"');o===null&&(c.substr(a,1)==="h"?(o="h",a+=1):(o=null,m&&g('"h"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="E"){var q="E";a+=1}else q=null,m&&g('"E"');q===null&&(c.substr(a,1)==="e"?(q="e",a+=1):(q=null,m&&g('"e"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,
1)==="R"){var t="R";a+=1}else t=null,m&&g('"R"');t===null&&(c.substr(a,1)==="r"?(t="r",a+=1):(t=null,m&&g('"r"')),t=t!==null?t:null);if(t!==null){if(c.substr(a,1)==="E"){var A="E";a+=1}else A=null,m&&g('"E"');A===null&&(c.substr(a,1)==="e"?(A="e",a+=1):(A=null,m&&g('"e"')),A=A!==null?A:null);if(A!==null){for(var w=[],x=r();x!==null;)w.push(x),x=r();w!==null?(x=Z(),x!==null?e=[e,y,u,v,h,k,i,n,o,q,t,A,w,x]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=
null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={kind:"modify"};c.pattern=a;c["with"]=null;c.using=null;for(var b=[],a=a.patterns[0],a=a.triplesContext==null&&a.patterns!=null?a.patterns[0].triplesContext:a.triplesContext,e=0;e<a.length;e++){var f={},g=a[e];f.subject=g.subject;f.predicate=g.predicate;f.object=g.object;f.graph=g.graph;b.push(f)}c["delete"]=b;return c}(e[13]):null;f===null&&(f=null,
a=j);(m=d)&&f===null&&g("[38] DeleteWhere");z[b]={nextPos:a,result:f};return f}function Bb(){var b="Modify@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=a;if(c.substr(a,1)==="W"){var y="W";a+=1}else y=null,m&&g('"W"');y===null&&(c.substr(a,1)==="w"?(y="w",a+=1):(y=null,m&&g('"w"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="I"){var u="I";a+=1}else u=null,m&&g('"I"');u===null&&(c.substr(a,1)==="i"?(u="i",a+=1):(u=null,m&&g('"i"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,
1)==="T"){var v="T";a+=1}else v=null,m&&g('"T"');v===null&&(c.substr(a,1)==="t"?(v="t",a+=1):(v=null,m&&g('"t"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="H"){var h="H";a+=1}else h=null,m&&g('"H"');h===null&&(c.substr(a,1)==="h"?(h="h",a+=1):(h=null,m&&g('"h"')),h=h!==null?h:null);if(h!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();k!==null?(i=U(),i!==null?y=[y,u,v,h,k,i]:(y=null,a=e)):(y=null,a=e)}else y=null,a=e}else y=null,a=e}else y=null,a=e}else y=null,a=e;e=y!==null?y:"";if(e!==
null){y=[];for(u=r();u!==null;)y.push(u),u=r();if(y!==null){u=a;v=Hb();if(v!==null){h=[];for(k=r();k!==null;)h.push(k),k=r();h!==null?(k=cb(),k=k!==null?k:"",k!==null?v=[v,h,k]:(v=null,a=u)):(v=null,a=u)}else v=null,a=u;v!==null?u=v:(u=cb(),u=u!==null?u:null);if(u!==null){v=[];for(h=r();h!==null;)v.push(h),h=r();if(v!==null){h=[];for(k=kb();k!==null;)h.push(k),k=kb();if(h!==null){k=[];for(i=r();i!==null;)k.push(i),i=r();if(k!==null)if(c.substr(a,1)==="W"?(i="W",a+=1):(i=null,m&&g('"W"')),i===null&&
(c.substr(a,1)==="w"?(i="w",a+=1):(i=null,m&&g('"w"')),i=i!==null?i:null),i!==null){if(c.substr(a,1)==="H"){var n="H";a+=1}else n=null,m&&g('"H"');n===null&&(c.substr(a,1)==="h"?(n="h",a+=1):(n=null,m&&g('"h"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="E"){var o="E";a+=1}else o=null,m&&g('"E"');o===null&&(c.substr(a,1)==="e"?(o="e",a+=1):(o=null,m&&g('"e"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="R"){var q="R";a+=1}else q=null,m&&g('"R"');q===null&&(c.substr(a,1)==="r"?(q=
"r",a+=1):(q=null,m&&g('"r"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="E"){var t="E";a+=1}else t=null,m&&g('"E"');t===null&&(c.substr(a,1)==="e"?(t="e",a+=1):(t=null,m&&g('"e"')),t=t!==null?t:null);if(t!==null){for(var A=[],w=r();w!==null;)A.push(w),w=r();if(A!==null)if(w=Z(),w!==null){for(var x=[],B=r();B!==null;)x.push(B),B=r();x!==null?e=[e,y,u,v,h,k,i,n,o,q,t,A,w,x]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=
null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c,b,e){var f={kind:"modify"};f["with"]=a!=""?a[5]:null;c.length===3&&c[2]===""?(f["delete"]=c[0],f.insert=null):c.length===3&&c[0].length!=null&&c[1].length!=null&&c[2].length!=null?(f["delete"]=c[0],f.insert=c[2]):(f.insert=c,f["delete"]=null);b!=""&&(f.using=b);f.pattern=e;return f}(e[0],e[2],e[4],e[12]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[39] Modify");z[b]=
{nextPos:a,result:f};return f}function Hb(){var b="DeleteClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="D"){var e="D";a+=1}else e=null,m&&g('"D"');e===null&&(c.substr(a,1)==="d"?(e="d",a+=1):(e=null,m&&g('"d"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="E"){var y="E";a+=1}else y=null,m&&g('"E"');y===null&&(c.substr(a,1)==="e"?(y="e",a+=1):(y=null,m&&g('"e"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="L"){var u="L";a+=1}else u=null,m&&
g('"L"');u===null&&(c.substr(a,1)==="l"?(u="l",a+=1):(u=null,m&&g('"l"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var v="E";a+=1}else v=null,m&&g('"E"');v===null&&(c.substr(a,1)==="e"?(v="e",a+=1):(v=null,m&&g('"e"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="T"){var h="T";a+=1}else h=null,m&&g('"T"');h===null&&(c.substr(a,1)==="t"?(h="t",a+=1):(h=null,m&&g('"t"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="E"){var k="E";a+=1}else k=null,m&&g('"E"');k===null&&(c.substr(a,
1)==="e"?(k="e",a+=1):(k=null,m&&g('"e"')),k=k!==null?k:null);if(k!==null){var i=lb();i!==null?e=[e,y,u,v,h,k,i]:(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?e[6]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[40] DeleteClause");z[b]={nextPos:a,result:f};return f}function cb(){var b="InsertClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="I"){var e="I";a+=1}else e=null,m&&g('"I"');
e===null&&(c.substr(a,1)==="i"?(e="i",a+=1):(e=null,m&&g('"i"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="N"){var h="N";a+=1}else h=null,m&&g('"N"');h===null&&(c.substr(a,1)==="n"?(h="n",a+=1):(h=null,m&&g('"n"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="S"){var u="S";a+=1}else u=null,m&&g('"S"');u===null&&(c.substr(a,1)==="s"?(u="s",a+=1):(u=null,m&&g('"s"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var v="E";a+=1}else v=null,m&&g('"E"');v===null&&(c.substr(a,
1)==="e"?(v="e",a+=1):(v=null,m&&g('"e"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="R"){var k="R";a+=1}else k=null,m&&g('"R"');k===null&&(c.substr(a,1)==="r"?(k="r",a+=1):(k=null,m&&g('"r"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="T"){var i="T";a+=1}else i=null,m&&g('"T"');i===null&&(c.substr(a,1)==="t"?(i="t",a+=1):(i=null,m&&g('"t"')),i=i!==null?i:null);if(i!==null){var s=lb();s!==null?e=[e,h,u,v,k,i,s]:(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=
null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?e[6]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[41] InsertClause");z[b]={nextPos:a,result:f};return f}function kb(){var b="UsingClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],h=r();h!==null;)e.push(h),h=r();if(e!==null)if(c.substr(a,1)==="U"?(h="U",a+=1):(h=null,m&&g('"U"')),h===null&&(c.substr(a,1)==="u"?(h="u",a+=1):(h=null,m&&g('"u"')),h=h!==null?h:null),h!==null){if(c.substr(a,1)==="S"){var u="S";a+=1}else u=
null,m&&g('"S"');u===null&&(c.substr(a,1)==="s"?(u="s",a+=1):(u=null,m&&g('"s"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="I"){var v="I";a+=1}else v=null,m&&g('"I"');v===null&&(c.substr(a,1)==="i"?(v="i",a+=1):(v=null,m&&g('"i"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="N"){var k="N";a+=1}else k=null,m&&g('"N"');k===null&&(c.substr(a,1)==="n"?(k="n",a+=1):(k=null,m&&g('"n"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="G"){var i="G";a+=1}else i=null,m&&g('"G"');i===
null&&(c.substr(a,1)==="g"?(i="g",a+=1):(i=null,m&&g('"g"')),i=i!==null?i:null);if(i!==null){for(var s=[],n=r();n!==null;)s.push(n),n=r();if(s!==null){n=U();if(n===null){n=a;if(c.substr(a,1)==="N"){var o="N";a+=1}else o=null,m&&g('"N"');o===null&&(c.substr(a,1)==="n"?(o="n",a+=1):(o=null,m&&g('"n"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="A"){var q="A";a+=1}else q=null,m&&g('"A"');q===null&&(c.substr(a,1)==="a"?(q="a",a+=1):(q=null,m&&g('"a"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,
1)==="M"){var t="M";a+=1}else t=null,m&&g('"M"');t===null&&(c.substr(a,1)==="m"?(t="m",a+=1):(t=null,m&&g('"m"')),t=t!==null?t:null);if(t!==null){if(c.substr(a,1)==="E"){var A="E";a+=1}else A=null,m&&g('"E"');A===null&&(c.substr(a,1)==="e"?(A="e",a+=1):(A=null,m&&g('"e"')),A=A!==null?A:null);if(A!==null){if(c.substr(a,1)==="D"){var w="D";a+=1}else w=null,m&&g('"D"');w===null&&(c.substr(a,1)==="d"?(w="d",a+=1):(w=null,m&&g('"d"')),w=w!==null?w:null);if(w!==null){for(var x=[],B=r();B!==null;)x.push(B),
B=r();x!==null?(B=U(),B!==null?o=[o,q,t,A,w,x,B]:(o=null,a=n)):(o=null,a=n)}else o=null,a=n}else o=null,a=n}else o=null,a=n}else o=null,a=n}else o=null,a=n;n=o!==null?o:null}n!==null?e=[e,h,u,v,k,i,s,n]:(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?e[7].length!=null?{kind:"named",uri:e[7][6]}:{kind:"default",uri:e[7]}:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[42] UsingClause");z[b]={nextPos:a,result:f};
return f}function Ma(){var b="GraphRef@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="G"){var e="G";a+=1}else e=null,m&&g('"G"');e===null&&(c.substr(a,1)==="g"?(e="g",a+=1):(e=null,m&&g('"g"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="R"){var h="R";a+=1}else h=null,m&&g('"R"');h===null&&(c.substr(a,1)==="r"?(h="r",a+=1):(h=null,m&&g('"r"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="A"){var u="A";a+=1}else u=null,m&&g('"A"');u===null&&(c.substr(a,
1)==="a"?(u="a",a+=1):(u=null,m&&g('"a"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="P"){var v="P";a+=1}else v=null,m&&g('"P"');v===null&&(c.substr(a,1)==="p"?(v="p",a+=1):(v=null,m&&g('"p"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="H"){var k="H";a+=1}else k=null,m&&g('"H"');k===null&&(c.substr(a,1)==="h"?(k="h",a+=1):(k=null,m&&g('"h"')),k=k!==null?k:null);if(k!==null){for(var i=[],s=r();s!==null;)i.push(s),s=r();i!==null?(s=U(),s!==null?e=[e,h,u,v,k,i,s]:(e=null,a=f)):(e=null,
a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?e[6]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[43] GraphRef");z[b]={nextPos:a,result:f};return f}function ib(){var b="GraphRefAll@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=Ma(),f=f!==null?f:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;if(c.substr(a,1)==="D"){var e="D";a+=1}else e=null,m&&g('"D"');e===null&&(c.substr(a,1)==="d"?(e="d",a+=1):(e=null,m&&g('"d"')),e=e!==
null?e:null);if(e!==null){if(c.substr(a,1)==="E"){var h="E";a+=1}else h=null,m&&g('"E"');h===null&&(c.substr(a,1)==="e"?(h="e",a+=1):(h=null,m&&g('"e"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="F"){var u="F";a+=1}else u=null,m&&g('"F"');u===null&&(c.substr(a,1)==="f"?(u="f",a+=1):(u=null,m&&g('"f"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="A"){var v="A";a+=1}else v=null,m&&g('"A"');v===null&&(c.substr(a,1)==="a"?(v="a",a+=1):(v=null,m&&g('"a"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,
1)==="U"){var k="U";a+=1}else k=null,m&&g('"U"');k===null&&(c.substr(a,1)==="u"?(k="u",a+=1):(k=null,m&&g('"u"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="L"){var i="L";a+=1}else i=null,m&&g('"L"');i===null&&(c.substr(a,1)==="l"?(i="l",a+=1):(i=null,m&&g('"l"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="T"){var s="T";a+=1}else s=null,m&&g('"T"');s===null&&(c.substr(a,1)==="t"?(s="t",a+=1):(s=null,m&&g('"t"')),s=s!==null?s:null);s!==null?e=[e,h,u,v,k,i,s]:(e=null,a=f)}else e=null,
a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?"default":null;f===null&&(f=null,a=j);f!==null?j=f:(f=j=a,c.substr(a,1)==="N"?(e="N",a+=1):(e=null,m&&g('"N"')),e===null&&(c.substr(a,1)==="n"?(e="n",a+=1):(e=null,m&&g('"n"')),e=e!==null?e:null),e!==null?(c.substr(a,1)==="A"?(h="A",a+=1):(h=null,m&&g('"A"')),h===null&&(c.substr(a,1)==="a"?(h="a",a+=1):(h=null,m&&g('"a"')),h=h!==null?h:null),h!==null?(c.substr(a,1)==="M"?(u="M",a+=1):(u=null,m&&g('"M"')),
u===null&&(c.substr(a,1)==="m"?(u="m",a+=1):(u=null,m&&g('"m"')),u=u!==null?u:null),u!==null?(c.substr(a,1)==="E"?(v="E",a+=1):(v=null,m&&g('"E"')),v===null&&(c.substr(a,1)==="e"?(v="e",a+=1):(v=null,m&&g('"e"')),v=v!==null?v:null),v!==null?(c.substr(a,1)==="D"?(k="D",a+=1):(k=null,m&&g('"D"')),k===null&&(c.substr(a,1)==="d"?(k="d",a+=1):(k=null,m&&g('"d"')),k=k!==null?k:null),k!==null?e=[e,h,u,v,k]:(e=null,a=f)):(e=null,a=f)):(e=null,a=f)):(e=null,a=f)):(e=null,a=f),f=e!==null?"named":null,f===null&&
(f=null,a=j),f!==null?j=f:(f=j=a,c.substr(a,1)==="A"?(e="A",a+=1):(e=null,m&&g('"A"')),e===null&&(c.substr(a,1)==="a"?(e="a",a+=1):(e=null,m&&g('"a"')),e=e!==null?e:null),e!==null?(c.substr(a,1)==="L"?(h="L",a+=1):(h=null,m&&g('"L"')),h===null&&(c.substr(a,1)==="l"?(h="l",a+=1):(h=null,m&&g('"l"')),h=h!==null?h:null),h!==null?(c.substr(a,1)==="L"?(u="L",a+=1):(u=null,m&&g('"L"')),u===null&&(c.substr(a,1)==="l"?(u="l",a+=1):(u=null,m&&g('"l"')),u=u!==null?u:null),u!==null?e=[e,h,u]:(e=null,a=f)):(e=
null,a=f)):(e=null,a=f),f=e!==null?"all":null,f===null&&(f=null,a=j),j=f!==null?f:null))}(m=d)&&j===null&&g("[44] GraphRefAll");z[b]={nextPos:a,result:j};return j}function lb(){var b="QuadPattern@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],h=r();h!==null;)e.push(h),h=r();if(e!==null)if(c.substr(a,1)==="{"?(h="{",a+=1):(h=null,m&&g('"{"')),h!==null){for(var u=[],v=r();v!==null;)u.push(v),v=r();if(u!==null)if(v=mb(),v!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();
if(k!==null)if(c.substr(a,1)==="}"?(i="}",a+=1):(i=null,m&&g('"}"')),i!==null){for(var s=[],n=r();n!==null;)s.push(n),n=r();s!==null?e=[e,h,u,v,k,i,s]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?e[3].quadsContext:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[45] QuadPattern");z[b]={nextPos:a,result:f};return f}function jb(){var b="QuadData@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],h=r();h!==
null;)e.push(h),h=r();if(e!==null)if(c.substr(a,1)==="{"?(h="{",a+=1):(h=null,m&&g('"{"')),h!==null){for(var u=[],v=r();v!==null;)u.push(v),v=r();if(u!==null)if(v=mb(),v!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();if(k!==null)if(c.substr(a,1)==="}"?(i="}",a+=1):(i=null,m&&g('"}"')),i!==null){for(var s=[],n=r();n!==null;)s.push(n),n=r();s!==null?e=[e,h,u,v,k,i,s]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?e[3].quadsContext:
null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[46] QuadData");z[b]={nextPos:a,result:f};return f}function mb(){var b="Quads@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=pa(),e=e!==null?e:"";if(e!==null){var h=[],u=a,v=nb();if(v!==null){if(c.substr(a,1)==="."){var k=".";a+=1}else k=null,m&&g('"."');k=k!==null?k:"";if(k!==null){var i=pa(),i=i!==null?i:"";i!==null?v=[v,k,i]:(v=null,a=u)}else v=null,a=u}else v=null,a=u;for(;v!==null;)h.push(v),u=a,v=nb(),v!==null?(c.substr(a,1)===
"."?(k=".",a+=1):(k=null,m&&g('"."')),k=k!==null?k:"",k!==null?(i=pa(),i=i!==null?i:"",i!==null?v=[v,k,i]:(v=null,a=u)):(v=null,a=u)):(v=null,a=u);h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){var b=[];if(a.triplesContext!=null&&a.triplesContext!=null)for(var e=0;e<a.triplesContext.length;e++){var f=a.triplesContext[e];f.graph=null;b.push(f)}if(c&&c.length>0&&c[0].length>0&&(b=b.concat(c[0][0].quadsContext),c[0][2]!=null&&c[0][2].triplesContext!=null))for(e=0;e<c[0][2].triplesContext.length;e++)f=
c[0][2].triplesContext[e],f.graph=null,b.push(f);return{token:"quads",quadsContext:b}}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[47] Quads");z[b]={nextPos:a,result:f};return f}function nb(){var b="QuadsNotTriples@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],h=r();h!==null;)e.push(h),h=r();if(e!==null)if(c.substr(a,1)==="G"?(h="G",a+=1):(h=null,m&&g('"G"')),h===null&&(c.substr(a,1)==="g"?(h="g",a+=1):(h=null,m&&g('"g"')),h=h!==null?h:null),h!==null){if(c.substr(a,
1)==="R"){var u="R";a+=1}else u=null,m&&g('"R"');u===null&&(c.substr(a,1)==="r"?(u="r",a+=1):(u=null,m&&g('"r"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="A"){var v="A";a+=1}else v=null,m&&g('"A"');v===null&&(c.substr(a,1)==="a"?(v="a",a+=1):(v=null,m&&g('"a"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="P"){var k="P";a+=1}else k=null,m&&g('"P"');k===null&&(c.substr(a,1)==="p"?(k="p",a+=1):(k=null,m&&g('"p"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="H"){var i="H";a+=
1}else i=null,m&&g('"H"');i===null&&(c.substr(a,1)==="h"?(i="h",a+=1):(i=null,m&&g('"h"')),i=i!==null?i:null);if(i!==null){for(var s=[],n=r();n!==null;)s.push(n),n=r();if(s!==null)if(n=ia(),n!==null){for(var o=[],q=r();q!==null;)o.push(q),q=r();if(o!==null)if(c.substr(a,1)==="{"?(q="{",a+=1):(q=null,m&&g('"{"')),q!==null){for(var t=[],A=r();A!==null;)t.push(A),A=r();if(t!==null)if(A=pa(),A=A!==null?A:"",A!==null){for(var w=[],x=r();x!==null;)w.push(x),x=r();if(w!==null)if(c.substr(a,1)==="}"?(x="}",
a+=1):(x=null,m&&g('"}"')),x!==null){for(var B=[],D=r();D!==null;)B.push(D),D=r();B!==null?e=[e,h,u,v,k,i,s,n,o,q,t,A,w,x,B]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){for(var b=[],e=0;e<c.triplesContext.length;e++){var f=c.triplesContext[e];f.graph=a;b.push(f)}return{token:"quadsnottriples",
quadsContext:b}}(e[7],e[11]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[48] QuadsNotTriples");z[b]={nextPos:a,result:f};return f}function pa(){var b="TriplesTemplate@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=ob();if(e!==null){for(var h=a,u=[],v=r();v!==null;)u.push(v),v=r();if(u!==null)if(c.substr(a,1)==="."?(v=".",a+=1):(v=null,m&&g('"."')),v!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();k!==null?(i=pa(),i=i!==null?i:"",i!==null?u=[u,v,k,i]:(u=null,a=h)):(u=
null,a=h)}else u=null,a=h;else u=null,a=h;h=u!==null?u:"";h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){var b=a.triplesContext;typeof c==="object"&&c.length!=null&&c[3].triplesContext!=null&&(b=b.concat(c[3].triplesContext));return{token:"triplestemplate",triplesContext:b}}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[49] TriplesTemplate");z[b]={nextPos:a,result:f};return f}function Z(){var b="GroupGraphPattern@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=
m;m=!1;var j=a,f=a;if(c.substr(a,1)==="{"){var e="{";a+=1}else e=null,m&&g('"{"');if(e!==null){for(var h=[],u=r();u!==null;)h.push(u),u=r();if(h!==null)if(u=H(),u!==null){for(var v=[],k=r();k!==null;)v.push(k),k=r();v!==null?(c.substr(a,1)==="}"?(k="}",a+=1):(k=null,m&&g('"}"')),k!==null?e=[e,h,u,v,k]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?e[2]:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,1)==="{"?(e="{",a+=1):(e=null,m&&g('"{"'));
if(e!==null){h=[];for(u=r();u!==null;)h.push(u),u=r();if(h!==null)if(u=Kb(),u!==null){v=[];for(k=r();k!==null;)v.push(k),k=r();v!==null?(c.substr(a,1)==="}"?(k="}",a+=1):(k=null,m&&g('"}"')),k!==null?e=[e,h,u,v,k]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?e[2]:null;f===null&&(f=null,a=j);j=f!==null?f:null}(m=d)&&j===null&&g("[50] GroupGraphPattern");z[b]={nextPos:a,result:j};return j}function Kb(){var b="GroupGraphPatternSub@"+a,d=z[b];if(d)return a=d.nextPos,
d.result;d=m;m=!1;var j=a,f=a,e=oa(),e=e!==null?e:"";if(e!==null){for(var h=[],u=r();u!==null;)h.push(u),u=r();if(h!==null){var u=[],v=a,k=pb();if(k!==null){for(var i=[],s=r();s!==null;)i.push(s),s=r();if(i!==null)if(c.substr(a,1)==="."?(s=".",a+=1):(s=null,m&&g('"."')),s=s!==null?s:"",s!==null){for(var n=[],o=r();o!==null;)n.push(o),o=r();n!==null?(o=oa(),o=o!==null?o:"",o!==null?k=[k,i,s,n,o]:(k=null,a=v)):(k=null,a=v)}else k=null,a=v;else k=null,a=v}else k=null,a=v;for(;k!==null;)if(u.push(k),
v=a,k=pb(),k!==null){i=[];for(s=r();s!==null;)i.push(s),s=r();if(i!==null)if(c.substr(a,1)==="."?(s=".",a+=1):(s=null,m&&g('"."')),s=s!==null?s:"",s!==null){n=[];for(o=r();o!==null;)n.push(o),o=r();n!==null?(o=oa(),o=o!==null?o:"",o!==null?k=[k,i,s,n,o]:(k=null,a=v)):(k=null,a=v)}else k=null,a=v;else k=null,a=v}else k=null,a=v;u!==null?e=[e,h,u]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c){var b=[];a!=null&&a!=[]&&b.push(a);for(var e=0;e<c.length;e++)for(var f=0;f<c[e].length;f++)c[e][f].token!=
null&&b.push(c[e][f]);for(var g=[],d=[],m=[],e=0;e<b.length;e++)if(b[e].token!="triplespattern"&&b[e].token!="filter"){if(d.length!=0||m.length!=0){for(var j=[],f=0;f<d.length;f++)j=j.concat(d[f].triplesContext);j.length>0&&g.push({token:"basicgraphpattern",triplesContext:j});d=[]}g.push(b[e])}else b[e].token==="triplespattern"?d.push(b[e]):m.push(b[e]);if(d.length!=0||m.length!=0){j=[];for(f=0;f<d.length;f++)j=j.concat(d[f].triplesContext);j.length>0&&g.push({token:"basicgraphpattern",triplesContext:j})}return{token:"groupgraphpattern",
patterns:g,filters:m}}(e[0],e[2]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[51] GroupGraphPatternSub");z[b]={nextPos:a,result:f};return f}function oa(){var b="TriplesBlock@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=Lb();if(e!==null){for(var h=a,u=[],v=r();v!==null;)u.push(v),v=r();if(u!==null)if(c.substr(a,1)==="."?(v=".",a+=1):(v=null,m&&g('"."')),v!==null){var k=oa(),k=k!==null?k:"";k!==null?u=[u,v,k]:(u=null,a=h)}else u=null,a=h;else u=null,a=h;h=u!==null?u:"";h!==
null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){var b=a.triplesContext;typeof c==="object"&&c.length!=null&&c[2].triplesContext!=null&&(b=b.concat(c[2].triplesContext));return{token:"triplespattern",triplesContext:b}}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[54] TriplesBlock");z[b]={nextPos:a,result:f};return f}function pb(){var c="GraphPatternNotTriples@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=Mb();d===null&&(d=Nb(),d===null&&(d=Ob(),d===null&&
(d=Pb(),d===null&&(d=Qb(),d===null&&(d=Rb(),d=d!==null?d:null)))));(m=b)&&d===null&&g("[53] GraphPatternNotTriples");z[c]={nextPos:a,result:d};return d}function Nb(){var b="OptionalGraphPattern@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],h=r();h!==null;)e.push(h),h=r();if(e!==null)if(c.substr(a,8)==="OPTIONAL"?(h="OPTIONAL",a+=8):(h=null,m&&g('"OPTIONAL"')),h!==null){for(var u=[],v=r();v!==null;)u.push(v),v=r();u!==null?(v=Z(),v!==null?e=[e,h,u,v]:(e=null,a=f)):(e=null,
a=f)}else e=null,a=f;else e=null,a=f;f=e!==null?{token:"optionalgraphpattern",value:e[3]}:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[54] OptionalGraphPattern");z[b]={nextPos:a,result:f};return f}function Pb(){var b="GraphGraphPattern@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],h=r();h!==null;)e.push(h),h=r();if(e!==null)if(c.substr(a,1)==="G"?(h="G",a+=1):(h=null,m&&g('"G"')),h===null&&(c.substr(a,1)==="g"?(h="g",a+=1):(h=null,m&&g('"g"')),h=h!==null?h:null),h!==
null){if(c.substr(a,1)==="R"){var u="R";a+=1}else u=null,m&&g('"R"');u===null&&(c.substr(a,1)==="r"?(u="r",a+=1):(u=null,m&&g('"r"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="A"){var v="A";a+=1}else v=null,m&&g('"A"');v===null&&(c.substr(a,1)==="a"?(v="a",a+=1):(v=null,m&&g('"a"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="P"){var k="P";a+=1}else k=null,m&&g('"P"');k===null&&(c.substr(a,1)==="p"?(k="p",a+=1):(k=null,m&&g('"p"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)===
"H"){var i="H";a+=1}else i=null,m&&g('"H"');i===null&&(c.substr(a,1)==="h"?(i="h",a+=1):(i=null,m&&g('"h"')),i=i!==null?i:null);if(i!==null){for(var s=[],n=r();n!==null;)s.push(n),n=r();if(s!==null)if(n=ia(),n!==null){for(var o=[],q=r();q!==null;)o.push(q),q=r();o!==null?(q=Z(),q!==null?e=[e,h,u,v,k,i,s,n,o,q]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){for(var b=
0;b<c.patterns.length;b++)for(var e=c.patterns[b],f=0;f<e.triplesContext.length;f++)e.triplesContext[f].graph=a;c.token="groupgraphpattern";return c}(e[7],e[9]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[55] GraphGraphPattern");z[b]={nextPos:a,result:f};return f}function Qb(){var b="ServiceGraphPattern@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,7)==="SERVICE"){var e="SERVICE";a+=7}else e=null,m&&g('"SERVICE"');if(e!==null){var h=ia();if(h!==null){var u=Z();
u!==null?e=[e,h,u]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;f=e!==null?{token:"servicegraphpattern",status:"todo",value:[e[1],e[2]]}:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[56] ServiceGraphPattern");z[b]={nextPos:a,result:f};return f}function Ob(){var b="MinusGraphPattern@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,5)==="MINUS"){var e="MINUS";a+=5}else e=null,m&&g('"MINUS"');if(e!==null){var h=Z();h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==
null?{token:"minusgraphpattern",status:"todo",value:e[1]}:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[57] MinusGraphPattern");z[b]={nextPos:a,result:f};return f}function Mb(){var b="GroupOrUnionGraphPattern@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=Z();if(e!==null){for(var h=[],u=a,v=[],k=r();k!==null;)v.push(k),k=r();if(v!==null)if(c.substr(a,1)==="U"?(k="U",a+=1):(k=null,m&&g('"U"')),k===null&&(c.substr(a,1)==="u"?(k="u",a+=1):(k=null,m&&g('"u"')),k=k!==null?k:null),
k!==null){if(c.substr(a,1)==="N"){var i="N";a+=1}else i=null,m&&g('"N"');i===null&&(c.substr(a,1)==="n"?(i="n",a+=1):(i=null,m&&g('"n"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="I"){var s="I";a+=1}else s=null,m&&g('"I"');s===null&&(c.substr(a,1)==="i"?(s="i",a+=1):(s=null,m&&g('"i"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="O"){var n="O";a+=1}else n=null,m&&g('"O"');n===null&&(c.substr(a,1)==="o"?(n="o",a+=1):(n=null,m&&g('"o"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,
1)==="N"){var o="N";a+=1}else o=null,m&&g('"N"');o===null&&(c.substr(a,1)==="n"?(o="n",a+=1):(o=null,m&&g('"n"')),o=o!==null?o:null);if(o!==null){for(var q=[],t=r();t!==null;)q.push(t),t=r();q!==null?(t=Z(),t!==null?v=[v,k,i,s,n,o,q,t]:(v=null,a=u)):(v=null,a=u)}else v=null,a=u}else v=null,a=u}else v=null,a=u}else v=null,a=u}else v=null,a=u;else v=null,a=u;for(;v!==null;){h.push(v);u=a;v=[];for(k=r();k!==null;)v.push(k),k=r();if(v!==null)if(c.substr(a,1)==="U"?(k="U",a+=1):(k=null,m&&g('"U"')),k===
null&&(c.substr(a,1)==="u"?(k="u",a+=1):(k=null,m&&g('"u"')),k=k!==null?k:null),k!==null)if(c.substr(a,1)==="N"?(i="N",a+=1):(i=null,m&&g('"N"')),i===null&&(c.substr(a,1)==="n"?(i="n",a+=1):(i=null,m&&g('"n"')),i=i!==null?i:null),i!==null)if(c.substr(a,1)==="I"?(s="I",a+=1):(s=null,m&&g('"I"')),s===null&&(c.substr(a,1)==="i"?(s="i",a+=1):(s=null,m&&g('"i"')),s=s!==null?s:null),s!==null)if(c.substr(a,1)==="O"?(n="O",a+=1):(n=null,m&&g('"O"')),n===null&&(c.substr(a,1)==="o"?(n="o",a+=1):(n=null,m&&
g('"o"')),n=n!==null?n:null),n!==null)if(c.substr(a,1)==="N"?(o="N",a+=1):(o=null,m&&g('"N"')),o===null&&(c.substr(a,1)==="n"?(o="n",a+=1):(o=null,m&&g('"n"')),o=o!==null?o:null),o!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();q!==null?(t=Z(),t!==null?v=[v,k,i,s,n,o,q,t]:(v=null,a=u)):(v=null,a=u)}else v=null,a=u;else v=null,a=u;else v=null,a=u;else v=null,a=u;else v=null,a=u;else v=null,a=u}h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){if(c.length===0)return a;else{for(var b=
{token:"graphunionpattern",value:[a]},e=0;e<c.length;e++)e==c.length-1?b.value.push(c[e][7]):(b.value.push(c[e][7]),b={token:"graphunionpattern",value:[b]});return b}}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[58] GroupOrUnionGraphPattern");z[b]={nextPos:a,result:f};return f}function Rb(){var b="Filter@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],h=r();h!==null;)e.push(h),h=r();if(e!==null)if(c.substr(a,1)==="F"?(h="F",a+=1):(h=null,m&&g('"F"')),h===
null&&(c.substr(a,1)==="f"?(h="f",a+=1):(h=null,m&&g('"f"')),h=h!==null?h:null),h!==null){if(c.substr(a,1)==="I"){var u="I";a+=1}else u=null,m&&g('"I"');u===null&&(c.substr(a,1)==="i"?(u="i",a+=1):(u=null,m&&g('"i"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="L"){var k="L";a+=1}else k=null,m&&g('"L"');k===null&&(c.substr(a,1)==="l"?(k="l",a+=1):(k=null,m&&g('"l"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="T"){var i="T";a+=1}else i=null,m&&g('"T"');i===null&&(c.substr(a,1)==="t"?
(i="t",a+=1):(i=null,m&&g('"t"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="E"){var n="E";a+=1}else n=null,m&&g('"E"');n===null&&(c.substr(a,1)==="e"?(n="e",a+=1):(n=null,m&&g('"e"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="R"){var s="R";a+=1}else s=null,m&&g('"R"');s===null&&(c.substr(a,1)==="r"?(s="r",a+=1):(s=null,m&&g('"r"')),s=s!==null?s:null);if(s!==null){for(var o=[],q=r();q!==null;)o.push(q),q=r();o!==null?(q=Aa(),q!==null?e=[e,h,u,k,i,n,s,o,q]:(e=null,a=f)):(e=null,
a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?{token:"filter",value:e[8]}:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[59] Filter");z[b]={nextPos:a,result:f};return f}function Aa(){var c="Constraint@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=Ia();d===null&&(d=Ha(),d===null&&(d=hb(),d=d!==null?d:null));(m=b)&&d===null&&g("[60] Constraint");z[c]={nextPos:a,result:d};return d}function hb(){var c="FunctionCall@"+
a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=a,e=U();if(e!==null){var j=qb();j!==null?e=[e,j]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){var b={token:"expression",expressionType:"irireforfunction"};b.iriref=a;b.args=c.value;return b}(e[0],e[1]):null;f===null&&(f=null,a=d);(m=b)&&f===null&&g("[61] FunctionCall");z[c]={nextPos:a,result:f};return f}function qb(){var b="ArgList@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=ja()!==null?{token:"args",value:[]}:
null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;if(c.substr(a,1)==="("){var e="(";a+=1}else e=null,m&&g('"("');if(e!==null){if(c.substr(a,8)==="DISTINCT"){var h="DISTINCT";a+=8}else h=null,m&&g('"DISTINCT"');h=h!==null?h:"";if(h!==null){var u=P();if(u!==null){var k=[],i=a;if(c.substr(a,1)===","){var n=",";a+=1}else n=null,m&&g('","');if(n!==null){var s=P();s!==null?n=[n,s]:(n=null,a=i)}else n=null,a=i;for(;n!==null;)k.push(n),i=a,c.substr(a,1)===","?(n=",",a+=1):(n=null,m&&g('","')),n!==null?
(s=P(),s!==null?n=[n,s]:(n=null,a=i)):(n=null,a=i);k!==null?(c.substr(a,1)===")"?(i=")",a+=1):(i=null,m&&g('")"')),i!==null?e=[e,h,u,k,i]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c,b){cleanEx=[];for(var e=0;e<b.length;e++)cleanEx.push(b[e][1]);b={token:"args"};b.value=[c].concat(cleanEx);b.distinct=a==="DISTINCT"?!0:!1;return b}(e[1],e[2],e[3]):null;f===null&&(f=null,a=j);j=f!==null?f:null}(m=d)&&j===null&&g("[62] ArgList");z[b]={nextPos:a,result:j};
return j}function Sb(){var b="ExpressionList@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=ja()!==null?{token:"args",value:[]}:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;if(c.substr(a,1)==="("){var e="(";a+=1}else e=null,m&&g('"("');if(e!==null){var h=P();if(h!==null){var u=[],k=a;if(c.substr(a,1)===","){var i=",";a+=1}else i=null,m&&g('","');if(i!==null){var n=P();n!==null?i=[i,n]:(i=null,a=k)}else i=null,a=k;for(;i!==null;)u.push(i),k=a,c.substr(a,1)===","?(i=",",a+=
1):(i=null,m&&g('","')),i!==null?(n=P(),n!==null?i=[i,n]:(i=null,a=k)):(i=null,a=k);u!==null?(c.substr(a,1)===")"?(k=")",a+=1):(k=null,m&&g('")"')),k!==null?e=[e,h,u,k]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c){cleanEx=[];for(var b=0;b<c.length;b++)cleanEx.push(c[b][1]);b={token:"args"};b.value=[a].concat(cleanEx);return b}(e[1],e[2]):null;f===null&&(f=null,a=j);j=f!==null?f:null}(m=d)&&j===null&&g("[63] ExpressionList");z[b]={nextPos:a,result:j};return j}
function Jb(){var b="ConstructTemplate@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="{"){var e="{";a+=1}else e=null,m&&g('"{"');if(e!==null){for(var h=[],u=r();u!==null;)h.push(u),u=r();if(h!==null)if(u=rb(),u=u!==null?u:"",u!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();k!==null?(c.substr(a,1)==="}"?(i="}",a+=1):(i=null,m&&g('"}"')),i!==null?e=[e,h,u,k,i]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?e[2]:null;
f===null&&(f=null,a=j);(m=d)&&f===null&&g("[64] ConstructTemplate");z[b]={nextPos:a,result:f};return f}function rb(){var b="ConstructTriples@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=ob();if(e!==null){for(var h=a,u=[],k=r();k!==null;)u.push(k),k=r();if(u!==null)if(c.substr(a,1)==="."?(k=".",a+=1):(k=null,m&&g('"."')),k!==null){for(var i=[],n=r();n!==null;)i.push(n),n=r();i!==null?(n=rb(),n=n!==null?n:"",n!==null?u=[u,k,i,n]:(u=null,a=h)):(u=null,a=h)}else u=null,a=h;else u=
null,a=h;h=u!==null?u:"";h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){var b=a.triplesContext;typeof c==="object"&&c.length!=null&&c[3].triplesContext!=null&&(b=b.concat(c[3].triplesContext));return{token:"triplestemplate",triplesContext:b}}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[65] ConstructTriples");z[b]={nextPos:a,result:f};return f}function ob(){var c="TriplesSameSubject@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;for(var d=a,f=a,e=[],j=
r();j!==null;)e.push(j),j=r();if(e!==null)if(j=Na(),j!==null){for(var h=[],k=r();k!==null;)h.push(k),k=r();h!==null?(k=Ba(),k!==null?e=[e,j,h,k]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){var b=c.triplesContext;if(c.pairs)for(var e=0;e<c.pairs.length;e++){var f=c.pairs[e],g=null;f[1].length!=null&&(f[1]=f[1][0]);a.token&&a.token==="triplesnodecollection"?(g={subject:a.chainSubject[0],predicate:f[0],object:f[1]},b.push(g),b=b.concat(a.triplesContext)):(g={subject:a,
predicate:f[0],object:f[1]},b.push(g))}e={token:"triplessamesubject"};e.triplesContext=b;e.chainSubject=a;return e}(e[1],e[3]):null;f===null&&(f=null,a=d);if(f!==null)d=f;else{f=d=a;e=[];for(j=r();j!==null;)e.push(j),j=r();if(e!==null)if(j=Oa(),j!==null){h=[];for(k=r();k!==null;)h.push(k),k=r();h!==null?(k=Tb(),k!==null?e=[e,j,h,k]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){var b=a.triplesContext,e=a.chainSubject;if(c.pairs)for(var f=0;f<c.pairs.length;f++){var g=
c.pairs[f];g[1].length!=null&&(g[1]=g[1][0]);if(a.token==="triplesnodecollection")for(var d=0;d<e.length;d++){var m=e[d];if(m.triplesContext!=null){var j={subject:m.chainSubject,predicate:g[0],object:g[1]};b.concat(m.triplesContext)}else j={subject:e[d],predicate:g[0],object:g[1]},b.push(j)}else j={subject:e,predicate:g[0],object:g[1]},b.push(j)}f={token:"triplessamesubject"};f.triplesContext=b;f.chainSubject=e;return f}(e[1],e[3]):null;f===null&&(f=null,a=d);d=f!==null?f:null}(m=b)&&d===null&&g("[66] TriplesSameSubject");
z[c]={nextPos:a,result:d};return d}function Ba(){var b="PropertyListNotEmpty@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=Pa();if(e!==null){for(var h=[],u=r();u!==null;)h.push(u),u=r();if(h!==null)if(u=ka(),u!==null){for(var k=[],i=a,n=[],s=r();s!==null;)n.push(s),s=r();if(n!==null)if(c.substr(a,1)===";"?(s=";",a+=1):(s=null,m&&g('";"')),s!==null){for(var o=[],q=r();q!==null;)o.push(q),q=r();if(o!==null){var q=a,t=Pa();if(t!==null){for(var w=[],A=r();A!==null;)w.push(A),A=r();
w!==null?(A=ka(),A!==null?t=[t,w,A]:(t=null,a=q)):(t=null,a=q)}else t=null,a=q;q=t!==null?t:"";q!==null?n=[n,s,o,q]:(n=null,a=i)}else n=null,a=i}else n=null,a=i;else n=null,a=i;for(;n!==null;){k.push(n);i=a;n=[];for(s=r();s!==null;)n.push(s),s=r();if(n!==null)if(c.substr(a,1)===";"?(s=";",a+=1):(s=null,m&&g('";"')),s!==null){o=[];for(q=r();q!==null;)o.push(q),q=r();if(o!==null){q=a;t=Pa();if(t!==null){w=[];for(A=r();A!==null;)w.push(A),A=r();w!==null?(A=ka(),A!==null?t=[t,w,A]:(t=null,a=q)):(t=null,
a=q)}else t=null,a=q;q=t!==null?t:"";q!==null?n=[n,s,o,q]:(n=null,a=i)}else n=null,a=i}else n=null,a=i;else n=null,a=i}k!==null?e=[e,h,u,k]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c,b){token={token:"propertylist"};for(var e=[],f=[],g=0;g<c.length;g++)c[g].triplesContext!=null?(e=e.concat(c[g].triplesContext),c[g].token==="triplesnodecollection"&&c[g].chainSubject.length!=null?f.push([a,c[g].chainSubject[0]]):f.push([a,c[g].chainSubject])):f.push([a,c[g]]);
for(g=0;g<b.length;g++)for(var c=b[g][3],a=c[0],c=c[2]||[],d=0;d<c.length;d++)c[d].triplesContext!=null?(e=e.concat(c[d].triplesContext),f.push([a,c[d].chainSubject])):f.push([a,c[d]]);token.pairs=f;token.triplesContext=e;return token}(e[0],e[2],e[3]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[67] PropertyListNotEmpty");z[b]={nextPos:a,result:f};return f}function Tb(){var c="PropertyList@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=Ba(),d=d!==null?d:"";(m=b)&&d===null&&g("[68] PropertyList");
z[c]={nextPos:a,result:d};return d}function ka(){var b="ObjectList@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=qa();if(e!==null){for(var h=[],u=r();u!==null;)h.push(u),u=r();if(h!==null){var u=[],k=a;if(c.substr(a,1)===","){var i=",";a+=1}else i=null,m&&g('","');if(i!==null){for(var n=[],s=r();s!==null;)n.push(s),s=r();n!==null?(s=qa(),s!==null?i=[i,n,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;for(;i!==null;)if(u.push(i),k=a,c.substr(a,1)===","?(i=",",a+=1):(i=null,m&&g('","')),
i!==null){n=[];for(s=r();s!==null;)n.push(s),s=r();n!==null?(s=qa(),s!==null?i=[i,n,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;u!==null?e=[e,h,u]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c){var b=[];b.push(a);for(var e=0;e<c.length;e++)for(var f=0;f<c[e].length;f++)typeof c[e][f]=="object"&&c[e][f].token!=null&&b.push(c[e][f]);return b}(e[0],e[2]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[69] ObjectList");z[b]={nextPos:a,result:f};return f}function Pa(){var b="Verb@"+
a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=ia();if(j===null){j=a;if(c.substr(a,1)==="a"){var f="a";a+=1}else f=null,m&&g('"a"');f=f!==null?{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}:null;f===null&&(f=null,a=j);j=f!==null?f:null}(m=d)&&j===null&&g("[71] Verb");z[b]={nextPos:a,result:j};return j}function Lb(){var c="TriplesSameSubjectPath@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;for(var d=a,f=a,e=[],j=r();j!==null;)e.push(j),
j=r();if(e!==null)if(j=Na(),j!==null){for(var h=[],k=r();k!==null;)h.push(k),k=r();h!==null?(k=Ub(),k!==null?e=[e,j,h,k]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){var b=c.triplesContext;if(c.pairs)for(var e=0;e<c.pairs.length;e++){var f=c.pairs[e],g=null;f[1].length!=null&&(f[1]=f[1][0]);a.token&&a.token==="triplesnodecollection"?(g={subject:a.chainSubject[0],predicate:f[0],object:f[1]},b.push(g),b=b.concat(a.triplesContext)):(g={subject:a,predicate:f[0],
object:f[1]},b.push(g))}e={token:"triplessamesubject"};e.triplesContext=b;e.chainSubject=a;return e}(e[1],e[3]):null;f===null&&(f=null,a=d);if(f!==null)d=f;else{f=d=a;e=[];for(j=r();j!==null;)e.push(j),j=r();if(e!==null)if(j=Oa(),j!==null){h=[];for(k=r();k!==null;)h.push(k),k=r();h!==null?(k=Vb(),k!==null?e=[e,j,h,k]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){var b=a.triplesContext,e=a.chainSubject;if(c.pairs)for(var f=0;f<c.pairs.length;f++){var g=c.pairs[f];
g[1].length!=null&&(g[1]=g[1][0]);if(a.token==="triplesnodecollection")for(var d=0;d<e.length;d++){var m=e[d];if(m.triplesContext!=null){var j={subject:m.chainSubject,predicate:g[0],object:g[1]};b.concat(m.triplesContext)}else j={subject:e[d],predicate:g[0],object:g[1]},b.push(j)}else j={subject:e,predicate:g[0],object:g[1]},b.push(j)}f={token:"triplessamesubject"};f.triplesContext=b;f.chainSubject=e;return f}(e[1],e[3]):null;f===null&&(f=null,a=d);d=f!==null?f:null}(m=b)&&d===null&&g("[72] TriplesSameSubjectPath");
z[c]={nextPos:a,result:d};return d}function Ub(){var b="PropertyListNotEmptyPath@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=Qa();e===null&&(e=T(),e=e!==null?e:null);if(e!==null){for(var h=[],u=r();u!==null;)h.push(u),u=r();if(h!==null)if(u=ka(),u!==null){for(var k=[],i=a,n=[],s=r();s!==null;)n.push(s),s=r();if(n!==null)if(c.substr(a,1)===";"?(s=";",a+=1):(s=null,m&&g('";"')),s!==null){for(var o=[],q=r();q!==null;)o.push(q),q=r();if(o!==null){var q=a,t=Qa();t===null&&(t=T(),
t=t!==null?t:null);if(t!==null){var w=ka();w!==null?t=[t,w]:(t=null,a=q)}else t=null,a=q;q=t!==null?t:"";q!==null?n=[n,s,o,q]:(n=null,a=i)}else n=null,a=i}else n=null,a=i;else n=null,a=i;for(;n!==null;){k.push(n);i=a;n=[];for(s=r();s!==null;)n.push(s),s=r();if(n!==null)if(c.substr(a,1)===";"?(s=";",a+=1):(s=null,m&&g('";"')),s!==null){o=[];for(q=r();q!==null;)o.push(q),q=r();o!==null?(q=a,t=Qa(),t===null&&(t=T(),t=t!==null?t:null),t!==null?(w=ka(),w!==null?t=[t,w]:(t=null,a=q)):(t=null,a=q),q=t!==
null?t:"",q!==null?n=[n,s,o,q]:(n=null,a=i)):(n=null,a=i)}else n=null,a=i;else n=null,a=i}k!==null?e=[e,h,u,k]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c,b){token={token:"propertylist"};for(var e=[],f=[],g=0;g<c.length;g++)c[g].triplesContext!=null?(e=e.concat(c[g].triplesContext),c[g].token==="triplesnodecollection"&&c[g].chainSubject.length!=null?f.push([a,c[g].chainSubject[0]]):f.push([a,c[g].chainSubject])):f.push([a,c[g]]);for(g=0;g<b.length;g++)for(var c=
b[g][3],a=c[0],c=c[1]||[],d=0;d<c.length;d++)c[d].triplesContext!=null?(e=e.concat(c[d].triplesContext),f.push([a,c[d].chainSubject])):f.push([a,c[d]]);token.pairs=f;token.triplesContext=e;return token}(e[0],e[2],e[3]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[73] PropertyListNotEmptyPath");z[b]={nextPos:a,result:f};return f}function Vb(){var c="PropertyListPath@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=Ba(),d=d!==null?d:"";(m=b)&&d===null&&g("[74] PropertyListPath");z[c]=
{nextPos:a,result:d};return d}function Qa(){var c="VerbPath@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=sb(),f=f!==null?f:null;f===null&&(f=null,a=d);(m=b)&&f===null&&g("[75]");z[c]={nextPos:a,result:f};return f}function sb(){var b="PathAlternative@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=Ra();if(e!==null){var h=[],u=a;if(c.substr(a,1)==="|"){var k="|";a+=1}else k=null,m&&g('"|"');if(k!==null){var i=Ra();i!==null?k=[k,i]:(k=null,a=u)}else k=null,a=u;for(;k!==
null;)h.push(k),u=a,c.substr(a,1)==="|"?(k="|",a+=1):(k=null,m&&g('"|"')),k!==null?(i=Ra(),i!==null?k=[k,i]:(k=null,a=u)):(k=null,a=u);h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){if(c==null||c.length===0)return a;else{for(var b=[],e=0;e<c.length;e++)b.push(c[1]);e={token:"path",kind:"alternative"};e.value=b;return e}}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[78] PathAlternative");z[b]={nextPos:a,result:f};return f}function Ra(){var b="PathSequence@"+a,
d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=Sa();if(e!==null){var h=[],u=a;if(c.substr(a,1)==="/"){var k="/";a+=1}else k=null,m&&g('"/"');if(k!==null){var i=Sa();i!==null?k=[k,i]:(k=null,a=u)}else k=null,a=u;for(;k!==null;)h.push(k),u=a,c.substr(a,1)==="/"?(k="/",a+=1):(k=null,m&&g('"/"')),k!==null?(i=Sa(),i!==null?k=[k,i]:(k=null,a=u)):(k=null,a=u);h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){if(c==null||c.length===0)return a;else{for(var b=[a],e=0;e<
c.length;e++)b.push(c[e][1]);e={token:"path",kind:"sequence"};e.value=b;return e}}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[79] PathSequence");z[b]={nextPos:a,result:f};return f}function ub(){var c="PathElt@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=a,e=Wb();if(e!==null){var j=Xb(),j=j!==null?j:"";j!==null?e=[e,j]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){if(a.token&&a.token!="path"&&c=="")return a;else if(a.token&&a.token!=b&&c!=""){var b={token:"path",
kind:"element"};b.value=a;b.modifier=c;return b}else return a.modifier=c,a}(e[0],e[1]):null;f===null&&(f=null,a=d);(m=b)&&f===null&&g("[88] PathElt");z[c]={nextPos:a,result:f};return f}function Sa(){var b="PathEltOrInverse@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=ub();if(j===null){var f=j=a;if(c.substr(a,1)==="^"){var e="^";a+=1}else e=null,m&&g('"^"');if(e!==null){var h=ub();h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){var c={token:"path",kind:"inversePath"};
c.value=a;return c}(e[1]):null;f===null&&(f=null,a=j);j=f!==null?f:null}(m=d)&&j===null&&g("[81] PathEltOrInverse");z[b]={nextPos:a,result:j};return j}function Xb(){var b="PathMod@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;if(c.substr(a,1)==="*"){var j="*";a+=1}else j=null,m&&g('"*"');if(j===null&&(c.substr(a,1)==="?"?(j="?",a+=1):(j=null,m&&g('"?"')),j===null&&(c.substr(a,1)==="+"?(j="+",a+=1):(j=null,m&&g('"+"')),j===null))){j=a;if(c.substr(a,1)==="{"){var f="{";a+=1}else f=null,m&&g('"{"');
if(f!==null){var e=a,h=ea();if(h!==null){var k=a;if(c.substr(a,1)===","){var i=",";a+=1}else i=null,m&&g('","');if(i!==null){if(c.substr(a,1)==="}"){var n="}";a+=1}else n=null,m&&g('"}"');if(n===null){var n=a,r=ea();if(r!==null){if(c.substr(a,1)==="}"){var s="}";a+=1}else s=null,m&&g('"}"');s!==null?r=[r,s]:(r=null,a=n)}else r=null,a=n;n=r!==null?r:null}n!==null?i=[i,n]:(i=null,a=k)}else i=null,a=k;i!==null?k=i:(c.substr(a,1)==="}"?(k="}",a+=1):(k=null,m&&g('"}"')),k=k!==null?k:null);k!==null?h=[h,
k]:(h=null,a=e)}else h=null,a=e;h!==null?e=h:(e=a,c.substr(a,1)===","?(h=",",a+=1):(h=null,m&&g('","')),h!==null?(k=ea(),k!==null?(c.substr(a,1)==="}"?(i="}",a+=1):(i=null,m&&g('"}"')),i!==null?h=[h,k,i]:(h=null,a=e)):(h=null,a=e)):(h=null,a=e),e=h!==null?h:null);e!==null?f=[f,e]:(f=null,a=j)}else f=null,a=j;j=f!==null?f:null}(m=d)&&j===null&&g("[82] PathMod");z[b]={nextPos:a,result:j};return j}function Wb(){var b="PathPrimary@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=U();if(j===
null){j=a;if(c.substr(a,1)==="a"){var f="a";a+=1}else f=null,m&&g('"a"');f=f!==null?{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{j=a;c.substr(a,1)==="!"?(f="!",a+=1):(f=null,m&&g('"!"'));if(f!==null){var e=Yb();e!==null?f=[f,e]:(f=null,a=j)}else f=null,a=j;if(f!==null)j=f;else{f=j=a;c.substr(a,1)==="("?(e="(",a+=1):(e=null,m&&g('"("'));if(e!==null){var h=sb();if(h!==null){if(c.substr(a,1)===")"){var k=
")";a+=1}else k=null,m&&g('")"');k!==null?e=[e,h,k]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;f=e!==null?e[1]:null;f===null&&(f=null,a=j);j=f!==null?f:null}}}(m=d)&&j===null&&g("[83] PathPrimary");z[b]={nextPos:a,result:j};return j}function Yb(){var b="PathNegatedPropertySet@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=Ca();if(d===null){d=a;if(c.substr(a,1)==="("){var j="(";a+=1}else j=null,m&&g('"("');if(j!==null){var f=a,e=Ca();if(e!==null){var h=[],k=a;if(c.substr(a,1)==="|"){var i="|";a+=
1}else i=null,m&&g('"|"');if(i!==null){var n=Ca();n!==null?i=[i,n]:(i=null,a=k)}else i=null,a=k;for(;i!==null;)h.push(i),k=a,c.substr(a,1)==="|"?(i="|",a+=1):(i=null,m&&g('"|"')),i!==null?(n=Ca(),n!==null?i=[i,n]:(i=null,a=k)):(i=null,a=k);h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?e:"";f!==null?(c.substr(a,1)===")"?(e=")",a+=1):(e=null,m&&g('")"')),e!==null?j=[j,f,e]:(j=null,a=d)):(j=null,a=d)}else j=null,a=d;d=j!==null?j:null}z[b]={nextPos:a,result:d};return d}function Ca(){var b=
"PathOneInPropertySet@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=U();if(j===null&&(c.substr(a,1)==="a"?(j="a",a+=1):(j=null,m&&g('"a"')),j===null)){j=a;if(c.substr(a,1)==="^"){var f="^";a+=1}else f=null,m&&g('"^"');if(f!==null){var e=U();e===null&&(c.substr(a,1)==="a"?(e="a",a+=1):(e=null,m&&g('"a"')),e=e!==null?e:null);e!==null?f=[f,e]:(f=null,a=j)}else f=null,a=j;j=f!==null?f:null}(m=d)&&j===null&&g("[85] PathOneInPropertySet");z[b]={nextPos:a,result:j};return j}function Oa(){var c=
"TriplesNode@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=Zb(),f=f!==null?function(a){triplesContext=[];chainSubject=[];for(var c=null,b=0;b<a.length;b++)fa++,c=null,a[b].chainSubject==null&&a[b].triplesContext==null?c=a[b]:(c=a[b].chainSubject,triplesContext=triplesContext.concat(nextSubject.triplesContext)),c={subject:{token:"blank",value:"_:"+fa},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:c},b==0&&chainSubject.push(c.subject),
triplesContext.push(c),c=b===a.length-1?{subject:{token:"blank",value:"_:"+fa},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",value:"_:"+fa},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(fa+1)}},triplesContext.push(c);return{token:"triplesnodecollection",
triplesContext:triplesContext,chainSubject:chainSubject}}(f):null;f===null&&(f=null,a=d);f!==null?d=f:(d=$b(),d=d!==null?d:null);(m=b)&&d===null&&g("[87] TriplesNode");z[c]={nextPos:a,result:d};return d}function $b(){var b="BlankNodePropertyList@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],h=r();h!==null;)e.push(h),h=r();if(e!==null)if(c.substr(a,1)==="["?(h="[",a+=1):(h=null,m&&g('"["')),h!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();if(k!==null)if(i=Ba(),i!==
null){for(var n=[],o=r();o!==null;)n.push(o),o=r();if(n!==null)if(c.substr(a,1)==="]"?(o="]",a+=1):(o=null,m&&g('"]"')),o!==null){for(var s=[],q=r();q!==null;)s.push(q),q=r();s!==null?e=[e,h,k,i,n,o,s]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?function(a){fa++;for(var c={token:"blank",value:"_:"+fa},b=[],e=0;e<a.pairs.length;e++){var f=a.pairs[e],g={};g.subject=c;g.predicate=f[0];f[1].length!=null&&(f[1]=f[1][0]);g.object=
f[1];b.push(g)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(b),chainSubject:c}}(e[3]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[88] BlankNodePropertyList");z[b]={nextPos:a,result:f};return f}function Zb(){var b="Collection@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],h=r();h!==null;)e.push(h),h=r();if(e!==null)if(c.substr(a,1)==="("?(h="(",a+=1):(h=null,m&&g('"("')),h!==null){for(var k=[],i=r();i!==null;)k.push(i),
i=r();if(k!==null){var n=qa();if(n!==null)for(i=[];n!==null;)i.push(n),n=qa();else i=null;if(i!==null){for(var n=[],o=r();o!==null;)n.push(o),o=r();if(n!==null)if(c.substr(a,1)===")"?(o=")",a+=1):(o=null,m&&g('")"')),o!==null){for(var s=[],q=r();q!==null;)s.push(q),q=r();s!==null?e=[e,h,k,i,n,o,s]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?e[3]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[89] Collection");z[b]={nextPos:a,
result:f};return f}function qa(){var c="GraphNode@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;for(var d=a,f=a,e=[],j=r();j!==null;)e.push(j),j=r();if(e!==null)if(j=Na(),j!==null){for(var h=[],k=r();k!==null;)h.push(k),k=r();h!==null?e=[e,j,h]:(e=null,a=f)}else e=null,a=f;else e=null,a=f;if(e!==null)f=e;else{f=a;e=[];for(j=r();j!==null;)e.push(j),j=r();if(e!==null)if(j=Oa(),j!==null){h=[];for(k=r();k!==null;)h.push(k),k=r();h!==null?e=[e,j,h]:(e=null,a=f)}else e=null,a=f;else e=null,a=f;f=
e!==null?e:null}f=f!==null?f[1]:null;f===null&&(f=null,a=d);(m=b)&&f===null&&g("[90] GraphNode");z[c]={nextPos:a,result:f};return f}function Na(){var c="VarOrTerm@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=T();d===null&&(d=ac(),d=d!==null?d:null);(m=b)&&d===null&&g("[91] VarOrTerm");z[c]={nextPos:a,result:d};return d}function ia(){var c="VarOrIRIref@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=T();d===null&&(d=U(),d=d!==null?d:null);(m=b)&&d===null&&g("[92] VarOrIRIref");
z[c]={nextPos:a,result:d};return d}function T(){var c="Var@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=bc();f===null&&(f=cc(),f=f!==null?f:null);f=f!==null?function(a){var c={token:"var"};c.value=a;return c}(f):null;f===null&&(f=null,a=d);(m=b)&&f===null&&g("[93] Var");z[c]={nextPos:a,result:f};return f}function ac(){var c="GraphTerm@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=U();d===null&&(d=Ja(),d===null&&(d=Ka(),d===null&&(d=La(),d===null&&(d=dc(),d===null&&(d=
ja(),d=d!==null?d:null)))));(m=b)&&d===null&&g("[94] GraphTerm");z[c]={nextPos:a,result:d};return d}function P(){var b="ConditionalOrExpression@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=Ta();if(e!==null){for(var h=[],k=a,i=[],n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,2)==="||"?(n="||",a+=2):(n=null,m&&g('"||"')),n!==null){for(var o=[],s=r();s!==null;)o.push(s),s=r();o!==null?(s=Ta(),s!==null?i=[i,n,o,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,
a=k;for(;i!==null;){h.push(i);k=a;i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,2)==="||"?(n="||",a+=2):(n=null,m&&g('"||"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=Ta(),s!==null?i=[i,n,o,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k}h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){if(c.length===0)return a;for(var b={token:"expression",expressionType:"conditionalor"},e=[a],f=0;f<c.length;f++)e.push(c[f][3]);b.operands=
e;return b}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[96] ConditionalOrExpression");z[b]={nextPos:a,result:f};return f}function Ta(){var b="ConditionalAndExpression@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=Ua();if(e!==null){for(var h=[],k=a,i=[],n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,2)==="&&"?(n="&&",a+=2):(n=null,m&&g('"&&"')),n!==null){for(var o=[],s=r();s!==null;)o.push(s),s=r();o!==null?(s=Ua(),s!==null?i=[i,n,o,s]:(i=null,a=k)):
(i=null,a=k)}else i=null,a=k;else i=null,a=k;for(;i!==null;){h.push(i);k=a;i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,2)==="&&"?(n="&&",a+=2):(n=null,m&&g('"&&"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=Ua(),s!==null?i=[i,n,o,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k}h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){if(c.length===0)return a;for(var b={token:"expression",expressionType:"conditionaland"},e=[a],
f=0;f<c.length;f++)e.push(c[f][3]);b.operands=e;return b}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[97] ConditionalAndExpression");z[b]={nextPos:a,result:f};return f}function Ua(){var b="RelationalExpression@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=X();if(e!==null){for(var h=[],k=a,i=[],n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)==="="?(n="=",a+=1):(n=null,m&&g('"="')),n!==null){for(var o=[],s=r();s!==null;)o.push(s),s=r();o!==null?(s=X(),
s!==null?i=[i,n,o,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k;if(i!==null)k=i;else{k=a;i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,2)==="!="?(n="!=",a+=2):(n=null,m&&g('"!="')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=X(),s!==null?i=[i,n,o,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k;if(i!==null)k=i;else{k=a;i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)==="<"?(n="<",a+=1):(n=null,m&&g('"<"')),n!==
null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=X(),s!==null?i=[i,n,o,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k;if(i!==null)k=i;else{k=a;i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)===">"?(n=">",a+=1):(n=null,m&&g('">"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=X(),s!==null?i=[i,n,o,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k;if(i!==null)k=i;else{k=a;i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,
2)==="<="?(n="<=",a+=2):(n=null,m&&g('"<="')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=X(),s!==null?i=[i,n,o,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k;if(i!==null)k=i;else{k=a;i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,2)===">="?(n=">=",a+=2):(n=null,m&&g('">="')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=X(),s!==null?i=[i,n,o,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k;k=i!==null?i:null}}}}}for(;k!==
null;){h.push(k);k=a;i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)==="="?(n="=",a+=1):(n=null,m&&g('"="')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=X(),s!==null?i=[i,n,o,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k;if(i!==null)k=i;else{k=a;i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,2)==="!="?(n="!=",a+=2):(n=null,m&&g('"!="')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=X(),s!==null?i=[i,n,o,
s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k;if(i!==null)k=i;else{k=a;i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)==="<"?(n="<",a+=1):(n=null,m&&g('"<"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=X(),s!==null?i=[i,n,o,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k;if(i!==null)k=i;else{k=a;i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)===">"?(n=">",a+=1):(n=null,m&&g('">"')),n!==null){o=[];for(s=r();s!==
null;)o.push(s),s=r();o!==null?(s=X(),s!==null?i=[i,n,o,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k;if(i!==null)k=i;else{k=a;i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,2)==="<="?(n="<=",a+=2):(n=null,m&&g('"<="')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=X(),s!==null?i=[i,n,o,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k;if(i!==null)k=i;else{k=a;i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,2)===">="?
(n=">=",a+=2):(n=null,m&&g('">="')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=X(),s!==null?i=[i,n,o,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k;k=i!==null?i:null}}}}}}h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){if(c.length===0)return a;else{var b={expressionType:"relationalexpression"};b.operator=c[0][1];b.op1=a;b.op2=c[0][3];b.token="expression";return b}}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[99] RelationalExpression");
z[b]={nextPos:a,result:f};return f}function X(){var b="AdditiveExpression@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=ra();if(e!==null){for(var h=[],k=a,i=[],n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)==="+"?(n="+",a+=1):(n=null,m&&g('"+"')),n!==null){for(var o=[],s=r();s!==null;)o.push(s),s=r();o!==null?(s=ra(),s!==null?i=[i,n,o,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k;if(i!==null)k=i;else{k=a;i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==
null)if(c.substr(a,1)==="-"?(n="-",a+=1):(n=null,m&&g('"-"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=ra(),s!==null?i=[i,n,o,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k;if(i!==null)k=i;else{k=a;i=sa();i===null&&(i=sa(),i=i!==null?i:null);if(i!==null){n=a;o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)==="*"?(s="*",a+=1):(s=null,m&&g('"*"')),s!==null){for(var q=[],t=r();t!==null;)q.push(t),t=r();q!==null?(t=ba(),t!==null?o=[o,s,q,t]:(o=
null,a=n)):(o=null,a=n)}else o=null,a=n;else o=null,a=n;if(o!==null)n=o;else{n=a;o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)==="/"?(s="/",a+=1):(s=null,m&&g('"/"')),s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();q!==null?(t=ba(),t!==null?o=[o,s,q,t]:(o=null,a=n)):(o=null,a=n)}else o=null,a=n;else o=null,a=n;n=o!==null?o:null}n=n!==null?n:"";n!==null?i=[i,n]:(i=null,a=k)}else i=null,a=k;k=i!==null?i:null}}for(;k!==null;){h.push(k);k=a;i=[];for(n=r();n!==null;)i.push(n),
n=r();if(i!==null)if(c.substr(a,1)==="+"?(n="+",a+=1):(n=null,m&&g('"+"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=ra(),s!==null?i=[i,n,o,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k;if(i!==null)k=i;else{k=a;i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)==="-"?(n="-",a+=1):(n=null,m&&g('"-"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=ra(),s!==null?i=[i,n,o,s]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,
a=k;if(i!==null)k=i;else{k=a;i=sa();i===null&&(i=sa(),i=i!==null?i:null);if(i!==null){n=a;o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)==="*"?(s="*",a+=1):(s=null,m&&g('"*"')),s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();q!==null?(t=ba(),t!==null?o=[o,s,q,t]:(o=null,a=n)):(o=null,a=n)}else o=null,a=n;else o=null,a=n;if(o!==null)n=o;else{n=a;o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)==="/"?(s="/",a+=1):(s=null,m&&g('"/"')),s!==null){q=[];for(t=
r();t!==null;)q.push(t),t=r();q!==null?(t=ba(),t!==null?o=[o,s,q,t]:(o=null,a=n)):(o=null,a=n)}else o=null,a=n;else o=null,a=n;n=o!==null?o:null}n=n!==null?n:"";n!==null?i=[i,n]:(i=null,a=k)}else i=null,a=k;k=i!==null?i:null}}}h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){if(c.length===0)return a;var b={token:"expression",expressionType:"additiveexpression"};b.summand=a;b.summands=[];for(var e=0;e<c.length;e++){var f=c[e],g={};if(f.length==4&&typeof f[1]==="string")g.operator=
f[1],g.expression=f[3];else{var f={},d=g[0],j=g[1][1],k=g[1][3],j=null;d.value<0?(g.operator="-",d.value=-d.value):g.operator="+";f.token="expression";f.expressionType="multiplicativeexpression";f.operator=d;f.factors=[{operator:j,expression:k}];g.expression=f}b.summands.push(g)}return b}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[101] AdditiveExpression");z[b]={nextPos:a,result:f};return f}function ra(){var b="MultiplicativeExpression@"+a,d=z[b];if(d)return a=d.nextPos,d.result;
d=m;m=!1;var j=a,f=a,e=ba();if(e!==null){for(var k=[],h=a,i=[],n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)==="*"?(n="*",a+=1):(n=null,m&&g('"*"')),n!==null){for(var o=[],s=r();s!==null;)o.push(s),s=r();o!==null?(s=ba(),s!==null?i=[i,n,o,s]:(i=null,a=h)):(i=null,a=h)}else i=null,a=h;else i=null,a=h;if(i!==null)h=i;else{h=a;i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)==="/"?(n="/",a+=1):(n=null,m&&g('"/"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();
o!==null?(s=ba(),s!==null?i=[i,n,o,s]:(i=null,a=h)):(i=null,a=h)}else i=null,a=h;else i=null,a=h;h=i!==null?i:null}for(;h!==null;){k.push(h);h=a;i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)==="*"?(n="*",a+=1):(n=null,m&&g('"*"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=ba(),s!==null?i=[i,n,o,s]:(i=null,a=h)):(i=null,a=h)}else i=null,a=h;else i=null,a=h;if(i!==null)h=i;else{h=a;i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)==="/"?
(n="/",a+=1):(n=null,m&&g('"/"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=ba(),s!==null?i=[i,n,o,s]:(i=null,a=h)):(i=null,a=h)}else i=null,a=h;else i=null,a=h;h=i!==null?i:null}}k!==null?e=[e,k]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){if(c.length===0)return a;var b={token:"expression",expressionType:"multiplicativeexpression"};b.factor=a;b.factors=[];for(var e=0;e<c.length;e++){var f=c[e],g={};g.operator=f[1];g.expression=f[3];b.factors.push(g)}return b}(e[0],
e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[102] MultiplicativeExpression");z[b]={nextPos:a,result:f};return f}function ba(){var b="UnaryExpression@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="!"){var e="!";a+=1}else e=null,m&&g('"!"');if(e!==null){for(var k=[],h=r();h!==null;)k.push(h),h=r();k!==null?(h=Da(),h!==null?e=[e,k,h]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){var c={token:"expression",expressionType:"unaryexpression",
unaryexpression:"!"};c.expression=a;return c}(e[2]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,1)==="+"?(e="+",a+=1):(e=null,m&&g('"+"'));if(e!==null){k=[];for(h=r();h!==null;)k.push(h),h=r();k!==null?(h=Da(),h!==null?e=[e,k,h]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){var c={token:"expression",expressionType:"unaryexpression",unaryexpression:"+"};c.expression=a;return c}(e[2]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,1)==="-"?
(e="-",a+=1):(e=null,m&&g('"-"'));if(e!==null){k=[];for(h=r();h!==null;)k.push(h),h=r();k!==null?(h=Da(),h!==null?e=[e,k,h]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){var c={token:"expression",expressionType:"unaryexpression",unaryexpression:"-"};c.expression=a;return c}(e[2]):null;f===null&&(f=null,a=j);f!==null?j=f:(j=Da(),j=j!==null?j:null)}}(m=d)&&j===null&&g("[103] UnaryExpression");z[b]={nextPos:a,result:j};return j}function Da(){var c="PrimaryExpression@"+a,b=z[c];if(b)return a=
b.nextPos,b.result;b=m;m=!1;var d=Ia();if(d===null&&(d=Ha(),d===null&&(d=ec(),d===null))){var d=a,f=Ja(),f=f!==null?function(a){var c={token:"expression",expressionType:"atomic",primaryexpression:"rdfliteral"};c.value=a;return c}(f):null;f===null&&(f=null,a=d);f!==null?d=f:(d=a,f=Ka(),f=f!==null?function(a){var c={token:"expression",expressionType:"atomic",primaryexpression:"numericliteral"};c.value=a;return c}(f):null,f===null&&(f=null,a=d),f!==null?d=f:(d=a,f=La(),f=f!==null?function(a){var c={token:"expression",
expressionType:"atomic",primaryexpression:"booleanliteral"};c.value=a;return c}(f):null,f===null&&(f=null,a=d),f!==null?d=f:(d=fc(),d===null&&(d=a,f=T(),f=f!==null?function(a){var c={token:"expression",expressionType:"atomic",primaryexpression:"var"};c.value=a;return c}(f):null,f===null&&(f=null,a=d),d=f!==null?f:null))))}(m=b)&&d===null&&g("[104] PrimaryExpression");z[c]={nextPos:a,result:d};return d}function Ia(){var b="BrackettedExpression@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=
a,f=a;if(c.substr(a,1)==="("){var e="(";a+=1}else e=null,m&&g('"("');if(e!==null){for(var h=[],k=r();k!==null;)h.push(k),k=r();if(h!==null)if(k=P(),k!==null){for(var i=[],n=r();n!==null;)i.push(n),n=r();i!==null?(c.substr(a,1)===")"?(n=")",a+=1):(n=null,m&&g('")"')),n!==null?e=[e,h,k,i,n]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?e[2]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[105] BrackettedExpression");z[b]={nextPos:a,result:f};return f}function Ha(){var b=
"BuiltInCall@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="S"){var e="S";a+=1}else e=null,m&&g('"S"');e===null&&(c.substr(a,1)==="s"?(e="s",a+=1):(e=null,m&&g('"s"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="T"){var h="T";a+=1}else h=null,m&&g('"T"');h===null&&(c.substr(a,1)==="t"?(h="t",a+=1):(h=null,m&&g('"t"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="R"){var k="R";a+=1}else k=null,m&&g('"R"');k===null&&(c.substr(a,1)==="r"?(k="r",a+=
1):(k=null,m&&g('"r"')),k=k!==null?k:null);if(k!==null){for(var i=[],n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)==="("?(n="(",a+=1):(n=null,m&&g('"("')),n!==null){for(var o=[],s=r();s!==null;)o.push(s),s=r();if(o!==null)if(s=P(),s!==null){for(var q=[],t=r();t!==null;)q.push(t),t=r();q!==null?(c.substr(a,1)===")"?(t=")",a+=1):(t=null,m&&g('")"')),t!==null?e=[e,h,k,i,n,o,s,q,t]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=
f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"str"};c.args=[a];return c}(e[6]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,1)==="L"?(e="L",a+=1):(e=null,m&&g('"L"'));e===null&&(c.substr(a,1)==="l"?(e="l",a+=1):(e=null,m&&g('"l"')),e=e!==null?e:null);if(e!==null)if(c.substr(a,1)==="A"?(h="A",a+=1):(h=null,m&&g('"A"')),h===null&&(c.substr(a,1)==="a"?(h="a",a+=1):(h=null,m&&g('"a"')),h=h!==null?h:null),
h!==null)if(c.substr(a,1)==="N"?(k="N",a+=1):(k=null,m&&g('"N"')),k===null&&(c.substr(a,1)==="n"?(k="n",a+=1):(k=null,m&&g('"n"')),k=k!==null?k:null),k!==null)if(c.substr(a,1)==="G"?(i="G",a+=1):(i=null,m&&g('"G"')),i===null&&(c.substr(a,1)==="g"?(i="g",a+=1):(i=null,m&&g('"g"')),i=i!==null?i:null),i!==null){n=[];for(o=r();o!==null;)n.push(o),o=r();if(n!==null)if(c.substr(a,1)==="("?(o="(",a+=1):(o=null,m&&g('"("')),o!==null){s=[];for(q=r();q!==null;)s.push(q),q=r();if(s!==null)if(q=P(),q!==null){for(var t=
[],w=r();w!==null;)t.push(w),w=r();t!==null?(c.substr(a,1)===")"?(w=")",a+=1):(w=null,m&&g('")"')),w!==null?e=[e,h,k,i,n,o,s,q,t,w]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;f=e!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"lang"};c.args=[a];return c}(e[7]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,11)==="LANGMATCHES"?(e=
"LANGMATCHES",a+=11):(e=null,m&&g('"LANGMATCHES"'));if(e!==null){h=[];for(k=r();k!==null;)h.push(k),k=r();if(h!==null)if(c.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&g('"("')),k!==null){i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(n=P(),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)===","?(s=",",a+=1):(s=null,m&&g('","')),s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=P(),t!==null){for(var w=[],x=r();x!==null;)w.push(x),x=r();w!==null?
(c.substr(a,1)===")"?(x=")",a+=1):(x=null,m&&g('")"')),x!==null?e=[e,h,k,i,n,o,s,q,t,w,x]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c){var b={token:"expression",expressionType:"builtincall",builtincall:"langmatches"};b.args=[a,c];return b}(e[4],e[8]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,1)==="D"?(e="D",a+=1):(e=null,m&&
g('"D"'));e===null&&(c.substr(a,1)==="d"?(e="d",a+=1):(e=null,m&&g('"d"')),e=e!==null?e:null);if(e!==null)if(c.substr(a,1)==="A"?(h="A",a+=1):(h=null,m&&g('"A"')),h===null&&(c.substr(a,1)==="a"?(h="a",a+=1):(h=null,m&&g('"a"')),h=h!==null?h:null),h!==null)if(c.substr(a,1)==="T"?(k="T",a+=1):(k=null,m&&g('"T"')),k===null&&(c.substr(a,1)==="t"?(k="t",a+=1):(k=null,m&&g('"t"')),k=k!==null?k:null),k!==null)if(c.substr(a,1)==="A"?(i="A",a+=1):(i=null,m&&g('"A"')),i===null&&(c.substr(a,1)==="a"?(i="a",
a+=1):(i=null,m&&g('"a"')),i=i!==null?i:null),i!==null)if(c.substr(a,1)==="T"?(n="T",a+=1):(n=null,m&&g('"T"')),n===null&&(c.substr(a,1)==="t"?(n="t",a+=1):(n=null,m&&g('"t"')),n=n!==null?n:null),n!==null)if(c.substr(a,1)==="Y"?(o="Y",a+=1):(o=null,m&&g('"Y"')),o===null&&(c.substr(a,1)==="y"?(o="y",a+=1):(o=null,m&&g('"y"')),o=o!==null?o:null),o!==null)if(c.substr(a,1)==="P"?(s="P",a+=1):(s=null,m&&g('"P"')),s===null&&(c.substr(a,1)==="p"?(s="p",a+=1):(s=null,m&&g('"p"')),s=s!==null?s:null),s!==null)if(c.substr(a,
1)==="E"?(q="E",a+=1):(q=null,m&&g('"E"')),q===null&&(c.substr(a,1)==="e"?(q="e",a+=1):(q=null,m&&g('"e"')),q=q!==null?q:null),q!==null){t=[];for(w=r();w!==null;)t.push(w),w=r();if(t!==null)if(c.substr(a,1)==="("?(w="(",a+=1):(w=null,m&&g('"("')),w!==null){for(var x=[],A=r();A!==null;)x.push(A),A=r();if(x!==null)if(A=P(),A!==null){for(var B=[],D=r();D!==null;)B.push(D),D=r();B!==null?(c.substr(a,1)===")"?(D=")",a+=1):(D=null,m&&g('")"')),D!==null?e=[e,h,k,i,n,o,s,q,t,w,x,A,B,D]:(e=null,a=f)):(e=null,
a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;f=e!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"datatype"};c.args=[a];return c}(e[11]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,5)==="BOUND"?(e="BOUND",a+=5):(e=null,m&&g('"BOUND"'));if(e!==null){h=[];for(k=r();k!==null;)h.push(k),k=r();
if(h!==null)if(c.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&g('"("')),k!==null){i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(n=T(),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(c.substr(a,1)===")"?(s=")",a+=1):(s=null,m&&g('")"')),s!==null?e=[e,h,k,i,n,o,s]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"bound"};c.args=[a];return c}(e[4]):
null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,3)==="IRI"?(e="IRI",a+=3):(e=null,m&&g('"IRI"'));if(e!==null){h=[];for(k=r();k!==null;)h.push(k),k=r();if(h!==null)if(c.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&g('"("')),k!==null){i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(n=P(),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(c.substr(a,1)===")"?(s=")",a+=1):(s=null,m&&g('")"')),s!==null?e=[e,h,k,i,n,o,s]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=
null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"iri"};c.args=[a];return c}(e[4]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,3)==="URI"?(e="URI",a+=3):(e=null,m&&g('"URI"'));if(e!==null){h=[];for(k=r();k!==null;)h.push(k),k=r();if(h!==null)if(c.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&g('"("')),k!==null){i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(n=P(),n!==null){o=
[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(c.substr(a,1)===")"?(s=")",a+=1):(s=null,m&&g('")"')),s!==null?e=[e,h,k,i,n,o,s]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"uri"};c.args=[a];return c}(e[4]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,5)==="BNODE"?(e="BNODE",a+=5):(e=null,m&&g('"BNODE"'));if(e!==null){h=[];for(k=
r();k!==null;)h.push(k),k=r();if(h!==null){k=a;c.substr(a,1)==="("?(i="(",a+=1):(i=null,m&&g('"("'));if(i!==null){n=[];for(o=r();o!==null;)n.push(o),o=r();if(n!==null)if(o=P(),o!==null){s=[];for(q=r();q!==null;)s.push(q),q=r();s!==null?(c.substr(a,1)===")"?(q=")",a+=1):(q=null,m&&g('")"')),q!==null?i=[i,n,o,s,q]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k}else i=null,a=k;i!==null?k=i:(k=ja(),k=k!==null?k:null);k!==null?e=[e,h,k]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;f=e!==null?
function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"bnode"};c.args=a.length===5?[a[2]]:null;return c}(e[2]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,8)==="COALESCE"?(e="COALESCE",a+=8):(e=null,m&&g('"COALESCE"'));if(e!==null){h=[];for(k=r();k!==null;)h.push(k),k=r();h!==null?(k=Sb(),k!==null?e=[e,h,k]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"coalesce"};
c.args=a;return c}(e[2]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,2)==="IF"?(e="IF",a+=2):(e=null,m&&g('"IF"'));if(e!==null){h=[];for(k=r();k!==null;)h.push(k),k=r();if(h!==null)if(c.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&g('"("')),k!==null){i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(n=P(),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)===","?(s=",",a+=1):(s=null,m&&g('","')),s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();
if(q!==null)if(t=P(),t!==null){w=[];for(x=r();x!==null;)w.push(x),x=r();if(w!==null)if(c.substr(a,1)===","?(x=",",a+=1):(x=null,m&&g('","')),x!==null){A=[];for(B=r();B!==null;)A.push(B),B=r();if(A!==null)if(B=P(),B!==null){for(var D=[],G=r();G!==null;)D.push(G),G=r();D!==null?(c.substr(a,1)===")"?(G=")",a+=1):(G=null,m&&g('")"')),G!==null?e=[e,h,k,i,n,o,s,q,t,w,x,A,B,D,G]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=
null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c,b){var e={token:"expression",expressionType:"builtincall",builtincall:"if"};e.args=[a,c,b];return e}(e[4],e[8],e[12]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,9)==="ISLITERAL"?(e="ISLITERAL",a+=9):(e=null,m&&g('"ISLITERAL"'));if(e!==null){h=[];for(k=r();k!==null;)h.push(k),k=r();if(h!==null)if(c.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&g('"("')),
k!==null){i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(n=P(),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(c.substr(a,1)===")"?(s=")",a+=1):(s=null,m&&g('")"')),s!==null?e=[e,h,k,i,n,o,s]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"isliteral"};c.args=[a];return c}(e[4]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=
j=a;c.substr(a,7)==="ISBLANK"?(e="ISBLANK",a+=7):(e=null,m&&g('"ISBLANK"'));if(e!==null){h=[];for(k=r();k!==null;)h.push(k),k=r();if(h!==null)if(c.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&g('"("')),k!==null){i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(n=P(),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(c.substr(a,1)===")"?(s=")",a+=1):(s=null,m&&g('")"')),s!==null?e=[e,h,k,i,n,o,s]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=
f}else e=null,a=f;f=e!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"isblank"};c.args=[a];return c}(e[4]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,8)==="SAMETERM"?(e="SAMETERM",a+=8):(e=null,m&&g('"SAMETERM"'));if(e!==null){h=[];for(k=r();k!==null;)h.push(k),k=r();if(h!==null)if(c.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&g('"("')),k!==null){i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(n=P(),n!==null){o=[];for(s=r();s!==null;)o.push(s),
s=r();if(o!==null)if(c.substr(a,1)===","?(s=",",a+=1):(s=null,m&&g('","')),s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=P(),t!==null){w=[];for(x=r();x!==null;)w.push(x),x=r();w!==null?(c.substr(a,1)===")"?(x=")",a+=1):(x=null,m&&g('")"')),x!==null?e=[e,h,k,i,n,o,s,q,t,w,x]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c){var b={token:"expression",
expressionType:"builtincall",builtincall:"sameterm"};b.args=[a,c];return b}(e[4],e[8]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,1)==="I"?(e="I",a+=1):(e=null,m&&g('"I"'));e===null&&(c.substr(a,1)==="i"?(e="i",a+=1):(e=null,m&&g('"i"')),e=e!==null?e:null);if(e!==null)if(c.substr(a,1)==="S"?(h="S",a+=1):(h=null,m&&g('"S"')),h===null&&(c.substr(a,1)==="s"?(h="s",a+=1):(h=null,m&&g('"s"')),h=h!==null?h:null),h!==null)if(c.substr(a,1)==="U"?(k="U",a+=1):(k=null,m&&g('"U"')),k===
null&&(c.substr(a,1)==="u"?(k="u",a+=1):(k=null,m&&g('"u"')),k=k!==null?k:null),k!==null)if(c.substr(a,1)==="R"?(i="R",a+=1):(i=null,m&&g('"R"')),i===null&&(c.substr(a,1)==="r"?(i="r",a+=1):(i=null,m&&g('"r"')),i=i!==null?i:null),i!==null)if(c.substr(a,1)==="I"?(n="I",a+=1):(n=null,m&&g('"I"')),n===null&&(c.substr(a,1)==="i"?(n="i",a+=1):(n=null,m&&g('"i"')),n=n!==null?n:null),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)==="("?(s="(",a+=1):(s=null,m&&g('"("')),s!==
null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=P(),t!==null){w=[];for(x=r();x!==null;)w.push(x),x=r();w!==null?(c.substr(a,1)===")"?(x=")",a+=1):(x=null,m&&g('")"')),x!==null?e=[e,h,k,i,n,o,s,q,t,w,x]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;f=e!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"isuri"};c.args=[a];return c}(e[8]):
null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,1)==="I"?(e="I",a+=1):(e=null,m&&g('"I"'));e===null&&(c.substr(a,1)==="i"?(e="i",a+=1):(e=null,m&&g('"i"')),e=e!==null?e:null);if(e!==null)if(c.substr(a,1)==="S"?(h="S",a+=1):(h=null,m&&g('"S"')),h===null&&(c.substr(a,1)==="s"?(h="s",a+=1):(h=null,m&&g('"s"')),h=h!==null?h:null),h!==null)if(c.substr(a,1)==="I"?(k="I",a+=1):(k=null,m&&g('"I"')),k===null&&(c.substr(a,1)==="i"?(k="i",a+=1):(k=null,m&&g('"i"')),k=k!==null?k:null),k!==null)if(c.substr(a,
1)==="R"?(i="R",a+=1):(i=null,m&&g('"R"')),i===null&&(c.substr(a,1)==="r"?(i="r",a+=1):(i=null,m&&g('"r"')),i=i!==null?i:null),i!==null)if(c.substr(a,1)==="I"?(n="I",a+=1):(n=null,m&&g('"I"')),n===null&&(c.substr(a,1)==="i"?(n="i",a+=1):(n=null,m&&g('"i"')),n=n!==null?n:null),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)==="("?(s="(",a+=1):(s=null,m&&g('"("')),s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=P(),t!==null){w=[];for(x=r();x!==null;)w.push(x),
x=r();w!==null?(c.substr(a,1)===")"?(x=")",a+=1):(x=null,m&&g('")"')),x!==null?e=[e,h,k,i,n,o,s,q,t,w,x]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;f=e!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"isuri"};c.args=[a];return c}(e[8]):null;f===null&&(f=null,a=j);f!==null?j=f:(j=gc(),j===null&&(j=hc(),j===null&&(j=ic(),j=j!==null?j:null)))}}}}}}}}}}}}}}(m=
d)&&j===null&&g("[106] BuiltInCall");z[b]={nextPos:a,result:j};return j}function gc(){var b="RegexExpression@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,f=a;if(c.substr(a,1)==="R"){var e="R";a+=1}else e=null,m&&g('"R"');e===null&&(c.substr(a,1)==="r"?(e="r",a+=1):(e=null,m&&g('"r"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="E"){var j="E";a+=1}else j=null,m&&g('"E"');j===null&&(c.substr(a,1)==="e"?(j="e",a+=1):(j=null,m&&g('"e"')),j=j!==null?j:null);if(j!==null){if(c.substr(a,
1)==="G"){var h="G";a+=1}else h=null,m&&g('"G"');h===null&&(c.substr(a,1)==="g"?(h="g",a+=1):(h=null,m&&g('"g"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="E"){var i="E";a+=1}else i=null,m&&g('"E"');i===null&&(c.substr(a,1)==="e"?(i="e",a+=1):(i=null,m&&g('"e"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="X"){var n="X";a+=1}else n=null,m&&g('"X"');n===null&&(c.substr(a,1)==="x"?(n="x",a+=1):(n=null,m&&g('"x"')),n=n!==null?n:null);if(n!==null){for(var o=[],s=r();s!==null;)o.push(s),
s=r();if(o!==null)if(c.substr(a,1)==="("?(s="(",a+=1):(s=null,m&&g('"("')),s!==null){for(var q=[],t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=P(),t!==null){for(var w=[],x=r();x!==null;)w.push(x),x=r();if(w!==null)if(c.substr(a,1)===","?(x=",",a+=1):(x=null,m&&g('","')),x!==null){for(var A=[],B=r();B!==null;)A.push(B),B=r();if(A!==null)if(B=P(),B!==null){for(var D=[],G=r();G!==null;)D.push(G),G=r();if(D!==null){G=a;if(c.substr(a,1)===","){var E=",";a+=1}else E=null,m&&g('","');if(E!==null){for(var F=
[],L=r();L!==null;)F.push(L),L=r();F!==null?(L=P(),L!==null?E=[E,F,L]:(E=null,a=G)):(E=null,a=G)}else E=null,a=G;G=E!==null?E:"";if(G!==null){E=[];for(F=r();F!==null;)E.push(F),F=r();E!==null?(c.substr(a,1)===")"?(F=")",a+=1):(F=null,m&&g('")"')),F!==null?e=[e,j,h,i,n,o,s,q,t,w,x,A,B,D,G,E,F]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=
null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c,b){var e={token:"expression",expressionType:"regex"};e.text=a;e.pattern=c;e.flags=b[2];return e}(e[8],e[12],e[14]):null;f===null&&(f=null,a=k);(m=d)&&f===null&&g("[107] RegexExpression");z[b]={nextPos:a,result:f};return f}function hc(){var b="ExistsFunc@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,f=a;if(c.substr(a,1)==="E"){var e="E";a+=1}else e=null,m&&g('"E"');e===null&&(c.substr(a,1)==="e"?(e="e",
a+=1):(e=null,m&&g('"e"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="X"){var j="X";a+=1}else j=null,m&&g('"X"');j===null&&(c.substr(a,1)==="x"?(j="x",a+=1):(j=null,m&&g('"x"')),j=j!==null?j:null);if(j!==null){if(c.substr(a,1)==="I"){var h="I";a+=1}else h=null,m&&g('"I"');h===null&&(c.substr(a,1)==="i"?(h="i",a+=1):(h=null,m&&g('"i"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="S"){var i="S";a+=1}else i=null,m&&g('"S"');i===null&&(c.substr(a,1)==="s"?(i="s",a+=1):(i=null,m&&g('"s"')),
i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="T"){var n="T";a+=1}else n=null,m&&g('"T"');n===null&&(c.substr(a,1)==="t"?(n="t",a+=1):(n=null,m&&g('"t"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="S"){var o="S";a+=1}else o=null,m&&g('"S"');o===null&&(c.substr(a,1)==="s"?(o="s",a+=1):(o=null,m&&g('"s"')),o=o!==null?o:null);if(o!==null){for(var s=[],q=r();q!==null;)s.push(q),q=r();s!==null?(q=Z(),q!==null?e=[e,j,h,i,n,o,s,q]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=
null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"exists"};c.args=[a];return c}(e[7]):null;f===null&&(f=null,a=k);(m=d)&&f===null&&g("[108] ExistsFunc");z[b]={nextPos:a,result:f};return f}function ic(){var b="NotExistsFunc@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,f=a;if(c.substr(a,1)==="N"){var e="N";a+=1}else e=null,m&&g('"N"');e===null&&(c.substr(a,1)==="n"?(e="n",a+=1):(e=null,
m&&g('"n"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="O"){var j="O";a+=1}else j=null,m&&g('"O"');j===null&&(c.substr(a,1)==="o"?(j="o",a+=1):(j=null,m&&g('"o"')),j=j!==null?j:null);if(j!==null){if(c.substr(a,1)==="T"){var h="T";a+=1}else h=null,m&&g('"T"');h===null&&(c.substr(a,1)==="t"?(h="t",a+=1):(h=null,m&&g('"t"')),h=h!==null?h:null);if(h!==null){for(var i=[],n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)==="E"?(n="E",a+=1):(n=null,m&&g('"E"')),n===null&&(c.substr(a,
1)==="e"?(n="e",a+=1):(n=null,m&&g('"e"')),n=n!==null?n:null),n!==null){if(c.substr(a,1)==="X"){var o="X";a+=1}else o=null,m&&g('"X"');o===null&&(c.substr(a,1)==="x"?(o="x",a+=1):(o=null,m&&g('"x"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="I"){var s="I";a+=1}else s=null,m&&g('"I"');s===null&&(c.substr(a,1)==="i"?(s="i",a+=1):(s=null,m&&g('"i"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="S"){var q="S";a+=1}else q=null,m&&g('"S"');q===null&&(c.substr(a,1)==="s"?(q="s",a+=1):(q=
null,m&&g('"s"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="T"){var t="T";a+=1}else t=null,m&&g('"T"');t===null&&(c.substr(a,1)==="t"?(t="t",a+=1):(t=null,m&&g('"t"')),t=t!==null?t:null);if(t!==null){if(c.substr(a,1)==="S"){var w="S";a+=1}else w=null,m&&g('"S"');w===null&&(c.substr(a,1)==="s"?(w="s",a+=1):(w=null,m&&g('"s"')),w=w!==null?w:null);if(w!==null){for(var x=[],A=r();A!==null;)x.push(A),A=r();x!==null?(A=Z(),A!==null?e=[e,j,h,i,n,o,s,q,t,w,x,A]:(e=null,a=f)):(e=null,a=f)}else e=
null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"notexists"};c.args=[a];return c}(e[11]):null;f===null&&(f=null,a=k);(m=d)&&f===null&&g("[109] NotExistsFunc");z[b]={nextPos:a,result:f};return f}function fc(){var b="Aggregate@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,f=a;if(c.substr(a,1)===
"C"){var e="C";a+=1}else e=null,m&&g('"C"');e===null&&(c.substr(a,1)==="c"?(e="c",a+=1):(e=null,m&&g('"c"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="O"){var j="O";a+=1}else j=null,m&&g('"O"');j===null&&(c.substr(a,1)==="o"?(j="o",a+=1):(j=null,m&&g('"o"')),j=j!==null?j:null);if(j!==null){if(c.substr(a,1)==="U"){var h="U";a+=1}else h=null,m&&g('"U"');h===null&&(c.substr(a,1)==="u"?(h="u",a+=1):(h=null,m&&g('"u"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="N"){var i="N";a+=1}else i=
null,m&&g('"N"');i===null&&(c.substr(a,1)==="n"?(i="n",a+=1):(i=null,m&&g('"n"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="T"){var n="T";a+=1}else n=null,m&&g('"T"');n===null&&(c.substr(a,1)==="t"?(n="t",a+=1):(n=null,m&&g('"t"')),n=n!==null?n:null);if(n!==null){for(var o=[],s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)==="("?(s="(",a+=1):(s=null,m&&g('"("')),s!==null){for(var q=[],t=r();t!==null;)q.push(t),t=r();if(q!==null){t=a;if(c.substr(a,1)==="D"){var w="D";a+=1}else w=
null,m&&g('"D"');w===null&&(c.substr(a,1)==="d"?(w="d",a+=1):(w=null,m&&g('"d"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="I"){var x="I";a+=1}else x=null,m&&g('"I"');x===null&&(c.substr(a,1)==="i"?(x="i",a+=1):(x=null,m&&g('"i"')),x=x!==null?x:null);if(x!==null){if(c.substr(a,1)==="S"){var A="S";a+=1}else A=null,m&&g('"S"');A===null&&(c.substr(a,1)==="s"?(A="s",a+=1):(A=null,m&&g('"s"')),A=A!==null?A:null);if(A!==null){if(c.substr(a,1)==="T"){var B="T";a+=1}else B=null,m&&g('"T"');B===
null&&(c.substr(a,1)==="t"?(B="t",a+=1):(B=null,m&&g('"t"')),B=B!==null?B:null);if(B!==null){if(c.substr(a,1)==="I"){var D="I";a+=1}else D=null,m&&g('"I"');D===null&&(c.substr(a,1)==="i"?(D="i",a+=1):(D=null,m&&g('"i"')),D=D!==null?D:null);if(D!==null){if(c.substr(a,1)==="N"){var G="N";a+=1}else G=null,m&&g('"N"');G===null&&(c.substr(a,1)==="n"?(G="n",a+=1):(G=null,m&&g('"n"')),G=G!==null?G:null);if(G!==null){if(c.substr(a,1)==="C"){var E="C";a+=1}else E=null,m&&g('"C"');E===null&&(c.substr(a,1)===
"c"?(E="c",a+=1):(E=null,m&&g('"c"')),E=E!==null?E:null);if(E!==null){if(c.substr(a,1)==="T"){var F="T";a+=1}else F=null,m&&g('"T"');F===null&&(c.substr(a,1)==="t"?(F="t",a+=1):(F=null,m&&g('"t"')),F=F!==null?F:null);F!==null?w=[w,x,A,B,D,G,E,F]:(w=null,a=t)}else w=null,a=t}else w=null,a=t}else w=null,a=t}else w=null,a=t}else w=null,a=t}else w=null,a=t}else w=null,a=t;t=w!==null?w:"";if(t!==null){w=[];for(x=r();x!==null;)w.push(x),x=r();if(w!==null)if(c.substr(a,1)==="*"?(x="*",a+=1):(x=null,m&&g('"*"')),
x===null&&(x=P(),x=x!==null?x:null),x!==null){A=[];for(B=r();B!==null;)A.push(B),B=r();if(A!==null)if(c.substr(a,1)===")"?(B=")",a+=1):(B=null,m&&g('")"')),B!==null){D=[];for(G=r();G!==null;)D.push(G),G=r();D!==null?e=[e,j,h,i,n,o,s,q,t,w,x,A,B,D]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c){exp={token:"expression",
expressionType:"aggregate",aggregateType:"count"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=c;return exp}(e[8],e[10]):null;f===null&&(f=null,a=k);if(f!==null)k=f;else{f=k=a;c.substr(a,1)==="S"?(e="S",a+=1):(e=null,m&&g('"S"'));e===null&&(c.substr(a,1)==="s"?(e="s",a+=1):(e=null,m&&g('"s"')),e=e!==null?e:null);if(e!==null)if(c.substr(a,1)==="U"?(j="U",a+=1):(j=null,m&&g('"U"')),j===null&&(c.substr(a,1)==="u"?(j="u",a+=1):(j=null,m&&g('"u"')),j=j!==null?j:null),j!==null)if(c.substr(a,1)==="M"?
(h="M",a+=1):(h=null,m&&g('"M"')),h===null&&(c.substr(a,1)==="m"?(h="m",a+=1):(h=null,m&&g('"m"')),h=h!==null?h:null),h!==null){i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)==="("?(n="(",a+=1):(n=null,m&&g('"("')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(s=a,c.substr(a,1)==="D"?(q="D",a+=1):(q=null,m&&g('"D"')),q===null&&(c.substr(a,1)==="d"?(q="d",a+=1):(q=null,m&&g('"d"')),q=q!==null?q:null),q!==null?(c.substr(a,1)==="I"?(t="I",a+=1):(t=null,m&&g('"I"')),
t===null&&(c.substr(a,1)==="i"?(t="i",a+=1):(t=null,m&&g('"i"')),t=t!==null?t:null),t!==null?(c.substr(a,1)==="S"?(w="S",a+=1):(w=null,m&&g('"S"')),w===null&&(c.substr(a,1)==="s"?(w="s",a+=1):(w=null,m&&g('"s"')),w=w!==null?w:null),w!==null?(c.substr(a,1)==="T"?(x="T",a+=1):(x=null,m&&g('"T"')),x===null&&(c.substr(a,1)==="t"?(x="t",a+=1):(x=null,m&&g('"t"')),x=x!==null?x:null),x!==null?(c.substr(a,1)==="I"?(A="I",a+=1):(A=null,m&&g('"I"')),A===null&&(c.substr(a,1)==="i"?(A="i",a+=1):(A=null,m&&g('"i"')),
A=A!==null?A:null),A!==null?(c.substr(a,1)==="N"?(B="N",a+=1):(B=null,m&&g('"N"')),B===null&&(c.substr(a,1)==="n"?(B="n",a+=1):(B=null,m&&g('"n"')),B=B!==null?B:null),B!==null?(c.substr(a,1)==="C"?(D="C",a+=1):(D=null,m&&g('"C"')),D===null&&(c.substr(a,1)==="c"?(D="c",a+=1):(D=null,m&&g('"c"')),D=D!==null?D:null),D!==null?(c.substr(a,1)==="T"?(G="T",a+=1):(G=null,m&&g('"T"')),G===null&&(c.substr(a,1)==="t"?(G="t",a+=1):(G=null,m&&g('"t"')),G=G!==null?G:null),G!==null?q=[q,t,w,x,A,B,D,G]:(q=null,a=
s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s),s=q!==null?q:"",s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=P(),t!==null){w=[];for(x=r();x!==null;)w.push(x),x=r();if(w!==null)if(c.substr(a,1)===")"?(x=")",a+=1):(x=null,m&&g('")"')),x!==null){A=[];for(B=r();B!==null;)A.push(B),B=r();A!==null?e=[e,j,h,i,n,o,s,q,t,w,x,A]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,
a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){exp={token:"expression",expressionType:"aggregate",aggregateType:"sum"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=c;return exp}(e[6],e[8]):null;f===null&&(f=null,a=k);if(f!==null)k=f;else{f=k=a;c.substr(a,1)==="M"?(e="M",a+=1):(e=null,m&&g('"M"'));e===null&&(c.substr(a,1)==="m"?(e="m",a+=1):(e=null,m&&g('"m"')),e=e!==null?e:null);if(e!==null)if(c.substr(a,1)==="I"?(j="I",a+=1):(j=null,
m&&g('"I"')),j===null&&(c.substr(a,1)==="i"?(j="i",a+=1):(j=null,m&&g('"i"')),j=j!==null?j:null),j!==null)if(c.substr(a,1)==="N"?(h="N",a+=1):(h=null,m&&g('"N"')),h===null&&(c.substr(a,1)==="n"?(h="n",a+=1):(h=null,m&&g('"n"')),h=h!==null?h:null),h!==null){i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)==="("?(n="(",a+=1):(n=null,m&&g('"("')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(s=a,c.substr(a,1)==="D"?(q="D",a+=1):(q=null,m&&g('"D"')),q===null&&
(c.substr(a,1)==="d"?(q="d",a+=1):(q=null,m&&g('"d"')),q=q!==null?q:null),q!==null?(c.substr(a,1)==="I"?(t="I",a+=1):(t=null,m&&g('"I"')),t===null&&(c.substr(a,1)==="i"?(t="i",a+=1):(t=null,m&&g('"i"')),t=t!==null?t:null),t!==null?(c.substr(a,1)==="S"?(w="S",a+=1):(w=null,m&&g('"S"')),w===null&&(c.substr(a,1)==="s"?(w="s",a+=1):(w=null,m&&g('"s"')),w=w!==null?w:null),w!==null?(c.substr(a,1)==="T"?(x="T",a+=1):(x=null,m&&g('"T"')),x===null&&(c.substr(a,1)==="t"?(x="t",a+=1):(x=null,m&&g('"t"')),x=
x!==null?x:null),x!==null?(c.substr(a,1)==="I"?(A="I",a+=1):(A=null,m&&g('"I"')),A===null&&(c.substr(a,1)==="i"?(A="i",a+=1):(A=null,m&&g('"i"')),A=A!==null?A:null),A!==null?(c.substr(a,1)==="N"?(B="N",a+=1):(B=null,m&&g('"N"')),B===null&&(c.substr(a,1)==="n"?(B="n",a+=1):(B=null,m&&g('"n"')),B=B!==null?B:null),B!==null?(c.substr(a,1)==="C"?(D="C",a+=1):(D=null,m&&g('"C"')),D===null&&(c.substr(a,1)==="c"?(D="c",a+=1):(D=null,m&&g('"c"')),D=D!==null?D:null),D!==null?(c.substr(a,1)==="T"?(G="T",a+=
1):(G=null,m&&g('"T"')),G===null&&(c.substr(a,1)==="t"?(G="t",a+=1):(G=null,m&&g('"t"')),G=G!==null?G:null),G!==null?q=[q,t,w,x,A,B,D,G]:(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s),s=q!==null?q:"",s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=P(),t!==null){w=[];for(x=r();x!==null;)w.push(x),x=r();if(w!==null)if(c.substr(a,1)===")"?(x=")",a+=1):(x=null,m&&g('")"')),x!==null){A=[];for(B=r();B!==null;)A.push(B),
B=r();A!==null?e=[e,j,h,i,n,o,s,q,t,w,x,A]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){exp={token:"expression",expressionType:"aggregate",aggregateType:"min"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=c;return exp}(e[6],e[8]):null;f===null&&(f=null,a=k);if(f!==null)k=f;else{f=k=a;c.substr(a,1)==="M"?(e="M",a+=1):(e=null,m&&g('"M"'));
e===null&&(c.substr(a,1)==="m"?(e="m",a+=1):(e=null,m&&g('"m"')),e=e!==null?e:null);if(e!==null)if(c.substr(a,1)==="A"?(j="A",a+=1):(j=null,m&&g('"A"')),j===null&&(c.substr(a,1)==="a"?(j="a",a+=1):(j=null,m&&g('"a"')),j=j!==null?j:null),j!==null)if(c.substr(a,1)==="X"?(h="X",a+=1):(h=null,m&&g('"X"')),h===null&&(c.substr(a,1)==="x"?(h="x",a+=1):(h=null,m&&g('"x"')),h=h!==null?h:null),h!==null){i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)==="("?(n="(",a+=1):(n=null,m&&g('"("')),
n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(s=a,c.substr(a,1)==="D"?(q="D",a+=1):(q=null,m&&g('"D"')),q===null&&(c.substr(a,1)==="d"?(q="d",a+=1):(q=null,m&&g('"d"')),q=q!==null?q:null),q!==null?(c.substr(a,1)==="I"?(t="I",a+=1):(t=null,m&&g('"I"')),t===null&&(c.substr(a,1)==="i"?(t="i",a+=1):(t=null,m&&g('"i"')),t=t!==null?t:null),t!==null?(c.substr(a,1)==="S"?(w="S",a+=1):(w=null,m&&g('"S"')),w===null&&(c.substr(a,1)==="s"?(w="s",a+=1):(w=null,m&&g('"s"')),w=w!==null?w:null),
w!==null?(c.substr(a,1)==="T"?(x="T",a+=1):(x=null,m&&g('"T"')),x===null&&(c.substr(a,1)==="t"?(x="t",a+=1):(x=null,m&&g('"t"')),x=x!==null?x:null),x!==null?(c.substr(a,1)==="I"?(A="I",a+=1):(A=null,m&&g('"I"')),A===null&&(c.substr(a,1)==="i"?(A="i",a+=1):(A=null,m&&g('"i"')),A=A!==null?A:null),A!==null?(c.substr(a,1)==="N"?(B="N",a+=1):(B=null,m&&g('"N"')),B===null&&(c.substr(a,1)==="n"?(B="n",a+=1):(B=null,m&&g('"n"')),B=B!==null?B:null),B!==null?(c.substr(a,1)==="C"?(D="C",a+=1):(D=null,m&&g('"C"')),
D===null&&(c.substr(a,1)==="c"?(D="c",a+=1):(D=null,m&&g('"c"')),D=D!==null?D:null),D!==null?(c.substr(a,1)==="T"?(G="T",a+=1):(G=null,m&&g('"T"')),G===null&&(c.substr(a,1)==="t"?(G="t",a+=1):(G=null,m&&g('"t"')),G=G!==null?G:null),G!==null?q=[q,t,w,x,A,B,D,G]:(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s),s=q!==null?q:"",s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=P(),t!==null){w=[];for(x=r();x!==null;)w.push(x),
x=r();if(w!==null)if(c.substr(a,1)===")"?(x=")",a+=1):(x=null,m&&g('")"')),x!==null){A=[];for(B=r();B!==null;)A.push(B),B=r();A!==null?e=[e,j,h,i,n,o,s,q,t,w,x,A]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){exp={token:"expression",expressionType:"aggregate",aggregateType:"max"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=c;return exp}(e[6],
e[8]):null;f===null&&(f=null,a=k);if(f!==null)k=f;else{f=k=a;c.substr(a,1)==="A"?(e="A",a+=1):(e=null,m&&g('"A"'));e===null&&(c.substr(a,1)==="a"?(e="a",a+=1):(e=null,m&&g('"a"')),e=e!==null?e:null);if(e!==null)if(c.substr(a,1)==="V"?(j="V",a+=1):(j=null,m&&g('"V"')),j===null&&(c.substr(a,1)==="v"?(j="v",a+=1):(j=null,m&&g('"v"')),j=j!==null?j:null),j!==null)if(c.substr(a,1)==="G"?(h="G",a+=1):(h=null,m&&g('"G"')),h===null&&(c.substr(a,1)==="g"?(h="g",a+=1):(h=null,m&&g('"g"')),h=h!==null?h:null),
h!==null){i=[];for(n=r();n!==null;)i.push(n),n=r();if(i!==null)if(c.substr(a,1)==="("?(n="(",a+=1):(n=null,m&&g('"("')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(s=a,c.substr(a,1)==="D"?(q="D",a+=1):(q=null,m&&g('"D"')),q===null&&(c.substr(a,1)==="d"?(q="d",a+=1):(q=null,m&&g('"d"')),q=q!==null?q:null),q!==null?(c.substr(a,1)==="I"?(t="I",a+=1):(t=null,m&&g('"I"')),t===null&&(c.substr(a,1)==="i"?(t="i",a+=1):(t=null,m&&g('"i"')),t=t!==null?t:null),t!==null?(c.substr(a,1)===
"S"?(w="S",a+=1):(w=null,m&&g('"S"')),w===null&&(c.substr(a,1)==="s"?(w="s",a+=1):(w=null,m&&g('"s"')),w=w!==null?w:null),w!==null?(c.substr(a,1)==="T"?(x="T",a+=1):(x=null,m&&g('"T"')),x===null&&(c.substr(a,1)==="t"?(x="t",a+=1):(x=null,m&&g('"t"')),x=x!==null?x:null),x!==null?(c.substr(a,1)==="I"?(A="I",a+=1):(A=null,m&&g('"I"')),A===null&&(c.substr(a,1)==="i"?(A="i",a+=1):(A=null,m&&g('"i"')),A=A!==null?A:null),A!==null?(c.substr(a,1)==="N"?(B="N",a+=1):(B=null,m&&g('"N"')),B===null&&(c.substr(a,
1)==="n"?(B="n",a+=1):(B=null,m&&g('"n"')),B=B!==null?B:null),B!==null?(c.substr(a,1)==="C"?(D="C",a+=1):(D=null,m&&g('"C"')),D===null&&(c.substr(a,1)==="c"?(D="c",a+=1):(D=null,m&&g('"c"')),D=D!==null?D:null),D!==null?(c.substr(a,1)==="T"?(G="T",a+=1):(G=null,m&&g('"T"')),G===null&&(c.substr(a,1)==="t"?(G="t",a+=1):(G=null,m&&g('"t"')),G=G!==null?G:null),G!==null?q=[q,t,w,x,A,B,D,G]:(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s),s=q!==
null?q:"",s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=P(),t!==null){w=[];for(x=r();x!==null;)w.push(x),x=r();if(w!==null)if(c.substr(a,1)===")"?(x=")",a+=1):(x=null,m&&g('")"')),x!==null){A=[];for(B=r();B!==null;)A.push(B),B=r();A!==null?e=[e,j,h,i,n,o,s,q,t,w,x,A]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;else e=null,a=f;f=e!==null?function(a,
c){exp={token:"expression",expressionType:"aggregate",aggregateType:"avg"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=c;return exp}(e[6],e[8]):null;f===null&&(f=null,a=k);k=f!==null?f:null}}}}(m=d)&&k===null&&g("[110] Aggregate");z[b]={nextPos:a,result:k};return k}function ec(){var c="IRIrefOrFunction@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=a,e=U();if(e!==null){var j=qb(),j=j!==null?j:"";j!==null?e=[e,j]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){var b={token:"expression",
expressionType:"irireforfunction"};b.iriref=a;b.args=c.value;return b}(e[0],e[1]):null;f===null&&(f=null,a=d);(m=b)&&f===null&&g("[117] IRIrefOrFunction");z[c]={nextPos:a,result:f};return f}function Ja(){var b="RDFLiteral@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=jc();if(e!==null){var h=kc();if(h===null){h=a;if(c.substr(a,2)==="^^"){var k="^^";a+=2}else k=null,m&&g('"^^"');if(k!==null){var i=U();i!==null?k=[k,i]:(k=null,a=h)}else k=null,a=h;h=k!==null?k:null}h=h!==null?h:
"";h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){return typeof c==="string"&&c.length>0?{token:"literal",value:a.value,lang:c.slice(1),type:null}:typeof c==="object"?(c.shift(),{token:"literal",value:a.value,lang:null,type:c[0]}):{token:"literal",value:a.value,lang:null,type:null}}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[112] RDFLiteral");z[b]={nextPos:a,result:f};return f}function Ka(){var c="NumericLiteral@"+a,b=z[c];if(b)return a=b.nextPos,b.result;
b=m;m=!1;var d=lc();d===null&&(d=mc(),d===null&&(d=sa(),d=d!==null?d:null));(m=b)&&d===null&&g("[113] NumericLiteral");z[c]={nextPos:a,result:d};return d}function lc(){var c="NumericLiteralUnsigned@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=Va();d===null&&(d=Wa(),d===null&&(d=ea(),d=d!==null?d:null));(m=b)&&d===null&&g("[114] NumericLiteralUnsigned");z[c]={nextPos:a,result:d};return d}function mc(){var c="NumericLiteralPositive@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;
var d=nc();d===null&&(d=oc(),d===null&&(d=pc(),d=d!==null?d:null));(m=b)&&d===null&&g("[115] NumericLiteralPositive");z[c]={nextPos:a,result:d};return d}function sa(){var c="NumericLiteralNegative@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=qc();d===null&&(d=rc(),d===null&&(d=sc(),d=d!==null?d:null));(m=b)&&d===null&&g("[116] NumericLiteralNegative");z[c]={nextPos:a,result:d};return d}function La(){var b="BooleanLiteral@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=
a;if(c.substr(a,1)==="T"){var e="T";a+=1}else e=null,m&&g('"T"');e===null&&(c.substr(a,1)==="t"?(e="t",a+=1):(e=null,m&&g('"t"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="R"){var h="R";a+=1}else h=null,m&&g('"R"');h===null&&(c.substr(a,1)==="r"?(h="r",a+=1):(h=null,m&&g('"r"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="U"){var k="U";a+=1}else k=null,m&&g('"U"');k===null&&(c.substr(a,1)==="u"?(k="u",a+=1):(k=null,m&&g('"u"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)===
"E"){var i="E";a+=1}else i=null,m&&g('"E"');i===null&&(c.substr(a,1)==="e"?(i="e",a+=1):(i=null,m&&g('"e"')),i=i!==null?i:null);i!==null?e=[e,h,k,i]:(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,1)==="F"?(e="F",a+=1):(e=null,m&&g('"F"'));e===null&&(c.substr(a,1)==="f"?(e="f",a+=1):(e=null,m&&g('"f"')),e=e!==null?e:null);
if(e!==null)if(c.substr(a,1)==="A"?(h="A",a+=1):(h=null,m&&g('"A"')),h===null&&(c.substr(a,1)==="a"?(h="a",a+=1):(h=null,m&&g('"a"')),h=h!==null?h:null),h!==null)if(c.substr(a,1)==="L"?(k="L",a+=1):(k=null,m&&g('"L"')),k===null&&(c.substr(a,1)==="l"?(k="l",a+=1):(k=null,m&&g('"l"')),k=k!==null?k:null),k!==null)if(c.substr(a,1)==="S"?(i="S",a+=1):(i=null,m&&g('"S"')),i===null&&(c.substr(a,1)==="s"?(i="s",a+=1):(i=null,m&&g('"s"')),i=i!==null?i:null),i!==null){if(c.substr(a,1)==="E"){var n="E";a+=1}else n=
null,m&&g('"E"');n===null&&(c.substr(a,1)==="e"?(n="e",a+=1):(n=null,m&&g('"e"')),n=n!==null?n:null);n!==null?e=[e,h,k,i,n]:(e=null,a=f)}else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;f=e!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}:null;f===null&&(f=null,a=j);j=f!==null?f:null}(m=d)&&j===null&&g("[117] BooleanLiteral");z[b]={nextPos:a,result:j};return j}function jc(){var c="String@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;
m=!1;var d=a,f=tc(),f=f!==null?{token:"string",value:f}:null;f===null&&(f=null,a=d);f!==null?d=f:(d=a,f=uc(),f=f!==null?{token:"string",value:f}:null,f===null&&(f=null,a=d),f!==null?d=f:(d=a,f=vc(),f=f!==null?{token:"string",value:f}:null,f===null&&(f=null,a=d),f!==null?d=f:(d=a,f=wc(),f=f!==null?{token:"string",value:f}:null,f===null&&(f=null,a=d),d=f!==null?f:null)));(m=b)&&d===null&&g("[118] String");z[c]={nextPos:a,result:d};return d}function U(){var c="IRIref@"+a,b=z[c];if(b)return a=b.nextPos,
b.result;b=m;m=!1;var d=a,f=na(),f=f!==null?{token:"uri",prefix:null,suffix:null,value:f}:null;f===null&&(f=null,a=d);f!==null?d=f:(d=a,f=xc(),f=f!==null?f:null,f===null&&(f=null,a=d),d=f!==null?f:null);(m=b)&&d===null&&g("[119] IRIref");z[c]={nextPos:a,result:d};return d}function xc(){var c="PrefixedName@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=yc(),f=f!==null?{token:"uri",prefix:f[0],suffix:f[1],value:null}:null;f===null&&(f=null,a=d);f!==null?d=f:(d=a,f=Ga(),f=f!==null?{token:"uri",
prefix:f,suffix:"",value:null}:null,f===null&&(f=null,a=d),d=f!==null?f:null);(m=b)&&d===null&&g("[120] PrefixedName");z[c]={nextPos:a,result:d};return d}function dc(){var c="BlankNode@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=zc(),f=f!==null?{token:"blank",value:f}:null;f===null&&(f=null,a=d);f!==null?d=f:(d=a,Ac()!==null?(fa++,f={token:"blank",value:"_:"+fa}):f=null,f===null&&(f=null,a=d),d=f!==null?f:null);(m=b)&&d===null&&g("[121] BlankNode");z[c]={nextPos:a,result:d};return d}
function na(){var b="IRI_REF@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var h=a,f=a;if(c.substr(a,1)==="<"){var e="<";a+=1}else e=null,m&&g('"<"');if(e!==null){var j=[];if(c.substr(a).match(/^[^<>"{}|^`\\]/)!==null){var k=c.charAt(a);a++}else k=null,m&&g('[^<>"{}|^`\\\\]');for(;k!==null;)j.push(k),c.substr(a).match(/^[^<>"{}|^`\\]/)!==null?(k=c.charAt(a),a++):(k=null,m&&g('[^<>"{}|^`\\\\]'));j!==null?(c.substr(a,1)===">"?(k=">",a+=1):(k=null,m&&g('">"')),k!==null?e=[e,j,k]:(e=null,a=f)):
(e=null,a=f)}else e=null,a=f;f=e!==null?e[1].join(""):null;f===null&&(f=null,a=h);(m=d)&&f===null&&g("[122] IRI_REF");z[b]={nextPos:a,result:f};return f}function Ga(){var b="PNAME_NS@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=fb(),e=e!==null?e:"";if(e!==null){if(c.substr(a,1)===":"){var h=":";a+=1}else h=null,m&&g('":"');h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?e[0]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[123] PNAME_NS");z[b]={nextPos:a,result:f};return f}
function yc(){var c="PNAME_LN@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=a,e=Ga();if(e!==null){var h=vb();h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?[e[0],e[1]]:null;f===null&&(f=null,a=d);(m=b)&&f===null&&g("[124] PNAME_LN");z[c]={nextPos:a,result:f};return f}function zc(){var b="BLANK_NODE_LABEL@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var h=a,f=a;if(c.substr(a,2)==="_:"){var e="_:";a+=2}else e=null,m&&g('"_:"');if(e!==null){var j=vb();j!==null?e=[e,
j]:(e=null,a=f)}else e=null,a=f;f=e!==null?e[1]:null;f===null&&(f=null,a=h);(m=d)&&f===null&&g("[125] BLANK_NODE_LABEL");z[b]={nextPos:a,result:f};return f}function bc(){var b="VAR1@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var h=a,f=a;if(c.substr(a,1)==="?"){var e="?";a+=1}else e=null,m&&g('"?"');if(e!==null){var j=wb();j!==null?e=[e,j]:(e=null,a=f)}else e=null,a=f;f=e!==null?e[1]:null;f===null&&(f=null,a=h);(m=d)&&f===null&&g("[126] VAR1");z[b]={nextPos:a,result:f};return f}function cc(){var b=
"VAR2@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var h=a,f=a;if(c.substr(a,1)==="$"){var e="$";a+=1}else e=null,m&&g('"$"');if(e!==null){var j=wb();j!==null?e=[e,j]:(e=null,a=f)}else e=null,a=f;f=e!==null?e[1]:null;f===null&&(f=null,a=h);(m=d)&&f===null&&g("[127] VAR2");z[b]={nextPos:a,result:f};return f}function kc(){var b="LANGTAG@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var h=a,f=a;if(c.substr(a,1)==="@"){var e="@";a+=1}else e=null,m&&g('"@"');if(e!==null){if(c.substr(a).match(/^[a-zA-Z]/)!==
null){var j=c.charAt(a);a++}else j=null,m&&g("[a-zA-Z]");if(j!==null)for(var k=[];j!==null;)k.push(j),c.substr(a).match(/^[a-zA-Z]/)!==null?(j=c.charAt(a),a++):(j=null,m&&g("[a-zA-Z]"));else k=null;if(k!==null){var j=[],i=a;if(c.substr(a,1)==="-"){var n="-";a+=1}else n=null,m&&g('"-"');if(n!==null){if(c.substr(a).match(/^[a-zA-Z0-9]/)!==null){var o=c.charAt(a);a++}else o=null,m&&g("[a-zA-Z0-9]");if(o!==null)for(var q=[];o!==null;)q.push(o),c.substr(a).match(/^[a-zA-Z0-9]/)!==null?(o=c.charAt(a),a++):
(o=null,m&&g("[a-zA-Z0-9]"));else q=null;q!==null?n=[n,q]:(n=null,a=i)}else n=null,a=i;for(;n!==null;)if(j.push(n),i=a,c.substr(a,1)==="-"?(n="-",a+=1):(n=null,m&&g('"-"')),n!==null){c.substr(a).match(/^[a-zA-Z0-9]/)!==null?(o=c.charAt(a),a++):(o=null,m&&g("[a-zA-Z0-9]"));if(o!==null)for(q=[];o!==null;)q.push(o),c.substr(a).match(/^[a-zA-Z0-9]/)!==null?(o=c.charAt(a),a++):(o=null,m&&g("[a-zA-Z0-9]"));else q=null;q!==null?n=[n,q]:(n=null,a=i)}else n=null,a=i;j!==null?e=[e,k,j]:(e=null,a=f)}else e=
null,a=f}else e=null,a=f;f=e!==null?e[2].length===0?("@"+e[1].join("")).toLowerCase():("@"+e[1].join("")+"-"+e[2][0][1].join("")).toLowerCase():null;f===null&&(f=null,a=h);(m=d)&&f===null&&g("[128] LANGTAG");z[b]={nextPos:a,result:f};return f}function ea(){var b="INTEGER@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a;if(c.substr(a).match(/^[0-9]/)!==null){var f=c.charAt(a);a++}else f=null,m&&g("[0-9]");if(f!==null)for(var e=[];f!==null;)e.push(f),c.substr(a).match(/^[0-9]/)!==null?(f=
c.charAt(a),a++):(f=null,m&&g("[0-9]"));else e=null;f=e!==null?function(a){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#integer"};lit.value=$(a);return lit}(e):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[129] INTEGER");z[b]={nextPos:a,result:f};return f}function Wa(){var b="DECIMAL@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a).match(/^[0-9]/)!==null){var e=c.charAt(a);a++}else e=null,m&&g("[0-9]");if(e!==null)for(var h=[];e!==null;)h.push(e),
c.substr(a).match(/^[0-9]/)!==null?(e=c.charAt(a),a++):(e=null,m&&g("[0-9]"));else h=null;if(h!==null)if(c.substr(a,1)==="."?(e=".",a+=1):(e=null,m&&g('"."')),e!==null){var k=[];if(c.substr(a).match(/^[0-9]/)!==null){var i=c.charAt(a);a++}else i=null,m&&g("[0-9]");for(;i!==null;)k.push(i),c.substr(a).match(/^[0-9]/)!==null?(i=c.charAt(a),a++):(i=null,m&&g("[0-9]"));k!==null?h=[h,e,k]:(h=null,a=f)}else h=null,a=f;else h=null,a=f;f=h!==null?function(a,c,b){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};
lit.value=$([a,c,b]);return lit}(h[0],h[1],h[2]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,1)==="."?(h=".",a+=1):(h=null,m&&g('"."'));if(h!==null){c.substr(a).match(/^[0-9]/)!==null?(e=c.charAt(a),a++):(e=null,m&&g("[0-9]"));if(e!==null)for(k=[];e!==null;)k.push(e),c.substr(a).match(/^[0-9]/)!==null?(e=c.charAt(a),a++):(e=null,m&&g("[0-9]"));else k=null;k!==null?h=[h,k]:(h=null,a=f)}else h=null,a=f;f=h!==null?function(a,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};
lit.value=$([a,c]);return lit}(h[0],h[1]):null;f===null&&(f=null,a=j);j=f!==null?f:null}(m=d)&&j===null&&g("[130] DECIMAL");z[b]={nextPos:a,result:j};return j}function Va(){var b="DOUBLE@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var h=a,f=a;if(c.substr(a).match(/^[0-9]/)!==null){var e=c.charAt(a);a++}else e=null,m&&g("[0-9]");if(e!==null)for(var j=[];e!==null;)j.push(e),c.substr(a).match(/^[0-9]/)!==null?(e=c.charAt(a),a++):(e=null,m&&g("[0-9]"));else j=null;if(j!==null)if(c.substr(a,1)===
"."?(e=".",a+=1):(e=null,m&&g('"."')),e!==null){var k=[];if(c.substr(a).match(/^[0-9]/)!==null){var i=c.charAt(a);a++}else i=null,m&&g("[0-9]");for(;i!==null;)k.push(i),c.substr(a).match(/^[0-9]/)!==null?(i=c.charAt(a),a++):(i=null,m&&g("[0-9]"));k!==null?(i=Xa(),i!==null?j=[j,e,k,i]:(j=null,a=f)):(j=null,a=f)}else j=null,a=f;else j=null,a=f;f=j!==null?function(a,c,b,e){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=$([a,c,b,e]);return lit}(j[0],j[1],j[2],
j[3]):null;f===null&&(f=null,a=h);if(f!==null)h=f;else{f=h=a;c.substr(a,1)==="."?(j=".",a+=1):(j=null,m&&g('"."'));if(j!==null){c.substr(a).match(/^[0-9]/)!==null?(k=c.charAt(a),a++):(k=null,m&&g("[0-9]"));if(k!==null)for(e=[];k!==null;)e.push(k),c.substr(a).match(/^[0-9]/)!==null?(k=c.charAt(a),a++):(k=null,m&&g("[0-9]"));else e=null;e!==null?(k=Xa(),k!==null?j=[j,e,k]:(j=null,a=f)):(j=null,a=f)}else j=null,a=f;f=j!==null?function(a,c,b){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};
lit.value=$([a,c,b]);return lit}(j[0],j[1],j[2]):null;f===null&&(f=null,a=h);if(f!==null)h=f;else{f=h=a;c.substr(a).match(/^[0-9]/)!==null?(e=c.charAt(a),a++):(e=null,m&&g("[0-9]"));if(e!==null)for(j=[];e!==null;)j.push(e),c.substr(a).match(/^[0-9]/)!==null?(e=c.charAt(a),a++):(e=null,m&&g("[0-9]"));else j=null;j!==null?(e=Xa(),e!==null?j=[j,e]:(j=null,a=f)):(j=null,a=f);f=j!==null?function(a,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=$([a,c]);return lit}(j[0],
j[1]):null;f===null&&(f=null,a=h);h=f!==null?f:null}}(m=d)&&h===null&&g("[131] DOUBLE");z[b]={nextPos:a,result:h};return h}function pc(){var b="INTEGER_POSITIVE@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="+"){var e="+";a+=1}else e=null,m&&g('"+"');if(e!==null){var h=ea();h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){a.value="+"+a.value;return a}(e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[132] INTEGER_POSITIVE");z[b]={nextPos:a,
result:f};return f}function oc(){var b="DECIMAL_POSITIVE@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="+"){var e="+";a+=1}else e=null,m&&g('"+"');if(e!==null){var h=Wa();h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){a.value="+"+a.value;return a}(e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[133] DECIMAL_POSITIVE");z[b]={nextPos:a,result:f};return f}function nc(){var b="DOUBLE_POSITIVE@"+a,d=z[b];if(d)return a=d.nextPos,d.result;
d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="+"){var e="+";a+=1}else e=null,m&&g('"+"');if(e!==null){var h=Va();h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){a.value="+"+a.value;return a}(e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[134] DOUBLE_POSITIVE");z[b]={nextPos:a,result:f};return f}function sc(){var b="INTEGER_NEGATIVE@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="-"){var e="-";a+=1}else e=null,m&&g('"-"');if(e!==null){var h=
ea();h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){a.value="-"+a.value;return a}(e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[135] INTEGER_NEGATIVE");z[b]={nextPos:a,result:f};return f}function rc(){var b="DECIMAL_NEGATIVE@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="-"){var e="-";a+=1}else e=null,m&&g('"-"');if(e!==null){var h=Wa();h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){a.value="-"+a.value;return a}(e[1]):
null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[136] DECIMAL_NEGATIVE");z[b]={nextPos:a,result:f};return f}function qc(){var b="DOUBLE_NEGATIVE@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="-"){var e="-";a+=1}else e=null,m&&g('"-"');if(e!==null){var h=Va();h!==null?e=[e,h]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){a.value="-"+a.value;return a}(e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[137] DOUBLE_NEGATIVE");z[b]={nextPos:a,result:f};return f}
function Xa(){var b="EXPONENT@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a).match(/^[eE]/)!==null){var e=c.charAt(a);a++}else e=null,m&&g("[eE]");if(e!==null){if(c.substr(a).match(/^[+\-]/)!==null){var h=c.charAt(a);a++}else h=null,m&&g("[+\\-]");h=h!==null?h:"";if(h!==null){if(c.substr(a).match(/^[0-9]/)!==null){var k=c.charAt(a);a++}else k=null,m&&g("[0-9]");if(k!==null)for(var i=[];k!==null;)i.push(k),c.substr(a).match(/^[0-9]/)!==null?(k=c.charAt(a),a++):(k=null,
m&&g("[0-9]"));else i=null;i!==null?e=[e,h,i]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;f=e!==null?$([e[0],e[1],e[2]]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[138] EXPONENT");z[b]={nextPos:a,result:f};return f}function vc(){var b="STRING_LITERAL1@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="'"){var e="'";a+=1}else e=null,m&&g('"\'"');if(e!==null){var h=[];if(c.substr(a).match(/^[^'\\\n\r]/)!==null){var k=c.charAt(a);a++}else k=null,m&&g("[^'\\\\\\n\\r]");
k===null&&(k=ga(),k=k!==null?k:null);for(;k!==null;)h.push(k),c.substr(a).match(/^[^'\\\n\r]/)!==null?(k=c.charAt(a),a++):(k=null,m&&g("[^'\\\\\\n\\r]")),k===null&&(k=ga(),k=k!==null?k:null);h!==null?(c.substr(a,1)==="'"?(k="'",a+=1):(k=null,m&&g('"\'"')),k!==null?e=[e,h,k]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;f=e!==null?$(e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[139] STRING_LITERAL1");z[b]={nextPos:a,result:f};return f}function wc(){var b="STRING_LITERAL2@"+a,d=z[b];if(d)return a=
d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==='"'){var e='"';a+=1}else e=null,m&&g('"\\""');if(e!==null){var h=[];if(c.substr(a).match(/^[^"\\\n\r]/)!==null){var k=c.charAt(a);a++}else k=null,m&&g('[^"\\\\\\n\\r]');k===null&&(k=ga(),k=k!==null?k:null);for(;k!==null;)h.push(k),c.substr(a).match(/^[^"\\\n\r]/)!==null?(k=c.charAt(a),a++):(k=null,m&&g('[^"\\\\\\n\\r]')),k===null&&(k=ga(),k=k!==null?k:null);h!==null?(c.substr(a,1)==='"'?(k='"',a+=1):(k=null,m&&g('"\\""')),k!==null?e=[e,h,
k]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;f=e!==null?$(e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[140] STRING_LITERAL2");z[b]={nextPos:a,result:f};return f}function tc(){var b="STRING_LITERAL_LONG1@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,3)==="'''"){var e="'''";a+=3}else e=null,m&&g("\"'''\"");if(e!==null){var h=[];if(c.substr(a).match(/^[^'\\]/)!==null){var k=c.charAt(a);a++}else k=null,m&&g("[^'\\\\]");k===null&&(k=ga(),k=k!==null?k:null);for(;k!==
null;)h.push(k),c.substr(a).match(/^[^'\\]/)!==null?(k=c.charAt(a),a++):(k=null,m&&g("[^'\\\\]")),k===null&&(k=ga(),k=k!==null?k:null);h!==null?(c.substr(a,3)==="'''"?(k="'''",a+=3):(k=null,m&&g("\"'''\"")),k!==null?e=[e,h,k]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;f=e!==null?$(e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[141] STRING_LITERAL_LONG1");z[b]={nextPos:a,result:f};return f}function uc(){var b="STRING_LITERAL_LONG2@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=
a,f=a;if(c.substr(a,3)==='"""'){var e='"""';a+=3}else e=null,m&&g('"\\"\\"\\""');if(e!==null){var k=[];if(c.substr(a).match(/^[^"\\]/)!==null){var h=c.charAt(a);a++}else h=null,m&&g('[^"\\\\]');h===null&&(h=ga(),h=h!==null?h:null);for(;h!==null;)k.push(h),c.substr(a).match(/^[^"\\]/)!==null?(h=c.charAt(a),a++):(h=null,m&&g('[^"\\\\]')),h===null&&(h=ga(),h=h!==null?h:null);k!==null?(c.substr(a,3)==='"""'?(h='"""',a+=3):(h=null,m&&g('"\\"\\"\\""')),h!==null?e=[e,k,h]:(e=null,a=f)):(e=null,a=f)}else e=
null,a=f;f=e!==null?$(e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&g("[142] STRING_LITERAL_LONG2");z[b]={nextPos:a,result:f};return f}function ga(){var b="ECHAR@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var h=a;if(c.substr(a,1)==="\\"){var f="\\";a+=1}else f=null,m&&g('"\\\\"');if(f!==null){if(c.substr(a).match(/^[tbnrf"']/)!==null){var e=c.charAt(a);a++}else e=null,m&&g("[tbnrf\"']");e!==null?f=[f,e]:(f=null,a=h)}else f=null,a=h;(m=d)&&f===null&&g("[143] ECHAR");z[b]={nextPos:a,
result:f};return f}function ja(){var b="NIL@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var h=a,f=a;if(c.substr(a,1)==="("){var e="(";a+=1}else e=null,m&&g('"("');if(e!==null){for(var j=[],k=r();k!==null;)j.push(k),k=r();j!==null?(c.substr(a,1)===")"?(k=")",a+=1):(k=null,m&&g('")"')),k!==null?e=[e,j,k]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;f=e!==null?{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}:
null;f===null&&(f=null,a=h);(m=d)&&f===null&&g("[144] NIL");z[b]={nextPos:a,result:f};return f}function r(){var b="WS@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;if(c.substr(a).match(/^[ ]/)!==null){var h=c.charAt(a);a++}else h=null,m&&g("[ ]");h===null&&(c.substr(a).match(/^[\t]/)!==null?(h=c.charAt(a),a++):(h=null,m&&g("[\t]")),h===null&&(c.substr(a).match(/^[\r]/)!==null?(h=c.charAt(a),a++):(h=null,m&&g("[\\r]")),h===null&&(c.substr(a).match(/^[\n]/)!==null?(h=c.charAt(a),a++):(h=null,
m&&g("[\\n]")),h===null&&(h=Bc(),h=h!==null?h:null))));(m=d)&&h===null&&g("[145] WS");z[b]={nextPos:a,result:h};return h}function Bc(){var b="COMMENT@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var h=a;if(c.substr(a,1)==="#"){var f="#";a+=1}else f=null,m&&g('"#"');if(f!==null){var e=[];if(c.substr(a).match(/^[^\n\r]/)!==null){var k=c.charAt(a);a++}else k=null,m&&g("[^\\n\\r]");for(;k!==null;)e.push(k),c.substr(a).match(/^[^\n\r]/)!==null?(k=c.charAt(a),a++):(k=null,m&&g("[^\\n\\r]"));e!==
null?f=[f,e]:(f=null,a=h)}else f=null,a=h;(m=d)&&f===null&&g(" COMMENT");z[b]={nextPos:a,result:f};return f}function Ac(){var b="ANON@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var h=a;if(c.substr(a,1)==="["){var f="[";a+=1}else f=null,m&&g('"["');if(f!==null){for(var e=[],k=r();k!==null;)e.push(k),k=r();e!==null?(c.substr(a,1)==="]"?(k="]",a+=1):(k=null,m&&g('"]"')),k!==null?f=[f,e,k]:(f=null,a=h)):(f=null,a=h)}else f=null,a=h;(m=d)&&f===null&&g("[146] ANON");z[b]={nextPos:a,result:f};
return f}function xb(){var b="PN_CHARS_BASE@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;if(c.substr(a).match(/^[A-Z]/)!==null){var h=c.charAt(a);a++}else h=null,m&&g("[A-Z]");h===null&&(c.substr(a).match(/^[a-z]/)!==null?(h=c.charAt(a),a++):(h=null,m&&g("[a-z]")),h===null&&(c.substr(a).match(/^[\xC0-\xD6]/)!==null?(h=c.charAt(a),a++):(h=null,m&&g("[\\xC0-\\xD6]")),h===null&&(c.substr(a).match(/^[\xD8-\xF6]/)!==null?(h=c.charAt(a),a++):(h=null,m&&g("[\\xD8-\\xF6]")),h===null&&(c.substr(a).match(/^[\xF8-\u02FF]/)!==
null?(h=c.charAt(a),a++):(h=null,m&&g("[\\xF8-\\u02FF]")),h===null&&(c.substr(a).match(/^[\u0370-\u037D]/)!==null?(h=c.charAt(a),a++):(h=null,m&&g("[\\u0370-\\u037D]")),h===null&&(c.substr(a).match(/^[\u037F-\u1FFF]/)!==null?(h=c.charAt(a),a++):(h=null,m&&g("[\\u037F-\\u1FFF]")),h===null&&(c.substr(a).match(/^[\u200C-\u200D]/)!==null?(h=c.charAt(a),a++):(h=null,m&&g("[\\u200C-\\u200D]")),h===null&&(c.substr(a).match(/^[\u2070-\u218F]/)!==null?(h=c.charAt(a),a++):(h=null,m&&g("[\\u2070-\\u218F]")),
h===null&&(c.substr(a).match(/^[\u2C00-\u2FEF]/)!==null?(h=c.charAt(a),a++):(h=null,m&&g("[\\u2C00-\\u2FEF]")),h===null&&(c.substr(a).match(/^[\u3001-\uD7FF]/)!==null?(h=c.charAt(a),a++):(h=null,m&&g("[\\u3001-\\uD7FF]")),h===null&&(c.substr(a).match(/^[\uF900-\uFDCF]/)!==null?(h=c.charAt(a),a++):(h=null,m&&g("[\\uF900-\\uFDCF]")),h===null&&(c.substr(a).match(/^[\uFDF0-\uFFFD]/)!==null?(h=c.charAt(a),a++):(h=null,m&&g("[\\uFDF0-\\uFFFD]")),h===null&&(c.substr(a).match(/^[\u1000-\uEFFF]/)!==null?(h=
c.charAt(a),a++):(h=null,m&&g("[\\u1000-\\uEFFF]")),h=h!==null?h:null)))))))))))));(m=d)&&h===null&&g("[147] PN_CHARS_BASE");z[b]={nextPos:a,result:h};return h}function ua(){var b="PN_CHARS_U@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var h=xb();h===null&&(c.substr(a,1)==="_"?(h="_",a+=1):(h=null,m&&g('"_"')),h=h!==null?h:null);(m=d)&&h===null&&g("[148] PN_CHARS_U");z[b]={nextPos:a,result:h};return h}function wb(){var b="VARNAME@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var h=
a,f=a,e=ua();e===null&&(c.substr(a).match(/^[0-9]/)!==null?(e=c.charAt(a),a++):(e=null,m&&g("[0-9]")),e=e!==null?e:null);if(e!==null){var k=[],j=ua();j===null&&(c.substr(a).match(/^[0-9]/)!==null?(j=c.charAt(a),a++):(j=null,m&&g("[0-9]")),j===null&&(c.substr(a).match(/^[\xB7]/)!==null?(j=c.charAt(a),a++):(j=null,m&&g("[\\xB7]")),j===null&&(c.substr(a).match(/^[\u0300-\u036F]/)!==null?(j=c.charAt(a),a++):(j=null,m&&g("[\\u0300-\\u036F]")),j===null&&(c.substr(a).match(/^[\u203F-\u2040]/)!==null?(j=
c.charAt(a),a++):(j=null,m&&g("[\\u203F-\\u2040]")),j=j!==null?j:null))));for(;j!==null;)k.push(j),j=ua(),j===null&&(c.substr(a).match(/^[0-9]/)!==null?(j=c.charAt(a),a++):(j=null,m&&g("[0-9]")),j===null&&(c.substr(a).match(/^[\xB7]/)!==null?(j=c.charAt(a),a++):(j=null,m&&g("[\\xB7]")),j===null&&(c.substr(a).match(/^[\u0300-\u036F]/)!==null?(j=c.charAt(a),a++):(j=null,m&&g("[\\u0300-\\u036F]")),j===null&&(c.substr(a).match(/^[\u203F-\u2040]/)!==null?(j=c.charAt(a),a++):(j=null,m&&g("[\\u203F-\\u2040]")),
j=j!==null?j:null))));k!==null?e=[e,k]:(e=null,a=f)}else e=null,a=f;f=e!==null?e[0]+e[1].join(""):null;f===null&&(f=null,a=h);(m=d)&&f===null&&g("[149] VARNAME");z[b]={nextPos:a,result:f};return f}function Ea(){var b="PN_CHARS@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var h=ua();h===null&&(c.substr(a,1)==="-"?(h="-",a+=1):(h=null,m&&g('"-"')),h===null&&(c.substr(a).match(/^[0-9]/)!==null?(h=c.charAt(a),a++):(h=null,m&&g("[0-9]")),h===null&&(c.substr(a).match(/^[\xB7]/)!==null?(h=c.charAt(a),
a++):(h=null,m&&g("[\\xB7]")),h===null&&(c.substr(a).match(/^[\u0300-\u036F]/)!==null?(h=c.charAt(a),a++):(h=null,m&&g("[\\u0300-\\u036F]")),h===null&&(c.substr(a).match(/^[\u203F-\u2040]/)!==null?(h=c.charAt(a),a++):(h=null,m&&g("[\\u203F-\\u2040]")),h=h!==null?h:null)))));(m=d)&&h===null&&g("[150] PN_CHARS");z[b]={nextPos:a,result:h};return h}function fb(){var b="PN_PREFIX@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var h=a,f=a,e=xb();if(e!==null){var j=[],k=Ea();k===null&&(c.substr(a,
1)==="."?(k=".",a+=1):(k=null,m&&g('"."')),k=k!==null?k:null);for(;k!==null;)j.push(k),k=Ea(),k===null&&(c.substr(a,1)==="."?(k=".",a+=1):(k=null,m&&g('"."')),k=k!==null?k:null);j!==null?e=[e,j]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,b){if(b[b.length-1]==".")throw Error("Wrong PN_PREFIX, cannot finish with '.'");else return a+b.join("")}(e[0],e[1]):null;f===null&&(f=null,a=h);(m=d)&&f===null&&g("[151] PN_PREFIX");z[b]={nextPos:a,result:f};return f}function vb(){var b="PN_LOCAL@"+a,d=z[b];
if(d)return a=d.nextPos,d.result;d=m;m=!1;var h=a,f=a,e=ua();e===null&&(c.substr(a).match(/^[0-9]/)!==null?(e=c.charAt(a),a++):(e=null,m&&g("[0-9]")),e=e!==null?e:null);if(e!==null){for(var j=[],k=Ea();k!==null;)j.push(k),k=Ea();j!==null?e=[e,j]:(e=null,a=f)}else e=null,a=f;f=e!==null?e[0]+e[1].join(""):null;f===null&&(f=null,a=h);(m=d)&&f===null&&g("[152] PN_LOCAL");z[b]={nextPos:a,result:f};return f}function yb(){var b=function(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),
b=a[d]);switch(c.length){case 0:return"end of input";case 1:return c[0];default:return c.slice(0,c.length-1).join(", ")+" or "+c[c.length-1]}}(eb),d=Math.max(a,za),d=d<c.length?h(c.charAt(d)):"end of input";return"Expected "+b+" but "+d+" found."}function Dc(){for(var a=1,b=1,d=!1,f=0;f<za;f++){var e=c.charAt(f);e==="\n"?(d||a++,b=1,d=!1):e==="\r"|e==="\u2028"||e==="\u2029"?(a++,b=1,d=!0):(b++,d=!1)}return{line:a,column:b}}var ha={ANON:Ac,AdditiveExpression:X,Aggregate:fc,ArgList:qb,AskQuery:K,BLANK_NODE_LABEL:zc,
BaseDecl:t,BindingValue:xa,BindingsClause:wa,BlankNode:dc,BlankNodePropertyList:$b,BooleanLiteral:La,BrackettedExpression:Ia,BuiltInCall:Ha,COMMENT:Bc,Clear:Cb,Collection:Zb,ConditionalAndExpression:Ta,ConditionalOrExpression:P,Constraint:Aa,ConstructQuery:J,ConstructTemplate:Jb,ConstructTriples:rb,Create:Eb,DECIMAL:Wa,DECIMAL_NEGATIVE:rc,DECIMAL_POSITIVE:oc,DOCUMENT:function(){var b="DOCUMENT@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k();c===null&&(c=w(),c=c!==null?c:null);z[b]={nextPos:a,result:c};
return c},DOUBLE:Va,DOUBLE_NEGATIVE:qc,DOUBLE_POSITIVE:nc,DatasetClause:N,DefaultGraphClause:S,DeleteClause:Hb,DeleteData:Gb,DeleteWhere:Ab,DescribeQuery:O,Drop:Db,ECHAR:ga,EXPONENT:Xa,ExistsFunc:hc,ExpressionList:Sb,Filter:Rb,FunctionCall:hb,GraphGraphPattern:Pb,GraphNode:qa,GraphPatternNotTriples:pb,GraphRef:Ma,GraphRefAll:ib,GraphTerm:ac,GroupClause:ca,GroupCondition:aa,GroupGraphPattern:Z,GroupGraphPatternSub:Kb,GroupOrUnionGraphPattern:Mb,HavingClause:la,INTEGER:ea,INTEGER_NEGATIVE:sc,INTEGER_POSITIVE:pc,
IRI_REF:na,IRIref:U,IRIrefOrFunction:ec,InsertClause:cb,InsertData:Fb,LANGTAG:kc,LimitClause:Za,LimitOffsetClauses:va,Load:zb,MinusGraphPattern:Ob,Modify:Bb,MultiplicativeExpression:ra,NIL:ja,NamedGraphClause:V,NotExistsFunc:ic,NumericLiteral:Ka,NumericLiteralNegative:sa,NumericLiteralPositive:mc,NumericLiteralUnsigned:lc,ObjectList:ka,OffsetClause:$a,OptionalGraphPattern:Nb,OrderClause:ma,OrderCondition:Ya,PNAME_LN:yc,PNAME_NS:Ga,PN_CHARS:Ea,PN_CHARS_BASE:xb,PN_CHARS_U:ua,PN_LOCAL:vb,PN_PREFIX:fb,
PathAlternative:sb,PathElt:ub,PathEltOrInverse:Sa,PathMod:Xb,PathNegatedPropertySet:Yb,PathOneInPropertySet:Ca,PathPrimary:Wb,PathSequence:Ra,PrefixDecl:q,PrefixedName:xc,PrimaryExpression:Da,Prologue:o,PropertyList:Tb,PropertyListNotEmpty:Ba,PropertyListNotEmptyPath:Ub,PropertyListPath:Vb,QuadData:jb,QuadPattern:lb,Quads:mb,QuadsNotTriples:nb,Query:i,RDFLiteral:Ja,RegexExpression:gc,RelationalExpression:Ua,SPARQL:k,STRING_LITERAL1:vc,STRING_LITERAL2:wc,STRING_LITERAL_LONG1:tc,STRING_LITERAL_LONG2:uc,
SelectClause:I,SelectQuery:E,ServiceGraphPattern:Qb,SolutionModifier:Y,String:jc,SubSelect:H,TURTLE:w,TriplesBlock:oa,TriplesNode:Oa,TriplesSameSubject:ob,TriplesSameSubjectPath:Lb,TriplesTemplate:pa,UnaryExpression:ba,Update:ab,Update1:ya,UsingClause:kb,VAR1:bc,VAR2:cc,VARNAME:wb,Var:T,VarOrIRIref:ia,VarOrTerm:Na,Verb:Pa,VerbPath:Qa,WS:r,WhereClause:W,base:F,directive:D,prefixID:L,statement:x};if(b!==void 0){if(ha[b]===void 0)throw Error("Invalid rule name: "+h(b)+".");}else b="DOCUMENT";var a=0,
m=!0,za=0,eb=[],z={},$=function(a){for(var b="",c=0;c<a.length;c++)b+=typeof a[c]==="string"?a[c]:a[c].join("");return b},fa=0,Ib=function(a){for(var b="",c=0;c<a.length;c++)b+=a[c];return b.toUpperCase()},ha=ha[b]();if(ha===null||a!==c.length)throw ha=Dc(),new this.SyntaxError(yb(),ha.line,ha.column);return ha},toSource:function(){return this._source},SyntaxError:function(b,d,j){this.name="SyntaxError";this.message=b;this.line=d;this.column=j}};b.SyntaxError.prototype=Error.prototype;return b}();
var aa={};(new Date).getTime();aa.combined_parser=ma.parser;aa.parser={};aa.parser.parse=function(b,c){for(var d=[],j=aa.combined_parser.parse(b),h={},g={namespaces:h,base:"",blankCounter:0},k=0;k<j.length;k++){var i=j[k];if(i.token==="base")g.base=i.value;else if(i.token==="prefix")h[i.prefix]=i.local;else if(i.token==="triples"||i.token==="triplespattern")for(var o=0;o<i.triplesContext.length;o++){var t=i.triplesContext[o],t={subject:x.lexicalFormTerm(t.subject,g),predicate:x.lexicalFormTerm(t.predicate,
g),object:x.lexicalFormTerm(t.object,g),graph:c};d.push(t)}}return d};var w={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",
sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#"},UrisMap:function(){this.defaultNs="";this.interfaceProperties=["get","remove","set","setDefault","addAll","resolve","shrink"]}};w.UrisMap.prototype.values=function(){var b={},c;for(c in this)!x.include(this.interfaceProperties,c)&&typeof this[c]!=="function"&&
c!=="defaultNs"&&c!=="interfaceProperties"&&(b[c]=this[c]);return b};w.UrisMap.prototype.get=function(b){if(b.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";return this[b]};w.UrisMap.prototype.remove=function(b){if(b.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";delete this[b];return null};w.UrisMap.prototype.set=function(b,c){if(b.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";this[b]=c};w.UrisMap.prototype.setDefault=function(b){this.defaultNs=
b};w.UrisMap.prototype.addAll=function(b,c){for(var d in b)x.include(this.interfaceProperties,d)||(this[d]!=null?c===!0&&(this[d]=b[d]):this[d]=b[d]);return this};w.UrisMap.prototype.resolve=function(b){var c=b.split(":"),b=c[0],c=c[1];return b===""?this.defaultNs==null?null:this.defaultNs+c:this[b]!=null?this[b]+c:null};w.UrisMap.prototype.shrink=function(b){for(var c in this){var d=this[c];if(b.indexOf(d)===0&&d!==""&&c!="defaultNs")return b=b.split(d)[1],c+":"+b}return b};w.Profile=function(){this.prefixes=
new w.UrisMap;this.terms=new w.UrisMap};w.Profile.prototype.importProfile=function(b,c){this.prefixes.addAll(b.prefixes,c);this.terms.addAll(b.terms,c)};w.Profile.prototype.resolve=function(b){return b.indexOf(":")!=-1?this.prefixes.resolve(b):this.terms[b]!=null?this.terms.resolve(b):null};w.Profile.prototype.setDefaultPrefix=function(b){this.prefixes.setDefault(b)};w.Profile.prototype.setDefaultVocabulary=function(b){this.terms.setDefault(b)};w.Profile.prototype.setPrefix=function(b,c){this.prefixes.set(b,
c)};w.Profile.prototype.setTerm=function(b,c){this.terms.set(b,c)};w.RDFEnvironment=function(){this.blankNodeCounter=0;var b=this;this.filters={s:function(b){return function(c){return c.subject.equals(b)}},p:function(b){return function(c){return c.predicate.equals(b)}},o:function(b){return function(c){return c.object.equals(b)}},sp:function(b,c){return function(h){return h.subject.equals(b)&&h.predicate.equals(c)}},so:function(b,c){return function(h){return h.subject.equals(b)&&h.object.equals(c)}},
po:function(b,c){return function(h){return h.predicate.equals(b)&&h.object.equals(c)}},spo:function(b,c,h){return function(g){return g.subject.equals(b)&&g.predicate.equals(c)&&g.object.equals(h)}},describes:function(b){return function(c){return c.subject.equals(b)||c.object.equals(b)}},type:function(c){var j=b.resolve("rdf:type");return function(b){return b.predicate.equals(j)&&b.object.equals(c)}}};for(var c in w.defaultContext)this.prefixes.set(c,w.defaultContext[c])};x["extends"](w.Profile,w.RDFEnvironment);
w.RDFEnvironment.prototype.createBlankNode=function(){var b=new w.BlankNode(this.blankNodeCounter);this.blankNodeCounter++;return b};w.RDFEnvironment.prototype.createNamedNode=function(b){var c=this.resolve(b);return c!=null?new w.NamedNode(c):new w.NamedNode(b)};w.RDFEnvironment.prototype.createLiteral=function(b,c,d){return d!=null?new w.Literal(b,c,d.toString()):new w.Literal(b,c,d)};w.RDFEnvironment.prototype.createTriple=function(b,c,d){return new w.Triple(b,c,d)};w.RDFEnvironment.prototype.createGraph=
function(b){var c=new w.Graph;if(b!=null)for(var d=0;d<b.length;d++)c.add(b[d]);return c};w.RDFEnvironment.prototype.createAction=function(b,c){return function(d){return b(d)?c(d):d}};w.RDFEnvironment.prototype.createProfile=function(b){return b===!0?new w.RDFEnvironment.Profile:(b=new w.RDFEnvironment.Profile,b.importProfile(this),b)};w.RDFEnvironment.prototype.createTermMap=function(b){if(b===!0)return new w.UrisMap;else{var b=this.terms.values(),c=new w.UrisMap,d;for(d in b)c[d]=b[d];return c}};
w.RDFEnvironment.prototype.createPrefixMap=function(b){if(b===!0)return new w.UrisMap;else{var b=this.prefixes.values(),c=new w.UrisMap,d;for(d in b)c[d]=b[d];return c}};w.RDFNode=function(b){this.interfaceName=b;this.attributes=["interfaceName","nominalValue"]};w.RDFNode.prototype.equals=function(b){if(b.interfaceName==null)return this.valueOf()==b;else{for(var c in this.attributes){var d=this.attributes[c];if(this[d]!=b[d])return!1}return!0}};w.BlankNode=function(b){w.RDFNode.call(this,"BlankNode");
this.nominalValue="_:"+b;this.bnodeId=b};x["extends"](w.RDFNode,w.BlankNode);w.BlankNode.prototype.toString=function(){return this.nominalValue};w.BlankNode.prototype.toNT=function(){return this.nominalValue};w.BlankNode.prototype.valueOf=function(){return this.nominalValue};w.Literal=function(b,c,d){w.RDFNode.call(this,"Literal");this.nominalValue=b;if(c!=null)this.language=c;else if(d!=null)this.datatype=d};x["extends"](w.RDFNode,w.Literal);w.Literal.prototype.toString=function(){var b='"'+this.nominalValue+
'"';if(this.language!=null)b=b+"@"+this.language;else if(this.datatype!=null||this.type)b=b+"^^<"+(this.datatype||this.type)+">";return b};w.Literal.prototype.toNT=function(){return this.toString()};w.Literal.prototype.valueOf=function(){return i.effectiveTypeValue({token:"literal",type:this.type,value:this.nominalValue,language:this.language})};w.NamedNode=function(b){w.RDFNode.call(this,"NamedNode");this.nominalValue=b.value!=null?b.value:b};x["extends"](w.RDFNode,w.NamedNode);w.NamedNode.prototype.toString=
function(){return this.nominalValue};w.NamedNode.prototype.toNT=function(){return"<"+this.toString()+">"};w.NamedNode.prototype.valueOf=function(){return this.nominalValue};w.Triple=function(b,c,d){this.subject=b;this.predicate=c;this.object=d};w.Triple.prototype.equals=function(b){return this.subject.equals(b.subject)&&this.predicate.equals(b.predicate)&&this.object.equals(b.object)};w.Triple.prototype.toString=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+
" . \r\n"};w.Graph=function(){this.triples=[];this.duplicates={};this.actions=[]};w.Graph.prototype.add=function(b){for(var c=0;c<this.actions.length;c++)b=this.actions[c](b);c=b.subject.toString()+b.predicate.toString()+b.object.toString();this.duplicates[c]||(this.duplicates[c]=!0,this.triples.push(b));return this};w.Graph.prototype.addAction=function(b,c){this.actions.push(b);if(c==!0)for(var d=0;d<this.triples.length;d++)this.triples[d]=b(this.triples[d]);return this};w.Graph.prototype.addAll=
function(b){for(var b=b.toArray(),c=0;c<b.length;c++)this.add(b[c]);return this};w.Graph.prototype.remove=function(b){for(var c=null,d=0;d<this.triples.length;d++)if(this.triples[d].equals(b)){delete this.duplicates[b.subject.toString()+b.predicate.toString()+b.object.toString()];c=d;break}c!=null&&this.triples.splice(c,1);return this};w.Graph.prototype.toArray=function(){return this.triples};w.Graph.prototype.some=function(b){for(var c=0;c<this.triples.length;c++)if(b(this.triples[c],this)===!0)return!0;
return!1};w.Graph.prototype.every=function(b){for(var c=0;c<this.triples.length;c++)if(b(this.triples[c],this)===!1)return!1;return!0};w.Graph.prototype.filter=function(b){for(var c=new w.Graph,d=0;d<this.triples.length;d++)b(this.triples[d],this)===!0&&c.add(this.triples[d]);return c};w.Graph.prototype.forEach=function(b){for(var c=0;c<this.triples.length;c++)b(this.triples[c],this)};w.Graph.prototype.merge=function(){for(var b=new w.Graph,c=0;c<this.triples;c++){var d=this.triples[c];b.add(d)}for(c=
0;c<triples.length;c++)d=triples[c],this.add(d);return b};w.Graph.prototype.match=function(b,c,d,j){for(var h=new w.Graph,g=0,k=0;k<this.triples.length;k++){var i=this.triples[k];if(b==null||i.subject.equals(b))if(c==null||i.predicate.equals(c))if(d==null||i.object.equals(d))if(j==null||g<j)g++,h.add(i);else break}return h};w.Graph.prototype.removeMatches=function(b,c,d){for(var j=[],h=0;h<this.triples.length;h++){var g=this.triples[h];if(b==null||g.subject.equals(b))if(c==null||g.predicate.equals(c))(d==
null||g.object.equals(d))&&j.push(g)}for(h=0;h<j.length;h++)this.remove(j[h]);return this};w.Graph.prototype.toNT=function(){var b="";this.forEach(function(c){b+=c.toString()});return b};w.buildRDFResource=function(b,c,d,j){return b.token==="blank"?w.buildBlankNode(b,c,d,j):b.token==="literal"?w.buildLiteral(b,c,d,j):b.token==="uri"?w.buildNamedNode(b,c,d,j):b.token==="var"?(b=c[b.value],b!=null?w.buildRDFResource(b,c,d,j):null):null};w.buildBlankNode=function(b){if(b.valuetmp!=null)b.value=b.valuetmp;
if(b.value.indexOf("_:")===0)b.value=b.value.split("_:")[1];return new w.BlankNode(b.value)};w.buildLiteral=function(b){return new w.Literal(b.value,b.lang,b.type)};w.buildNamedNode=function(b,c,d,j){if(b.value==null&&b.prefix!=null)c=d.resolveNsInEnvironment(b.prefix,j),b.value=c+b.suffix;return new w.NamedNode(b)};w.rdf=new w.RDFEnvironment;var i={checkFilters:function(b,c,d,j,h,g){var k=b.filter,n=[];if(k==null||b.length!=null)return c;for(b=0;b<k.length;b++){for(var c=i.run(k[b].value,c,d,j,h,
g),o=[],t=0;t<c.length;t++)c[t].__nullify__!=null?n.push(c[t]):o.push(c[t]);c=o}return c.concat(n)}};i.boundVars=function(b){if(b.expressionType!=null){var c=b.expressionType;if(c=="relationalexpression")return c=b.op2,i.boundVars(b.op1)+i.boundVars(c);else if(c=="conditionalor"||c=="conditionaland"){for(var d=[],c=0;c<b.operands;c++)d=d.concat(i.boundVars(b.operands[c]));return d}else if(c=="builtincall")if(b.args==null)return[];else{d=[];for(c=0;c<b.args.length;c++)d=d.concat(i.boundVars(b.args[c]));
return d}else if(c=="multiplicativeexpression"){d=i.boundVars(b.factor);for(c=0;c<b.factors.length;c++)d=d.concat(i.boundVars(b.factors[c].expression));return d}else if(c=="additiveexpression"){d=i.boundVars(b.summand);for(c=0;c<b.summands.length;c++)d=d.concat(i.boundVars(b.summands[c].expression));return d}else if(c=="regex")return d=i.boundVars(b.expression1),d.concat(i.boundVars(b.expression2));else if(c=="unaryexpression")return i.boundVars(b.expression);else if(c=="atomic")return b.primaryexpression==
"var"?[b.value]:[]}else throw console.log("ERROR"),console.log(b),"Cannot find bound expressions in a no expression token";};i.run=function(b,c,d,j,h,g){for(var k=g.copyDenormalizedBindings(c,h.outCache),n=[],o=0;o<c.length;o++){var t=i.runFilter(b,k[o],g,j,h),t=i.ebv(t);i.isEbvError(t)?d&&(t={__nullify__:!0,bindings:c[o]},n.push(t)):t===!0?n.push(c[o]):d&&(t={__nullify__:!0,bindings:c[o]},n.push(t))}return n};i.collect=function(b,c,d,j,h){for(var g=h.copyDenormalizedBindings(c,j.outCache),k=[],n=
0;n<g.length;n++){var o=i.runFilter(b,g[n],h,d,j);k.push({binding:c[n],value:o})}return k};i.runDistinct=function(){};i.runAggregator=function(b,c,d,j,h){if(c==null||c.length===0)return i.ebvError();else if(b.token==="variable"&&b.kind=="var")return c[0][b.value.value];else if(b.token==="variable"&&b.kind==="aliased")if(b.expression.expressionType==="atomic"&&b.expression.primaryexpression==="var")return c[0][b.expression.value.value];else if(b.expression.expressionType==="aggregate")if(b.expression.aggregateType===
"max"){for(var g=null,k=0;k<c.length;k++){var n=c[k],n=i.runFilter(b.expression.expression,n,d,j,h);i.isEbvError(n)||(g===null?g=n:i.runLtFunction(g,n).value===!0&&(g=n))}return g===null?i.ebvError():g}else if(b.expression.aggregateType==="min"){g=null;for(k=0;k<c.length;k++)n=c[k],n=i.runFilter(b.expression.expression,n,d,j,h),i.isEbvError(n)||(g===null?g=n:i.runGtFunction(g,n).value===!0&&(g=n));return g===null?i.ebvError():g}else if(b.expression.aggregateType==="count"){var g={},o=0;if(b.expression.expression===
"*")if(b.expression.distinct!=null&&b.expression.distinct!="")for(k=0;k<c.length;k++){var n=c[k],t=x.hashTerm(n);g[t]==null&&(g[t]=!0,o++)}else o=c.length;else for(k=0;k<c.length;k++)n=c[k],n=i.runFilter(b.expression.expression,n,d,j,h),i.isEbvError(n)||(b.expression.distinct!=null&&b.expression.distinct!=""?(t=x.hashTerm(n),g[t]==null&&(g[t]=!0,o++)):o++);return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+o}}else if(b.expression.aggregateType==="avg"){for(var g={},q=
{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"},k=o=0;k<c.length;k++)n=c[k],n=i.runFilter(b.expression.expression,n,d,j,h),i.isEbvError(n)||(b.expression.distinct!=null&&b.expression.distinct!=""?(t=x.hashTerm(n),g[t]==null&&(g[t]=!0,i.isNumeric(n)&&(q=i.runSumFunction(q,n),o++))):i.isNumeric(n)&&(q=i.runSumFunction(q,n),o++));b=i.runDivFunction(q,{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+o});b.value=""+b.value;return b}else if(b.expression.aggregateType===
"sum"){g={};q={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"};for(k=0;k<c.length;k++)n=c[k],n=i.runFilter(b.expression.expression,n,d,j,h),i.isEbvError(n)||(b.expression.distinct!=null&&b.expression.distinct!=""?(t=x.hashTerm(n),g[t]==null&&(g[t]=!0,i.isNumeric(n)&&(q=i.runSumFunction(q,n)))):i.isNumeric(n)&&(q=i.runSumFunction(q,n)));q.value=""+q.value;return q}else return n=i.runFilter(aggregate.expression,c[0],j,{blanks:{},outCache:{}})};i.runFilter=function(b,c,d,j,
h){if(b.expressionType!=null){var g=b.expressionType;if(g=="relationalexpression"){var g=i.runFilter(b.op1,c,d,j,h),k=i.runFilter(b.op2,c,d,j,h);return i.runRelationalFilter(b,g,k,c,d,j,h)}else if(g=="conditionalor")return i.runOrFunction(b,c,d,j,h);else if(g=="conditionaland")return i.runAndFunction(b,c,d,j,h);else if(g=="additiveexpression")return i.runAddition(b.summand,b.summands,c,d,j,h);else if(g=="builtincall")return i.runBuiltInCall(b.builtincall,b.args,c,d,j,h);else if(g=="multiplicativeexpression")return i.runMultiplication(b.factor,
b.factors,c,d,j,h);else if(g=="unaryexpression")return i.runUnaryExpression(b.unaryexpression,b.expression,c,d,j,h);else if(g=="irireforfunction")return i.runIriRefOrFunction(b.iriref,b.args,c,d,j,h);else if(g=="regex")return i.runRegex(b.text,b.pattern,b.flags,c,d,j,h);else if(g=="atomic")if(b.primaryexpression=="var")return c[b.value.value];else{if(typeof b.value=="object"&&!(b.value.type==null||typeof b.value.type!="object"))b.value.type=x.lexicalFormBaseUri(b.value.type,h);return b.value}else throw"Unknown filter expression type";
}else throw"Cannot find bound expressions in a no expression token";};i.isRDFTerm=function(b){return b==null?!1:b.token&&b.token=="literal"||b.token&&b.token=="uri"||b.token&&b.token=="blank"?!0:!1};i.RDFTermEquality=function(b,c,d,j){return b.token==="literal"&&c.token==="literal"?b.lang==c.lang&&b.type==c.type&&b.value==c.value?!0:b.type!=null&&c.type!=null?i.ebvError():i.isSimpleLiteral(b)&&c.type!=null?i.ebvError():i.isSimpleLiteral(c)&&b.type!=null?i.ebvError():!1:b.token==="uri"&&c.token===
"uri"?x.lexicalFormBaseUri(b,j)==x.lexicalFormBaseUri(c,j):b.token==="blank"&&c.token==="blank"?b.value==c.value:!1};i.isInteger=function(b){return b==null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#integer"||b.type=="http://www.w3.org/2001/XMLSchema#decimal"||b.type=="http://www.w3.org/2001/XMLSchema#double"||b.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||b.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#long"||
b.type=="http://www.w3.org/2001/XMLSchema#int"||b.type=="http://www.w3.org/2001/XMLSchema#short"||b.type=="http://www.w3.org/2001/XMLSchema#byte"||b.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||b.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"?!0:!1:
!1};i.isFloat=function(b){return b==null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#float"?!0:!1:!1};i.isDecimal=function(b){return b==null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#decimal"?!0:!1:!1};i.isDouble=function(b){return b==null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#double"?!0:!1:!1};i.isNumeric=function(b){return b==null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#integer"||b.type=="http://www.w3.org/2001/XMLSchema#decimal"||
b.type=="http://www.w3.org/2001/XMLSchema#float"||b.type=="http://www.w3.org/2001/XMLSchema#double"||b.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||b.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#long"||b.type=="http://www.w3.org/2001/XMLSchema#int"||b.type=="http://www.w3.org/2001/XMLSchema#short"||b.type=="http://www.w3.org/2001/XMLSchema#byte"||b.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||
b.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||b.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"?!0:!1:!1};i.isSimpleLiteral=function(b){return b&&b.token=="literal"?b.type==null&&b.lang==null?!0:!1:!1};i.isXsdType=function(b,c){return c&&c.token=="literal"?c.type=="http://www.w3.org/2001/XMLSchema#"+b:!1};i.ebv=function(b){if(b==null||i.isEbvError(b))return i.ebvError();
else if(b.token&&b.token==="literal")if(b.type=="http://www.w3.org/2001/XMLSchema#integer"||b.type=="http://www.w3.org/2001/XMLSchema#decimal"||b.type=="http://www.w3.org/2001/XMLSchema#double"||b.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||b.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#long"||b.type=="http://www.w3.org/2001/XMLSchema#int"||b.type=="http://www.w3.org/2001/XMLSchema#short"||b.type=="http://www.w3.org/2001/XMLSchema#byte"||
b.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||b.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"){var c=parseFloat(b.value);return isNaN(c)?!1:parseFloat(b.value)!=0}else return b.type==="http://www.w3.org/2001/XMLSchema#boolean"?b.value==="true"||
b.value===!0||b.value==="True":b.type==="http://www.w3.org/2001/XMLSchema#string"?b.value!="":b.type==="http://www.w3.org/2001/XMLSchema#dateTime"?new Date(b.value)!=null:i.isEbvError(b)?b:b.type==null?b.value!=""?!0:!1:i.ebvError();else return b.value===!0};i.ebvTrue=function(){return val={token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}};i.ebvFalse=function(){return val={token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}};i.ebvError=function(){return val=
{token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null}};i.isEbvError=function(b){return typeof b=="object"&&b!=null?b.type==="https://github.com/antoniogarrote/js-tools/types#error":!1};i.ebvBoolean=function(b){return i.isEbvError(b)?b:b===!0?i.ebvTrue():i.ebvFalse()};i.runRelationalFilter=function(b,c,d,j,h,g,k){b=b.operator;if(b==="=")return i.runEqualityFunction(c,d,j,h,g,k);else if(b==="!="){c=i.runEqualityFunction(c,d,j,h,g,k);if(!i.isEbvError(c))c.value=!c.value;
return c}else if(b==="<")return i.runLtFunction(c,d,j);else if(b===">")return i.runGtFunction(c,d,j);else if(b==="<=")return i.runLtEqFunction(c,d,j);else if(b===">=")return i.runGtEqFunction(c,d,j);else throw"Error applying relational filter, unknown operator";};i.effectiveTypeValue=function(b){if(b.token=="literal")if(b.type=="http://www.w3.org/2001/XMLSchema#integer")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#decimal")return b=parseFloat(b.value);else if(b.type==
"http://www.w3.org/2001/XMLSchema#float")return b=parseFloat(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#double")return b=parseFloat(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger")return b=parseFloat(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#negativeInteger")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#long")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#int")return b=parseInt(b.value);
else if(b.type=="http://www.w3.org/2001/XMLSchema#short")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#byte")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#unsignedLong")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#unsignedInt")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#unsignedShort")return b=
parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#unsignedByte")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#positiveInteger")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#date"||b.type=="http://www.w3.org/2001/XMLSchema#dateTime")try{return x.parseISO8601(b.value)}catch(c){return null}else return b.type=="http://www.w3.org/2001/XMLSchema#boolean"?b.value===!0||b.value==="true"||b.value==="1"||b.value===1||b.value===
!0?!0:b.value===!1||b.value==="false"||b.value==="0"||b.value===0||b.value===!1?!1:void 0:b.type=="http://www.w3.org/2001/XMLSchema#string"?b.value===null||b.value===void 0?void 0:""+b.value:b.value;else throw console.log("not implemented yet"),"value not supported in operations yet";};i.runOrFunction=function(b,c,d,j,h){for(var g=null,k=0;k<b.operands.length;k++){var n=i.runFilter(b.operands[k],c,d,j,h);i.isEbvError(n)==!1&&(n=i.ebv(n));g==null?g=n:i.isEbvError(n)?g=i.isEbvError(g)?i.ebvError():
g===!0?!0:i.ebvError():n===!0?g=!0:i.isEbvError(g)&&(g=i.ebvError())}return i.ebvBoolean(g)};i.runAndFunction=function(b,c,d,j,h){for(var g=null,k=0;k<b.operands.length;k++){var n=i.runFilter(b.operands[k],c,d,j,h);i.isEbvError(n)==!1&&(n=i.ebv(n));g==null?g=n:i.isEbvError(n)?g=i.isEbvError(g)?i.ebvError():g===!0?i.ebvError():!1:n===!0?i.isEbvError(g)&&(g=i.ebvError()):g=!1}return i.ebvBoolean(g)};i.runEqualityFunction=function(b,c,d,j,h,g){if(i.isEbvError(b)||i.isEbvError(c))return i.ebvError();
if(i.isNumeric(b)&&i.isNumeric(c))return d=i.effectiveTypeValue(b),h=i.effectiveTypeValue(c),isNaN(d)||isNaN(h)?i.ebvBoolean(i.RDFTermEquality(b,c,j,g)):i.ebvBoolean(d==h);else if((i.isSimpleLiteral(b)||i.isXsdType("string",b))&&(i.isSimpleLiteral(c)||i.isXsdType("string",c)))return i.ebvBoolean(i.effectiveTypeValue(b)==i.effectiveTypeValue(c));else if(i.isXsdType("boolean",b)&&i.isXsdType("boolean",c))return i.ebvBoolean(i.effectiveTypeValue(b)==i.effectiveTypeValue(c));else if((i.isXsdType("dateTime",
b)||i.isXsdType("date",b))&&(i.isXsdType("dateTime",c)||i.isXsdType("date",c))){if(i.isXsdType("dateTime",b)&&i.isXsdType("date",c))return i.ebvFalse();if(i.isXsdType("date",b)&&i.isXsdType("dateTime",c))return i.ebvFalse();b=x.compareDateComponents(b.value,c.value);return b!=null?b==0?i.ebvTrue():i.ebvFalse():i.ebvError()}else return i.isRDFTerm(b)&&i.isRDFTerm(c)?i.ebvBoolean(i.RDFTermEquality(b,c,j,g)):i.ebvFalse()};i.runGtFunction=function(b,c){if(i.isEbvError(b)||i.isEbvError(c))return i.ebvError();
if(i.isNumeric(b)&&i.isNumeric(c))return i.ebvBoolean(i.effectiveTypeValue(b)>i.effectiveTypeValue(c));else if(i.isSimpleLiteral(b)&&i.isSimpleLiteral(c))return i.ebvBoolean(i.effectiveTypeValue(b)>i.effectiveTypeValue(c));else if(i.isXsdType("string",b)&&i.isXsdType("string",c))return i.ebvBoolean(i.effectiveTypeValue(b)>i.effectiveTypeValue(c));else if(i.isXsdType("boolean",b)&&i.isXsdType("boolean",c))return i.ebvBoolean(i.effectiveTypeValue(b)>i.effectiveTypeValue(c));else if((i.isXsdType("dateTime",
b)||i.isXsdType("date",b))&&(i.isXsdType("dateTime",c)||i.isXsdType("date",c))){if(i.isXsdType("dateTime",b)&&i.isXsdType("date",c))return i.ebvFalse();if(i.isXsdType("date",b)&&i.isXsdType("dateTime",c))return i.ebvFalse();var d=x.compareDateComponents(b.value,c.value);return d!=null?d==1?i.ebvTrue():i.ebvFalse():i.ebvError()}else return i.ebvFalse()};i.runTotalGtFunction=function(b,c){return i.isEbvError(b)||i.isEbvError(c)?i.ebvError():i.isNumeric(b)&&i.isNumeric(c)||i.isSimpleLiteral(b)&&i.isSimpleLiteral(c)||
i.isXsdType("string",b)&&i.isSimpleLiteral("string",c)||i.isXsdType("boolean",b)&&i.isSimpleLiteral("boolean",c)||i.isXsdType("dateTime",b)&&i.isSimpleLiteral("dateTime",c)?i.runGtFunction(b,c,[]):b.token&&b.token==="uri"&&c.token&&c.token==="uri"?i.ebvBoolean(b.value>c.value):b.token&&b.token==="literal"&&c.token&&c.token==="literal"?i.ebvBoolean(""+b.value+b.type+b.lang>""+c.value+c.type+c.lang):b.token&&b.token==="blank"&&c.token&&c.token==="blank"?i.ebvBoolean(b.value>c.value):b.value&&c.value?
i.ebvBoolean(b.value>c.value):i.ebvTrue()};i.runLtFunction=function(b,c){if(i.isEbvError(b)||i.isEbvError(c))return i.ebvError();if(i.isNumeric(b)&&i.isNumeric(c))return i.ebvBoolean(i.effectiveTypeValue(b)<i.effectiveTypeValue(c));else if(i.isSimpleLiteral(b)&&i.isSimpleLiteral(c))return i.ebvBoolean(i.effectiveTypeValue(b)<i.effectiveTypeValue(c));else if(i.isXsdType("string",b)&&i.isXsdType("string",c))return i.ebvBoolean(i.effectiveTypeValue(b)<i.effectiveTypeValue(c));else if(i.isXsdType("boolean",
b)&&i.isXsdType("boolean",c))return i.ebvBoolean(i.effectiveTypeValue(b)<i.effectiveTypeValue(c));else if((i.isXsdType("dateTime",b)||i.isXsdType("date",b))&&(i.isXsdType("dateTime",c)||i.isXsdType("date",c))){if(i.isXsdType("dateTime",b)&&i.isXsdType("date",c))return i.ebvFalse();if(i.isXsdType("date",b)&&i.isXsdType("dateTime",c))return i.ebvFalse();var d=x.compareDateComponents(b.value,c.value);return d!=null?d==-1?i.ebvTrue():i.ebvFalse():i.ebvError()}else return i.ebvFalse()};i.runGtEqFunction=
function(b,c){if(i.isEbvError(b)||i.isEbvError(c))return i.ebvError();if(i.isNumeric(b)&&i.isNumeric(c))return i.ebvBoolean(i.effectiveTypeValue(b)>=i.effectiveTypeValue(c));else if(i.isSimpleLiteral(b)&&i.isSimpleLiteral(c))return i.ebvBoolean(i.effectiveTypeValue(b)>=i.effectiveTypeValue(c));else if(i.isXsdType("string",b)&&i.isXsdType("string",c))return i.ebvBoolean(i.effectiveTypeValue(b)>=i.effectiveTypeValue(c));else if(i.isXsdType("boolean",b)&&i.isXsdType("boolean",c))return i.ebvBoolean(i.effectiveTypeValue(b)>=
i.effectiveTypeValue(c));else if((i.isXsdType("dateTime",b)||i.isXsdType("date",b))&&(i.isXsdType("dateTime",c)||i.isXsdType("date",c))){if(i.isXsdType("dateTime",b)&&i.isXsdType("date",c))return i.ebvFalse();if(i.isXsdType("date",b)&&i.isXsdType("dateTime",c))return i.ebvFalse();var d=x.compareDateComponents(b.value,c.value);return d!=null?d!=-1?i.ebvTrue():i.ebvFalse():i.ebvError()}else return i.ebvFalse()};i.runLtEqFunction=function(b,c){if(i.isEbvError(b)||i.isEbvError(c))return i.ebvError();
if(i.isNumeric(b)&&i.isNumeric(c))return i.ebvBoolean(i.effectiveTypeValue(b)<=i.effectiveTypeValue(c));else if(i.isSimpleLiteral(b)&&i.isSimpleLiteral(c))return i.ebvBoolean(i.effectiveTypeValue(b)<=i.effectiveTypeValue(c));else if(i.isXsdType("string",b)&&i.isXsdType("string",c))return i.ebvBoolean(i.effectiveTypeValue(b)<=i.effectiveTypeValue(c));else if(i.isXsdType("boolean",b)&&i.isXsdType("boolean",c))return i.ebvBoolean(i.effectiveTypeValue(b)<=i.effectiveTypeValue(c));else if((i.isXsdType("dateTime",
b)||i.isXsdType("date",b))&&(i.isXsdType("dateTime",c)||i.isXsdType("date",c))){if(i.isXsdType("dateTime",b)&&i.isXsdType("date",c))return i.ebvFalse();if(i.isXsdType("date",b)&&i.isXsdType("dateTime",c))return i.ebvFalse();var d=x.compareDateComponents(b.value,c.value);return d!=null?d!=1?i.ebvTrue():i.ebvFalse():i.ebvError()}else return i.ebvFalse()};i.runAddition=function(b,c,d,j,h,g){var k=i.runFilter(b,d,j,h,g);if(i.isEbvError(k))return i.ebvError();b=k;if(i.isNumeric(k)){for(k=0;k<c.length;k++){var n=
i.runFilter(c[k].expression,d,j,h,g);if(i.isNumeric(n))c[k].operator==="+"?b=i.runSumFunction(b,n):c[k].operator==="-"&&(b=i.runSubFunction(b,n));else return i.ebvFalse()}return b}else return i.ebvFalse()};i.runSumFunction=function(b,c){if(i.isEbvError(b)||i.isEbvError(c))return i.ebvError();var d=i.effectiveTypeValue(b)+i.effectiveTypeValue(c);return i.isDouble(b)||i.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:d}:i.isFloat(b)||i.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",
value:d}:i.isDecimal(b)||i.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};i.runSubFunction=function(b,c){if(i.isEbvError(b)||i.isEbvError(c))return i.ebvError();var d=i.effectiveTypeValue(b)-i.effectiveTypeValue(c);return i.isDouble(b)||i.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:d}:i.isFloat(b)||i.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",
value:d}:i.isDecimal(b)||i.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};i.runMultiplication=function(b,c,d,j,h,g){b=i.runFilter(b,d,j,h,g);if(i.isEbvError(b))return b;var k=b;if(i.isNumeric(b)){for(var n=0;n<c.length;n++){var o=i.runFilter(c[n].expression,d,j,h,g);if(i.isEbvError(o))return b;if(i.isNumeric(o))c[n].operator==="*"?k=i.runMulFunction(k,o):c[n].operator==="/"&&(k=i.runDivFunction(k,
o));else return i.ebvFalse()}return k}else return i.ebvFalse()};i.runMulFunction=function(b,c){if(i.isEbvError(b)||i.isEbvError(c))return i.ebvError();var d=i.effectiveTypeValue(b)*i.effectiveTypeValue(c);return i.isDouble(b)||i.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:d}:i.isFloat(b)||i.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:d}:i.isDecimal(b)||i.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",
value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};i.runDivFunction=function(b,c){if(i.isEbvError(b)||i.isEbvError(c))return i.ebvError();var d=i.effectiveTypeValue(b)/i.effectiveTypeValue(c);return i.isDouble(b)||i.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:d}:i.isFloat(b)||i.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:d}:i.isDecimal(b)||i.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",
value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};i.runBuiltInCall=function(b,c,d,j,h,g){if(b==="notexists"||b==="exists"){var k=JSON.parse(JSON.stringify(c[0])),k=j.abstractQueryTree.parseSelect({pattern:k},d),k=j.abstractQueryTree.bind(k.pattern,d),d=j.executeSelectUnit([{kind:"*"}],h,k,g);return b==="exists"?i.ebvBoolean(d.length!==0):i.ebvBoolean(d.length===0)}else{for(var k=[],n=0;n<c.length;n++)if(c[n].token==="var")k.push(c[n]);else{var o=i.runFilter(c[n],
d,j,h,g);if(i.isEbvError(o))return o;k.push(o)}if(b==="str")return k[0].token==="literal"?{token:"literal",type:null,value:""+k[0].value}:k[0].token==="uri"?{token:"literal",type:null,value:k[0].value}:i.ebvFalse();else if(b==="lang")return k[0].token==="literal"?k[0].lang!=null?{token:"literal",value:""+k[0].lang}:{token:"literal",value:""}:i.ebvError();else if(b==="datatype")return k[0].token==="literal"?(b=k[0],b.type!=null?typeof b.type==="string"?{token:"uri",value:b.type,prefix:null,suffix:null}:
b.type:b.lang==null?{token:"uri",value:"http://www.w3.org/2001/XMLSchema#string",prefix:null,suffix:null}:i.ebvError()):i.ebvError();else if(b==="isliteral")return k[0].token==="literal"?i.ebvTrue():i.ebvFalse();else if(b==="isblank")return k[0].token==="blank"?i.ebvTrue():i.ebvFalse();else if(b==="isuri"||b==="isiri")return k[0].token==="uri"?i.ebvTrue():i.ebvFalse();else if(b==="sameterm")return b=i.RDFTermEquality(k[0],k[1],j,g),i.isEbvError(b)&&(b=!1),i.ebvBoolean(b);else if(b==="langmatches")return b=
k[0],d=k[1],b.token==="literal"&&d.token==="literal"?d.value==="*"&&b.value!=""?i.ebvTrue():i.ebvBoolean(b.value.toLowerCase().indexOf(d.value.toLowerCase())===0):i.ebvError();else if(b==="bound")return b=k[0].value,b==null?i.ebvError():d[b]!=null?i.ebvTrue():i.ebvFalse();else throw"Builtin call "+b+" not implemented yet";}};i.runUnaryExpression=function(b,c,d,j,h,g){c=i.runFilter(c,d,j,h,g);if(i.isEbvError(c))return c;if(b==="!"){var k=i.ebv(c);return i.isEbvError(k)?i.ebvFalse():i.ebvBoolean(!k)}else if(b===
"+")return i.isNumeric(c)?c:i.ebvError();else if(b==="-")if(i.isNumeric(c)){b={};for(k in c)b[k]=c[k];b.value=-b.value;return b}else return i.ebvError()};i.runRegex=function(b,c,d,j,h,g,k){if(b!=null)b=i.runFilter(b,j,h,g,k);else return i.ebvError();if(c!=null)c=i.runFilter(c,j,h,g,k);else return i.ebvError();d!=null&&(d=i.runFilter(d,j,h,g,k));if(c!=null&&c.token==="literal"&&(d==null||d.token==="literal"))c=c.value,d=d==null?null:d.value;else return i.ebvError();if(b!=null&&b.token=="var")if(j[b.value]!=
null)b=j[b.value];else return i.ebvError();else if(b!=null&&b.token==="literal")if(b.type==null||i.isXsdType("string",b))b=b.value;else return i.ebvError();else return i.ebvError();return(d==null?RegExp(c):RegExp(c,d.toLowerCase())).exec(b)?i.ebvTrue():i.ebvFalse()};i.normalizeLiteralDatatype=function(b,c,d){if(!(b.value.type==null||typeof b.value.type!="object"))b.value.type=x.lexicalFormBaseUri(b.value.type,d);return b};i.runIriRefOrFunction=function(b,c,d,j,h,g){if(c==null)return b;else{for(var k=
[],n=0;n<c.length;n++)k.push(i.runFilter(c[n],d,j,h,g));b=x.lexicalFormBaseUri(b,g);if(b=="http://www.w3.org/2001/XMLSchema#integer"||b=="http://www.w3.org/2001/XMLSchema#decimal"||b=="http://www.w3.org/2001/XMLSchema#double"||b=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||b=="http://www.w3.org/2001/XMLSchema#negativeInteger"||b=="http://www.w3.org/2001/XMLSchema#long"||b=="http://www.w3.org/2001/XMLSchema#int"||b=="http://www.w3.org/2001/XMLSchema#short"||b=="http://www.w3.org/2001/XMLSchema#byte"||
b=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||b=="http://www.w3.org/2001/XMLSchema#unsignedLong"||b=="http://www.w3.org/2001/XMLSchema#unsignedInt"||b=="http://www.w3.org/2001/XMLSchema#unsignedShort"||b=="http://www.w3.org/2001/XMLSchema#unsignedByte"||b=="http://www.w3.org/2001/XMLSchema#positiveInteger")if(k=k[0],k.token==="literal")if(k=i.normalizeLiteralDatatype(k,j,g),k.type=="http://www.w3.org/2001/XMLSchema#integer"||k.type=="http://www.w3.org/2001/XMLSchema#decimal"||k.type==
"http://www.w3.org/2001/XMLSchema#double"||k.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||k.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||k.type=="http://www.w3.org/2001/XMLSchema#long"||k.type=="http://www.w3.org/2001/XMLSchema#int"||k.type=="http://www.w3.org/2001/XMLSchema#short"||k.type=="http://www.w3.org/2001/XMLSchema#byte"||k.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||k.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||k.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||
k.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||k.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||k.type=="http://www.w3.org/2001/XMLSchema#positiveInteger")return k.type=b,k;else if(k.type=="http://www.w3.org/2001/XMLSchema#boolean")return i.ebv(k)==!0?(k.type=b,k.value=1):(k.type=b,k.value=0),k;else if(k.type=="http://www.w3.org/2001/XMLSchema#float"||k.type=="http://www.w3.org/2001/XMLSchema#double")return k.type=b,k.value=parseInt(k.value),k;else if(k.type=="http://www.w3.org/2001/XMLSchema#string"||
k.type==null){if(k.value.split(".").length>2)return i.ebvError();else if(k.value.split("-").length>2)return i.ebvError();else if(k.value.split("/").length>2)return i.ebvError();else if(k.value.split("+").length>2)return i.ebvError();if(b=="http://www.w3.org/2001/XMLSchema#decimal"&&(k.value.indexOf("e")!=-1||k.value.indexOf("E")!=-1))return i.ebvError();if(b=="http://www.w3.org/2001/XMLSchema#int"||b=="http://www.w3.org/2001/XMLSchema#integer")if(k.value.indexOf("e")!=-1||k.value.indexOf("E")!=-1||
k.value.indexOf(".")!=-1)return i.ebvError();try{return k.value=parseInt(parseFloat(k.value)),isNaN(k.value)?i.ebvError():(k.type=b,k)}catch(o){return i.ebvError()}}else return i.ebvError();else return i.ebvError();else if(b=="http://www.w3.org/2001/XMLSchema#boolean")return k=k[0],k.token==="literal"&&k.type==null?k.value==="true"||k.value==="1"?i.ebvTrue():k.value==="false"||k.value==="0"?i.ebvFalse():i.ebvError():k.token==="literal"?i.isEbvError(k)?k:i.ebvBoolean(k):i.ebvError();else if(b=="http://www.w3.org/2001/XMLSchema#string")if(k=
k[0],k.token==="literal")if(k=i.normalizeLiteralDatatype(k,j,g),k.type=="http://www.w3.org/2001/XMLSchema#integer"||k.type=="http://www.w3.org/2001/XMLSchema#decimal"||k.type=="http://www.w3.org/2001/XMLSchema#double"||k.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||k.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||k.type=="http://www.w3.org/2001/XMLSchema#long"||k.type=="http://www.w3.org/2001/XMLSchema#int"||k.type=="http://www.w3.org/2001/XMLSchema#short"||k.type=="http://www.w3.org/2001/XMLSchema#byte"||
k.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||k.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||k.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||k.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||k.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||k.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"||k.type=="http://www.w3.org/2001/XMLSchema#float")return k.type=b,k.value=""+k.value,k;else if(k.type=="http://www.w3.org/2001/XMLSchema#string")return k;
else if(k.type=="http://www.w3.org/2001/XMLSchema#boolean")return i.ebv(k)?(k.type=b,k.value="true"):(k.type=b,k.value="false"),k;else if(k.type=="http://www.w3.org/2001/XMLSchema#dateTime"||k.type=="http://www.w3.org/2001/XMLSchema#date"){k.type=b;if(typeof k.value!="string")k.value=x.iso8601(k.value);return k}else return k.type==null?(k.value=""+k.value,k.type=b,k):i.ebvError();else return k.token==="uri"?{token:"literal",value:x.lexicalFormBaseUri(k,g),type:b,lang:null}:i.ebvError();else if(b==
"http://www.w3.org/2001/XMLSchema#dateTime"||b=="http://www.w3.org/2001/XMLSchema#date")if(k=k[0],k.type=="http://www.w3.org/2001/XMLSchema#dateTime"||k.type=="http://www.w3.org/2001/XMLSchema#date")return k;else if(k.type=="http://www.w3.org/2001/XMLSchema#string"||k.type==null)try{return k.value=x.iso8601(x.parseStrictISO8601(k.value)),k.type=b,k}catch(t){return i.ebvError()}else return i.ebvError();else if(b=="http://www.w3.org/2001/XMLSchema#float")if(k=k[0],k.token==="literal")if(k=i.normalizeLiteralDatatype(k,
j,g),k.type=="http://www.w3.org/2001/XMLSchema#decimal"||k.type=="http://www.w3.org/2001/XMLSchema#int")return k.type=b,k.value=parseFloat(k.value),k;else if(k.type=="http://www.w3.org/2001/XMLSchema#boolean")return i.ebv(k)==!0?(k.type=b,k.value=1):(k.type=b,k.value=0),k;else if(k.type=="http://www.w3.org/2001/XMLSchema#float"||k.type=="http://www.w3.org/2001/XMLSchema#double")return k.type=b,k.value=parseFloat(k.value),k;else if(k.type=="http://www.w3.org/2001/XMLSchema#string")try{return k.value=
parseFloat(k.value),isNaN(k.value)?i.ebvError():(k.type=b,k)}catch(q){return i.ebvError()}else if(k.type==null){if(k.value.split(".").length>2)return i.ebvError();else if(k.value.split("-").length>2)return i.ebvError();else if(k.value.split("/").length>2)return i.ebvError();else if(k.value.split("+").length>2)return i.ebvError();try{return k.value=parseFloat(k.value),isNaN(k.value)?i.ebvError():(k.type=b,k)}catch(w){return i.ebvError()}}else return i.ebvError();else return i.ebvError();else return i.ebvError()}};
var F={variablesInBGP:function(b){var c=b.variables;if(c)return c;var d=b.value||b,c=[];for(comp in d)d[comp]&&d[comp].token==="var"?c.push(d[comp].value):d[comp]&&d[comp].token==="blank"&&c.push("blank:"+d[comp].value);return b.variables=c},connected:function(b,c){for(var d="/"+b.vars.join("/")+"/",j=0;j<c.vars.length;j++)if(d.indexOf("/"+c.vars[j]+"/")!=-1)return!0;return!1},variablesIntersectionBGP:function(b,c){for(var d=F.variablesInBGP(b).sort(),j=F.variablesInBGP(c).sort(),h=0,g=0,k=[];h<d.length&&
g<j.length;)d[h]===j[g]?(k.push(d[h]),h++,g++):d[h]<j[g]?h++:g++;return k},executeAndBGPsGroups:function(b){for(var c={},d={},j=0,h=0;h<b.length;h++){var g=b[h],k=[],i;for(i in g)i!="_cost"&&(g[i].token==="var"?k.push(g[i].value):g[i].token==="blank"&&k.push(g[i].value));var o=!1,t;for(t in d){groupVar=d[t];for(var q=0;q<k.length;q++)if(groupVar.indexOf("/"+k[q]+"/")!=-1){c[t].push(g);d[t]=groupVar+k.join("/")+"/";o=!0;break}if(o)break}o||(c[j]=[g],d[j]="/"+k.join("/")+"/",j++)}b=[];for(j in c)b.push(c[j]);
return b},intersectionSize:function(b,c){for(var d=c.i.split("_"),j=0;j<d.length;j++)if(d[j]!=""&&b.i.indexOf("_"+d[j]+"_")!=-1)return 1;return 0},createJoinTree:function(b,c){for(var d="/"+b.vars.join("/")+"/",j=b.vars.concat([]),h=[],g=0;g<c.vars.length;g++)d.indexOf("/"+c.vars[g]+"/")!=-1?c.vars[g].indexOf("_:")==0?h.push("blank:"+c.vars[g]):h.push(c.vars[g]):j.push(c.vars[g]);for(var k=c.i.split("_"),i=b.i.split("_"),d={},g=0;g<k.length;g++)k[g]!=""&&(d[k[g]]=!0);for(g=0;g<i.length;g++)i[g]!=
""&&(d[i[g]]=!0);var g=[],o;for(o in d)g.push(o);return{left:b,right:c,cost:b.cost+c.cost,i:"_"+g.sort().join("_")+"_",vars:j,join:h}}};F.executeBushyTree=function(b,c,d,j){if(b.left==null)return F.executeEmptyJoinBGP(b.right,c,d,j);else if(b.right==null)return F.executeEmptyJoinBGP(b.left,c,d,j);else{var h=F.executeBushyTree(b.left,c,d,j);if(h!=null)return c=F.executeBushyTree(b.right,c,d,j),c!=null?F.joinBindings2(b.join,h,c):null}};F.executeAndBGPsDPSize=function(b,c,d,j){for(var h=F.executeAndBGPsGroups(b),
b=[],g=0;g<h.length;g++){var k=h[g];d.computeCosts(k,j);var i={},o={},t={},q=1,w=null,x={};t["1"]=[];for(var D=0;D<k.length;D++){var q=[],E;for(E in k[D])E!="_cost"&&(k[D][E].token==="var"?q.push(k[D][E].value):k[D][E].token==="blank"&&q.push(k[D][E].value));o["_"+D+"_"]={left:k[D],right:null,cost:k[D]._cost,i:"_"+D+"_",vars:q};q={left:k[D],right:null,cost:k[D]._cost,i:"_"+D+"_",vars:q};i["_"+D+"_"]=q;delete k[D]._cost;x["_"+D+"_"]=!0;t["1"].push("_"+D+"_");if(w==null||w.cost>q.cost)w=q}for(var L=
2;L<=k.length;L++)for(var H=1;H<L;H++)for(var I=t[""+H]||[],J=t[""+(L-H)]||[],D=0;D<I.length;D++)for(var O=0;O<J.length;O++)if(I[D]!==J[O]){var N=o[I[D]],K=o[J[O]];if(F.intersectionSize(N,K)==0&&F.connected(N,K)&&(q=L,K=F.createJoinTree(i[N.i],i[K.i]),!x[K.i])){x[K.i]=!0;var S=K.cost+1;if(i[K.i]!=null)S=i[K.i].cost;N=t[L]||[];N.push(K.i);o[K.i]=K;t[L]=N;S>K.cost&&(q===L&&(w=K),i[K.i]=K)}}b.push(w)}N=null;for(g=0;g<b.length;g++)E=F.executeBushyTree(b[g],c,d,j),N=N==null?E:F.crossProductBindings(N,
E);return N};F.executeEmptyJoinBGP=function(b,c,d,j){return F.executeBGPDatasets(b,c,d,j)};F.executeBGPDatasets=function(b,c,d,j){var h={};if(b.graph==null){for(var g=[],k=0;k<c["default"].length;k++)if(h[c["default"][k].oid]==null){h[c["default"][k].oid]=!0;b.graph=c["default"][k];var i=d.rangeQuery(b,j),i=F.buildBindingsFromRange(i,b);g.push(i)}return b=F.unionManyBindings(g)}else if(b.graph.token==="var"){for(var o=b.graph.value,g=[],k=0;k<c.named.length;k++)if(h[c.named[k].oid]==null)if(h[c.named[k].oid]=
!0,b.graph=c.named[k],i=d.rangeQuery(b,j),i!=null){for(var i=F.buildBindingsFromRange(i,b),t=0;t<i.length;t++)i[t][o]=c.named[k].oid;g.push(i)}else return null;return b=F.unionManyBindings(g||[])}else return i=d.rangeQuery(b,j),i!=null?i=F.buildBindingsFromRange(i,b):null};F.buildBindingsFromRange=function(b,c){F.variablesInBGP(c);var d={},j=c.value||c,d={};for(i in j)j[i]&&j[i].token==="var"?d[i]=j[i].value:j[i]&&j[i].token==="blank"&&(d[i]="blank:"+j[i].value);j=[];if(b!=null)for(var h=0;h<b.length;h++){var g=
{},k=b[h],i;for(i in d)g[d[i]]=k[i];j.push(g)}return j};F.areCompatibleBindings=function(b,c){for(var d in b)if(c[d]!=null&&c[d]!=b[d])return!1;return!0};F.mergeBindings=function(b,c){var d={},j;for(j in b)d[j]=b[j];for(j in c)d[j]=c[j];return d};F.joinBindings2=function(b,c,d){for(var j={},h,g,k,i,o=[],t=0;t<c.length;t++){h=c[t];i=j;for(var q=0;q<b.length;q++)g=b[q],g=h[g],q==b.length-1?(k=i[g]||[],k.push(h),i[g]=k):(k=i[g]||{},i=i[g]=k)}for(t=0;t<d.length;t++){h=d[t];i=j;for(q=0;q<b.length;q++)if(g=
b[q],g=h[g],i[g]!=null)if(q==b.length-1)for(c=0;c<i[g].length;c++)o.push(F.mergeBindings(i[g][c],h));else i=i[g]}return o};F.joinBindings=function(b,c){for(var d=[],j=0;j<b.length;j++)for(var h=b[j],g=0;g<c.length;g++){var k=c[g];F.areCompatibleBindings(h,k)&&d.push(F.mergeBindings(h,k))}return d};F.augmentMissingBindings=function(b,c){for(var d in c)b[d]==null&&(b[d]=null);return b};F.leftOuterJoinBindings=function(b,c){for(var d=[],j=0;j<b.length;j++){for(var h=b[j],g=!1,k=0;k<c.length;k++){var i=
c[k];F.areCompatibleBindings(h,i)&&(g=!0,d.push(F.mergeBindings(h,i)))}g===!1&&(F.augmentMissingBindings(h,i),d.push(h))}return d};F.crossProductBindings=function(b,c){for(var d=[],j=0;j<b.length;j++)for(var h=b[j],g=0;g<c.length;g++)d.push(F.mergeBindings(h,c[g]));return d};F.unionBindings=function(b,c){return b.concat(c)};F.unionManyBindings=function(b){for(var c=[],d=0;d<b.length;d++)c=F.unionBindings(c,b[d]);return c};var I={},la=F;I.QueryEngine=function(b){if(arguments.length!=0)this.backend=
b.backend,this.lexicon=b.lexicon,this.eventsOnBatchLoad=b.eventsOnBatchLoad||!1,this.defaultPrefixes={},this.abstractQueryTree=new K.AbstractQueryTree,this.rdfLoader=new Y.RDFLoader(b.communication),this.callbacksBackend=new H.CallbacksBackend(this)};I.QueryEngine.prototype.registerNsInEnvironment=function(b,c){var d=[];if(b!=null&&b.prefixes!=null)d=b.prefixes;var j={},h;for(h in this.defaultPrefixes)j[h]=this.defaultPrefixes[h];for(h=0;h<d.length;h++){var g=d[h];if(g.token==="prefix")j[g.prefix]=
g.local}c.namespaces=j;c.base=b!=null&&b.base&&typeof b.base==="object"?b.base.value:null};I.QueryEngine.prototype.applyModifier=function(b,c){if(b=="DISTINCT"){for(var d={},j=[],h=0;h<c.length;h++){var g=c[h],k="",i;for(i in g){var o=g[i];o==null?k=k+i+"null":o.token=="literal"?(o.value!=null&&(k+=o.value),o.lang!=null&&(k+=o.lang),o.type!=null&&(k+=o.type)):k=o.value?k+i+o.value:k+i+o}d[k]==null&&(j.push(g),d[k]=!0)}return j}else return c};I.QueryEngine.prototype.applyLimitOffset=function(b,c,d){if(c==
null&&b==null)return d;b==null&&(b=0);c=c==null?d.length:b+c;return d.slice(b,c)};I.QueryEngine.prototype.applySingleOrderBy=function(b,c,d,j){for(var h=[],g=0;g<b.length;g++){var k=i.collect(b[g].expression,[c],d,j,this);h.push(k[0].value)}return{binding:c,value:h}};I.QueryEngine.prototype.applyOrderBy=function(b,c,d,j){var h=this,g=[];if(b!=null&&b.length>0){for(var k=0;k<c.length;k++){var i=h.applySingleOrderBy(b,c[k],d,j);g.push(i)}g.sort(function(c,d){return h.compareFilteredBindings(c,d,b,j)});
c=[];for(k=0;k<g.length;k++)c.push(g[k].binding)}return c};I.QueryEngine.prototype.compareFilteredBindings=function(b,c,d,j){for(var h=0;;){if(h==b.value.length)return 0;var g=d[h].direction;if(b.value[h]==null&&c.value[h]==null)h++;else{if(b.value[h]==null)b={value:!1};else if(c.value[h]==null)b={value:!0};else if(b.value[h].token==="blank"&&c.value[h].token==="blank"){h++;continue}else if(b.value[h].token==="blank")b={value:!1};else if(c.value[h].token==="blank")b={value:!0};else if(b.value[h].token===
"uri"&&c.value[h].token==="uri")if(i.runEqualityFunction(b.value[h],c.value[h],[],this,j).value==!0){h++;continue}else b=i.runTotalGtFunction(b.value[h],c.value[h],[]);else if(b.value[h].token==="uri")b={value:!1};else if(c.value[h].token==="uri")b={value:!0};else if(b.value[h].token==="literal"&&c.value[h].token==="literal"&&b.value[h].type==null&&c.value[h].type==null)if(i.runEqualityFunction(b.value[h],c.value[h],[],this,j).value==!0){h++;continue}else b=i.runTotalGtFunction(b.value[h],c.value[h],
[]);else if(b.value[h].token==="literal"&&b.value[h].type==null)b={value:!1};else if(c.value[h].token==="literal"&&c.value[h].type==null)b={value:!0};else if(i.runEqualityFunction(b.value[h],c.value[h],[],this,j).value==!0){h++;continue}else b=i.runTotalGtFunction(b.value[h],c.value[h],[]);return b.value==!0?g==="ASC"?1:-1:g==="ASC"?-1:1}}};I.QueryEngine.prototype.removeDefaultGraphBindings=function(b,c){for(var d=[],j={},h=0;h<c.named.length;h++)j[c.named[h].oid]=!0;for(h=0;h<c["default"].length;h++)j[c["default"][h].oid]==
null&&d.push(c["default"][h].oid);d=[];for(h=0;h<b.length;h++){var g=b[h],k=!1,i;for(i in g){for(var o=0;o<j.length;o++)if(g[i]===j[o]){k=!0;break}if(k)break}k||d.push(g)}return d};I.QueryEngine.prototype.aggregateBindings=function(b,c,d,j){for(var c=this.copyDenormalizedBindings(c,j.outCache),h={},g=0;g<b.length;g++){var k=i.runAggregator(b[g],c,this,d,j);b[g].alias?h[b[g].alias.value]=k:h[b[g].value.value]=k}return h};I.QueryEngine.prototype.projectBindings=function(b,c,d){if(b[0].kind==="*")return c;
else{for(var j=[],h=0;h<c.length;h++){for(var g=c[h],k={},n=!0,o=0;o<b.length;o++)if(b[o].token=="variable"&&b[o].kind!="aliased")k[b[o].value.value]=g[b[o].value.value];else if(b[o].token=="variable"&&b[o].kind=="aliased"){var t=i.runFilter(b[o].expression,g,this,d,{blanks:{},outCache:{}});if(i.isEbvError(t)){n=!1;break}else k[b[o].alias.value]=t}n===!0&&j.push(k)}return j}};I.QueryEngine.prototype.resolveNsInEnvironment=function(b,c){return c.namespaces[b]};I.QueryEngine.prototype.termCost=function(b,
c){if(b.token==="uri"){var d=x.lexicalFormBaseUri(b,c);return d==null?0:this.lexicon.resolveUriCost(d)}else return b.token==="literal"?this.lexicon.resolveLiteralCost(x.lexicalFormLiteral(b,c)):b.token==="blank"?this.lexicon.resolveBlankCost(b.value):b.token==="var"?this.lexicon.oidCounter/3:null};I.QueryEngine.prototype.normalizeTerm=function(b,c,d){if(b.token==="uri")return c=x.lexicalFormBaseUri(b,c),c==null?null:d?this.lexicon.registerUri(c):this.lexicon.resolveUri(c);else if(b.token==="literal")return c=
x.lexicalFormLiteral(b,c),b=d?this.lexicon.registerLiteral(c):this.lexicon.resolveLiteral(c);else if(b.token==="blank"){var j=b.value,b=c.blanks[j];b==null&&(b=d?this.lexicon.registerBlank(j):this.lexicon.resolveBlank(j),c.blanks[j]=b);return b}else return b.token==="var"?b.value:null};I.QueryEngine.prototype.normalizeDatasets=function(b,c){for(var d=0;d<b.length;d++){var j=b[d];if(j.value===this.lexicon.defaultGraphUri)j.oid=this.lexicon.defaultGraphOid;else{var h=this.normalizeTerm(j,c,!1);if(h!=
null)j.oid=h;else return null}}return!0};I.QueryEngine.prototype.normalizeQuad=function(b,c,d){var j=null,h=null,g=j=null,k;if(b.graph==null)g=0;else if(k=this.normalizeTerm(b.graph,c,d),k!=null)g=k,d===!0&&b.graph.token!="var"&&this.lexicon.registerGraph(k);else return null;k=this.normalizeTerm(b.subject,c,d);if(k!=null)j=k;else return null;k=this.normalizeTerm(b.predicate,c,d);if(k!=null)h=k;else return null;k=this.normalizeTerm(b.object,c,d);return k==null?null:{subject:j,predicate:h,object:k,
graph:g}};I.QueryEngine.prototype.quadCost=function(b,c){var d=null,j=null,h=null,g=null,g=b.graph==null?this.lexicon.oidCounter/4:this.termCost(b.graph,c),d=this.termCost(b.subject,c),j=this.termCost(b.predicate,c),h=this.termCost(b.object,c);return g+d+j+h};I.QueryEngine.prototype.denormalizeBindingsList=function(b,c){for(var d=[],j=0;j<b.length;j++)result=this.denormalizeBindings(b[j],c),d.push(result);return d};I.QueryEngine.prototype.copyDenormalizedBindings=function(b,c){for(var d=[],j=0;j<
b.length;j++){for(var h={},g=b[j],k=x.keys(g),i=0;i<k.length;i++){var o=g[k[i]];if(o==null)h[k[i]]=null;else if(typeof o==="object")h[k[i]]=o;else{var t=c[o];t==null&&(t=this.lexicon.retrieve(o),c[o]=t);h[k[i]]=t}}d.push(h)}return d};I.QueryEngine.prototype.denormalizeBindings=function(b,c){for(var d=x.keys(b),j=0;j<d.length;j++){var h=b[d[j]];h==null?b[d[j]]=null:c[h]!=null?b[d[j]]=c[h]:(h=this.lexicon.retrieve(h),b[d[j]]=h)}return b};I.QueryEngine.prototype.execute=function(b,c,d,j){b=x.normalizeUnicodeLiterals(b);
b=this.abstractQueryTree.parseQueryString(b);if(b==null)c(!1,"Error parsing query string");else if(b.token==="query"&&b.kind=="update"){this.callbacksBackend.startGraphModification();var h=this;this.executeUpdate(b,function(b,d){h.lexicon.updateAfterWrite&&h.lexicon.updateAfterWrite();b?h.callbacksBackend.endGraphModification(function(){c(b,d)}):(h.callbacksBackend.cancelGraphModification(),c(b,d))})}else b.token==="query"&&b.kind=="query"&&this.executeQuery(b,c,d,j)};I.QueryEngine.prototype.executeQuery=
function(b,c,d,j){var h=b.units,g=this,k={blanks:{},outCache:{}};this.registerNsInEnvironment(b.prologue,k);var i=g.abstractQueryTree.parseExecutableUnit(h[0]);if(i.kind==="select")this.executeSelect(i,k,d,j,function(b,d){b?typeof d==="object"&&d.denorm===!0?c(!0,d.bindings):(d=g.denormalizeBindingsList(d,k.outCache),d!=null?c(!0,d):c(!1,d)):c(!1,d)});else if(i.kind==="ask")i.projection=[{token:"variable",kind:"*"}],this.executeSelect(i,k,d,j,function(b,d){b?b?d.length>0?c(!0,!0):c(!0,!1):c(!1,d):
c(!1,d)});else if(i.kind==="construct")i.projection=[{token:"variable",kind:"*"}],g=this,this.executeSelect(i,k,d,j,function(b,d){if(b)if(b)if(d=g.denormalizeBindingsList(d,k.outCache),d!=null){var h=new w.Graph;if(i.template==null)i.template={triplesContext:i.pattern};for(var j=1,x=[],D=0;D<d.length;D++){for(var E=d[D],F=0;F<x.length;F++)delete x[F].valuetmp;for(F=0;F<i.template.triplesContext.length;F++){for(var H=["subject","predicate","object"],I=i.template.triplesContext[F],J=0;J<H.length;J++){var K=
H[J];if(I[K].token==="blank"&&!(I[K].valuetmp&&I[K].valuetmp!=null)){var N="_:b"+j;j++;I[K].valuetmp=N;x.push(I[K])}}H=w.buildRDFResource(I.subject,E,g,k);J=w.buildRDFResource(I.predicate,E,g,k);I=w.buildRDFResource(I.object,E,g,k);H!=null&&J!=null&&I!=null&&(J=new w.Triple(H,J,I),h.add(J))}}c(!0,h)}else c(!1,d);else c(!1,d);else c(!1,d)})};I.QueryEngine.prototype.executeSelect=function(b,c,d,j,h){if(b.kind==="select"||b.kind==="ask"||b.kind==="construct"||b.kind==="modify"){var g=b.projection,k=
b.dataset,i=b.modifier,o=b.limit,t=b.offset,q=b.order;if(d!=null||j!=null)k["default"]=d||[],k.named=j||[];k["default"]!=null&&k["default"].length===0&&k.named!=null&&k.named.length===0&&k["default"].push(this.lexicon.defaultGraphUriTerm);if(this.normalizeDatasets(k["default"].concat(k.named),c)!=null)if(j=this.executeSelectUnit(g,k,b.pattern,c),j!=null){if(b.group!=null&&b.group===""){for(var w=!1,d=0;d<b.projection.length;d++)if(b.projection[d].expression!=null&&b.projection[d].expression.expressionType===
"aggregate"){w=!0;break}if(w===!0)b.group="singleGroup"}if(b.group&&b.group!="")if(this.checkGroupSemantics(b.group,g)){i=this.groupSolution(j,b.group,k,c);o=[];for(d=0;d<i.length;d++)t=this.aggregateBindings(g,i[d],k,c),o.push(t);h(!0,{bindings:o,denorm:!0})}else h(!1,"Incompatible Group and Projection variables");else c=this.applyOrderBy(q,j,k,c),g=this.projectBindings(g,c,k),modifiedBindings=this.applyModifier(i,g),filteredBindings=this.removeDefaultGraphBindings(this.applyLimitOffset(t,o,modifiedBindings),
k),h(!0,filteredBindings)}else h(!1,j);else h(!1,"Error normalizing datasets")}else h(!1,"Cannot execute "+b.kind+" query as a select query")};I.QueryEngine.prototype.groupSolution=function(b,c,d,j){var h=[],g=[],k=!1;if(c==="singleGroup")return[b];else{for(var n=0;n<b.length;n++){for(var o=b[n],t=!0,q=0;q<c.length;q++){var w=c[q],x=null;if(w.token==="var")x=w.value,k==!1&&h.push(x);else if(w.token==="aliased_expression")if(x=w.alias.value,k==!1&&h.push(x),w.expression.primaryexpression==="var")o[w.alias.value]=
o[w.expression.value.value];else if(x=this.copyDenormalizedBindings([o],j.outCache),x=i.runFilter(w.expression,x[0],this,d,j),i.isEbvError(x))t=!1;else{if(x.value!=null)x.value=""+x.value;o[w.alias.value]=x}else x=this.copyDenormalizedBindings([o],j.outCache),x=i.runFilter(w,x[0],this,j),i.isEbvError(x)?t=!1:(o["groupCondition"+env._i]=x,x="groupCondition"+env._i,k==!1&&h.push(x))}k==!1&&(k=!0);t===!0&&g.push(o)}b={};for(n=0;n<g.length;n++){c=g[n];d="";for(q=0;q<h.length;q++)j=c[h[q]],d+=typeof j===
"object"?j.value:j;b[d]==null?b[d]=[c]:b[d].push(c)}var h=[],D;for(D in b)h.push(b[D]);return h}};I.QueryEngine.prototype.executeSelectUnit=function(b,c,d,j){return d.kind==="BGP"?this.executeAndBGP(b,c,d,j):d.kind==="UNION"?this.executeUNION(b,c,d.value,j):d.kind==="JOIN"?this.executeJOIN(b,c,d,j):d.kind==="LEFT_JOIN"?this.executeLEFT_JOIN(b,c,d,j):d.kind==="FILTER"?(b=this.executeSelectUnit(b,c,d.value,j),b!=null?b=i.checkFilters(d,b,!1,c,j,this):[]):d.kind==="EMPTY_PATTERN"?[]:d.kind==="ZERO_OR_MORE_PATH"||
d.kind==="ONE_OR_MORE_PATH"?this.executeZeroOrMorePath(d,c,j):(console.log("Cannot execute query pattern "+d.kind+". Not implemented yet."),null)};I.QueryEngine.prototype.executeZeroOrMorePath=function(b,c,d){var j=[];b.x.token==="var"&&j.push({token:"variable",kind:"var",value:b.x.value});b.y.token==="var"&&j.push({token:"variable",kind:"var",value:b.y.value});j.length===0&&j.push({token:"variable",kind:"*"});if(b.x.token==="var"&&b.y.token==="var"){var h=this.executeAndBGP(j,c,b.path,d),g={},j=
[],k,i,o,t,q=b.x.value;i=b.x;for(var w=b.path,B=0;B<h.length;B++)if(k=h[B][q],g[k]==null){t=this.lexicon.retrieve(k);b.x=t;b.path=this.abstractQueryTree.replace(w,i,t,d);w=x.clone(b.path);i=this.executeZeroOrMorePath(b,c,d);for(var D=0;D<i.length;D++)o=i[D],o[q]=k,j.push(o);i=t}return j}else if(b.x.token!=="var"&&b.y.token==="var"){g={};k=!0;t=[];for(q=[];k==!0||t.length!==0;){k===!0?(h=this.executeAndBGP(j,c,b.path,d),i=b.x,k=!1):(w=this.lexicon.retrieve(t.pop()),h=b.path,h=this.abstractQueryTree.replace(h,
i,w,d),h=this.executeAndBGP(j,c,h,d),i=w);for(B=0;B<h.length;B++)w=h[B][b.y.value],g[w]!==!0&&(o={},o[b.y.value]=w,q.push(o),g[w]=!0,t.push(w))}return q}else throw"Kind of path not supported!";};I.QueryEngine.prototype.executeUNION=function(b,c,d,j){var h=d[0],g=d[1],k=null,n=null;if(d.length!=2)throw"SPARQL algebra UNION with more than two components";k=this.executeSelectUnit(b,c,h,j);if(k==null)return null;n=this.executeSelectUnit(b,c,g,j);if(n==null)return null;b=la.unionBindings(k,n);return b=
i.checkFilters(d,b,!1,c,j,this)};I.QueryEngine.prototype.executeAndBGP=function(b,c,d,j){b=la.executeAndBGPsDPSize(d.value,c,this,j);return b!=null?i.checkFilters(d,b,!1,c,j,this):null};I.QueryEngine.prototype.executeLEFT_JOIN=function(b,c,d,j){var h=d.rvalue,g=null,k=null,g=this.executeSelectUnit(b,c,d.lvalue,j);if(g==null)return null;k=this.executeSelectUnit(b,c,h,j);if(k==null)return null;b=la.leftOuterJoinBindings(g,k);c=i.checkFilters(d,b,!0,c,j,this);if(g.length>1&&k.length>1){var d=[],j={},
n;for(n in g[0])j[n]=!0;for(n in k[0])j[n]!=!0&&d.push(n);acum=[];duplicates={};for(g=0;g<c.length;g++)if(c[g].__nullify__===!0){for(j=0;j<d.length;j++)c[g].bindings[d[j]]=null;j=[];k=[];for(n in c[g].bindings)c[g].bindings[n]!=null&&(j.push(n+c[g].bindings[n]),j.sort(),k.push(j.join("")));if(duplicates[j.join("")]==null){for(j=0;j<k.length;j++)duplicates[k[j]]=!0;acum.push(c[g].bindings)}}else for(n in acum.push(c[g]),j=[],c[g])j.push(n+c[g][n]),j.sort(),duplicates[j.join("")]=!0;return acum}else return c};
I.QueryEngine.prototype.executeJOIN=function(b,c,d,j){var h=d.rvalue,g=null,k=null,g=this.executeSelectUnit(b,c,d.lvalue,j);if(g==null)return null;k=this.executeSelectUnit(b,c,h,j);if(k==null)return null;b=la.joinBindings(g,k);return b=i.checkFilters(d,b,!1,c,j,this)};I.QueryEngine.prototype.rangeQuery=function(b,c){var d=this.normalizeQuad(b,c,!1);return d!=null?(d=this.backend.range(new S.Pattern(d)),d==null||d.length==0?[]:d):(console.log("ERROR normalizing quad"),null)};I.QueryEngine.prototype.executeUpdate=
function(b,c){var d=b.units,j=this,h={blanks:{},outCache:{}};this.registerNsInEnvironment(b.prologue,h);for(var g=0;g<d.length;g++){var k=j.abstractQueryTree.parseExecutableUnit(d[g]);if(k.kind==="insertdata"){for(var i=0;i<k.quads.length;i++){var o=k.quads[i];if(j._executeQuadInsert(o,h)!==!0)return c(!1,error)}c(!0)}else if(k.kind==="deletedata"){for(i=0;i<k.quads.length;i++)o=k.quads[i],this._executeQuadDelete(o,h);c(!0)}else if(k.kind==="modify")this._executeModifyQuery(k,h,c);else if(k.kind===
"create")c(!0);else if(k.kind==="load")i={uri:x.lexicalFormBaseUri(k.sourceGraph,h)},k.destinyGraph!=null&&(i={uri:x.lexicalFormBaseUri(k.destinyGraph,h)}),j=this,this.rdfLoader.load(k.sourceGraph.value,i,function(b,d){b==!1?(console.log("Error loading graph"),console.log(d),c(!1,"error batch loading quads")):(d=j.batchLoad(d),c(d!=null,d||"error batch loading quads"))});else if(k.kind==="drop")this._executeClearGraph(k.destinyGraph,h,c);else if(k.kind==="clear")this._executeClearGraph(k.destinyGraph,
h,c);else throw Error("not supported execution unit");}};I.QueryEngine.prototype.batchLoad=function(b,c){var d=null,j=null,h=null,g=null,k=0,i=!0,o={},t,q;this.eventsOnBatchLoad&&this.callbacksBackend.startGraphModification();for(var w=0;w<b.length;w++)if(q=b[w],q.subject.uri||q.subject.token==="uri"?t=this.lexicon.registerUri(q.subject.uri||q.subject.value):q.subject.literal||q.subject.token==="literal"?t=this.lexicon.registerLiteral(q.subject.literal||q.subject.value):(t=o[q.subject.blank||q.subject.value],
t==null&&(t=this.lexicon.registerBlank(q.subject.blank||q.subject.value),o[q.subject.blank||q.subject.value]=t)),d=t,q.predicate.uri||q.predicate.token==="uri"?t=this.lexicon.registerUri(q.predicate.uri||q.predicate.value):q.predicate.literal||q.predicate.token==="literal"?t=this.lexicon.registerLiteral(q.predicate.literal||q.predicate.value):(t=o[q.predicate.blank||q.predicate.value],t==null&&(t=this.lexicon.registerBlank(q.predicate.blank||q.predicate.value),o[q.predicate.blank||q.predicate.value]=
t)),j=t,q.object.uri||q.object.token==="uri"?t=this.lexicon.registerUri(q.object.uri||q.object.value):q.object.literal||q.object.token==="literal"?t=this.lexicon.registerLiteral(q.object.literal||q.object.value):(t=o[q.object.blank||q.object.value],t==null&&(t=this.lexicon.registerBlank(q.object.blank||q.object.value),o[q.object.blank||q.object.value]=t)),h=t,q.graph.uri||q.graph.token==="uri"?(t=this.lexicon.registerUri(q.graph.uri||q.graph.value),this.lexicon.registerGraph(t)):q.graph.literal||
q.graph.token==="literal"?t=this.lexicon.registerLiteral(q.graph.literal||q.graph.value):(t=o[q.graph.blank||q.graph.value],t==null&&(t=this.lexicon.registerBlank(q.graph.blank||q.graph.value),o[q.graph.blank||q.graph.value]=t)),g=t,t=q,q={subject:d,predicate:j,object:h,graph:g},d=new S.NodeKey(q),j=this.backend.search(d),!j)if(j=this.backend.index(d),j==!0)this.eventsOnBatchLoad&&this.callbacksBackend.nextGraphModification(H.added,[t,q]),k+=1;else{i=!1;break}this.lexicon.updateAfterWrite!=null&&
this.lexicon.updateAfterWrite();var x=function(){i?c&&c(!0,k):c&&c(!1,null)};this.eventsOnBatchLoad?this.callbacksBackend.endGraphModification(function(){x()}):x();return i?k:null};I.QueryEngine.prototype.computeCosts=function(b,c){for(var d=0;d<b.length;d++)b[d]._cost=this.quadCost(b[d],c);return b};I.QueryEngine.prototype._executeModifyQuery=function(b,c,d){var j=this,h=!0,g=null,k=["subject","predicate","object","graph"];b.insert=b.insert==null?[]:b.insert;b["delete"]=b["delete"]==null?[]:b["delete"];
x.seq(function(d){var k=[],i=[];b["with"]!=null&&k.push(b["with"]);if(b.using!=null)for(var i=[],q=0;q<b.using.length;q++){var w=b.using[q];w.kind==="named"?i.push(w.uri):k.push(w.uri)}b.dataset={};b.projection=[{token:"variable",kind:"*"}];j.executeSelect(b,c,k,i,function(b,k){b?(k=j.denormalizeBindingsList(k,c.outCache),k!=null?g=k:h=!1):h=!1;return d()})},function(d){var i=b["with"];if(h){for(var t=[],q=0;q<b["delete"].length;q++)for(var w=b["delete"][q],x=0;x<g.length;x++){for(var D={},E=g[x],
F=0;F<k.length;F++){var H=k[F];H=="graph"&&w[H]==null?D.graph=i:D[H]=w[H].token==="var"?E[w[H].value]:w[H]}t.push(D)}for(x=0;x<t.length;x++)D=t[x],j._executeQuadDelete(D,c)}d()},function(d){var i=b["with"];if(h){for(var t=[],q=0;q<b.insert.length;q++)for(var w=b.insert[q],x=0;x<g.length;x++){for(var D={},E=g[x],F=0;F<k.length;F++){var H=k[F];H=="graph"&&w[H]==null?D.graph=i:D[H]=w[H].token==="var"?E[w[H].value]:w[H]}t.push(D)}for(q=0;q<t.length;q++)D=t[q],j._executeQuadInsert(D,c)}d()})(function(){d(h)})};
I.QueryEngine.prototype._executeQuadInsert=function(b,c){var d=this.normalizeQuad(b,c,!0);if(d!=null){var j=new S.NodeKey(d),h=this.backend.search(j);return h?h:(h=this.backend.index(j),h==!0?(this.callbacksBackend.nextGraphModification(H.added,[b,d]),!0):(console.log("ERROR inserting quad"),!1))}else return console.log("ERROR normalizing quad"),!1};I.QueryEngine.prototype._executeQuadDelete=function(b,c){var d=this.normalizeQuad(b,c,!1);if(d!=null){var j=new S.NodeKey(d);this.backend["delete"](j);
return this.lexicon.unregister(b,j)==!0?(this.callbacksBackend.nextGraphModification(H.deleted,[b,d]),!0):(console.log("ERROR unregistering quad"),!1)}else return console.log("ERROR normalizing quad"),!1};I.QueryEngine.prototype._executeClearGraph=function(b,c,d){if(b==="default")this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",d);else if(b==="named"){var j=this,h=this.lexicon.registeredGraphs(!0);if(h!=null){var g=!1;x.repeat(0,h.length,function(b,c){var d=h[c._i],i=arguments.callee;g?b(i,c):
j.execute("DELETE { GRAPH <"+d+"> { ?s ?p ?o } } WHERE { GRAPH <"+d+"> { ?s ?p ?o } }",function(d){g=!d;b(i,c)})},function(){d(!g)})}else d(!1,"Error deleting named graphs")}else b==="all"?(j=this,this.execute("CLEAR DEFAULT",function(b,c){b?j.execute("CLEAR NAMED",d):d(!1,c)})):b.token=="uri"?(b=x.lexicalFormBaseUri(b,c),b!=null?this.execute("DELETE { GRAPH <"+b+"> { ?s ?p ?o } } WHERE { GRAPH <"+b+"> { ?s ?p ?o } }",d):d(!1,"wrong graph URI")):d(!1,"wrong graph URI")};I.QueryEngine.prototype.checkGroupSemantics=
function(b,c){if(b==="singleGroup")return!0;for(var d={},j=0;j<b.length;j++){var h=b[j];h.token==="var"?d[h.value]=!0:h.token==="aliased_expression"&&(d[h.alias.value]=!0)}for(j=0;j<c.length;j++)if(h=c[j],h.kind==="var"){if(d[h.value.value]==null)return!1}else if(h.kind==="aliased"&&h.expression&&h.expression.primaryexpression==="var"&&d[h.expression.value.value]==null)return!1;return!0};I.QueryEngine.prototype.registerDefaultNamespace=function(b,c){this.defaultPrefixes[b]=c};var H={ANYTHING:{token:"var",
value:"_"},added:"added",deleted:"deleted",eventsFlushed:"eventsFlushed",CallbacksBackend:function(b){this.aqt=new K.AbstractQueryTree;this.engine=b;this.indexMap={};this.observersMap={};this.queriesIndexMap={};this.emptyNotificationsMap={};this.queriesList=[];this.pendingQueries=[];this.matchedQueries=[];this.updateInProgress=null;this.indices=["SPOG","GP","OGS","POG","GSP","OS"];this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object",
"graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};this.callbackCounter=0;this.callbacksMap={};this.callbacksInverseMap={};this.queryCounter=0;this.queriesMap={};this.queriesCallbacksMap={};this.queriesInverseMap={};for(b=0;b<this.indices.length;b++){var c=this.indices[b];this.indexMap[c]={};this.queriesIndexMap[c]={}}}};H.CallbacksBackend.prototype.startGraphModification=function(){this.pendingQueries=
[].concat(this.queriesList);this.matchedQueries=[];if(this.updateInProgress==null)this.updateInProgress={added:[],deleted:[]}};H.CallbacksBackend.prototype.nextGraphModification=function(b,c){this.updateInProgress[b].push(c)};H.CallbacksBackend.prototype.endGraphModification=function(b){var c=this;if(this.updateInProgress!=null){var d=c.updateInProgress;c.updateInProgress=null;this.sendNotification(H.deleted,d[H.deleted],function(){c.sendNotification(H.added,d[H.added],function(){c.sendEmptyNotification(H.eventsFlushed,
null,function(){c.dispatchQueries(function(){b(!0)})})})})}else b(!0)};H.CallbacksBackend.prototype.cancelGraphModification=function(){this.updateInProgress=null};H.CallbacksBackend.prototype.sendNotification=function(b,c,d){for(var j={},h=0;h<c.length;h++){var g=c[h],k;for(k in this.indexMap){var i=this.indexMap[k],o=this.componentOrders[k];this._searchCallbacksInIndex(i,o,b,g,j);this.pendingQueries.length!=0&&(i=this.queriesIndexMap[k],this._searchQueriesInIndex(i,o,g))}}this.dispatchNotifications(j);
d!=null&&d(!0)};H.CallbacksBackend.prototype.sendEmptyNotification=function(b,c,d){for(var j=this.emptyNotificationsMap[b]||[],h=0;h<j.length;h++)j[h](b,c);d()};H.CallbacksBackend.prototype.dispatchNotifications=function(b){for(var c in b){var d=this.callbacksMap[c],j=b[c][H.deleted];j!=null&&d(H.deleted,j);for(var h in b[c])h!=H.deleted&&d(h,b[c][h])}};H.CallbacksBackend.prototype._searchCallbacksInIndex=function(b,c,d,j,h){for(var g=j[1],j=j[0],k=0;k<c.length+1;k++){for(var i=b._||[],o=[],t=0;t<
i.length;t++){var q=i[t];this.callbacksMap[q]!=null&&(h[q]=h[q]||{},h[q][d]=h[q][d]||[],h[q][d].push(j),o.push(q))}b._=o;i=c[k];if(b[""+g[i]]!=null)b=b[""+g[i]];else break}};H.CallbacksBackend.prototype.subscribeEmpty=function(b,c){var d=this.emptyNotificationsMap[b]||[];d.push(c);this.emptyNotificationsMap[b]=d};H.CallbacksBackend.prototype.unsubscribeEmpty=function(b,c){var d=this.emptyNotificationsMap[b];d!=null&&(d=x.remove(d,c));this.emptyNotificationsMap[b]=d};H.CallbacksBackend.prototype.subscribe=
function(b,c,d,j,h,g){b=this._tokenizeComponents(b,c,d,j);c={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,c);b=this.engine.normalizeQuad(b,c,!0);d=this._indexForPattern(new S.Pattern(b));c=this.componentOrders[d];d=this.indexMap[d];for(j=0;j<c.length;j++){var k=b[c[j]];if(k==="_"){d._==null&&(d._=[]);this.callbackCounter++;d._.push(this.callbackCounter);this.callbacksMap[this.callbackCounter]=h;this.callbacksInverseMap[h]=this.callbackCounter;break}else j===c.length-1?(d[k]=d[k]||
{_:[]},this.callbackCounter++,d[k]._.push(this.callbackCounter),this.callbacksMap[this.callbackCounter]=h,this.callbacksInverseMap[h]=this.callbackCounter):(d[k]=d[k]||{},d=d[k])}g!=null&&g(!0)};H.CallbacksBackend.prototype.unsubscribe=function(b){var c=this.callbacksInverseMap[b];c!=null&&(delete this.callbacksInverseMap[b],delete this.callbacksMap[c])};H.CallbacksBackend.prototype._tokenizeComponents=function(b,c,d,j){var h={};h.subject=b==null?H.ANYTHING:b.indexOf("_:")==0?{token:"blank",value:b}:
{token:"uri",value:b};h.predicate=c==null?H.ANYTHING:{token:"uri",value:c};h.object=d==null?H.ANYTHING:{token:"uri",value:d};h.graph=j==null?H.ANYTHING:{token:"uri",value:j};return h};H.CallbacksBackend.prototype._indexForPattern=function(b){for(var b=b.indexKey,c=this.indices,d=0;d<c.length;d++)for(var j=c[d],h=this.componentOrders[j],g=0;g<h.length;g++){if(x.include(b,h[g])===!1)break;if(g==b.length-1)return j}return"SPOG"};H.CallbacksBackend.prototype.observeNode=function(){var b,c,d,j;arguments.length===
4?(b=arguments[0],c=arguments[1],d=arguments[2],j=arguments[3]):(b=arguments[0],c=this.engine.lexicon.defaultGraphUri,d=arguments[1],j=arguments[2]);c="CONSTRUCT { <"+b+"> ?p ?o } WHERE { GRAPH <"+c+"> { <"+b+"> ?p ?o } }";var h=this,g={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,g);var k=[];this.engine.execute(c,function(c,i){if(c){var t=!1,q=function(b,c){if(b==="eventsFlushed"&&t)t=!1,d(i);else if(b!=="eventsFlushed"){t=!0;for(var j=0;j<c.length;j++){var n=c[j],q=w.buildRDFResource(n.subject,
k,h.engine,g),x=w.buildRDFResource(n.predicate,k,h.engine,g),n=w.buildRDFResource(n.object,k,h.engine,g);q!=null&&x!=null&&n!=null&&(n=new w.Triple(q,x,n),b===H.added?i.add(n):b===H.deleted&&i.remove(n))}}};h.observersMap[d]=q;h.subscribeEmpty(H.eventsFlushed,q);h.subscribe(b,null,null,null,q,function(){d(i);j&&j(!0)})}else j&&j(!1)})};H.CallbacksBackend.prototype.stopObservingNode=function(b){return(b=this.observersMap[b])?(this.unsubscribe(b),this.unsubscribeEmpty(H.eventsFlushed,b),!0):!1};H.CallbacksBackend.prototype.observeQuery=
function(b,c,d){var j=this.aqt.collectBasicTriples(this.aqt.parseSelect(this.aqt.parseQueryString(b).units[0])),h={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,h);var g,k,i,o=this.queryCounter;this.queryCounter++;this.queriesMap[o]=b;this.queriesInverseMap[b]=o;this.queriesList.push(o);this.queriesCallbacksMap[o]=c;for(var t=0;t<j.length;t++){k=j[t];if(k.graph==null)k.graph=this.engine.lexicon.defaultGraphUriTerm;k=this.engine.normalizeQuad(k,h,!0);g=new S.Pattern(k);i=this._indexForPattern(g);
g=this.componentOrders[i];i=this.queriesIndexMap[i];for(var q=0;q<g.length;q++){var w=k[g[q]];if(typeof w==="string"){i._==null&&(i._=[]);i._.push(o);break}else q===g.length-1?(i[w]=i[w]||{_:[]},i[w]._.push(o)):(i[w]=i[w]||{},i=i[w])}}this.engine.execute(b,function(b,d){b?c(d):console.log("ERROR in query callback "+d)});d!=null&&d()};H.CallbacksBackend.prototype.stopObservingQuery=function(b){var c=this.queriesInverseMap[b];if(c!=null)delete this.queriesInverseMap[b],delete this.queriesMap[c],this.queriesList=
x.remove(this.queriesList,c)};H.CallbacksBackend.prototype._searchQueriesInIndex=function(b,c,d){for(var d=d[1],j=0;j<c.length+1;j++){for(var h=b._||[],g=[],k=0;k<h.length;k++){var i=h[k];x.include(this.pendingQueries,i)&&(x.remove(this.pendingQueries,i),this.matchedQueries.push(i));this.queriesMap[i]!=null&&g.push(i)}b._=g;h=c[j];if(b[""+d[h]]!=null)b=b[""+d[h]];else break}};H.CallbacksBackend.prototype.dispatchQueries=function(b){var c=this,d,j,h,g;x.repeat(0,this.matchedQueries.length,function(b,
i){d=arguments.callee;h=c.matchedQueries[i._i];j=c.queriesMap[h];g=c.queriesCallbacksMap[h];x.recur(function(){c.engine.execute(j,function(c,h){c?g(h):console.log("ERROR executing query callback "+h);b(d,i)})})},function(){b()})};var O={};try{typeof Worker=="undefined"&&(Worker=null)}catch(Ec){Worker=null}if(Worker)O.RDFStoreClient=function(b,c,d){console.log("trying to load "+b);this.connection=Worker.Worker?new Worker.Worker(b):new Worker(b);this.callbacksCounter=1;var j=this;this.rdf=w.rdf;console.log("The worker");
console.log(this.connection);j=this;this.connection.onmessage=function(b){j.receive(b)};this.observingCallbacks={};this.callbacks={0:{cb:function(b,c){b===!0?d(!0,j):d(!1,c)},fn:"create"}};this.connection.postMessage({fn:"create",args:c,callback:"0"})},O.RDFStoreClient.prototype.receive=function(b){event=b.data||b;if(event.fn==="workerRequest:NetworkTransport:load"){var c=this,d=event.callback,b=event.arguments.concat(function(b,h){c.connection.postMessage({fn:"workerRequestResponse",results:[b,h],
callback:d})});V.load.apply(V,b)}else if(b=this.callbacks[event.callback])b.fn==="create"||b.fn==="execute"||b.fn==="insert"||b.fn=="graph"||b.fn==="node"||b.fn==="insert"||b.fn==="delete"||b.fn==="clear"||b.fn==="load"||b.fn==="startObservingQueryEndCb"||b.fn==="registeredGraphs"?(delete this.callbacks[event.callback],b.cb(event.success,event.result)):b.fn==="startObservingQuery"?b.cb(event.result):b.fn==="startObservingNode"?b.cb(event.result):b.fn==="subscribe"&&b.cb(event.event,event.result)},
O.RDFStoreClient.prototype.registerCallback=function(b,c){var d=""+this.callbacksCounter;this.callbacks[d]={fn:b,cb:c};this.callbacksCounter++;return d},O.RDFStoreClient.prototype.execute=function(){if(arguments.length===3)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(arguments.length===4)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var b,c;arguments.length===1?(b=arguments[0],c=function(){}):arguments.length===2&&(b=arguments[0],
c=arguments[1]);c=this.registerCallback("execute",c);this.connection.postMessage({fn:"execute",args:[b],callback:c})}},O.RDFStoreClient.prototype.insert=function(){var b,c,d;if(arguments.length===1)c=arguments[0],this.connection.postMessage({fn:"insert",args:[c]});else if(arguments.length===2)c=arguments[0],d=arguments[1]||function(){},d=this.registerCallback("insert",d),this.connection.postMessage({fn:"insert",args:[c],callback:d});else if(arguments.length===3)c=arguments[0],b=arguments[1],d=arguments[2]||
function(){},d=this.registerCallback("insert",d),this.connection.postMessage({fn:"insert",args:[c,b],callback:d});else throw"The triples to insert, an optional graph and callback must be provided";},O.RDFStoreClient.prototype.graph=function(){var b=null,c=null;if(arguments.length===1)c=arguments[0]||function(){};else if(arguments.length===2)c=arguments[1]||function(){},b=arguments[0];else throw"An optional graph URI and a callback function must be provided";var d=this,j=this.registerCallback("insert",
function(b,g){if(b){for(var k,j=0;j<g.triples.length;j++)k=g.triples[j],g.triples[j]=new w.Triple(d.adaptJSInterface(k.subject),d.adaptJSInterface(k.predicate),d.adaptJSInterface(k.object));c(b,d.rdf.createGraph(g.triples))}else c(b,g)});b==null?this.connection.postMessage({fn:"graph",args:[],callback:j}):this.connection.postMessage({fn:"graph",args:[b],callback:j})},O.RDFStoreClient.prototype.node=function(){var b=null,c=null,d=null;if(arguments.length===2)d=arguments[0],c=arguments[1]||function(){};
else if(arguments.length===3)d=arguments[0],b=arguments[1],c=arguments[2]||function(){};else throw"An optional graph URI and a callback function must be provided";var j=this,h=this.registerCallback("insert",function(b,d){if(b){for(var h,i=0;i<d.triples.length;i++)h=d.triples[i],d.triples[i]=new w.Triple(j.adaptJSInterface(h.subject),j.adaptJSInterface(h.predicate),j.adaptJSInterface(h.object));c(b,j.rdf.createGraph(d.triples))}else c(b,d)});b==null?this.connection.postMessage({fn:"node",args:[d],
callback:h}):this.connection.postMessage({fn:"node",args:[d,b],callback:h})},O.RDFStoreClient.prototype.setPrefix=function(b,c){this.rdf.setPrefix(b,c);this.connection.postMessage({fn:"rdf/setPrefix",args:[b,c],callback:null})},O.RDFStoreClient.prototype.setDefaultPrefix=function(b){this.rdf.setDefaultPrefix(b);this.connection.postMessage({fn:"rdf/setDefaultPrefix",args:[b],callback:null})},O.RDFStoreClient.prototype["delete"]=function(){var b,c,d;if(arguments.length===1)c=arguments[0],this.connection.postMessage({fn:"delete",
args:[c]});else if(arguments.length===2)c=arguments[0],d=arguments[1]||function(){},d=this.registerCallback("delete",d),this.connection.postMessage({fn:"delete",args:[c],callback:d});else if(arguments.length===3)c=arguments[0],b=arguments[1],d=arguments[2]||function(){},d=this.registerCallback("delete",d),this.connection.postMessage({fn:"delete",args:[c,b],callback:d});else throw"The triples to delete, an optional graph and callback must be provided";},O.RDFStoreClient.prototype.clear=function(){var b,
c;if(arguments.length===1)c=arguments[0]||function(){},c=this.registerCallback("clear",c),this.connection.postMessage({fn:"clear",args:[],callback:c});else if(arguments.length===2)b=arguments[0],c=arguments[1]||function(){},c=this.registerCallback("clear",c),this.connection.postMessage({fn:"clear",args:[b],callback:c});else throw"The optional graph and a callback must be provided";},O.RDFStoreClient.prototype.setBatchLoadEvents=function(b){this.connection.postMessage({fn:"setBatchLoadEvents",args:[b]})},
O.RDFStoreClient.prototype.registerDefaultNamespace=function(b,c){this.connection.postMessage({fn:"registerDefaultNamespace",args:[b,c]})},O.RDFStoreClient.prototype.registerDefaultProfileNamespaces=function(){this.connection.postMessage({fn:"registerDefaultProfileNamespaces",args:[]})},O.RDFStoreClient.prototype.load=function(){var b,c,d,j;if(arguments.length===3)b=arguments[0],c=arguments[1],j=arguments[2]||function(){},j=this.registerCallback("load",j),this.connection.postMessage({fn:"load",args:[b,
c],callback:j});else if(arguments.length===4)b=arguments[0],c=arguments[1],d=arguments[2],j=arguments[3]||function(){},j=this.registerCallback("load",j),this.connection.postMessage({fn:"load",args:[b,c,d],callback:j});else if(arguments.length===2)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";},O.RDFStoreClient.prototype.startObservingQuery=function(b,c,d){d!=null?(c=this.registerCallback("startObservingQuery",c),this.observingCallbacks[b]=c,d=this.registerCallback("startObservingQueryEndCb",
d),this.connection.postMessage({fn:"startObservingQuery",args:[b],callback:[c,d]})):(c=this.registerCallback("startObservingQuery",c),this.observingCallbacks[b]=c,this.connection.postMessage({fn:"startObservingQuery",args:[b],callback:[c]}))},O.RDFStoreClient.prototype.stopObservingQuery=function(b){var c=this.observingCallbacks[b];delete this.observingCallbacks[b];delete this.callbacks[c];this.connection.postMessage({fn:"stopObservingQuery",args:[b],callback:[]})},O.RDFStoreClient.prototype.startObservingNode=
function(){var b,c,d;if(arguments.length===2){b=arguments[0];d=arguments[1];var j=this,h=this.registerCallback("startObservingNode",function(b){for(var c,h=0;h<b.triples.length;h++)c=b.triples[h],b.triples[h]=new w.Triple(j.adaptJSInterface(c.subject),j.adaptJSInterface(c.predicate),j.adaptJSInterface(c.object));d(j.rdf.createGraph(b.triples))});this.observingCallbacks[d]=h;this.connection.postMessage({fn:"startObservingNode",args:[b],callback:h})}else arguments.length===3&&(b=arguments[0],c=arguments[1],
d=arguments[2],j=this,h=this.registerCallback("startObservingNode",function(b){for(var c,h=0;h<b.triples.length;h++)c=b.triples[h],b.triples[h]=new w.Triple(j.adaptJSInterface(c.subject),j.adaptJSInterface(c.predicate),j.adaptJSInterface(c.object));d(j.rdf.createGraph(b.triples))}),this.observingCallbacks[d]=h,this.connection.postMessage({fn:"startObservingNode",args:[b,c],callback:h}))},O.RDFStoreClient.prototype.stopObservingNode=function(b){var c=this.observingCallbacks[b];delete this.observingCallbacks[b];
delete this.callbacks[c];this.connection.postMessage({fn:"stopObservingNode",args:[c],callback:[]})},O.RDFStoreClient.prototype.subscribe=function(b,c,d,j,h){var g=this,i=this.registerCallback("subscribe",function(b,c){for(var d,j=0;j<c.length;j++)d=c[j],c[j]=new w.Triple(g.adaptJSInterface(d.subject),g.adaptJSInterface(d.predicate),g.adaptJSInterface(d.object));h(b,c)});this.observingCallbacks[h]=i;this.connection.postMessage({fn:"subscribe",args:[b,c,d,j],callback:i})},O.RDFStoreClient.prototype.unsubscribe=
function(b){var c=this.observingCallbacks[b];delete this.observingCallbacks[b];delete this.callbacks[c];this.connection.postMessage({fn:"unsubscribe",args:[c],callback:[]})},O.RDFStoreClient.prototype.registeredGraphs=function(b){var c=this;this.connection.postMessage({fn:"registeredGraphs",args:[],callback:this.registerCallback("registeredGraphs",function(d,j){if(d)for(var h=0;h<j.length;h++)graph=j[h],j[h]=c.adaptJSInterface(graph);b(d,j)})})},O.RDFStoreClient.prototype.adaptJSInterface=function(b){if(b.interfaceName===
"BlankNode")return new w.BlankNode(b.bnodeId);else if(b.interfaceName==="Literal")return new w.Literal(b.nominalValue,b.language,b.datatype);else if(b.interfaceName==="NamedNode")return new w.NamedNode(b.nominalValue)},O.RDFStoreClient.prototype.isWebWorkerConnection=!0;var J={},yb={MongodbQueryEngine:function(){throw"MongoDB backend not supported in the browser version";}};J.VERSION="0.5.8";J.connect=function(){var b,c,d;arguments.length==1&&(b=__dirname,c={},d=arguments[0]);arguments.length==2?
(typeof arguments[0]==="string"?(b=arguments[0],c={}):(b=__dirname+"/index.js",c=arguments[0]),d=arguments[1]):(b=arguments[0],c=arguments[1],d=arguments[2]);try{Worker?new O.RDFStoreClient(b,c,function(b,c){d(b,c)}):J.create(c,function(b){d(!1,b)})}catch(j){J.create(c,function(b){d(!1,b)})}};J.create=function(){return arguments.length==1?new J.Store(arguments[0]):arguments.length==2?new J.Store(arguments[0],arguments[1]):new J.Store};J.Store=function(b,c){var d=null,j=null;if(arguments.length==0)j=
{};else if(arguments.length==1)j={},d=b;else if(arguments.length>1)j=b,d=c;else throw"An optional argument map and a callback must be provided";j.treeOrder==null&&(j.treeOrder=15);this.functionMap={};var h=this;j.engine==="mongodb"?(this.isMongodb=!0,this.engine=new yb.MongodbQueryEngine(j),this.engine.readConfiguration(function(){j.overwrite===!0?h.engine.clean(function(){d(h)}):d(h)})):new N.Lexicon(function(b){j.overwrite===!0&&b.clear();new W.QuadBackend(j,function(c){j.overwrite===!0&&c.clear();
j.backend=c;j.lexicon=b;h.engine=new I.QueryEngine(j);d&&d(h)})},j.name)};J.Store.prototype.rdf=w.rdf;J.Store.prototype.execute=function(){if(arguments.length===3)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(arguments.length===4)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var b,c;arguments.length===1?(b=arguments[0],c=function(){}):arguments.length===2&&(b=arguments[0],c=arguments[1]);this.engine.execute(b,c)}};J.Store.prototype.executeWithEnvironment=
function(){var b,c,d;if(arguments.length===3){b=arguments[0];var j=function(){};c=arguments[1];d=arguments[2]}else arguments.length===4&&(b=arguments[0],j=arguments[3],c=arguments[1],d=arguments[2]);for(var h=[],g=[],i=0;i<c.length;i++)h.push({token:"uri",value:c[i]});for(i=0;i<d.length;i++)g.push({token:"uri",value:d[i]});this.engine.execute(b,j,h,g)};J.Store.prototype.graph=function(){var b=null,c=null;if(arguments.length===1)c=arguments[0]||function(){},b=this.engine.lexicon.defaultGraphUri;else if(arguments.length===
2)c=arguments[1]||function(){},b=arguments[0];else throw"An optional graph URI and a callback function must be provided";this.rdf.resolve(b)!=null&&(b=this.rdf.resolve(b));this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+b+"> { ?s ?p ?o } }",c)};J.Store.prototype.node=function(){var b=null,c=null,d=null;if(arguments.length===2)d=arguments[0],c=arguments[1]||function(){},b=this.engine.lexicon.defaultGraphUri;else if(arguments.length===3)d=arguments[0],b=arguments[1],c=arguments[2]||function(){};
else throw"An optional graph URI, node URI and a callback function must be provided";this.rdf.resolve(b)!=null&&(b=this.rdf.resolve(b));this.rdf.resolve(d)!=null&&(d=this.rdf.resolve(d));this.engine.execute("CONSTRUCT { <"+d+"> ?p ?o } WHERE { GRAPH <"+b+"> { <"+d+"> ?p ?o } }",c)};J.Store.prototype.startObservingNode=function(){var b,c,d;arguments.length===2?(b=arguments[0],d=arguments[1],this.engine.callbacksBackend.observeNode(b,d,function(){})):arguments.length===3&&(b=arguments[0],c=arguments[1],
d=arguments[2],this.engine.callbacksBackend.observeNode(b,c,d,function(){}))};J.Store.prototype.stopObservingNode=function(b){this.engine.callbacksBackend.stopObservingNode(b)};J.Store.prototype.startObservingQuery=function(b,c,d){d!=null?this.engine.callbacksBackend.observeQuery(b,c,d):this.engine.callbacksBackend.observeQuery(b,c,function(){})};J.Store.prototype.stopObservingQuery=function(b){this.engine.callbacksBackend.stopObservingQuery(b)};J.Store.prototype.subscribe=function(b,c,d,i,h){var g=
function(b,c){for(var d=[],g={blanks:{},outCache:{}},i=[],j=0;j<c.length;j++){var x=c[j],D=w.buildRDFResource(x.subject,i,this.engine,g),E=w.buildRDFResource(x.predicate,i,this.engine,g),x=w.buildRDFResource(x.object,i,this.engine,g);D!=null&&E!=null&&x!=null&&(x=new w.Triple(D,E,x),d.push(x))}h(b,d)};this.functionMap[h]=g;this.engine.callbacksBackend.subscribe(b,c,d,i,g,function(){})};J.Store.prototype.unsubscribe=function(b){this.engine.callbacksBackend.unsubscribe(this.functionMap[b]);delete this.functionMap[b]};
J.Store.prototype.setPrefix=function(b,c){this.rdf.setPrefix(b,c)};J.Store.prototype.setDefaultPrefix=function(b){this.rdf.setDefaultPrefix(b)};J.Store.prototype.insert=function(){var b,c,d;if(arguments.length===1)c=arguments[0];else if(arguments.length===2)b=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),c=arguments[0],d=arguments[1]||function(){};else if(arguments.length===3)c=arguments[0],b=this.rdf.createNamedNode(arguments[1]),d=arguments[2]||function(){};else throw"The triples to insert, an optional graph and callback must be provided";
var i="",h=this;c.forEach(function(b){i=i+h._nodeToQuery(b.subject)+h._nodeToQuery(b.predicate)+h._nodeToQuery(b.object)+"."});i=b!=null?"INSERT DATA { GRAPH "+this._nodeToQuery(b)+" { "+i+" } }":"INSERT DATA { "+this._nodeToQuery(b)+" { "+i+" }";this.engine.execute(i,d)};J.Store.prototype._nodeToQuery=function(b){if(b.interfaceName==="NamedNode"){var c=this.rdf.resolve(b.valueOf());return c!=null?"<"+c+">":"<"+b.valueOf()+">"}else{if(b.interfaceName!=="")if(b.lang!=null)return'"'+b.valueOf()+'"@'+
b.lang;else if(b.datatype!=null)return'"'+b.valueOf()+'"^^<'+b.datatype+">";return b.toString()}};J.Store.prototype["delete"]=function(){var b,c,d;if(arguments.length===1)c=arguments[0];else if(arguments.length===2)b=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),c=arguments[0],d=arguments[1]||function(){};else if(arguments.length===3)c=arguments[0],b=this.rdf.createNamedNode(arguments[1]),d=arguments[2]||function(){};else throw"The triples to delete, an optional graph and callback must be provided";
var i="",h=this;c.forEach(function(b){i=i+h._nodeToQuery(b.subject)+h._nodeToQuery(b.predicate)+h._nodeToQuery(b.object)+"."});i=b!=null?"DELETE DATA { GRAPH "+this._nodeToQuery(b)+" { "+i+" } }":"DELETE DATA { "+this._nodeToQuery(b)+" { "+i+" }";this.engine.execute(i,d)};J.Store.prototype.clear=function(){var b,c;if(arguments.length===0)b=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),c=function(){};else if(arguments.length===1)b=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),
c=arguments[0]||function(){};else if(arguments.length===2)b=this.rdf.createNamedNode(arguments[0]),c=arguments[1]||function(){};else throw"The optional graph and a callback must be provided";this.engine.execute("CLEAR GRAPH "+this._nodeToQuery(b),c)};J.Store.prototype.setBatchLoadEvents=function(b){this.engine.eventsOnBatchLoad=b};J.Store.prototype.registerDefaultNamespace=function(b,c){this.rdf.prefixes.set(b,c);this.engine.registerDefaultNamespace(b,c)};J.Store.prototype.registerDefaultProfileNamespaces=
function(){var b=this.rdf.prefixes.values(),c;for(c in b)this.registerDefaultNamespace(c,b[c])};J.Store.prototype.load=function(){var b,c,d,i;if(arguments.length===3)d=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0],c=arguments[1],i=arguments[2]||function(){};else if(arguments.length===4)b=arguments[0],c=arguments[1],d=this.rdf.createNamedNode(arguments[2]),i=arguments[3]||function(){};else if(arguments.length===2)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";
if(b==="remote")c=this.rdf.createNamedNode(c),this.engine.execute("LOAD <"+c.valueOf()+"> INTO GRAPH <"+d.valueOf()+">",i);else if(c&&typeof c==="string"&&c.indexOf("file://")===0){b=this.engine.rdfLoader.parsers[b];var h=this;this.engine.rdfLoader.loadFromFile(b,{token:"uri",value:d.valueOf()},c,function(b,c){b?h.engine.batchLoad(c,i):i(b,c)})}else b=this.engine.rdfLoader.parsers[b],h=this,this.engine.rdfLoader.tryToParse(b,{token:"uri",value:d.valueOf()},c,function(b,c){b?h.engine.batchLoad(c,i):
i(b,c)})};J.Store.prototype.registerParser=function(b,c){this.engine.rdfLoader.registerParser(b,c)};J.Store.prototype.registeredGraphs=function(b){if(this.isMongodb)this.engine.registeredGraphs(!0,function(c){for(var d=[],h=0;h<c.length;h++){var i=new w.NamedNode(c[h]);d.push(i)}return b(!0,d)});else{for(var c=this.engine.lexicon.registeredGraphs(!0),d=[],i=0;i<c.length;i++){var h=new w.NamedNode(c[i]);d.push(h)}return b(!0,d)}};J.Store.prototype._nodeToQuery=function(b){if(b.interfaceName==="NamedNode"){var c=
this.rdf.resolve(b.valueOf());return c!=null?"<"+c+">":"<"+b.valueOf()+">"}else return b.toString()};J.Store.prototype.getNetworkTransport=function(){return V};J.Store.prototype.setNetworkTransport=function(b){V=b};RDFStoreWorker={observingCallbacks:{},workerCallbacksCounter:0,workerCallbacks:{}};RDFStoreWorker.registerCallback=function(b){var c=""+RDFStoreWorker.workerCallbacksCounter;RDFStoreWorker.workerCallbacksCounter++;RDFStoreWorker.workerCallbacks[c]=b;return c};RDFStoreWorker.handleCreate=
function(b,c){typeof V!="undefined"&&V!=null&&(V={load:function(b,c,h){var g=RDFStoreWorker.registerCallback(function(b){h.apply(h,b)});postMessage({fn:"workerRequest:NetworkTransport:load",callback:g,arguments:[b,c]})},loadFromFile:function(){}});args=[b];args.push(function(b){RDFStoreWorker.store=b;postMessage({callback:c,result:"created",success:!0})});J.create.apply(J,args)};RDFStoreWorker.receive=function(b){var c=b.data||b;if(c.fn==="workerRequestResponse"){var d=c.callback,i=RDFStoreWorker.workerCallbacks[d];
i!=null&&(delete RDFStoreWorker.workerCallbacks[d],i(c.results))}else if(c.fn==="create"&&c.args!=null)RDFStoreWorker.handleCreate(c.args,c.callback);else if(c.fn==="setBatchLoadEvents")RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args);else if(c.fn==="registerDefaultNamespace")RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args);else if(c.fn==="registerDefaultProfileNamespaces")RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args);else if((c.fn==="execute"||c.fn==="executeWithEnvironment"||
c.fn==="graph"||c.fn==="node"||c.fn==="clear"||c.fn==="load")&&c.args!=null){c.args.push(function(b,d){c.callback!=null&&postMessage({callback:c.callback,result:d,success:b})});try{RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args)}catch(h){console.log("Error executing method through connection"),console.log(h)}}else if((c.fn==="insert"||c.fn==="delete")&&c.args!=null)try{c.args.push(function(b,d){c.callback!=null&&postMessage({callback:c.callback,result:d,success:b})});i=c.args[0];for(b=
0;b<i.triples.length;b++)d=i.triples[b],i.triples[b]=new w.Triple(RDFStoreWorker.adaptJSInterface(d.subject),RDFStoreWorker.adaptJSInterface(d.predicate),RDFStoreWorker.adaptJSInterface(d.object));c.args[1].interfaceName!=null&&(c.args[1]=RDFStoreWorker.adaptJSInterface(c.args[1]));c.args[0]=RDFStoreWorker.store.rdf.createGraph(i.triples);RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args)}catch(g){console.log("Error executing method through connection"),console.log(g)}else c.fn==="rdf/setPrefix"&&
c.args!=null?RDFStoreWorker.store.rdf.setPrefix(c.args[0],c.args[1]):c.fn==="rdf/setDefaultPrefix"&&c.args!=null?RDFStoreWorker.store.rdf.setDefaultPrefix(c.args[0]):c.fn==="startObservingQuery"&&c.args!=null?(d=function(b,d){postMessage({callback:c.callback[0],result:d,success:b})},RDFStoreWorker.observingCallbacks[c.args[0]]=d,c.args.push(d),c.args.push(function(b,d){c.callback&&c.callback[1]!=null&&postMessage({callback:c.callback[1],result:d,success:b})}),RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,
c.args)):c.fn==="stopObservingQuery"?((d=RDFStoreWorker.observingCallbacks[c.args[0]])&&RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,[d]),delete RDFStoreWorker.observingCallbacks[c.args[0]]):c.fn==="startObservingNode"&&c.args!=null?(d=function(b){postMessage({callback:c.callback,result:b})},RDFStoreWorker.observingCallbacks[c.callback]=d,c.args.push(d),RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args)):c.fn==="stopObservingNode"&&c.args!=null?((d=RDFStoreWorker.observingCallbacks[c.args[0]])&&
RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,[d]),delete RDFStoreWorker.observingCallbacks[c.args[0]]):c.fn==="subscribe"&&c.args!=null?(d=function(b,d){postMessage({callback:c.callback,event:b,result:d})},RDFStoreWorker.observingCallbacks[c.callback]=d,c.args.push(d),RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args)):c.fn==="stopObservingNode"&&c.args!=null?((d=RDFStoreWorker.observingCallbacks[c.args[0]])&&RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,[d]),delete RDFStoreWorker.observingCallbacks[c.args[0]]):
c.fn==="registeredGraphs"&&c.args!=null&&RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,[function(b,d){c.callback!=null&&postMessage({callback:c.callback,result:d,success:b})}])};RDFStoreWorker.adaptJSInterface=function(b){if(b.interfaceName==="BlankNode")return new w.BlankNode(b.bnodeId);else if(b.interfaceName==="Literal")return new w.Literal(b.nominalValue,b.language,b.datatype);else if(b.interfaceName==="NamedNode")return new w.NamedNode(b.nominalValue)};onmessage=RDFStoreWorker.receive;
try{window.rdfstore=J}catch(Fc){}})();
