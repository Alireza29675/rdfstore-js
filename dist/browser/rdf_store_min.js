(function(){try{console=console||{}}catch(xc){console=console||{},console.log=function(){}}var A={"extends":function(b,c){c.prototype=new b},stackCounterLimit:1E3,stackCounter:0};A.recur=function(b){A.stackCounter===A.stackCounterLimit?(A.stackCounter=0,setTimeout(b,0)):(A.stackCounter++,b())};A.shuffle=function(b){for(var c,f,k=b.length;k;c=parseInt(Math.random()*k),f=b[--k],b[k]=b[c],b[c]=f);return b};A.include=function(b,c,f){for(var k=b.length-1;k>=0;k--){var i=!1,i=f==null?b[k]===c:f(b[k],c)===
0;if(i===!0)return!0}return!1};A.remove=function(b,c){for(var f=[],k=0;k<b.length;k++)b[k]!==c&&f.push(b[k]);return f};A.repeat=function(b,c,f,k,i){arguments.length===4&&(i={});b<c?(i._i=b,f(function(g,f){A.recur(function(){A.repeat(b+1,c,g,k,f)})},i)):k(i)};Utilsmeanwhile=function(b,c,f,k){arguments.length===3&&(k={});k._stack_counter==null&&(k._stack_counter=0);b===!0?c(function(c,b,k){k._stack_counter%40==39?(k._stack_counter+=1,setTimeout(function(){Utilsmeanwhile(c,b,f,k)},0)):(k._stack_counter+=
1,Utilsmeanwhile(c,b,f,k))},k):f(k)};A.seq=function(){var b=arguments;return function(c){A.repeat(0,b.length,function(c,k){var i=arguments.callee;b[k._i](function(){c(i,k)})},function(){c()})}};A.partition=function(b,c){for(var f=b.length%c,k=[],i=0;i<f;i++)k.push(null);f=[];for(i=0;i<b.length;i++)k.push(b[i]),k.length%c==0&&(f.push(k),k=[]);return f};A.keys=function(b){var c=[],f;for(f in b)c.push(f);return c};A.iso8601=function(b){function c(c){return c<10?"0"+c:c}return b.getUTCFullYear()+"-"+
c(b.getUTCMonth()+1)+"-"+c(b.getUTCDate())+"T"+c(b.getUTCHours())+":"+c(b.getUTCMinutes())+":"+c(b.getUTCSeconds())+"Z"};A.parseStrictISO8601=function(b){var b=b.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),c=0,f=new Date(b[1],0,1);if(b[3])f.setMonth(b[3]-1);else throw"missing ISO8061 component";if(b[5])f.setDate(b[5]);else throw"missing ISO8061 component";if(b[7])f.setHours(b[7]);else throw"missing ISO8061 component";
if(b[8])f.setMinutes(b[8]);else throw"missing ISO8061 component";if(b[10])f.setSeconds(b[10]);else throw"missing ISO8061 component";b[12]&&f.setMilliseconds(Number("0."+b[12])*1E3);b[14]&&(c=Number(b[16])*60+Number(b[17]),c*=b[15]=="-"?1:-1);c-=f.getTimezoneOffset();time=Number(f)+c*6E4;b=new Date;b.setTime(Number(time));return b};A.parseISO8601=function(b){var b=b.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),
c=0,f=new Date(b[1],0,1);b[3]&&f.setMonth(b[3]-1);b[5]&&f.setDate(b[5]);b[7]&&f.setHours(b[7]);b[8]&&f.setMinutes(b[8]);b[10]&&f.setSeconds(b[10]);b[12]&&f.setMilliseconds(Number("0."+b[12])*1E3);b[14]&&(c=Number(b[16])*60+Number(b[17]),c*=b[15]=="-"?1:-1);c-=f.getTimezoneOffset();time=Number(f)+c*6E4;b=new Date;b.setTime(Number(time));return b};A.parseISO8601Components=function(b){var b=b.match(RegExp("([0-9]{4})(-([0-9]{2}))(-([0-9]{2}))(T([0-9]{2}):([0-9]{2})(:([0-9]{2}))?(.([0-9]+))?)?(Z|([-+])([0-9]{2})(:([0-9]{2}))?)?")),
c,f,k,i,g,h,n,t;c=Number(b[1]);f=b[3]-1;k=Number(b[5]);i=Number(b[7]);g=Number(b[8]);h=Number(b[10]);b[12]&&(n=Number("0."+b[12])*1E3);b[13]==="Z"?t=0:b[14]?(t=0,b[17]&&(t=Number(b[17])),t+=Number(b[15])*60,t*=b[14]=="-"?-1:1):b[14]==null&&b[11]&&(t=Number(b[12])*60);return{year:isNaN(c)?null:c,month:isNaN(f)?null:f,date:isNaN(k)?null:k,hours:isNaN(i)?null:i,minutes:isNaN(g)?null:g,seconds:isNaN(h)?null:h,millisecs:isNaN(n)?null:n,timezone:isNaN(t)?null:t}};A.compareDateComponents=function(b,c){var f=
A.parseISO8601Components(b),k=A.parseISO8601Components(c);return f.timezone==null&&k.timezone==null||f.timezone!=null&&k.timezone!=null?(da=A.parseISO8601(b),db=A.parseISO8601(c),da.getTime()==db.getTime()?0:da.getTime()<db.getTime()?-1:1):f.timezone!=null&&k.timezone==null?(da=A.parseISO8601(b),db=A.parseISO8601(c),ta=da.getTime(),tb=db.getTime(),f=50400,ta<tb&&ta<tb+f?-1:ta>tb&&ta>tb-f?1:null):(da=A.parseISO8601(b),db=A.parseISO8601(c),ta=da.getTime(),tb=db.getTime(),f=50400,ta<tb&&ta+f<tb?-1:ta>
tb&&ta+f>tb?1:null)};A.lexicalFormLiteral=function(b,c){var f=b.value,k=b.lang,i=b.type,g=null;f!=null&&i!=null&&typeof i!="string"?(f=i.value,f!=null?g='"'+b.value+'"^^<'+f+">":(f=i.suffix,i=c.namespaces[i.prefix],b.type=i+f,g='"'+b.value+'"^^<'+i+f+">")):g=k==null&&i==null?'"'+f+'"':i==null?'"'+f+'"@'+k:'"'+b.value+'"^^<'+i+">";return g};A.lexicalFormBaseUri=function(b,c){var f=null;if(b.value==null){var k=b.suffix,i=c.namespaces[b.prefix];i!=null&&(f=i+k)}else f=b.value;if(f===null)return null;
else f.indexOf(":")==-1&&(f=(c.base||"")+f);return f};A.lexicalFormTerm=function(b,c){if(b.token==="uri")return{uri:A.lexicalFormBaseUri(b,c)};else if(b.token==="literal")return{literal:A.lexicalFormLiteral(b,c)};else if(b.token==="blank")return{blank:"_:"+b.label};else callback(!1,"Token of kind "+b.token+" cannot transformed into its lexical form")};A.normalizeUnicodeLiterals=function(b){for(var c=b.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||[],f={},k=0;k<c.length;k++)f[c[k]]==null&&(f[c[k]]=!0,b=b.replace(RegExp("\\"+
c[k],"g"),eval("'"+c[k]+"'")));return b};A.hashTerm=function(b){try{if(b==null)return"";if(b.token==="uri")return"u"+b.value;else if(b.token==="blank")return"b"+b.value;else if(b.token==="literal")return l="l"+b.value,l+=b.type||"",l+=b.lang||"",l}catch(c){if(typeof b==="object"){var f="";for(p in b)f=f+p+b[p];return f}return b}};var J={Tree:function(b){if(arguments.length!=0)this.order=b,this.root=this._allocateNode(),this.root.isLeaf=!0,this.root.level=0,this._diskWrite(this.root),this._updateRootNode(this.root),
this.comparator=function(c,b){return c<b?-1:c>b?1:0},this.merger=null}};J.Tree.prototype._allocateNode=function(){return new J.Node};J.Tree.prototype._diskWrite=function(){};J.Tree.prototype._diskRead=function(b){return b};J.Tree.prototype._diskDelete=function(){};J.Tree.prototype._updateRootNode=function(b){return b};J.Tree.prototype.search=function(b,c){for(var f=!0,k=this.root;f;){for(var i=0;i<k.numberActives&&this.comparator(b,k.keys[i].key)===1;)i++;if(i<k.numberActives&&this.comparator(k.keys[i].key,
b)===0)return c!=null&&c==!0?!0:k.keys[i].data;else k.isLeaf===!0?f=!1:k=this._diskRead(k.children[i])}return null};J.Tree.prototype.walk=function(b){this._walk(b,this.root)};J.Tree.prototype._walk=function(b,c){if(c.isLeaf)for(var f=0;f<c.numberActives;f++)b(c.keys[f]);else{for(f=0;f<c.numberActives;f++)this._walk(b,this._diskRead(c.children[f])),b(c.keys[f]);this._walk(b,this._diskRead(c.children[c.numberActives]))}};J.Tree.prototype.walkNodes=function(b){this._walkNodes(b,this.root)};J.Tree.prototype._walkNodes=
function(b,c){if(c.isLeaf)b(c);else{b(c);for(var f=0;f<c.numberActives;f++)this._walkNodes(b,this._diskRead(c.children[f]));this._walkNodes(b,this._diskRead(c.children[c.numberActives]))}};J.Tree.prototype._splitChild=function(b,c,f){var k=this._allocateNode();k.isLeaf=f.isLeaf;k.level=f.level;k.numberActives=this.order-1;var i=f.keys[this.order-1];f.keys[this.order-1]=null;for(var g=0;g<this.order-1;g++)k.keys[g]=f.keys[g+this.order],f.keys[g+this.order]=null,f.isLeaf||(k.children[g]=f.children[g+
this.order],f.children[g+this.order]=null);f.isLeaf||(k.children[g]=f.children[g+this.order],f.children[g+this.order]=null);f.numberActives=this.order-1;for(g=b.numberActives+1;g>c+1;g--)b.children[g]=b.children[g-1];b.children[c+1]=k;for(g=b.numberActives;g>c;g--)b.keys[g]=b.keys[g-1];b.keys[c]=i;b.numberActives++;this._diskWrite(k);this._diskWrite(b);this._diskWrite(f)};J.Tree.prototype.insert=function(b,c){if(this.root.numberActives===2*this.order-1){var f=this._allocateNode();f.isLeaf=!1;f.level=
this.root.level+1;f.numberActives=0;f.children[0]=this.root;this._splitChild(f,0,this.root);this.root=f;this._updateRootNode(this.root);this._insertNonFull(f,b,c)}else this._insertNonFull(this.root,b,c)};J.Tree.prototype._insertNonFull=function(b,c,f){for(var k=b.numberActives-1;!b.isLeaf;){for(;k>=0&&this.comparator(c,b.keys[k].key)===-1;)k--;k++;var i=this._diskRead(b.children[k]);i.numberActives===2*this.order-1&&(this._splitChild(b,k,i),this.comparator(c,b.keys[k].key)===1&&k++);b=this._diskRead(b.children[k]);
k=b.numberActives-1}for(;k>=0&&this.comparator(c,b.keys[k].key)===-1;)b.keys[k+1]=b.keys[k],k--;b.keys[k+1]={key:c,data:f};b.numberActives++;this._diskWrite(b)};J.Tree.prototype["delete"]=function(b){for(var c=this.root,f=null,k=!0,i=null,g=null,h=null,n=!0;n===!0;){for(n=!1;k===!0;){t=0;if(c.numberActives===0)return!1;for(;t<c.numberActives&&this.comparator(b,c.keys[t].key)===1;)t++;i=t;t<c.numberActives&&this.comparator(b,c.keys[t].key)===0&&(k=!1);if(k===!0){if(c.isLeaf===!0)return!1;f=c;c=this._diskRead(c.children[t]);
if(c===null)return!1;i===f.numberActives?(g=this._diskRead(f.children[i-1]),h=null):i===0?(g=null,h=this._diskRead(f.children[1])):(g=this._diskRead(f.children[i-1]),h=this._diskRead(f.children[i+1]));c.numberActives===this.order-1&&f!=null&&(h!=null&&h.numberActives>this.order-1?this._moveKey(f,t,-1):g!=null&&g.numberActives>this.order-1?this._moveKey(f,t,1):g!=null&&g.numberActives===this.order-1?c=this._mergeSiblings(f,t,-1):h!=null&&h.numberActives===this.order-1&&(c=this._mergeSiblings(f,t,1)))}}if(c.isLeaf&&
c.numberActives>this.order-1)return this._deleteKeyFromNode(c,i),!0;if(c.isLeaf&&c===this.root)return this._deleteKeyFromNode(c,i),!0;if(c.isLeaf===!1)if(f=t=null,(t=this._diskRead(c.children[i])).numberActives>this.order-1)b=this._getMaxKeyPos(t),b=b.node.keys[b.index],c.keys[i]=b,this._diskWrite(c),c=t,b=b.key,k=n=!0;else if((t=this._diskRead(c.children[i+1])).numberActives>this.order-1)b=this._getMinKeyPos(t),b=b.node.keys[b.index],c.keys[i]=b,this._diskWrite(c),c=t,b=b.key,k=n=!0;else if((t=this._diskRead(c.children[i])).numberActives===
this.order-1&&(f=this._diskRead(c.children[i+1])).numberActives===this.order-1){k=this._mergeNodes(t,c.keys[i],f);c.children[i]=k;i++;for(var t=i;t<c.numberActives;t++)c.children[t]=c.children[t+1],c.keys[t-1]=c.keys[t];c.children[t]=null;c.keys[t-1]=null;c.numberActives--;if(c.numberActives===0&&this.root===c)this.root=k;this._diskWrite(c);c=k;k=n=!0}c.isLeaf&&c.numberActives>this.order-1&&k===!1&&this._deleteKeyFromNode(c,i);if(n===!1)return!0}};J.Tree.prototype._moveKey=function(b,c,f){f===1&&
c--;var k=this._diskRead(b.children[c]),i=this._diskRead(b.children[c+1]);if(f==-1){k.keys[k.numberActives]=b.keys[c];k.children[k.numberActives+1]=i.children[0];i.children[0]=null;k.numberActives++;b.keys[c]=i.keys[0];for(f=1;f<i.numberActives;f++)i.keys[f-1]=i.keys[f],i.children[f-1]=i.children[f];i.children[i.numberActives-1]=i.children[i.numberActives];i.numberActives--}else{i.children[i.numberActives+1]=i.children[i.numberActives];for(f=i.numberActives;f>0;f--)i.children[f]=i.children[f-1],i.keys[f]=
i.keys[f-1];i.keys[0]=null;i.children[0]=null;i.children[0]=k.children[k.numberActives];i.keys[0]=b.keys[c];i.numberActives++;k.children[k.numberActives]=null;b.keys[c]=k.keys[k.numberActives-1];k.keys[k.numberActives-1]=null;k.numberActives--}this._diskWrite(k);this._diskWrite(i);this._diskWrite(b)};J.Tree.prototype._mergeSiblings=function(b,c){var f,k,i;c===b.numberActives?(c--,k=this._diskRead(b.children[b.numberActives-1]),i=this._diskRead(b.children[b.numberActives])):(k=this._diskRead(b.children[c]),
i=this._diskRead(b.children[c+1]));var g=this._allocateNode();g.isLeaf=k.isLeaf;g.level=k.level;for(f=0;f<this.order-1;f++)g.keys[f]=k.keys[f],g.children[f]=k.children[f];g.keys[this.order-1]=b.keys[c];g.children[this.order-1]=k.children[this.order-1];for(f=0;f<this.order-1;f++)g.keys[f+this.order]=i.keys[f],g.children[f+this.order]=i.children[f];g.children[2*this.order-1]=i.children[this.order-1];b.children[c]=g;for(f=c;f<b.numberActives;f++)b.keys[f]=b.keys[f+1],b.children[f+1]=b.children[f+2];
g.numberActives=k.numberActives+i.numberActives+1;b.numberActives--;for(f=b.numberActives;f<2*this.order-1;f++)b.keys[f]=null;if(b.numberActives===0&&this.root===b)this.root=g,g.isLeaf=g.level?!1:!0;this._diskWrite(g);this.root===g&&this._updateRootNode(this.root);this._diskWrite(b);this._diskDelete(k);this._diskDelete(i);return g};J.Tree.prototype._deleteKeyFromNode=function(b,c){var f=2*this.order-1;if(b.numberActives<f)f=b.numberActives;var k;if(b.isLeaf===!1)return!1;for(k=c;k<f-1;k++)b.keys[k]=
b.keys[k+1];b.keys.pop();b.numberActives--;this._diskWrite(b);return!0};J.Tree.prototype._mergeNodes=function(b,c,f){var k,i;k=this._allocateNode();k.isLeaf=!0;for(i=0;i<b.numberActives;i++)k.keys[i]=b.keys[i],k.children[i]=b.children[i];k.children[b.numberActives]=b.children[b.numberActives];k.keys[b.numberActives]=c;for(i=0;i<f.numberActives;i++)k.keys[i+b.numberActives+1]=f.keys[i],k.children[i+b.numberActives+1]=f.children[i];k.children[2*this.order-1]=f.children[f.numberActives];k.numberActives=
b.numberActives+f.numberActives+1;k.isLeaf=b.isLeaf;k.level=b.level;this._diskWrite(k);return k};J.Tree.prototype.audit=function(b){var c=[],f=[],k=this,i=function(g){for(var i=0;i<f.length;i++)if(k.comparator(f[i],g)===0){var h=" !!! duplicated key "+g;b===!0&&console.log(h);c.push(h)}},g=null,k=this;this.walkNodes(function(h){b===!0&&(console.log("--- Node at "+h.level+" level"),console.log(" - leaf? "+h.isLeaf),console.log(" - num actives? "+h.numberActives),console.log(" - keys: "));for(var n=
h.numberActives;n<h.keys.length;n++)h.keys[n]!=null&&b===!0&&(console.log(" * warning : redundant key data"),c.push(" * warning : redundant key data"));for(n=h.numberActives+1;n<h.children.length;n++)h.children[n]!=null&&b===!0&&(console.log(" * warning : redundant children data"),c.push(" * warning : redundant key data"));if(h.isLeaf===!1)for(n=0;n<h.numberActives;n++){var t=this._diskRead(h.children[n]).keys[this._diskRead(h.children[n]).numberActives-1].key,z=this._diskRead(h.children[n+1]).keys[0].key;
b===!0&&console.log("   "+h.keys[n].key+"("+t+","+z+")");if(k.comparator(h.keys[n].key,t)===-1){var u=" !!! value max left "+t+" > key "+h.keys[n].key;b===!0&&console.log(u);c.push(u)}k.comparator(h.keys[n].key,z)===1&&(u=" !!! value min right "+z+" < key "+h.keys[n].key,b===!0&&console.log(u),c.push(u));i(h.keys[n].key);f.push(h.keys[n].key)}else{g===null?g=h.level:g!=h.level&&(u=" !!! Leaf node with wrong level value",b===!0&&console.log(u),c.push(u));for(n=0;n<h.numberActives;n++)b===!0&&console.log(" "+
h.keys[n].key),i(h.keys[n].key),f.push(h.keys[n].key)}h!=k.root&&(h.numberActives>2*k.order-1&&(b===!0&&(u=" !!!! MAX num keys restriction violated "),console.log(u),c.push(u)),h.numberActives<k.order-1&&(b===!0&&(u=" !!!! MIN num keys restriction violated "),console.log(u),c.push(u)))});return c};J.Tree.prototype._getMaxKeyPos=function(b){for(var c={};;){if(b===null)break;if(b.isLeaf===!0){c.node=b;c.index=b.numberActives-1;break}else c.node=b,c.index=b.numberActives-1,b=this._diskRead(b.children[b.numberActives])}return c};
J.Tree.prototype._getMinKeyPos=function(b){for(var c={};;){if(b===null)break;if(b.isLeaf===!0){c.node=b;c.index=0;break}else c.node=b,c.index=0,b=this._diskRead(b.children[0])}return c};J.Node=function(){this.numberActives=0;this.isLeaf=null;this.keys=[];this.children=[];this.level=0};var X={NodeKey:function(b,c){this.subject=b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.order=c}};X.NodeKey.prototype.comparator=function(b){for(var c=0;c<this.order.length;c++){var f=
this.order[c];if(b[f]==null)break;else if(this[f]<b[f])return-1;else if(this[f]>b[f])return 1}return 0};X.Pattern=function(b){this.subject=b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.indexKey=[];this.keyComponents={};for(var c=[],f=[],b=["subject","predicate","object","graph"],k=0;k<b.length;k++)typeof this[b[k]]==="string"?(f.push(b[k]),this.keyComponents[b[k]]=null):(c.push(b[k]),this.keyComponents[b[k]]=this[b[k]],this.indexKey.push(b[k]));this.order=c.concat(f);
this.key=new X.NodeKey(this.keyComponents,this.order)};var ba={Tree:function(b,c){if(arguments!=0)this.componentOrder=b.componentOrder,J.Tree.call(this,b.order),this.comparator=function(c,b){for(var i=0;i<this.componentOrder.length;i++){var g=this.componentOrder[i],h=c[g],g=b[g];if(h<g)return-1;else if(h>g)return 1}return 0},this.rangeComparator=function(c,b){for(var i=0;i<this.componentOrder.length;i++){var g=this.componentOrder[i];if(b[g]==null||c[g]==null)break;else if(c[g]<b[g])return-1;else if(c[g]>
b[g])return 1}return 0},c!=null&&c(this)}};A["extends"](J.Tree,ba.Tree);ba.Tree.prototype.insert=function(b,c){J.Tree.prototype.insert.call(this,b,null);c&&c(!0);return!0};ba.Tree.prototype.search=function(b,c){var f=J.Tree.prototype.search.call(this,b,!0);c&&c(f);return f};ba.Tree.prototype.range=function(b,c){var f=this._rangeTraverse(this,this.root,b);c&&c(f);return f};ba.Tree.prototype._rangeTraverse=function(b,c,f){for(var f=f.key,k=[],i=[c],g;i.length>0;){c=i.shift();for(g=0;g<c.numberActives&&
b.rangeComparator(c.keys[g].key,f)===-1;)g++;if(c.isLeaf===!0)for(;g<c.numberActives&&b.rangeComparator(c.keys[g].key,f)===0;)k.push(c.keys[g].key),g++;else{var h=b._diskRead(c.children[g]);for(i.push(h);;)if(g<c.numberActives&&b.rangeComparator(c.keys[g].key,f)===0)k.push(c.keys[g].key),g++,h=b._diskRead(c.children[g]),i.push(h);else break}}return k};var V={QuadBackend:function(b,c){if(arguments!=0){this.indexMap={};this.treeOrder=b.treeOrder;this.indices=["SPOG","GP","OGS","POG","GSP","OS"];this.componentOrders=
{SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};for(var f=0;f<this.indices.length;f++){var k=this.indices[f],i=new ba.Tree({order:this.treeOrder,componentOrder:this.componentOrders[k]});this.indexMap[k]=i}c&&c(this)}}};V.QuadBackend.prototype._indexForPattern=function(b){for(var b=
b.indexKey,c=this.indices,f=0;f<c.length;f++)for(var k=c[f],i=this.componentOrders[k],g=0;g<i.length;g++){if(A.include(b,i[g])===!1)break;if(g==b.length-1)return k}return"SPOG"};V.QuadBackend.prototype.index=function(b,c){for(var f=0;f<this.indices.length;f++)this.indexMap[this.indices[f]].insert(b);c&&c(!0);return!0};V.QuadBackend.prototype.range=function(b,c){var f=this.indexMap[this._indexForPattern(b)].range(b);c&&c(f);return f};V.QuadBackend.prototype.search=function(b,c){var f=this.indexMap[this.indices[0]].search(b);
c&&c(f!=null);return f!=null};V.QuadBackend.prototype["delete"]=function(b,c){for(var f,k=0;k<this.indices.length;k++)f=this.indices[k],f=this.indexMap[f],f["delete"](b);c&&c(!0);return!0};var R={Lexicon:function(b){this.uriToOID={};this.OIDToUri={};this.literalToOID={};this.OIDToLiteral={};this.blankToOID={};this.OIDToBlank={};this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri,
oid:this.defaultGraphOid};this.oidCounter=1;this.knownGraphs={};b!=null&&b(this)}};R.Lexicon.prototype.registerGraph=function(b){b!=this.defaultGraphOid&&(this.knownGraphs[b]=!0);return!0};R.Lexicon.prototype.registeredGraphs=function(b){var c=[],f;for(f in this.knownGraphs)b===!0?c.push(this.OIDToUri["u"+f]):c.push(f);return c};R.Lexicon.prototype.registerUri=function(b){if(b===this.defaultGraphUri)return this.defaultGraphOid;else{if(this.uriToOID[b]==null){var c=this.oidCounter;this.oidCounter++;
this.uriToOID[b]=[c,0];this.OIDToUri["u"+c]=b}else{var f=this.uriToOID[b],c=f[0];this.uriToOID[b]=[c,f[1]+1]}return c}};R.Lexicon.prototype.resolveUri=function(b){return b===this.defaultGraphUri?this.defaultGraphOid:(b=this.uriToOID[b],b!=null?b[0]:-1)};R.Lexicon.prototype.registerBlank=function(){var b=this.oidCounter;this.oidCounter++;b=""+b;this.OIDToBlank[b]=!0;return b};R.Lexicon.prototype.resolveBlank=function(){var b=this.oidCounter;this.oidCounter++;return""+b};R.Lexicon.prototype.registerLiteral=
function(b){if(this.literalToOID[b]==null){var c=this.oidCounter;this.oidCounter++;this.literalToOID[b]=[c,0];this.OIDToLiteral["l"+c]=b}else{var f=this.literalToOID[b],c=f[0];this.literalToOID[b]=[c,f[1]+1]}return c};R.Lexicon.prototype.resolveLiteral=function(b){b=this.literalToOID[b];return b!=null?b[0]:-1};R.Lexicon.prototype.parseLiteral=function(b){var c=b.lastIndexOf("@");if(c!=-1&&b[c-1]==='"'){var f=b.substring(1,c-1),b=b.substring(c+1,b.length);return{token:"literal",value:f,lang:b}}c=b.lastIndexOf("^^");
if(c!=-1&&b[c-1]==='"'&&b[c+2]==="<"&&b[b.length-1]===">")return f=b.substring(1,c-1),b=b.substring(c+3,b.length-1),{token:"literal",value:f,type:b};f=b.substring(1,b.length-1);return{token:"literal",value:f}};R.Lexicon.prototype.parseUri=function(b){return{token:"uri",value:b}};R.Lexicon.prototype.retrieve=function(b){try{if(b===this.defaultGraphOid)return{token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0};else{var c=this.OIDToUri["u"+b];if(c)return this.parseUri(c);
else{var f=this.OIDToLiteral["l"+b];if(f)return this.parseLiteral(f);else if(this.OIDToBlank[""+b])return{token:"blank",value:"_:"+b};else throw"Null value for OID";}}}catch(k){throw console.log("error in lexicon retrieving OID:"),console.log(b),k.message&&console.log(k.message),k.stack&&console.log(k.stack),Error("Unknown retrieving OID in lexicon:"+b);}};R.Lexicon.prototype.unregister=function(b,c){try{return this.unregisterTerm(b.subject.token,c.subject),this.unregisterTerm(b.predicate.token,c.predicate),
this.unregisterTerm(b.object.token,c.object),b.graph!=null&&this.unregisterTerm(b.graph.token,c.graph),!0}catch(f){return console.log("Error unregistering quad"),console.log(f.message),!1}};R.Lexicon.prototype.unregisterTerm=function(b,c){if(b==="uri"){if(c!=this.defaultGraphOid){var f="u"+c,k=this.OIDToUri[f],i=this.uriToOID[k],g=i[1];if(""+i[0]===""+c)g===0?(delete this.OIDToUri[f],delete this.uriToOID[k],delete this.knownGraphs[c]):this.uriToOID[k]=[c,g-1];else throw"Not matching OID : "+c+" vs "+
i[0];}}else if(b==="literal")if(this.oidCounter++,f="l"+c,k=this.OIDToLiteral[f],i=this.literalToOID[k],g=i[1],""+i[0]===""+c)g===0?(delete this.OIDToLiteral[f],delete this.literalToOID[k]):this.literalToOID[k]=[c,g-1];else throw"Not matching OID : "+c+" vs "+i[0];else b==="blank"&&delete this.OIDToBlank[""+c]};var ga={};ga.load=function(b,c,f){jQuery.ajax({url:b,headers:{Accepts:c},success:function(c,b,g){if((""+g.status)[0]=="2"){for(var b=g.getAllResponseHeaders().split("\n"),g={},h=0;h<b.length;h++){var n=
b[h].split(":");g[n[0]]=n[1]}f(!0,{headers:g,data:c})}},error:function(b){(""+b.status)[0]=="3"?redirection==0?f(!1,500):(b=b.getAllResponseHeaders().Location||b.getAllResponseHeaders().location,b!=null?ga.load(b,c,f,redirection-1):f(!1,500)):f(!1,b.statusCode())}})};var L={parser:{}};L.parser.parse=function(b,c){var f={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",
dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#","@coerce":{"http://www.w3.org/2001/XMLSchema#anyURI":["http://xmlns.com/foaf/0.1/homepage",
"http://xmlns.com/foaf/0.1/member"],"http://www.w3.org/2001/XMLSchema#integer":"http://xmlns.com/foaf/0.1/age"}},defaultGraph:null,activeSubject:null,inheritedSubject:null,activePredicate:null,inheritedPredicate:null,activeObject:null,activeContext:[],localContext:{},listOfIncompleteTriples:[],listOfUnprocessedItems:[]},k=[];f.activeContext=f.defaultContext;L.parser.isArray(b)?L.parser.parseListOfNodes(b,f,null,null,k,0):L.parser.parseListOfNodes([b],f,null,null,k,0);for(var f=[],i=0;i<k.length;i++){var g=
k[i];g.graph=c;f.push(g)}return f};L.parser.parseListOfNodes=function(b,c,f,k,i,g){for(var h,n,t=0;t<b.length;t++)if(h=b[t],processorState={activeSubject:null,inheritedSubject:f,activePredicate:null,inheritedPredicate:k,activeObject:null,localContext:{},listOfIncompleteTriples:[],listOfUnprocessedItems:[]},processorState.activeContext=L.parser.copyContext(c.activeContext),L.parser.isAssociatveArray(h)){h["@context"]!=null&&(processorState.activeContext=L.parser.mergeContexts(processorState.activeContext,
h["@context"]));h["@"]!=null?(n=h["@"],processorState.activeSubject=L.parser.parseIri(n,processorState.activeContext)):(n="_:"+g,processorState.activeSubject={token:"blank",value:n},g++);processorState.inheritedPredicate!=null&&processorState.inheritedSubject!=null&&i.push({subject:processorState.inheritedSubject,predicate:processorState.inheritedPredicate,object:processorState.activeSubject});for(var z in h)if(n=h[z],z!=="@context"&&z!=="@")processorState.activePredicate=z==="a"?{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}:
L.parser.parseIri(z,processorState.activeContext),typeof n!="object"?(processorState.activeObject=L.parser.coerceLiteral(n,processorState.activePredicate,processorState.activeContext),i.push({subject:processorState.activeSubject,predicate:processorState.activePredicate,object:processorState.activeObject})):n.length!=null?L.parser.parseListOfNodes(n,processorState,processorState.activeSubject,processorState.activePredicate,i,g):n["@iri"]!=null?i.push({subject:processorState.activeSubject,predicate:processorState.activePredicate,
object:L.parser.parseIri(n)}):n["@literal"]!=null?(n["@language"]?obj={token:"literal",value:n["@literal"],lang:n["@language"]}:(obj=L.parser.coerceLiteral(n["@literal"]),obj.type=null.type||n["@datatype"]),i.push({subject:processorState.activeSubject,predicate:processorState.activePredicate,object:obj})):L.parser.parseListOfNodes([n],processorState,null,null,i)}else typeof h==="string"&&processorState.inheritedPredicate!=null&&processorState.inheritedSubject!=null&&i.push({subject:processorState.inheritedSubject,
predicate:processorState.inheritedPredicate,object:L.parser.coerceLiteral(h,processorState.inheritedPredicate,processorState.activeContext)})};L.parser.coerceLiteral=function(b,c,f){for(var k in f||{}){var i=f[k];if(b.indexOf(k)===0)return{token:"uri",value:i+(b.split(k+":")[1]||"")};else if(i===b)return{token:"uri",value:i}}for(var g in f["@coerce"]||{})for(k in i=f["@coerce"][g],typeof i==="string"&&(i=[i]),f)for(var h=0;h<i.length;h++){var n=i[h];n.indexOf(k)===0&&(n=n.split(k+":")[1]||"",n=f[k]+
n);if(n===c.value)return g==="http://www.w3.org/2001/XMLSchema#anyURI"||g==="xsd:anyURI"?{token:"uri",value:b}:{token:"literal",value:b,type:g}}return{token:"literal",value:b}};L.parser.isAssociatveArray=function(b){return typeof b==="object"&&b.length==null};L.parser.isArray=function(b){return typeof b==="object"&&b.length!=null};L.parser.copyContext=function(b){var c={},f;for(f in b)if(f==="@coerce"){var k=b[f],i={},g;for(g in k)i[g]=k[g];c[f]=i}else c[f]=b[f];return c};L.parser.mergeContexts=function(b,
c){for(var f in c)f!=="@coerce"&&(b[f]=c[f]);if(c["@coerce"]!=null){f=c["@coerce"];var k=b["@coerce"]||{},i;for(i in f)if(typeof f[i]==="string")k[L.parser.parseIri(i,b).value]=L.parser.parseIri(f[i],b).value;else for(var g=[],h=0;h<f[i].length;h++)g.push(L.parser.parseIri(f[i][h],b).value);b["@coerce"]=k}return b};L.parser.copyContextStack=function(b){for(var c=[],f=0;f<b.length;f++){var k=b[f],i={},g;for(g in k)if(g==="@coerce"){var h=k[g],n={},t;for(t in h)if(typeof h[t]==="object"){for(var z=
[],u=0;u<h[t].length;u++)z.push(h[t][u]);n[t]=z}else n[t]=h[t];i[g]=n}else i[g]=k[g];c.push(i)}return c};L.parser.parseIri=function(b,c){if(typeof b==="object")if(b["@iri"]!=null)b=b["@iri"];else throw"Error processing iri";for(var f in c)if(f=="@base"&&b.indexOf(":")===0)return{token:"uri",value:c[f]+(b.split(":")[1]||"")};else if(b.indexOf(f)===0)return{token:"uri",value:c[f]+(b.split(f+":")[1]||"")};if(b.indexOf(":")===-1&&c["@vocab"]!=null)return{token:"uri",value:c["@vocab"]+b};else if(b.indexOf(":")!=
-1)return{token:"uri",value:b};else throw"Cannot resolve URI: "+b;};L.parser.parseObject=function(b,c){if(typeof b==="object")if(b["@iri"]!=null)return{token:"uri",value:b["@iri"]};else throw"Error processing iri";else{for(var f in c)if(b.indexOf(f)===0)return{token:"uri",value:c[f]+(b.split(f+":")[1]||"")};return{token:"uri",value:b}}};var $={RDFLoader:function(b){this.precedences=["text/turtle","text/n3","application/json"];this.parsers={"text/turtle":Y.parser,"text/n3":Y.parser,"application/json":L.parser};
if(b!=null)for(var c in b.parsers)this.parsers[c]=b.parsers[c];if(b&&b.precedences!=null)for(c in this.precedences=b.precedences,b.parsers)A.include(this.precedences,c)||this.precedences.push(c);this.acceptHeaderValue="";for(b=0;b<this.precedences.length;b++)b!=0?this.acceptHeaderValue=this.acceptHeaderValue+","+this.precedences[b]:this.acceptHeaderValue+=this.precedences[b]}};$.RDFLoader.prototype.registerParser=function(b,c){this.parsers[b]=c;this.precedences.push(b)};$.RDFLoader.prototype.unregisterParser=
function(b){delete this.parsers[b];for(var c=[],f=0;f<this.precedences.length;f++)this.precedences[f]!=b&&c.push(this.precedences[f]);this.precedences=c};$.RDFLoader.prototype.setAcceptHeaderPrecedence=function(b){this.precedences=b};$.RDFLoader.prototype.load=function(b,c,f){var k=this;ga.load(b,this.acceptHeaderValue,function(i,g){if(i==!0){var h=g.headers["Content-Type"]||g.headers["content-type"],n=g.data;if(h!=null){var h=h.split(";")[0],t;for(t in k.parsers)if(t.indexOf("/")!=-1){var z=t.split("/");
if(z[1]==="*"){if(h.indexOf(z[0])!=-1)return k.tryToParse(k.parsers[t],c,n,f)}else if(h.indexOf(t)!=-1)return k.tryToParse(k.parsers[t],c,n,f);else if(h.indexOf(z[1])!=-1)return k.tryToParse(k.parsers[t],c,n,f)}else if(h.indexOf(t)!=-1)return k.tryToParse(k.parsers[t],b,c,f);f(!1,"Unknown media type : "+h)}else console.log("Unknown media type"),console.log(g.headers),f(!1,"Uknown media type")}else f(!1,"Network error: "+g)})};$.RDFLoader.prototype.loadFromFile=function(b,c,f,k){try{var i=this;fs=
require("fs");fs.readFile(f.split("file:/")[1],function(g,f){if(g)throw g;f=f.toString("utf8");i.tryToParse(b,c,f,k)})}catch(g){k(!1,g)}};$.RDFLoader.prototype.tryToParse=function(b,c,f,k){try{typeof f==="string"&&(f=A.normalizeUnicodeLiterals(f));var i=b.parse(f,c);i!=null?k(!0,i):k(!1,"parsing error")}catch(g){k(!1,"parsing error with mime type : "+g)}};var P={AbstractQueryTree:function(){}};P.AbstractQueryTree.prototype.parseQueryString=function(b){return ia.parser.parse(b)};P.AbstractQueryTree.prototype.parseExecutableUnit=
function(b){if(b.kind==="select")return this.parseSelect(b);else if(b.kind==="ask")return this.parseSelect(b);else if(b.kind==="modify")return this.parseSelect(b);else if(b.kind==="construct")return this.parseSelect(b);else if(b.kind==="insertdata")return this.parseInsertData(b);else if(b.kind==="deletedata")return this.parseInsertData(b);else if(b.kind==="load")return b;else if(b.kind==="clear")return b;else if(b.kind==="drop")return b;else if(b.kind==="create")return b;else throw Error("unknown executable unit: "+
b.kind);};P.AbstractQueryTree.prototype.parseSelect=function(b){return b==null?(console.log("error parsing query"),null):(b.pattern=this.build(b.pattern,{}),b)};P.AbstractQueryTree.prototype.parseInsertData=function(b){return b==null?(console.log("error parsing query"),null):b};P.AbstractQueryTree.prototype.build=function(b,c){if(b.token==="groupgraphpattern")return this._buildGroupGraphPattern(b,c);else if(b.token==="basicgraphpattern")return{kind:"BGP",value:b.triplesContext};else if(b.token===
"graphunionpattern"){var f=this.build(b.value[0],c),k=this.build(b.value[1],c);return{kind:"UNION",value:[f,k]}}else if(b.token==="graphgraphpattern")return{kind:"GRAPH",value:this.build(b.value,c),graph:b.graph};else throw Error("not supported token in query:"+b.token);};P.AbstractQueryTree.prototype._buildGroupGraphPattern=function(b,c){for(var f=b.filters||[],k={kind:"EMPTY_PATTERN"},i=0;i<b.patterns.length;i++){var g=b.patterns[i];g.token==="optionalgraphpattern"?(g=this.build(g.value,c),k=g.kind===
"FILTER"?{kind:"LEFT_JOIN",lvalue:k,rvalue:g.value,filter:g.filter}:{kind:"LEFT_JOIN",lvalue:k,rvalue:g,filter:!0}):(g=this.build(g,c),k=k.kind=="EMPTY_PATTERN"?g:{kind:"JOIN",lvalue:k,rvalue:g})}if(f.length!=0)if(k.kind==="EMPTY_PATTERN")return{kind:"FILTER",filter:f,value:k};else if(k.kind==="LEFT_JOIN"&&k.filter===!0)return{kind:"FILTER",filter:f,value:k};else if(k.kind==="LEFT_JOIN")return{kind:"FILTER",filter:f,value:k};else if(k.kind==="JOIN")return{kind:"FILTER",filter:f,value:k};else if(k.kind===
"UNION")return{kind:"FILTER",filter:f,value:k};else if(k.kind==="GRAPH")return{kind:"FILTER",filter:f,value:k};else if(k.kind==="BGP")return{kind:"FILTER",filter:f,value:k};else throw Error("Unknow kind of algebra expression: "+k.kind);else return k};P.AbstractQueryTree.prototype.collectBasicTriples=function(b,c){c==null&&(c=[]);if(b.kind==="select")c=this.collectBasicTriples(b.pattern,c);else if(b.kind==="BGP")c=c.concat(b.value);else if(b.kind==="UNION")c=this.collectBasicTriples(b.value[0],c),
c=this.collectBasicTriples(b.value[1],c);else if(b.kind==="GRAPH")c=this.collectBasicTriples(b.value,c);else if(b.kind==="LEFT_JOIN"||b.kind==="JOIN")c=this.collectBasicTriples(b.lvalue,c),c=this.collectBasicTriples(b.rvalue,c);else if(b.kind==="FILTER")c=this.collectBasicTriples(b.value,c);else if(b.kind!=="EMPTY_PATTERN")throw"Unknown pattern: "+b.kind;return c};var ia={};ia.parser=function(){var b={parse:function(c,b){function k(a){var c=a.charCodeAt(0);if(c<=255)var a="x",b=2;else a="u",b=4;var a=
"\\"+a,e=c.toString(16).toUpperCase(),c=e;b-=e.length;for(e=0;e<b;e++)c="0"+c;return a+c}function i(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,k)+'"'}function g(c){a<va||(a>va&&(va=a,Ta=[]),Ta.push(c))}function h(){var c="SPARQL@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=n();b===null&&(b=Ua(),b=b!==null?b:null);x[c]={nextPos:a,result:b};return b}function n(){var c="Query@"+a,b=x[c];if(b)return a=b.nextPos,b.result;
b=j;j=!1;var f=a,e=a,d=t();if(d!==null){var s=H();s===null&&(s=O(),s===null&&(s=R(),s===null&&(s=X(),s=s!==null?s:null)));s!==null?d=[d,s]:(d=null,a=e)}else d=null,a=e;e=d!==null?{token:"query",kind:"query",prologue:d[0],units:[d[1]]}:null;e===null&&(e=null,a=f);(j=b)&&e===null&&g("[2] Query");x[c]={nextPos:a,result:e};return e}function t(){var c="Prologue@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=a,d=z(),d=d!==null?d:"";if(d!==null){for(var s=[],m=r();m!==null;)s.push(m),m=r();
if(s!==null){for(var m=[],o=u();o!==null;)m.push(o),o=u();m!==null?d=[d,s,m]:(d=null,a=e)}else d=null,a=e}else d=null,a=e;e=d!==null?{token:"prologue",base:d[0],prefixes:d[2]}:null;e===null&&(e=null,a=f);(j=b)&&e===null&&g("[3] Prologue");x[c]={nextPos:a,result:e};return e}function z(){var b="BaseDecl@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var E=a,e=a,d=[],s=r();s!==null;)d.push(s),s=r();if(d!==null)if(c.substr(a,1)==="B"?(s="B",a+=1):(s=null,j&&g('"B"')),s===null&&(c.substr(a,1)===
"b"?(s="b",a+=1):(s=null,j&&g('"b"')),s=s!==null?s:null),s!==null){if(c.substr(a,1)==="A"){var m="A";a+=1}else m=null,j&&g('"A"');m===null&&(c.substr(a,1)==="a"?(m="a",a+=1):(m=null,j&&g('"a"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="S"){var o="S";a+=1}else o=null,j&&g('"S"');o===null&&(c.substr(a,1)==="s"?(o="s",a+=1):(o=null,j&&g('"s"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="E"){var v="E";a+=1}else v=null,j&&g('"E"');v===null&&(c.substr(a,1)==="e"?(v="e",a+=1):(v=null,
j&&g('"e"')),v=v!==null?v:null);if(v!==null){for(var K=[],B=r();B!==null;)K.push(B),B=r();K!==null?(B=na(),B!==null?d=[d,s,m,o,v,K,B]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?function(a){base={token:"base"};base.value=a;return base}(d[6]):null;e===null&&(e=null,a=E);(j=f)&&e===null&&g("[4] BaseDecl");x[b]={nextPos:a,result:e};return e}function u(){var b="PrefixDecl@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var E=
a,e=a,d=[],s=r();s!==null;)d.push(s),s=r();if(d!==null)if(c.substr(a,1)==="P"?(s="P",a+=1):(s=null,j&&g('"P"')),s===null&&(c.substr(a,1)==="p"?(s="p",a+=1):(s=null,j&&g('"p"')),s=s!==null?s:null),s!==null){if(c.substr(a,1)==="R"){var m="R";a+=1}else m=null,j&&g('"R"');m===null&&(c.substr(a,1)==="r"?(m="r",a+=1):(m=null,j&&g('"r"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var o="E";a+=1}else o=null,j&&g('"E"');o===null&&(c.substr(a,1)==="e"?(o="e",a+=1):(o=null,j&&g('"e"')),o=o!==null?
o:null);if(o!==null){if(c.substr(a,1)==="F"){var v="F";a+=1}else v=null,j&&g('"F"');v===null&&(c.substr(a,1)==="f"?(v="f",a+=1):(v=null,j&&g('"f"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="I"){var K="I";a+=1}else K=null,j&&g('"I"');K===null&&(c.substr(a,1)==="i"?(K="i",a+=1):(K=null,j&&g('"i"')),K=K!==null?K:null);if(K!==null){if(c.substr(a,1)==="X"){var B="X";a+=1}else B=null,j&&g('"X"');B===null&&(c.substr(a,1)==="x"?(B="x",a+=1):(B=null,j&&g('"x"')),B=B!==null?B:null);if(B!==null){for(var k=
[],i=r();i!==null;)k.push(i),i=r();if(k!==null)if(i=Ca(),i!==null){for(var h=[],y=r();y!==null;)h.push(y),y=r();h!==null?(y=na(),y!==null?d=[d,s,m,o,v,K,B,k,i,h,y]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){prefix={token:"prefix"};prefix.prefix=a;prefix.local=c;return prefix}(d[8],d[10]):null;e===null&&(e=null,a=E);(j=f)&&e===null&&g("[5] PrefixDecl");
x[b]={nextPos:a,result:e};return e}function w(){var c="TURTLE@"+a,b=x[c];if(b)return a=b.nextPos,b.result;for(var b=a,g=[],e=A();e!==null;)g.push(e),e=A();g=g!==null?g:null;g===null&&(g=null,a=b);x[c]={nextPos:a,result:g};return g}function A(){var b="statement@"+a,f=x[b];if(f)return a=f.nextPos,f.result;for(var E=f=a,e=[],d=r();d!==null;)e.push(d),d=r();if(e!==null)if(d=D(),d!==null){for(var s=[],m=r();m!==null;)s.push(m),m=r();if(s!==null)if(c.substr(a,1)==="."?(m=".",a+=1):(m=null,j&&g('"."')),
m!==null){for(var o=[],v=r();v!==null;)o.push(v),v=r();o!==null?e=[e,d,s,m,o]:(e=null,a=E)}else e=null,a=E;else e=null,a=E}else e=null,a=E;else e=null,a=E;E=e!==null?e[1]:null;E===null&&(E=null,a=f);if(E!==null)f=E;else{E=f=a;e=[];for(d=r();d!==null;)e.push(d),d=r();if(e!==null)if(d=oa(),d!==null){s=[];for(m=r();m!==null;)s.push(m),m=r();s!==null?e=[e,d,s]:(e=null,a=E)}else e=null,a=E;else e=null,a=E;E=e!==null?e[1]:null;E===null&&(E=null,a=f);if(E!==null)f=E;else{f=r();if(f!==null)for(E=[];f!==null;)E.push(f),
f=r();else E=null;f=E!==null?E:null}}x[b]={nextPos:a,result:f};return f}function D(){var c="directive@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=G();b===null&&(b=I(),b=b!==null?b:null);x[c]={nextPos:a,result:b};return b}function I(){var b="base@"+a,f=x[b];if(f)return a=f.nextPos,f.result;for(var E=f=a,e=[],d=r();d!==null;)e.push(d),d=r();if(e!==null)if(c.substr(a,5)==="@base"?(d="@base",a+=5):(d=null,j&&g('"@base"')),d!==null){var s=r();if(s!==null)for(var m=[];s!==null;)m.push(s),s=r();else m=
null;m!==null?(s=na(),s!==null?e=[e,d,m,s]:(e=null,a=E)):(e=null,a=E)}else e=null,a=E;else e=null,a=E;E=e!==null?function(a){base={token:"base"};base.value=a;return base}(e[3]):null;E===null&&(E=null,a=f);x[b]={nextPos:a,result:E};return E}function G(){var b="prefixID@"+a,f=x[b];if(f)return a=f.nextPos,f.result;for(var E=f=a,e=[],d=r();d!==null;)e.push(d),d=r();if(e!==null)if(c.substr(a,7)==="@prefix"?(d="@prefix",a+=7):(d=null,j&&g('"@prefix"')),d!==null){var s=r();if(s!==null)for(var m=[];s!==null;)m.push(s),
s=r();else m=null;if(m!==null)if(s=Va(),s=s!==null?s:"",s!==null){if(c.substr(a,1)===":"){var o=":";a+=1}else o=null,j&&g('":"');if(o!==null){for(var v=[],K=r();K!==null;)v.push(K),K=r();v!==null?(K=na(),K!==null?e=[e,d,m,s,o,v,K]:(e=null,a=E)):(e=null,a=E)}else e=null,a=E}else e=null,a=E;else e=null,a=E}else e=null,a=E;else e=null,a=E;E=e!==null?function(a,c){prefix={token:"prefix"};prefix.prefix=a;prefix.local=c;return prefix}(e[3],e[6]):null;E===null&&(E=null,a=f);x[b]={nextPos:a,result:E};return E}
function H(){var c="SelectQuery@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=a,d=J();if(d!==null){for(var s=[],m=r();m!==null;)s.push(m),m=r();if(s!==null){for(var m=[],o=P();o!==null;)m.push(o),o=P();if(m!==null){for(var o=[],v=r();v!==null;)o.push(v),v=r();if(o!==null)if(v=V(),v!==null){for(var K=[],B=r();B!==null;)K.push(B),B=r();if(K!==null)if(B=Y(),B!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();k!==null?(i=sb(),i!==null?d=[d,s,m,o,v,K,B,k,i]:(d=null,a=e)):(d=null,a=
e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c,d,e){for(var b={named:[],"default":[]},g=0;g<c.length;g++){var j=c[g];j.kind==="default"?b["default"].push(j.graph):b.named.push(j.graph)}b.named.length===0&&b["default"].length===0&&b["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});c={kind:"select",token:"executableunit"};c.dataset=b;c.projection=
a.vars;c.modifier=a.modifier;c.pattern=d;if(e!=null&&e.limit!=null)c.limit=e.limit;if(e!=null&&e.offset!=null)c.offset=e.offset;if(e!=null&&e.order!=null&&e.order!="")c.order=e.order;if(e!=null&&e.group!=null)c.group=e.group;return c}(d[0],d[2],d[4],d[6]):null;e===null&&(e=null,a=f);(j=b)&&e===null&&g("[6] SelectQuery");x[c]={nextPos:a,result:e};return e}function L(){var c="SubSelect@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=J();if(e!==null){var d=V();if(d!==null){var s=Y();s!==
null?e=[e,d,s]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;(j=b)&&e===null&&g("[7] SubSelect");x[c]={nextPos:a,result:e};return e}function J(){var b="SelectClause@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var E=a,e=a,d=[],s=r();s!==null;)d.push(s),s=r();if(d!==null)if(c.substr(a,1)==="S"?(s="S",a+=1):(s=null,j&&g('"S"')),s===null&&(c.substr(a,1)==="s"?(s="s",a+=1):(s=null,j&&g('"s"')),s=s!==null?s:null),s!==null){if(c.substr(a,1)==="E"){var m="E";a+=1}else m=null,j&&g('"E"');m===null&&
(c.substr(a,1)==="e"?(m="e",a+=1):(m=null,j&&g('"e"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="L"){var o="L";a+=1}else o=null,j&&g('"L"');o===null&&(c.substr(a,1)==="l"?(o="l",a+=1):(o=null,j&&g('"l"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="E"){var v="E";a+=1}else v=null,j&&g('"E"');v===null&&(c.substr(a,1)==="e"?(v="e",a+=1):(v=null,j&&g('"e"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="C"){var K="C";a+=1}else K=null,j&&g('"C"');K===null&&(c.substr(a,1)==="c"?
(K="c",a+=1):(K=null,j&&g('"c"')),K=K!==null?K:null);if(K!==null){if(c.substr(a,1)==="T"){var B="T";a+=1}else B=null,j&&g('"T"');B===null&&(c.substr(a,1)==="t"?(B="t",a+=1):(B=null,j&&g('"t"')),B=B!==null?B:null);if(B!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();if(k!==null){i=a;if(c.substr(a,1)==="D"){var h="D";a+=1}else h=null,j&&g('"D"');h===null&&(c.substr(a,1)==="d"?(h="d",a+=1):(h=null,j&&g('"d"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="I"){var y="I";a+=1}else y=null,j&&
g('"I"');y===null&&(c.substr(a,1)==="i"?(y="i",a+=1):(y=null,j&&g('"i"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="S"){var q="S";a+=1}else q=null,j&&g('"S"');q===null&&(c.substr(a,1)==="s"?(q="s",a+=1):(q=null,j&&g('"s"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="T"){var n="T";a+=1}else n=null,j&&g('"T"');n===null&&(c.substr(a,1)==="t"?(n="t",a+=1):(n=null,j&&g('"t"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="I"){var C="I";a+=1}else C=null,j&&g('"I"');C===null&&(c.substr(a,
1)==="i"?(C="i",a+=1):(C=null,j&&g('"i"')),C=C!==null?C:null);if(C!==null){if(c.substr(a,1)==="N"){var t="N";a+=1}else t=null,j&&g('"N"');t===null&&(c.substr(a,1)==="n"?(t="n",a+=1):(t=null,j&&g('"n"')),t=t!==null?t:null);if(t!==null){if(c.substr(a,1)==="C"){var u="C";a+=1}else u=null,j&&g('"C"');u===null&&(c.substr(a,1)==="c"?(u="c",a+=1):(u=null,j&&g('"c"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="T"){var z="T";a+=1}else z=null,j&&g('"T"');z===null&&(c.substr(a,1)==="t"?(z="t",a+=1):
(z=null,j&&g('"t"')),z=z!==null?z:null);z!==null?h=[h,y,q,n,C,t,u,z]:(h=null,a=i)}else h=null,a=i}else h=null,a=i}else h=null,a=i}else h=null,a=i}else h=null,a=i}else h=null,a=i}else h=null,a=i;h!==null?i=h:(i=a,c.substr(a,1)==="R"?(h="R",a+=1):(h=null,j&&g('"R"')),h===null&&(c.substr(a,1)==="r"?(h="r",a+=1):(h=null,j&&g('"r"')),h=h!==null?h:null),h!==null?(c.substr(a,1)==="E"?(y="E",a+=1):(y=null,j&&g('"E"')),y===null&&(c.substr(a,1)==="e"?(y="e",a+=1):(y=null,j&&g('"e"')),y=y!==null?y:null),y!==
null?(c.substr(a,1)==="D"?(q="D",a+=1):(q=null,j&&g('"D"')),q===null&&(c.substr(a,1)==="d"?(q="d",a+=1):(q=null,j&&g('"d"')),q=q!==null?q:null),q!==null?(c.substr(a,1)==="U"?(n="U",a+=1):(n=null,j&&g('"U"')),n===null&&(c.substr(a,1)==="u"?(n="u",a+=1):(n=null,j&&g('"u"')),n=n!==null?n:null),n!==null?(c.substr(a,1)==="C"?(C="C",a+=1):(C=null,j&&g('"C"')),C===null&&(c.substr(a,1)==="c"?(C="c",a+=1):(C=null,j&&g('"c"')),C=C!==null?C:null),C!==null?(c.substr(a,1)==="E"?(t="E",a+=1):(t=null,j&&g('"E"')),
t===null&&(c.substr(a,1)==="e"?(t="e",a+=1):(t=null,j&&g('"e"')),t=t!==null?t:null),t!==null?(c.substr(a,1)==="D"?(u="D",a+=1):(u=null,j&&g('"D"')),u===null&&(c.substr(a,1)==="d"?(u="d",a+=1):(u=null,j&&g('"d"')),u=u!==null?u:null),u!==null?h=[h,y,q,n,C,t,u]:(h=null,a=i)):(h=null,a=i)):(h=null,a=i)):(h=null,a=i)):(h=null,a=i)):(h=null,a=i)):(h=null,a=i),i=h!==null?h:null);i=i!==null?i:"";if(i!==null){h=[];for(y=r();y!==null;)h.push(y),y=r();if(h!==null){q=a;n=[];for(C=r();C!==null;)n.push(C),C=r();
if(n!==null)if(C=S(),C!==null){t=[];for(u=r();u!==null;)t.push(u),u=r();t!==null?n=[n,C,t]:(n=null,a=q)}else n=null,a=q;else n=null,a=q;if(n!==null)q=n;else{q=a;n=[];for(C=r();C!==null;)n.push(C),C=r();if(n!==null)if(c.substr(a,1)==="("?(C="(",a+=1):(C=null,j&&g('"("')),C!==null){t=[];for(u=r();u!==null;)t.push(u),u=r();if(t!==null)if(u=M(),u!==null){for(var z=[],w=r();w!==null;)z.push(w),w=r();if(z!==null)if(c.substr(a,1)==="A"?(w="A",a+=1):(w=null,j&&g('"A"')),w===null&&(c.substr(a,1)==="a"?(w=
"a",a+=1):(w=null,j&&g('"a"')),w=w!==null?w:null),w!==null){if(c.substr(a,1)==="S"){var A="S";a+=1}else A=null,j&&g('"S"');A===null&&(c.substr(a,1)==="s"?(A="s",a+=1):(A=null,j&&g('"s"')),A=A!==null?A:null);if(A!==null){for(var D=[],N=r();N!==null;)D.push(N),N=r();if(D!==null)if(N=S(),N!==null){for(var I=[],G=r();G!==null;)I.push(G),G=r();if(I!==null)if(c.substr(a,1)===")"?(G=")",a+=1):(G=null,j&&g('")"')),G!==null){for(var H=[],ja=r();ja!==null;)H.push(ja),ja=r();H!==null?n=[n,C,t,u,z,w,A,D,N,I,
G,H]:(n=null,a=q)}else n=null,a=q;else n=null,a=q}else n=null,a=q;else n=null,a=q}else n=null,a=q}else n=null,a=q;else n=null,a=q}else n=null,a=q;else n=null,a=q}else n=null,a=q;else n=null,a=q;q=n!==null?n:null}if(q!==null)for(y=[];q!==null;){y.push(q);q=a;n=[];for(C=r();C!==null;)n.push(C),C=r();if(n!==null)if(C=S(),C!==null){t=[];for(u=r();u!==null;)t.push(u),u=r();t!==null?n=[n,C,t]:(n=null,a=q)}else n=null,a=q;else n=null,a=q;if(n!==null)q=n;else{q=a;n=[];for(C=r();C!==null;)n.push(C),C=r();
if(n!==null)if(c.substr(a,1)==="("?(C="(",a+=1):(C=null,j&&g('"("')),C!==null){t=[];for(u=r();u!==null;)t.push(u),u=r();if(t!==null)if(u=M(),u!==null){z=[];for(w=r();w!==null;)z.push(w),w=r();if(z!==null)if(c.substr(a,1)==="A"?(w="A",a+=1):(w=null,j&&g('"A"')),w===null&&(c.substr(a,1)==="a"?(w="a",a+=1):(w=null,j&&g('"a"')),w=w!==null?w:null),w!==null)if(c.substr(a,1)==="S"?(A="S",a+=1):(A=null,j&&g('"S"')),A===null&&(c.substr(a,1)==="s"?(A="s",a+=1):(A=null,j&&g('"s"')),A=A!==null?A:null),A!==null){D=
[];for(N=r();N!==null;)D.push(N),N=r();if(D!==null)if(N=S(),N!==null){I=[];for(G=r();G!==null;)I.push(G),G=r();if(I!==null)if(c.substr(a,1)===")"?(G=")",a+=1):(G=null,j&&g('")"')),G!==null){H=[];for(ja=r();ja!==null;)H.push(ja),ja=r();H!==null?n=[n,C,t,u,z,w,A,D,N,I,G,H]:(n=null,a=q)}else n=null,a=q;else n=null,a=q}else n=null,a=q;else n=null,a=q}else n=null,a=q;else n=null,a=q;else n=null,a=q}else n=null,a=q;else n=null,a=q}else n=null,a=q;else n=null,a=q;q=n!==null?n:null}}else y=null;if(y===null){y=
a;q=[];for(n=r();n!==null;)q.push(n),n=r();if(q!==null)if(c.substr(a,1)==="*"?(n="*",a+=1):(n=null,j&&g('"*"')),n!==null){C=[];for(t=r();t!==null;)C.push(t),t=r();C!==null?q=[q,n,C]:(q=null,a=y)}else q=null,a=y;else q=null,a=y;y=q!==null?q:null}y!==null?d=[d,s,m,o,v,K,B,k,i,h,y]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){var d=[];if(c.length===
3&&c[1]==="*")return{vars:[{token:"variable",kind:"*"}],modifier:ub(a)};for(var e=0;e<c.length;e++){var b=c[e];b.length===3?d.push({token:"variable",kind:"var",value:b[1]}):d.push({token:"variable",kind:"aliased",expression:b[3],alias:b[8]})}return{vars:d,modifier:ub(a)}}(d[8],d[10]):null;e===null&&(e=null,a=E);(j=f)&&e===null&&g("[8] SelectClause");x[b]={nextPos:a,result:e};return e}function O(){var b="ConstructQuery@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var E=a,e=a,d=[],s=r();s!==
null;)d.push(s),s=r();if(d!==null)if(c.substr(a,1)==="C"?(s="C",a+=1):(s=null,j&&g('"C"')),s===null&&(c.substr(a,1)==="c"?(s="c",a+=1):(s=null,j&&g('"c"')),s=s!==null?s:null),s!==null){if(c.substr(a,1)==="O"){var m="O";a+=1}else m=null,j&&g('"O"');m===null&&(c.substr(a,1)==="o"?(m="o",a+=1):(m=null,j&&g('"o"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="N"){var o="N";a+=1}else o=null,j&&g('"N"');o===null&&(c.substr(a,1)==="n"?(o="n",a+=1):(o=null,j&&g('"n"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,
1)==="S"){var v="S";a+=1}else v=null,j&&g('"S"');v===null&&(c.substr(a,1)==="s"?(v="s",a+=1):(v=null,j&&g('"s"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="T"){var K="T";a+=1}else K=null,j&&g('"T"');K===null&&(c.substr(a,1)==="t"?(K="t",a+=1):(K=null,j&&g('"t"')),K=K!==null?K:null);if(K!==null){if(c.substr(a,1)==="R"){var B="R";a+=1}else B=null,j&&g('"R"');B===null&&(c.substr(a,1)==="r"?(B="r",a+=1):(B=null,j&&g('"r"')),B=B!==null?B:null);if(B!==null){if(c.substr(a,1)==="U"){var k="U";a+=
1}else k=null,j&&g('"U"');k===null&&(c.substr(a,1)==="u"?(k="u",a+=1):(k=null,j&&g('"u"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="C"){var i="C";a+=1}else i=null,j&&g('"C"');i===null&&(c.substr(a,1)==="c"?(i="c",a+=1):(i=null,j&&g('"c"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="T"){var h="T";a+=1}else h=null,j&&g('"T"');h===null&&(c.substr(a,1)==="t"?(h="t",a+=1):(h=null,j&&g('"t"')),h=h!==null?h:null);if(h!==null){for(var n=[],q=r();q!==null;)n.push(q),q=r();if(n!==null)if(q=
vb(),q!==null){for(var t=[],C=r();C!==null;)t.push(C),C=r();if(t!==null){for(var C=[],u=P();u!==null;)C.push(u),u=P();if(C!==null){for(var u=[],z=r();z!==null;)u.push(z),z=r();if(u!==null)if(z=V(),z!==null){for(var w=[],A=r();A!==null;)w.push(A),A=r();w!==null?(A=Y(),A!==null?d=[d,s,m,o,v,K,B,k,i,h,n,q,t,C,u,z,w,A]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=
e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c,d,e){for(var b={named:[],"default":[]},g=0;g<c.length;g++){var j=c[g];j.kind==="default"?b["default"].push(j.graph):b.named.push(j.graph)}b.named.length===0&&b["default"].length===0&&b["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});c={kind:"construct",token:"executableunit"};c.dataset=b;c.template=a;c.pattern=
d;if(e!=null&&e.limit!=null)c.limit=e.limit;if(e!=null&&e.offset!=null)c.offset=e.offset;if(e!=null&&e.order!=null&&e.order!="")c.order=e.order;return c}(d[11],d[13],d[15],d[17]):null;e===null&&(e=null,a=E);(j=f)&&e===null&&g("[9] ConstructQuery");x[b]={nextPos:a,result:e};return e}function R(){var b="DescribeQuery@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var E=a;if(c.substr(a,8)==="DESCRIBE"){var e="DESCRIBE";a+=8}else e=null,j&&g('"DESCRIBE"');if(e!==null){var d=ka();if(d!==null)for(var s=
[];d!==null;)s.push(d),d=ka();else s=null;s!==null?d=s:(c.substr(a,1)==="*"?(d="*",a+=1):(d=null,j&&g('"*"')),d=d!==null?d:null);if(d!==null){for(var s=[],m=P();m!==null;)s.push(m),m=P();if(s!==null)if(m=V(),m=m!==null?m:"",m!==null){var o=Y();o!==null?e=[e,d,s,m,o]:(e=null,a=E)}else e=null,a=E;else e=null,a=E}else e=null,a=E}else e=null,a=E;(j=f)&&e===null&&g("[10] DescribeQuery");x[b]={nextPos:a,result:e};return e}function X(){var b="AskQuery@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;
for(var E=a,e=a,d=[],s=r();s!==null;)d.push(s),s=r();if(d!==null)if(c.substr(a,1)==="A"?(s="A",a+=1):(s=null,j&&g('"A"')),s===null&&(c.substr(a,1)==="a"?(s="a",a+=1):(s=null,j&&g('"a"')),s=s!==null?s:null),s!==null){if(c.substr(a,1)==="S"){var m="S";a+=1}else m=null,j&&g('"S"');m===null&&(c.substr(a,1)==="s"?(m="s",a+=1):(m=null,j&&g('"s"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="K"){var o="K";a+=1}else o=null,j&&g('"K"');o===null&&(c.substr(a,1)==="k"?(o="k",a+=1):(o=null,j&&g('"k"')),
o=o!==null?o:null);if(o!==null){for(var v=[],K=r();K!==null;)v.push(K),K=r();if(v!==null){for(var K=[],B=P();B!==null;)K.push(B),B=P();if(K!==null){for(var B=[],k=r();k!==null;)B.push(k),k=r();B!==null?(k=V(),k!==null?d=[d,s,m,o,v,K,B,k]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){for(var d={named:[],"default":[]},e=0;e<a.length;e++){var b=a[e];b.kind==="default"?d["default"].push(b.graph):d.named.push(b.graph)}d.named.length===
0&&d["default"].length===0&&d["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});e={kind:"ask",token:"executableunit"};e.dataset=d;e.pattern=c;return e}(d[5],d[7]):null;e===null&&(e=null,a=E);(j=f)&&e===null&&g("[11] AskQuery");x[b]={nextPos:a,result:e};return e}function P(){var b="DatasetClause@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var E=a,e=a;if(c.substr(a,1)==="F"){var d="F";a+=1}else d=null,j&&g('"F"');d===
null&&(c.substr(a,1)==="f"?(d="f",a+=1):(d=null,j&&g('"f"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="R"){var s="R";a+=1}else s=null,j&&g('"R"');s===null&&(c.substr(a,1)==="r"?(s="r",a+=1):(s=null,j&&g('"r"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="O"){var m="O";a+=1}else m=null,j&&g('"O"');m===null&&(c.substr(a,1)==="o"?(m="o",a+=1):(m=null,j&&g('"o"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="M"){var o="M";a+=1}else o=null,j&&g('"M"');o===null&&(c.substr(a,1)===
"m"?(o="m",a+=1):(o=null,j&&g('"m"')),o=o!==null?o:null);if(o!==null){for(var v=[],k=r();k!==null;)v.push(k),k=r();if(v!==null)if(k=$(),k===null&&(k=ba(),k=k!==null?k:null),k!==null){for(var B=[],i=r();i!==null;)B.push(i),i=r();B!==null?d=[d,s,m,o,v,k,B]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?d[5]:null;e===null&&(e=null,a=E);(j=f)&&e===null&&g("[12] DatasetClause");x[b]={nextPos:a,result:e};return e}function $(){var c=
"DefaultGraphClause@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;for(var f=a,e=a,d=[],s=r();s!==null;)d.push(s),s=r();d!==null?(s=T(),s!==null?d=[d,s]:(d=null,a=e)):(d=null,a=e);e=d!==null?{graph:d[1],kind:"default",token:"graphClause"}:null;e===null&&(e=null,a=f);(j=b)&&e===null&&g("[13] DefaultGraphClause");x[c]={nextPos:a,result:e};return e}function ba(){var b="NamedGraphClause@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var E=a,e=a;if(c.substr(a,1)==="N"){var d="N";a+=1}else d=
null,j&&g('"N"');d===null&&(c.substr(a,1)==="n"?(d="n",a+=1):(d=null,j&&g('"n"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="A"){var s="A";a+=1}else s=null,j&&g('"A"');s===null&&(c.substr(a,1)==="a"?(s="a",a+=1):(s=null,j&&g('"a"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="M"){var m="M";a+=1}else m=null,j&&g('"M"');m===null&&(c.substr(a,1)==="m"?(m="m",a+=1):(m=null,j&&g('"m"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var o="E";a+=1}else o=null,j&&g('"E"');o===
null&&(c.substr(a,1)==="e"?(o="e",a+=1):(o=null,j&&g('"e"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="D"){var v="D";a+=1}else v=null,j&&g('"D"');v===null&&(c.substr(a,1)==="d"?(v="d",a+=1):(v=null,j&&g('"d"')),v=v!==null?v:null);if(v!==null){for(var k=[],B=r();B!==null;)k.push(B),B=r();k!==null?(B=T(),B!==null?d=[d,s,m,o,v,k,B]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?{graph:d[6],kind:"named",token:"graphCluase"}:
null;e===null&&(e=null,a=E);(j=f)&&e===null&&g("[14] NamedGraphClause");x[b]={nextPos:a,result:e};return e}function V(){var b="WhereClause@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var E=a,e=a,d=a;if(c.substr(a,1)==="W"){var s="W";a+=1}else s=null,j&&g('"W"');s===null&&(c.substr(a,1)==="w"?(s="w",a+=1):(s=null,j&&g('"w"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="H"){var m="H";a+=1}else m=null,j&&g('"H"');m===null&&(c.substr(a,1)==="h"?(m="h",a+=1):(m=null,j&&g('"h"')),m=m!==
null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var o="E";a+=1}else o=null,j&&g('"E"');o===null&&(c.substr(a,1)==="e"?(o="e",a+=1):(o=null,j&&g('"e"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="R"){var v="R";a+=1}else v=null,j&&g('"R"');v===null&&(c.substr(a,1)==="r"?(v="r",a+=1):(v=null,j&&g('"r"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="E"){var k="E";a+=1}else k=null,j&&g('"E"');k===null&&(c.substr(a,1)==="e"?(k="e",a+=1):(k=null,j&&g('"e"')),k=k!==null?k:null);k!==null?
s=[s,m,o,v,k]:(s=null,a=d)}else s=null,a=d}else s=null,a=d}else s=null,a=d}else s=null,a=d;d=s!==null?s:"";if(d!==null){s=[];for(m=r();m!==null;)s.push(m),m=r();if(s!==null)if(m=W(),m!==null){o=[];for(v=r();v!==null;)o.push(v),v=r();o!==null?d=[d,s,m,o]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?d[2]:null;e===null&&(e=null,a=E);(j=f)&&e===null&&g("[16] WhereClause");x[b]={nextPos:a,result:e};return e}function Y(){var c="SolutionModifier@"+a,b=x[c];if(b)return a=b.nextPos,
b.result;b=j;j=!1;var f=a,e=a,d=ga(),d=d!==null?d:"";if(d!==null){var s=wb(),s=s!==null?s:"";if(s!==null){var m=xb(),m=m!==null?m:"";if(m!==null){var o=yb(),o=o!==null?o:"";o!==null?d=[d,s,m,o]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c,d){var b={};if(d!=null){if(d.limit!=null)b.limit=d.limit;if(d.offset!=null)b.offset=d.offset}if(a!=null)b.group=a;b.order=c;return b}(d[0],d[2],d[3]):null;e===null&&(e=null,a=f);(j=b)&&e===null&&g("[17] SolutionModifier");
x[c]={nextPos:a,result:e};return e}function ga(){var b="GroupClause@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var E=a,e=a;if(c.substr(a,1)==="G"){var d="G";a+=1}else d=null,j&&g('"G"');d===null&&(c.substr(a,1)==="g"?(d="g",a+=1):(d=null,j&&g('"g"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="R"){var s="R";a+=1}else s=null,j&&g('"R"');s===null&&(c.substr(a,1)==="r"?(s="r",a+=1):(s=null,j&&g('"r"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="O"){var m="O";a+=1}else m=null,
j&&g('"O"');m===null&&(c.substr(a,1)==="o"?(m="o",a+=1):(m=null,j&&g('"o"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="U"){var o="U";a+=1}else o=null,j&&g('"U"');o===null&&(c.substr(a,1)==="u"?(o="u",a+=1):(o=null,j&&g('"u"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="P"){var v="P";a+=1}else v=null,j&&g('"P"');v===null&&(c.substr(a,1)==="p"?(v="p",a+=1):(v=null,j&&g('"p"')),v=v!==null?v:null);if(v!==null){for(var k=[],B=r();B!==null;)k.push(B),B=r();if(k!==null)if(c.substr(a,1)===
"B"?(B="B",a+=1):(B=null,j&&g('"B"')),B===null&&(c.substr(a,1)==="b"?(B="b",a+=1):(B=null,j&&g('"b"')),B=B!==null?B:null),B!==null){if(c.substr(a,1)==="Y"){var i="Y";a+=1}else i=null,j&&g('"Y"');i===null&&(c.substr(a,1)==="y"?(i="y",a+=1):(i=null,j&&g('"y"')),i=i!==null?i:null);if(i!==null){for(var h=[],n=r();n!==null;)h.push(n),n=r();if(h!==null){n=ia();if(n!==null)for(var q=[];n!==null;)q.push(n),n=ia();else q=null;q!==null?d=[d,s,m,o,v,k,B,i,h,q]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=
null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?d[9]:null;e===null&&(e=null,a=E);(j=f)&&e===null&&g("[18] GroupClause");x[b]={nextPos:a,result:e};return e}function ia(){var b="GroupCondition@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var E=a,e=a,d=[],s=r();s!==null;)d.push(s),s=r();if(d!==null)if(s=Da(),s!==null){for(var m=[],o=r();o!==null;)m.push(o),o=r();m!==null?d=[d,s,m]:(d=null,a=e)}else d=null,a=e;else d=null,
a=e;e=d!==null?d[1]:null;e===null&&(e=null,a=E);if(e!==null)E=e;else{e=E=a;d=[];for(s=r();s!==null;)d.push(s),s=r();if(d!==null)if(s=Wa(),s!==null){m=[];for(o=r();o!==null;)m.push(o),o=r();m!==null?d=[d,s,m]:(d=null,a=e)}else d=null,a=e;else d=null,a=e;e=d!==null?d[1]:null;e===null&&(e=null,a=E);if(e!==null)E=e;else{e=E=a;d=[];for(s=r();s!==null;)d.push(s),s=r();if(d!==null)if(c.substr(a,1)==="("?(s="(",a+=1):(s=null,j&&g('"("')),s!==null){m=[];for(o=r();o!==null;)m.push(o),o=r();if(m!==null)if(o=
M(),o!==null){for(var v=[],k=r();k!==null;)v.push(k),k=r();if(v!==null){k=a;if(c.substr(a,1)==="A"){var B="A";a+=1}else B=null,j&&g('"A"');B===null&&(c.substr(a,1)==="a"?(B="a",a+=1):(B=null,j&&g('"a"')),B=B!==null?B:null);if(B!==null){if(c.substr(a,1)==="S"){var i="S";a+=1}else i=null,j&&g('"S"');i===null&&(c.substr(a,1)==="s"?(i="s",a+=1):(i=null,j&&g('"s"')),i=i!==null?i:null);if(i!==null){for(var h=[],n=r();n!==null;)h.push(n),n=r();h!==null?(n=S(),n!==null?B=[B,i,h,n]:(B=null,a=k)):(B=null,a=
k)}else B=null,a=k}else B=null,a=k;k=B!==null?B:"";if(k!==null){B=[];for(i=r();i!==null;)B.push(i),i=r();if(B!==null)if(c.substr(a,1)===")"?(i=")",a+=1):(i=null,j&&g('")"')),i!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();h!==null?d=[d,s,m,o,v,k,B,i,h]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?d[5].length!=0?{token:"aliased_expression",expression:d[3],alias:d[5][3]}:d[3]:null;e===null&&
(e=null,a=E);if(e!==null)E=e;else{e=E=a;d=[];for(s=r();s!==null;)d.push(s),s=r();if(d!==null)if(s=S(),s!==null){m=[];for(o=r();o!==null;)m.push(o),o=r();m!==null?d=[d,s,m]:(d=null,a=e)}else d=null,a=e;else d=null,a=e;e=d!==null?d[1]:null;e===null&&(e=null,a=E);E=e!==null?e:null}}}(j=f)&&E===null&&g("[19] GroupCondition");x[b]={nextPos:a,result:E};return E}function wb(){var b="HavingClause@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var E=a;if(c.substr(a,6)==="HAVING"){var e="HAVING";a+=6}else e=
null,j&&g('"HAVING"');if(e!==null){var d=wa();if(d!==null)for(var s=[];d!==null;)s.push(d),d=wa();else s=null;s!==null?e=[e,s]:(e=null,a=E)}else e=null,a=E;(j=f)&&e===null&&g("[20] HavingClause");x[b]={nextPos:a,result:e};return e}function xb(){var b="OrderClause@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var E=a,e=a;if(c.substr(a,1)==="O"){var d="O";a+=1}else d=null,j&&g('"O"');d===null&&(c.substr(a,1)==="o"?(d="o",a+=1):(d=null,j&&g('"o"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,
1)==="R"){var s="R";a+=1}else s=null,j&&g('"R"');s===null&&(c.substr(a,1)==="r"?(s="r",a+=1):(s=null,j&&g('"r"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="D"){var m="D";a+=1}else m=null,j&&g('"D"');m===null&&(c.substr(a,1)==="d"?(m="d",a+=1):(m=null,j&&g('"d"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var o="E";a+=1}else o=null,j&&g('"E"');o===null&&(c.substr(a,1)==="e"?(o="e",a+=1):(o=null,j&&g('"e"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="R"){var v="R";a+=
1}else v=null,j&&g('"R"');v===null&&(c.substr(a,1)==="r"?(v="r",a+=1):(v=null,j&&g('"r"')),v=v!==null?v:null);if(v!==null){for(var k=[],B=r();B!==null;)k.push(B),B=r();if(k!==null)if(c.substr(a,1)==="B"?(B="B",a+=1):(B=null,j&&g('"B"')),B===null&&(c.substr(a,1)==="b"?(B="b",a+=1):(B=null,j&&g('"b"')),B=B!==null?B:null),B!==null){if(c.substr(a,1)==="Y"){var i="Y";a+=1}else i=null,j&&g('"Y"');i===null&&(c.substr(a,1)==="y"?(i="y",a+=1):(i=null,j&&g('"y"')),i=i!==null?i:null);if(i!==null){for(var h=
[],n=r();n!==null;)h.push(n),n=r();if(h!==null){var q=Xa();if(q!==null)for(n=[];q!==null;)n.push(q),q=Xa();else n=null;if(n!==null){for(var q=[],t=r();t!==null;)q.push(t),t=r();q!==null?d=[d,s,m,o,v,k,B,i,h,n,q]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?d[9]:null;e===null&&(e=null,a=E);(j=f)&&e===null&&g("[22] OrderClause");x[b]={nextPos:a,result:e};return e}
function Xa(){var b="OrderCondition@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var E=a,e=a;if(c.substr(a,3)==="ASC"){var d="ASC";a+=3}else d=null,j&&g('"ASC"');d===null&&(c.substr(a,4)==="DESC"?(d="DESC",a+=4):(d=null,j&&g('"DESC"')),d=d!==null?d:null);if(d!==null){for(var s=[],m=r();m!==null;)s.push(m),m=r();if(s!==null)if(m=Ea(),m!==null){for(var o=[],v=r();v!==null;)o.push(v),v=r();o!==null?d=[d,s,m,o]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?{direction:d[0],
expression:d[2]}:null;e===null&&(e=null,a=E);if(e!==null)E=e;else{e=E=a;d=wa();d===null&&(d=S(),d=d!==null?d:null);if(d!==null){s=[];for(m=r();m!==null;)s.push(m),m=r();s!==null?d=[d,s]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){a.token==="var"&&(a={token:"expression",expressionType:"atomic",primaryexpression:"var",value:a});return{direction:"ASC",expression:a}}(d[0]):null;e===null&&(e=null,a=E);E=e!==null?e:null}(j=f)&&E===null&&g("[23] OrderCondition");x[b]={nextPos:a,result:E};return E}
function yb(){var c="LimitOffsetClauses@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=a,d=Ya();if(d!==null){var s=Za(),s=s!==null?s:"";s!==null?d=[d,s]:(d=null,a=e)}else d=null,a=e;d!==null?e=d:(e=a,d=Za(),d!==null?(s=Ya(),s=s!==null?s:"",s!==null?d=[d,s]:(d=null,a=e)):(d=null,a=e),e=d!==null?d:null);e=e!==null?function(a){for(var c={},b=0;b<a.length;b++){var d=a[b];if(d.limit!=null)c.limit=d.limit;else if(d.offset!=null)c.offset=d.offset}return c}(e):null;e===null&&(e=null,a=f);
(j=b)&&e===null&&g("[24] LimitOffsetClauses");x[c]={nextPos:a,result:e};return e}function Ya(){var b="LimitClause@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var E=a,e=a;if(c.substr(a,1)==="L"){var d="L";a+=1}else d=null,j&&g('"L"');d===null&&(c.substr(a,1)==="l"?(d="l",a+=1):(d=null,j&&g('"l"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="I"){var s="I";a+=1}else s=null,j&&g('"I"');s===null&&(c.substr(a,1)==="i"?(s="i",a+=1):(s=null,j&&g('"i"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,
1)==="M"){var m="M";a+=1}else m=null,j&&g('"M"');m===null&&(c.substr(a,1)==="m"?(m="m",a+=1):(m=null,j&&g('"m"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="I"){var o="I";a+=1}else o=null,j&&g('"I"');o===null&&(c.substr(a,1)==="i"?(o="i",a+=1):(o=null,j&&g('"i"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="T"){var v="T";a+=1}else v=null,j&&g('"T"');v===null&&(c.substr(a,1)==="t"?(v="t",a+=1):(v=null,j&&g('"t"')),v=v!==null?v:null);if(v!==null){for(var k=[],B=r();B!==null;)k.push(B),
B=r();if(k!==null)if(B=ca(),B!==null){for(var i=[],h=r();h!==null;)i.push(h),h=r();i!==null?d=[d,s,m,o,v,k,B,i]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?{limit:parseInt(d[6].value)}:null;e===null&&(e=null,a=E);(j=f)&&e===null&&g("[25] LimitClause");x[b]={nextPos:a,result:e};return e}function Za(){var b="OffsetClause@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var E=a,e=a;if(c.substr(a,1)==="O"){var d=
"O";a+=1}else d=null,j&&g('"O"');d===null&&(c.substr(a,1)==="o"?(d="o",a+=1):(d=null,j&&g('"o"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="F"){var s="F";a+=1}else s=null,j&&g('"F"');s===null&&(c.substr(a,1)==="f"?(s="f",a+=1):(s=null,j&&g('"f"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="F"){var m="F";a+=1}else m=null,j&&g('"F"');m===null&&(c.substr(a,1)==="f"?(m="f",a+=1):(m=null,j&&g('"f"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="S"){var o="S";a+=1}else o=null,
j&&g('"S"');o===null&&(c.substr(a,1)==="s"?(o="s",a+=1):(o=null,j&&g('"s"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="E"){var v="E";a+=1}else v=null,j&&g('"E"');v===null&&(c.substr(a,1)==="e"?(v="e",a+=1):(v=null,j&&g('"e"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="T"){var k="T";a+=1}else k=null,j&&g('"T"');k===null&&(c.substr(a,1)==="t"?(k="t",a+=1):(k=null,j&&g('"t"')),k=k!==null?k:null);if(k!==null){for(var B=[],i=r();i!==null;)B.push(i),i=r();if(B!==null)if(i=ca(),i!==null){for(var h=
[],n=r();n!==null;)h.push(n),n=r();h!==null?d=[d,s,m,o,v,k,B,i,h]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?{offset:parseInt(d[7].value)}:null;e===null&&(e=null,a=E);(j=f)&&e===null&&g("[26] OffsetClause");x[b]={nextPos:a,result:e};return e}function sb(){var b="BindingsClause@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var E=a;if(c.substr(a,8)==="BINDINGS"){var e="BINDINGS";a+=8}else e=
null,j&&g('"BINDINGS"');if(e!==null){for(var d=[],s=S();s!==null;)d.push(s),s=S();if(d!==null)if(c.substr(a,1)==="{"?(s="{",a+=1):(s=null,j&&g('"{"')),s!==null){var m=[],o=a;if(c.substr(a,1)==="("){var v="(";a+=1}else v=null,j&&g('"("');if(v!==null){var k=xa();if(k!==null)for(var B=[];k!==null;)B.push(k),k=xa();else B=null;B!==null?(c.substr(a,1)===")"?(k=")",a+=1):(k=null,j&&g('")"')),k!==null?v=[v,B,k]:(v=null,a=o)):(v=null,a=o)}else v=null,a=o;v!==null?o=v:(o=la(),o=o!==null?o:null);for(;o!==null;){m.push(o);
o=a;c.substr(a,1)==="("?(v="(",a+=1):(v=null,j&&g('"("'));if(v!==null){k=xa();if(k!==null)for(B=[];k!==null;)B.push(k),k=xa();else B=null;B!==null?(c.substr(a,1)===")"?(k=")",a+=1):(k=null,j&&g('")"')),k!==null?v=[v,B,k]:(v=null,a=o)):(v=null,a=o)}else v=null,a=o;v!==null?o=v:(o=la(),o=o!==null?o:null)}m!==null?(c.substr(a,1)==="}"?(o="}",a+=1):(o=null,j&&g('"}"')),o!==null?e=[e,d,s,m,o]:(e=null,a=E)):(e=null,a=E)}else e=null,a=E;else e=null,a=E}else e=null,a=E;E=e!==null?e:"";(j=f)&&E===null&&g("[27] BindingsClause");
x[b]={nextPos:a,result:E};return E}function xa(){var b="BindingValue@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var E=T();E===null&&(E=Fa(),E===null&&(E=Ga(),E===null&&(E=Ha(),E===null&&(c.substr(a,5)==="UNDEF"?(E="UNDEF",a+=5):(E=null,j&&g('"UNDEF"')),E=E!==null?E:null))));(j=f)&&E===null&&g("[28] BindingValue");x[b]={nextPos:a,result:E};return E}function Ua(){var b="Update@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var E=a,e=a,d=t();if(d!==null){for(var s=[],m=r();m!==null;)s.push(m),
m=r();if(s!==null)if(m=zb(),m!==null){for(var o=a,v=[],k=r();k!==null;)v.push(k),k=r();if(v!==null)if(c.substr(a,1)===";"?(k=";",a+=1):(k=null,j&&g('";"')),k!==null){for(var B=[],i=r();i!==null;)B.push(i),i=r();B!==null?(i=Ua(),i=i!==null?i:"",i!==null?v=[v,k,B,i]:(v=null,a=o)):(v=null,a=o)}else v=null,a=o;else v=null,a=o;o=v!==null?v:"";o!==null?d=[d,s,m,o]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c,b){var d={token:"query",kind:"update"};d.prologue=a;a=[c];
b.length!=null&&b[3]!=null&&b[3].units!=null&&(a=a.concat(b[3].units));d.units=a;return d}(d[0],d[2],d[3]):null;e===null&&(e=null,a=E);(j=f)&&e===null&&g("[30] Update");x[b]={nextPos:a,result:e};return e}function zb(){var c="Update1@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=Ab();f===null&&(f=Bb(),f===null&&(f=Cb(),f===null&&(f=Db(),f===null&&(f=Eb(),f===null&&(f=Fb(),f===null&&(f=Gb(),f===null&&(f=Hb(),f=f!==null?f:null)))))));(j=b)&&f===null&&g("[31] Update1");x[c]={nextPos:a,result:f};
return f}function Ab(){var b="Load@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var E=a,e=a;if(c.substr(a,1)==="L"){var d="L";a+=1}else d=null,j&&g('"L"');d===null&&(c.substr(a,1)==="l"?(d="l",a+=1):(d=null,j&&g('"l"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="O"){var s="O";a+=1}else s=null,j&&g('"O"');s===null&&(c.substr(a,1)==="o"?(s="o",a+=1):(s=null,j&&g('"o"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="A"){var m="A";a+=1}else m=null,j&&g('"A"');m===null&&(c.substr(a,
1)==="a"?(m="a",a+=1):(m=null,j&&g('"a"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="D"){var o="D";a+=1}else o=null,j&&g('"D"');o===null&&(c.substr(a,1)==="d"?(o="d",a+=1):(o=null,j&&g('"d"')),o=o!==null?o:null);if(o!==null){for(var v=[],k=r();k!==null;)v.push(k),k=r();if(v!==null)if(k=T(),k!==null){for(var B=[],i=r();i!==null;)B.push(i),i=r();if(B!==null){i=a;if(c.substr(a,1)==="I"){var h="I";a+=1}else h=null,j&&g('"I"');h===null&&(c.substr(a,1)==="i"?(h="i",a+=1):(h=null,j&&g('"i"')),
h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="N"){var n="N";a+=1}else n=null,j&&g('"N"');n===null&&(c.substr(a,1)==="n"?(n="n",a+=1):(n=null,j&&g('"n"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="T"){var q="T";a+=1}else q=null,j&&g('"T"');q===null&&(c.substr(a,1)==="t"?(q="t",a+=1):(q=null,j&&g('"t"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="O"){var t="O";a+=1}else t=null,j&&g('"O"');t===null&&(c.substr(a,1)==="o"?(t="o",a+=1):(t=null,j&&g('"o"')),t=t!==null?t:null);if(t!==
null){for(var u=[],C=r();C!==null;)u.push(C),C=r();u!==null?(C=Ia(),C!==null?h=[h,n,q,t,u,C]:(h=null,a=i)):(h=null,a=i)}else h=null,a=i}else h=null,a=i}else h=null,a=i}else h=null,a=i;i=h!==null?h:"";i!==null?d=[d,s,m,o,v,k,B,i]:(d=null,a=e)}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c){var b={kind:"load",token:"executableunit"};b.sourceGraph=a;b.destinyGraph=c[5];return b}(d[5],d[7]):null;e===null&&(e=null,
a=E);(j=f)&&e===null&&g("[32] Load");x[b]={nextPos:a,result:e};return e}function Bb(){var b="Clear@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var E=a,e=a;if(c.substr(a,1)==="C"){var d="C";a+=1}else d=null,j&&g('"C"');d===null&&(c.substr(a,1)==="c"?(d="c",a+=1):(d=null,j&&g('"c"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="L"){var s="L";a+=1}else s=null,j&&g('"L"');s===null&&(c.substr(a,1)==="l"?(s="l",a+=1):(s=null,j&&g('"l"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)===
"E"){var m="E";a+=1}else m=null,j&&g('"E"');m===null&&(c.substr(a,1)==="e"?(m="e",a+=1):(m=null,j&&g('"e"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="A"){var o="A";a+=1}else o=null,j&&g('"A"');o===null&&(c.substr(a,1)==="a"?(o="a",a+=1):(o=null,j&&g('"a"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="R"){var v="R";a+=1}else v=null,j&&g('"R"');v===null&&(c.substr(a,1)==="r"?(v="r",a+=1):(v=null,j&&g('"r"')),v=v!==null?v:null);if(v!==null){for(var k=[],B=r();B!==null;)k.push(B),B=
r();if(k!==null){B=a;if(c.substr(a,1)==="S"){var i="S";a+=1}else i=null,j&&g('"S"');i===null&&(c.substr(a,1)==="s"?(i="s",a+=1):(i=null,j&&g('"s"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="I"){var h="I";a+=1}else h=null,j&&g('"I"');h===null&&(c.substr(a,1)==="i"?(h="i",a+=1):(h=null,j&&g('"i"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="L"){var n="L";a+=1}else n=null,j&&g('"L"');n===null&&(c.substr(a,1)==="l"?(n="l",a+=1):(n=null,j&&g('"l"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,
1)==="E"){var q="E";a+=1}else q=null,j&&g('"E"');q===null&&(c.substr(a,1)==="e"?(q="e",a+=1):(q=null,j&&g('"e"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="N"){var t="N";a+=1}else t=null,j&&g('"N"');t===null&&(c.substr(a,1)==="n"?(t="n",a+=1):(t=null,j&&g('"n"')),t=t!==null?t:null);if(t!==null){if(c.substr(a,1)==="T"){var u="T";a+=1}else u=null,j&&g('"T"');u===null&&(c.substr(a,1)==="t"?(u="t",a+=1):(u=null,j&&g('"t"')),u=u!==null?u:null);u!==null?i=[i,h,n,q,t,u]:(i=null,a=B)}else i=null,
a=B}else i=null,a=B}else i=null,a=B}else i=null,a=B}else i=null,a=B;B=i!==null?i:"";if(B!==null){i=[];for(h=r();h!==null;)i.push(h),h=r();i!==null?(h=$a(),h!==null?d=[d,s,m,o,v,k,B,i,h]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={kind:"clear",token:"executableunit"};c.destinyGraph=a;return c}(d[8]):null;e===null&&(e=null,a=E);(j=f)&&e===null&&g("[33] Clear");x[b]={nextPos:a,
result:e};return e}function Cb(){var b="Drop@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var E=a,e=a;if(c.substr(a,1)==="D"){var d="D";a+=1}else d=null,j&&g('"D"');d===null&&(c.substr(a,1)==="d"?(d="d",a+=1):(d=null,j&&g('"d"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="R"){var s="R";a+=1}else s=null,j&&g('"R"');s===null&&(c.substr(a,1)==="r"?(s="r",a+=1):(s=null,j&&g('"r"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="O"){var m="O";a+=1}else m=null,j&&g('"O"');m===null&&
(c.substr(a,1)==="o"?(m="o",a+=1):(m=null,j&&g('"o"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="P"){var o="P";a+=1}else o=null,j&&g('"P"');o===null&&(c.substr(a,1)==="p"?(o="p",a+=1):(o=null,j&&g('"p"')),o=o!==null?o:null);if(o!==null){for(var v=[],k=r();k!==null;)v.push(k),k=r();if(v!==null){k=a;if(c.substr(a,1)==="S"){var i="S";a+=1}else i=null,j&&g('"S"');i===null&&(c.substr(a,1)==="s"?(i="s",a+=1):(i=null,j&&g('"s"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="I"){var h="I";
a+=1}else h=null,j&&g('"I"');h===null&&(c.substr(a,1)==="i"?(h="i",a+=1):(h=null,j&&g('"i"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="L"){var n="L";a+=1}else n=null,j&&g('"L"');n===null&&(c.substr(a,1)==="l"?(n="l",a+=1):(n=null,j&&g('"l"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="E"){var q="E";a+=1}else q=null,j&&g('"E"');q===null&&(c.substr(a,1)==="e"?(q="e",a+=1):(q=null,j&&g('"e"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="N"){var y="N";a+=1}else y=null,j&&g('"N"');
y===null&&(c.substr(a,1)==="n"?(y="n",a+=1):(y=null,j&&g('"n"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="T"){var t="T";a+=1}else t=null,j&&g('"T"');t===null&&(c.substr(a,1)==="t"?(t="t",a+=1):(t=null,j&&g('"t"')),t=t!==null?t:null);t!==null?i=[i,h,n,q,y,t]:(i=null,a=k)}else i=null,a=k}else i=null,a=k}else i=null,a=k}else i=null,a=k}else i=null,a=k;k=i!==null?i:"";if(k!==null){i=[];for(h=r();h!==null;)i.push(h),h=r();i!==null?(h=$a(),h!==null?d=[d,s,m,o,v,k,i,h]:(d=null,a=e)):(d=null,a=
e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={kind:"drop",token:"executableunit"};c.destinyGraph=a;return c}(d[7]):null;e===null&&(e=null,a=E);(j=f)&&e===null&&g("[34] Drop");x[b]={nextPos:a,result:e};return e}function Db(){var b="Create@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="C"){var d="C";a+=1}else d=null,j&&g('"C"');d===null&&(c.substr(a,1)==="c"?(d="c",a+=1):(d=null,
j&&g('"c"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="R"){var s="R";a+=1}else s=null,j&&g('"R"');s===null&&(c.substr(a,1)==="r"?(s="r",a+=1):(s=null,j&&g('"r"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="E"){var m="E";a+=1}else m=null,j&&g('"E"');m===null&&(c.substr(a,1)==="e"?(m="e",a+=1):(m=null,j&&g('"e"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="A"){var o="A";a+=1}else o=null,j&&g('"A"');o===null&&(c.substr(a,1)==="a"?(o="a",a+=1):(o=null,j&&g('"a"')),o=o!==null?
o:null);if(o!==null){if(c.substr(a,1)==="T"){var v="T";a+=1}else v=null,j&&g('"T"');v===null&&(c.substr(a,1)==="t"?(v="t",a+=1):(v=null,j&&g('"t"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="E"){var i="E";a+=1}else i=null,j&&g('"E"');i===null&&(c.substr(a,1)==="e"?(i="e",a+=1):(i=null,j&&g('"e"')),i=i!==null?i:null);if(i!==null){for(var B=[],h=r();h!==null;)B.push(h),h=r();if(B!==null){h=a;if(c.substr(a,1)==="S"){var n="S";a+=1}else n=null,j&&g('"S"');n===null&&(c.substr(a,1)==="s"?(n="s",
a+=1):(n=null,j&&g('"s"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="I"){var q="I";a+=1}else q=null,j&&g('"I"');q===null&&(c.substr(a,1)==="i"?(q="i",a+=1):(q=null,j&&g('"i"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="L"){var y="L";a+=1}else y=null,j&&g('"L"');y===null&&(c.substr(a,1)==="l"?(y="l",a+=1):(y=null,j&&g('"l"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="E"){var t="E";a+=1}else t=null,j&&g('"E"');t===null&&(c.substr(a,1)==="e"?(t="e",a+=1):(t=null,j&&g('"e"')),
t=t!==null?t:null);if(t!==null){if(c.substr(a,1)==="N"){var u="N";a+=1}else u=null,j&&g('"N"');u===null&&(c.substr(a,1)==="n"?(u="n",a+=1):(u=null,j&&g('"n"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="T"){var C="T";a+=1}else C=null,j&&g('"T"');C===null&&(c.substr(a,1)==="t"?(C="t",a+=1):(C=null,j&&g('"t"')),C=C!==null?C:null);C!==null?n=[n,q,y,t,u,C]:(n=null,a=h)}else n=null,a=h}else n=null,a=h}else n=null,a=h}else n=null,a=h}else n=null,a=h;h=n!==null?n:"";if(h!==null){n=[];for(q=r();q!==
null;)n.push(q),q=r();n!==null?(q=Ia(),q!==null?d=[d,s,m,o,v,i,B,h,n,q]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={kind:"create",token:"executableunit"};c.destinyGraph=a;return c}(d[9]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[35] Create");x[b]={nextPos:a,result:e};return e}function Eb(){var b="InsertData@"+a,f=x[b];if(f)return a=f.nextPos,f.result;
f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="I"){var d="I";a+=1}else d=null,j&&g('"I"');d===null&&(c.substr(a,1)==="i"?(d="i",a+=1):(d=null,j&&g('"i"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="N"){var s="N";a+=1}else s=null,j&&g('"N"');s===null&&(c.substr(a,1)==="n"?(s="n",a+=1):(s=null,j&&g('"n"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="S"){var m="S";a+=1}else m=null,j&&g('"S"');m===null&&(c.substr(a,1)==="s"?(m="s",a+=1):(m=null,j&&g('"s"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,
1)==="E"){var o="E";a+=1}else o=null,j&&g('"E"');o===null&&(c.substr(a,1)==="e"?(o="e",a+=1):(o=null,j&&g('"e"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="R"){var v="R";a+=1}else v=null,j&&g('"R"');v===null&&(c.substr(a,1)==="r"?(v="r",a+=1):(v=null,j&&g('"r"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="T"){var i="T";a+=1}else i=null,j&&g('"T"');i===null&&(c.substr(a,1)==="t"?(i="t",a+=1):(i=null,j&&g('"t"')),i=i!==null?i:null);if(i!==null){for(var B=[],h=r();h!==null;)B.push(h),
h=r();if(B!==null)if(c.substr(a,1)==="D"?(h="D",a+=1):(h=null,j&&g('"D"')),h===null&&(c.substr(a,1)==="d"?(h="d",a+=1):(h=null,j&&g('"d"')),h=h!==null?h:null),h!==null){if(c.substr(a,1)==="A"){var n="A";a+=1}else n=null,j&&g('"A"');n===null&&(c.substr(a,1)==="a"?(n="a",a+=1):(n=null,j&&g('"a"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="T"){var q="T";a+=1}else q=null,j&&g('"T"');q===null&&(c.substr(a,1)==="t"?(q="t",a+=1):(q=null,j&&g('"t"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,
1)==="A"){var y="A";a+=1}else y=null,j&&g('"A"');y===null&&(c.substr(a,1)==="a"?(y="a",a+=1):(y=null,j&&g('"a"')),y=y!==null?y:null);if(y!==null){for(var t=[],u=r();u!==null;)t.push(u),u=r();t!==null?(u=ab(),u!==null?d=[d,s,m,o,v,i,B,h,n,q,y,t,u]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={kind:"insertdata",token:"executableunit"};
c.quads=a;return c}(d[12]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[36] InsertData");x[b]={nextPos:a,result:e};return e}function Fb(){var b="DeleteData@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="D"){var d="D";a+=1}else d=null,j&&g('"D"');d===null&&(c.substr(a,1)==="d"?(d="d",a+=1):(d=null,j&&g('"d"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="E"){var s="E";a+=1}else s=null,j&&g('"E"');s===null&&(c.substr(a,1)==="e"?(s="e",a+=1):(s=null,j&&
g('"e"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="L"){var m="L";a+=1}else m=null,j&&g('"L"');m===null&&(c.substr(a,1)==="l"?(m="l",a+=1):(m=null,j&&g('"l"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var o="E";a+=1}else o=null,j&&g('"E"');o===null&&(c.substr(a,1)==="e"?(o="e",a+=1):(o=null,j&&g('"e"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="T"){var v="T";a+=1}else v=null,j&&g('"T"');v===null&&(c.substr(a,1)==="t"?(v="t",a+=1):(v=null,j&&g('"t"')),v=v!==null?
v:null);if(v!==null){if(c.substr(a,1)==="E"){var i="E";a+=1}else i=null,j&&g('"E"');i===null&&(c.substr(a,1)==="e"?(i="e",a+=1):(i=null,j&&g('"e"')),i=i!==null?i:null);if(i!==null){for(var h=[],n=r();n!==null;)h.push(n),n=r();if(h!==null)if(c.substr(a,1)==="D"?(n="D",a+=1):(n=null,j&&g('"D"')),n===null&&(c.substr(a,1)==="d"?(n="d",a+=1):(n=null,j&&g('"d"')),n=n!==null?n:null),n!==null){if(c.substr(a,1)==="A"){var q="A";a+=1}else q=null,j&&g('"A"');q===null&&(c.substr(a,1)==="a"?(q="a",a+=1):(q=null,
j&&g('"a"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="T"){var t="T";a+=1}else t=null,j&&g('"T"');t===null&&(c.substr(a,1)==="t"?(t="t",a+=1):(t=null,j&&g('"t"')),t=t!==null?t:null);if(t!==null){if(c.substr(a,1)==="A"){var y="A";a+=1}else y=null,j&&g('"A"');y===null&&(c.substr(a,1)==="a"?(y="a",a+=1):(y=null,j&&g('"a"')),y=y!==null?y:null);if(y!==null){var u=ab();u!==null?d=[d,s,m,o,v,i,h,n,q,t,y,u]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,
a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={kind:"deletedata",token:"executableunit"};c.quads=a;return c}(d[11]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[37] DeleteData");x[b]={nextPos:a,result:e};return e}function Gb(){var b="DeleteWhere@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="D"){var d="D";a+=1}else d=null,j&&g('"D"');d===null&&(c.substr(a,1)==="d"?(d="d",a+=
1):(d=null,j&&g('"d"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="E"){var s="E";a+=1}else s=null,j&&g('"E"');s===null&&(c.substr(a,1)==="e"?(s="e",a+=1):(s=null,j&&g('"e"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="L"){var m="L";a+=1}else m=null,j&&g('"L"');m===null&&(c.substr(a,1)==="l"?(m="l",a+=1):(m=null,j&&g('"l"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var o="E";a+=1}else o=null,j&&g('"E"');o===null&&(c.substr(a,1)==="e"?(o="e",a+=1):(o=null,j&&g('"e"')),
o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="T"){var v="T";a+=1}else v=null,j&&g('"T"');v===null&&(c.substr(a,1)==="t"?(v="t",a+=1):(v=null,j&&g('"t"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="E"){var i="E";a+=1}else i=null,j&&g('"E"');i===null&&(c.substr(a,1)==="e"?(i="e",a+=1):(i=null,j&&g('"e"')),i=i!==null?i:null);if(i!==null){for(var h=[],n=r();n!==null;)h.push(n),n=r();if(h!==null)if(c.substr(a,1)==="W"?(n="W",a+=1):(n=null,j&&g('"W"')),n===null&&(c.substr(a,1)==="w"?(n="w",
a+=1):(n=null,j&&g('"w"')),n=n!==null?n:null),n!==null){if(c.substr(a,1)==="H"){var q="H";a+=1}else q=null,j&&g('"H"');q===null&&(c.substr(a,1)==="h"?(q="h",a+=1):(q=null,j&&g('"h"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="E"){var t="E";a+=1}else t=null,j&&g('"E"');t===null&&(c.substr(a,1)==="e"?(t="e",a+=1):(t=null,j&&g('"e"')),t=t!==null?t:null);if(t!==null){if(c.substr(a,1)==="R"){var y="R";a+=1}else y=null,j&&g('"R"');y===null&&(c.substr(a,1)==="r"?(y="r",a+=1):(y=null,j&&g('"r"')),
y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="E"){var u="E";a+=1}else u=null,j&&g('"E"');u===null&&(c.substr(a,1)==="e"?(u="e",a+=1):(u=null,j&&g('"e"')),u=u!==null?u:null);if(u!==null){for(var z=[],C=r();C!==null;)z.push(C),C=r();z!==null?(C=W(),C!==null?d=[d,s,m,o,v,i,h,n,q,t,y,u,z,C]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=
null,a=e;e=d!==null?function(a){var c={kind:"modify"};c.pattern=a;c["with"]=null;c.using=null;for(var b=[],a=a.patterns[0],a=a.triplesContext==null&&a.patterns!=null?a.patterns[0].triplesContext:a.triplesContext,d=0;d<a.length;d++){var e={},g=a[d];e.subject=g.subject;e.predicate=g.predicate;e.object=g.object;e.graph=g.graph;b.push(e)}c["delete"]=b;return c}(d[13]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[38] DeleteWhere");x[b]={nextPos:a,result:e};return e}function Hb(){var b="Modify@"+a,
f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=a;if(c.substr(a,1)==="W"){var s="W";a+=1}else s=null,j&&g('"W"');s===null&&(c.substr(a,1)==="w"?(s="w",a+=1):(s=null,j&&g('"w"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="I"){var m="I";a+=1}else m=null,j&&g('"I"');m===null&&(c.substr(a,1)==="i"?(m="i",a+=1):(m=null,j&&g('"i"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="T"){var o="T";a+=1}else o=null,j&&g('"T"');o===null&&(c.substr(a,1)==="t"?(o="t",a+=1):(o=null,j&&
g('"t"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="H"){var v="H";a+=1}else v=null,j&&g('"H"');v===null&&(c.substr(a,1)==="h"?(v="h",a+=1):(v=null,j&&g('"h"')),v=v!==null?v:null);if(v!==null){for(var i=[],h=r();h!==null;)i.push(h),h=r();i!==null?(h=T(),h!==null?s=[s,m,o,v,i,h]:(s=null,a=d)):(s=null,a=d)}else s=null,a=d}else s=null,a=d}else s=null,a=d}else s=null,a=d;d=s!==null?s:"";if(d!==null){s=[];for(m=r();m!==null;)s.push(m),m=r();if(s!==null){m=a;o=Ib();if(o!==null){v=[];for(i=r();i!==
null;)v.push(i),i=r();v!==null?(i=bb(),i=i!==null?i:"",i!==null?o=[o,v,i]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;o!==null?m=o:(m=bb(),m=m!==null?m:null);if(m!==null){o=[];for(v=r();v!==null;)o.push(v),v=r();if(o!==null){v=[];for(i=cb();i!==null;)v.push(i),i=cb();if(v!==null){i=[];for(h=r();h!==null;)i.push(h),h=r();if(i!==null)if(c.substr(a,1)==="W"?(h="W",a+=1):(h=null,j&&g('"W"')),h===null&&(c.substr(a,1)==="w"?(h="w",a+=1):(h=null,j&&g('"w"')),h=h!==null?h:null),h!==null){if(c.substr(a,1)===
"H"){var n="H";a+=1}else n=null,j&&g('"H"');n===null&&(c.substr(a,1)==="h"?(n="h",a+=1):(n=null,j&&g('"h"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="E"){var q="E";a+=1}else q=null,j&&g('"E"');q===null&&(c.substr(a,1)==="e"?(q="e",a+=1):(q=null,j&&g('"e"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="R"){var t="R";a+=1}else t=null,j&&g('"R"');t===null&&(c.substr(a,1)==="r"?(t="r",a+=1):(t=null,j&&g('"r"')),t=t!==null?t:null);if(t!==null){if(c.substr(a,1)==="E"){var y="E";a+=1}else y=
null,j&&g('"E"');y===null&&(c.substr(a,1)==="e"?(y="e",a+=1):(y=null,j&&g('"e"')),y=y!==null?y:null);if(y!==null){for(var u=[],z=r();z!==null;)u.push(z),z=r();if(u!==null)if(z=W(),z!==null){for(var C=[],w=r();w!==null;)C.push(w),w=r();C!==null?d=[d,s,m,o,v,i,h,n,q,t,y,u,z,C]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==
null?function(a,c,b,d){var e={kind:"modify"};e["with"]=a!=""?a[5]:null;c.length===3&&c[2]===""?(e["delete"]=c[0],e.insert=null):c.length===3&&c[0].length!=null&&c[1].length!=null&&c[2].length!=null?(e["delete"]=c[0],e.insert=c[2]):(e.insert=c,e["delete"]=null);b!=""&&(e.using=b);e.pattern=d;return e}(d[0],d[2],d[4],d[12]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[39] Modify");x[b]={nextPos:a,result:e};return e}function Ib(){var b="DeleteClause@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=
j;j=!1;var i=a,e=a;if(c.substr(a,1)==="D"){var d="D";a+=1}else d=null,j&&g('"D"');d===null&&(c.substr(a,1)==="d"?(d="d",a+=1):(d=null,j&&g('"d"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="E"){var s="E";a+=1}else s=null,j&&g('"E"');s===null&&(c.substr(a,1)==="e"?(s="e",a+=1):(s=null,j&&g('"e"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="L"){var m="L";a+=1}else m=null,j&&g('"L"');m===null&&(c.substr(a,1)==="l"?(m="l",a+=1):(m=null,j&&g('"l"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,
1)==="E"){var o="E";a+=1}else o=null,j&&g('"E"');o===null&&(c.substr(a,1)==="e"?(o="e",a+=1):(o=null,j&&g('"e"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="T"){var v="T";a+=1}else v=null,j&&g('"T"');v===null&&(c.substr(a,1)==="t"?(v="t",a+=1):(v=null,j&&g('"t"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="E"){var k="E";a+=1}else k=null,j&&g('"E"');k===null&&(c.substr(a,1)==="e"?(k="e",a+=1):(k=null,j&&g('"e"')),k=k!==null?k:null);if(k!==null){var h=eb();h!==null?d=[d,s,m,o,v,k,
h]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?d[6]:null;e===null&&(e=null,a=i);(j=f)&&e===null&&g("[40] DeleteClause");x[b]={nextPos:a,result:e};return e}function bb(){var b="InsertClause@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a;if(c.substr(a,1)==="I"){var d="I";a+=1}else d=null,j&&g('"I"');d===null&&(c.substr(a,1)==="i"?(d="i",a+=1):(d=null,j&&g('"i"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,
1)==="N"){var s="N";a+=1}else s=null,j&&g('"N"');s===null&&(c.substr(a,1)==="n"?(s="n",a+=1):(s=null,j&&g('"n"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="S"){var m="S";a+=1}else m=null,j&&g('"S"');m===null&&(c.substr(a,1)==="s"?(m="s",a+=1):(m=null,j&&g('"s"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var o="E";a+=1}else o=null,j&&g('"E"');o===null&&(c.substr(a,1)==="e"?(o="e",a+=1):(o=null,j&&g('"e"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="R"){var v="R";a+=
1}else v=null,j&&g('"R"');v===null&&(c.substr(a,1)==="r"?(v="r",a+=1):(v=null,j&&g('"r"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="T"){var k="T";a+=1}else k=null,j&&g('"T"');k===null&&(c.substr(a,1)==="t"?(k="t",a+=1):(k=null,j&&g('"t"')),k=k!==null?k:null);if(k!==null){var h=eb();h!==null?d=[d,s,m,o,v,k,h]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?d[6]:null;e===null&&(e=null,a=i);(j=f)&&e===null&&g("[41] InsertClause");
x[b]={nextPos:a,result:e};return e}function cb(){var b="UsingClause@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var k=a,e=a,d=[],s=r();s!==null;)d.push(s),s=r();if(d!==null)if(c.substr(a,1)==="U"?(s="U",a+=1):(s=null,j&&g('"U"')),s===null&&(c.substr(a,1)==="u"?(s="u",a+=1):(s=null,j&&g('"u"')),s=s!==null?s:null),s!==null){if(c.substr(a,1)==="S"){var m="S";a+=1}else m=null,j&&g('"S"');m===null&&(c.substr(a,1)==="s"?(m="s",a+=1):(m=null,j&&g('"s"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,
1)==="I"){var o="I";a+=1}else o=null,j&&g('"I"');o===null&&(c.substr(a,1)==="i"?(o="i",a+=1):(o=null,j&&g('"i"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="N"){var v="N";a+=1}else v=null,j&&g('"N"');v===null&&(c.substr(a,1)==="n"?(v="n",a+=1):(v=null,j&&g('"n"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="G"){var i="G";a+=1}else i=null,j&&g('"G"');i===null&&(c.substr(a,1)==="g"?(i="g",a+=1):(i=null,j&&g('"g"')),i=i!==null?i:null);if(i!==null){for(var h=[],n=r();n!==null;)h.push(n),
n=r();if(h!==null){n=T();if(n===null){n=a;if(c.substr(a,1)==="N"){var q="N";a+=1}else q=null,j&&g('"N"');q===null&&(c.substr(a,1)==="n"?(q="n",a+=1):(q=null,j&&g('"n"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="A"){var t="A";a+=1}else t=null,j&&g('"A"');t===null&&(c.substr(a,1)==="a"?(t="a",a+=1):(t=null,j&&g('"a"')),t=t!==null?t:null);if(t!==null){if(c.substr(a,1)==="M"){var y="M";a+=1}else y=null,j&&g('"M"');y===null&&(c.substr(a,1)==="m"?(y="m",a+=1):(y=null,j&&g('"m"')),y=y!==null?
y:null);if(y!==null){if(c.substr(a,1)==="E"){var u="E";a+=1}else u=null,j&&g('"E"');u===null&&(c.substr(a,1)==="e"?(u="e",a+=1):(u=null,j&&g('"e"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="D"){var z="D";a+=1}else z=null,j&&g('"D"');z===null&&(c.substr(a,1)==="d"?(z="d",a+=1):(z=null,j&&g('"d"')),z=z!==null?z:null);if(z!==null){for(var C=[],w=r();w!==null;)C.push(w),w=r();C!==null?(w=T(),w!==null?q=[q,t,y,u,z,C,w]:(q=null,a=n)):(q=null,a=n)}else q=null,a=n}else q=null,a=n}else q=null,a=
n}else q=null,a=n}else q=null,a=n;n=q!==null?q:null}n!==null?d=[d,s,m,o,v,i,h,n]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?d[7].length!=null?{kind:"named",uri:d[7][6]}:{kind:"default",uri:d[7]}:null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[42] UsingClause");x[b]={nextPos:a,result:e};return e}function Ia(){var b="GraphRef@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a;if(c.substr(a,1)===
"G"){var d="G";a+=1}else d=null,j&&g('"G"');d===null&&(c.substr(a,1)==="g"?(d="g",a+=1):(d=null,j&&g('"g"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="R"){var s="R";a+=1}else s=null,j&&g('"R"');s===null&&(c.substr(a,1)==="r"?(s="r",a+=1):(s=null,j&&g('"r"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="A"){var m="A";a+=1}else m=null,j&&g('"A"');m===null&&(c.substr(a,1)==="a"?(m="a",a+=1):(m=null,j&&g('"a"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="P"){var o="P";a+=1}else o=
null,j&&g('"P"');o===null&&(c.substr(a,1)==="p"?(o="p",a+=1):(o=null,j&&g('"p"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="H"){var v="H";a+=1}else v=null,j&&g('"H"');v===null&&(c.substr(a,1)==="h"?(v="h",a+=1):(v=null,j&&g('"h"')),v=v!==null?v:null);if(v!==null){for(var k=[],h=r();h!==null;)k.push(h),h=r();k!==null?(h=T(),h!==null?d=[d,s,m,o,v,k,h]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?d[6]:null;e===null&&(e=
null,a=i);(j=f)&&e===null&&g("[43] GraphRef");x[b]={nextPos:a,result:e};return e}function $a(){var b="GraphRefAll@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=Ia(),e=e!==null?e:null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;if(c.substr(a,1)==="D"){var d="D";a+=1}else d=null,j&&g('"D"');d===null&&(c.substr(a,1)==="d"?(d="d",a+=1):(d=null,j&&g('"d"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="E"){var s="E";a+=1}else s=null,j&&g('"E"');s===null&&(c.substr(a,1)==="e"?
(s="e",a+=1):(s=null,j&&g('"e"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="F"){var m="F";a+=1}else m=null,j&&g('"F"');m===null&&(c.substr(a,1)==="f"?(m="f",a+=1):(m=null,j&&g('"f"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="A"){var o="A";a+=1}else o=null,j&&g('"A"');o===null&&(c.substr(a,1)==="a"?(o="a",a+=1):(o=null,j&&g('"a"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="U"){var v="U";a+=1}else v=null,j&&g('"U"');v===null&&(c.substr(a,1)==="u"?(v="u",a+=1):(v=null,
j&&g('"u"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="L"){var i="L";a+=1}else i=null,j&&g('"L"');i===null&&(c.substr(a,1)==="l"?(i="l",a+=1):(i=null,j&&g('"l"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="T"){var h="T";a+=1}else h=null,j&&g('"T"');h===null&&(c.substr(a,1)==="t"?(h="t",a+=1):(h=null,j&&g('"t"')),h=h!==null?h:null);h!==null?d=[d,s,m,o,v,i,h]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?"default":
null;e===null&&(e=null,a=k);e!==null?k=e:(e=k=a,c.substr(a,1)==="N"?(d="N",a+=1):(d=null,j&&g('"N"')),d===null&&(c.substr(a,1)==="n"?(d="n",a+=1):(d=null,j&&g('"n"')),d=d!==null?d:null),d!==null?(c.substr(a,1)==="A"?(s="A",a+=1):(s=null,j&&g('"A"')),s===null&&(c.substr(a,1)==="a"?(s="a",a+=1):(s=null,j&&g('"a"')),s=s!==null?s:null),s!==null?(c.substr(a,1)==="M"?(m="M",a+=1):(m=null,j&&g('"M"')),m===null&&(c.substr(a,1)==="m"?(m="m",a+=1):(m=null,j&&g('"m"')),m=m!==null?m:null),m!==null?(c.substr(a,
1)==="E"?(o="E",a+=1):(o=null,j&&g('"E"')),o===null&&(c.substr(a,1)==="e"?(o="e",a+=1):(o=null,j&&g('"e"')),o=o!==null?o:null),o!==null?(c.substr(a,1)==="D"?(v="D",a+=1):(v=null,j&&g('"D"')),v===null&&(c.substr(a,1)==="d"?(v="d",a+=1):(v=null,j&&g('"d"')),v=v!==null?v:null),v!==null?d=[d,s,m,o,v]:(d=null,a=e)):(d=null,a=e)):(d=null,a=e)):(d=null,a=e)):(d=null,a=e),e=d!==null?"named":null,e===null&&(e=null,a=k),e!==null?k=e:(e=k=a,c.substr(a,1)==="A"?(d="A",a+=1):(d=null,j&&g('"A"')),d===null&&(c.substr(a,
1)==="a"?(d="a",a+=1):(d=null,j&&g('"a"')),d=d!==null?d:null),d!==null?(c.substr(a,1)==="L"?(s="L",a+=1):(s=null,j&&g('"L"')),s===null&&(c.substr(a,1)==="l"?(s="l",a+=1):(s=null,j&&g('"l"')),s=s!==null?s:null),s!==null?(c.substr(a,1)==="L"?(m="L",a+=1):(m=null,j&&g('"L"')),m===null&&(c.substr(a,1)==="l"?(m="l",a+=1):(m=null,j&&g('"l"')),m=m!==null?m:null),m!==null?d=[d,s,m]:(d=null,a=e)):(d=null,a=e)):(d=null,a=e),e=d!==null?"all":null,e===null&&(e=null,a=k),k=e!==null?e:null))}(j=f)&&k===null&&g("[44] GraphRefAll");
x[b]={nextPos:a,result:k};return k}function eb(){var b="QuadPattern@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var k=a,e=a,d=[],s=r();s!==null;)d.push(s),s=r();if(d!==null)if(c.substr(a,1)==="{"?(s="{",a+=1):(s=null,j&&g('"{"')),s!==null){for(var m=[],o=r();o!==null;)m.push(o),o=r();if(m!==null)if(o=fb(),o!==null){for(var v=[],i=r();i!==null;)v.push(i),i=r();if(v!==null)if(c.substr(a,1)==="}"?(i="}",a+=1):(i=null,j&&g('"}"')),i!==null){for(var h=[],n=r();n!==null;)h.push(n),n=r();h!==
null?d=[d,s,m,o,v,i,h]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?d[3].quadsContext:null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[45] QuadPattern");x[b]={nextPos:a,result:e};return e}function ab(){var b="QuadData@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var i=a,e=a,d=[],s=r();s!==null;)d.push(s),s=r();if(d!==null)if(c.substr(a,1)==="{"?(s="{",a+=1):(s=null,j&&g('"{"')),s!==null){for(var m=[],o=r();o!==
null;)m.push(o),o=r();if(m!==null)if(o=fb(),o!==null){for(var v=[],k=r();k!==null;)v.push(k),k=r();if(v!==null)if(c.substr(a,1)==="}"?(k="}",a+=1):(k=null,j&&g('"}"')),k!==null){for(var h=[],n=r();n!==null;)h.push(n),n=r();h!==null?d=[d,s,m,o,v,k,h]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?d[3].quadsContext:null;e===null&&(e=null,a=i);(j=f)&&e===null&&g("[46] QuadData");x[b]={nextPos:a,result:e};return e}function fb(){var b=
"Quads@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=pa(),d=d!==null?d:"";if(d!==null){var s=[],m=a,o=gb();if(o!==null){if(c.substr(a,1)==="."){var v=".";a+=1}else v=null,j&&g('"."');v=v!==null?v:"";if(v!==null){var i=pa(),i=i!==null?i:"";i!==null?o=[o,v,i]:(o=null,a=m)}else o=null,a=m}else o=null,a=m;for(;o!==null;)s.push(o),m=a,o=gb(),o!==null?(c.substr(a,1)==="."?(v=".",a+=1):(v=null,j&&g('"."')),v=v!==null?v:"",v!==null?(i=pa(),i=i!==null?i:"",i!==null?o=[o,v,i]:(o=null,a=
m)):(o=null,a=m)):(o=null,a=m);s!==null?d=[d,s]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){var b=[];if(a.triplesContext!=null&&a.triplesContext!=null)for(var d=0;d<a.triplesContext.length;d++){var e=a.triplesContext[d];e.graph=null;b.push(e)}if(c&&c.length>0&&c[0].length>0&&(b=b.concat(c[0][0].quadsContext),c[0][2]!=null&&c[0][2].triplesContext!=null))for(d=0;d<c[0][2].triplesContext.length;d++)e=c[0][2].triplesContext[d],e.graph=null,b.push(e);return{token:"quads",quadsContext:b}}(d[0],
d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[47] Quads");x[b]={nextPos:a,result:e};return e}function gb(){var b="QuadsNotTriples@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var i=a,e=a,d=[],s=r();s!==null;)d.push(s),s=r();if(d!==null)if(c.substr(a,1)==="G"?(s="G",a+=1):(s=null,j&&g('"G"')),s===null&&(c.substr(a,1)==="g"?(s="g",a+=1):(s=null,j&&g('"g"')),s=s!==null?s:null),s!==null){if(c.substr(a,1)==="R"){var m="R";a+=1}else m=null,j&&g('"R"');m===null&&(c.substr(a,1)==="r"?
(m="r",a+=1):(m=null,j&&g('"r"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="A"){var o="A";a+=1}else o=null,j&&g('"A"');o===null&&(c.substr(a,1)==="a"?(o="a",a+=1):(o=null,j&&g('"a"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="P"){var v="P";a+=1}else v=null,j&&g('"P"');v===null&&(c.substr(a,1)==="p"?(v="p",a+=1):(v=null,j&&g('"p"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="H"){var k="H";a+=1}else k=null,j&&g('"H"');k===null&&(c.substr(a,1)==="h"?(k="h",a+=1):(k=null,
j&&g('"h"')),k=k!==null?k:null);if(k!==null){for(var h=[],n=r();n!==null;)h.push(n),n=r();if(h!==null)if(n=ka(),n!==null){for(var q=[],t=r();t!==null;)q.push(t),t=r();if(q!==null)if(c.substr(a,1)==="{"?(t="{",a+=1):(t=null,j&&g('"{"')),t!==null){for(var y=[],u=r();u!==null;)y.push(u),u=r();if(y!==null)if(u=pa(),u=u!==null?u:"",u!==null){for(var z=[],C=r();C!==null;)z.push(C),C=r();if(z!==null)if(c.substr(a,1)==="}"?(C="}",a+=1):(C=null,j&&g('"}"')),C!==null){for(var w=[],A=r();A!==null;)w.push(A),
A=r();w!==null?d=[d,s,m,o,v,k,h,n,q,t,y,u,z,C,w]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){for(var b=[],d=0;d<c.triplesContext.length;d++){var e=c.triplesContext[d];e.graph=a;b.push(e)}return{token:"quadsnottriples",quadsContext:b}}(d[7],d[11]):null;e===null&&(e=null,a=i);(j=f)&&e===
null&&g("[48] QuadsNotTriples");x[b]={nextPos:a,result:e};return e}function pa(){var b="TriplesTemplate@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=Ja();if(d!==null){for(var s=a,m=[],o=r();o!==null;)m.push(o),o=r();if(m!==null)if(c.substr(a,1)==="."?(o=".",a+=1):(o=null,j&&g('"."')),o!==null){for(var v=[],i=r();i!==null;)v.push(i),i=r();v!==null?(i=pa(),i=i!==null?i:"",i!==null?m=[m,o,v,i]:(m=null,a=s)):(m=null,a=s)}else m=null,a=s;else m=null,a=s;s=m!==null?m:"";s!==null?d=
[d,s]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){var b=a.triplesContext;typeof c==="object"&&c.length!=null&&c[3].triplesContext!=null&&(b=b.concat(c[3].triplesContext));return{token:"triplestemplate",triplesContext:b}}(d[0],d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[49] TriplesTemplate");x[b]={nextPos:a,result:e};return e}function W(){var b="GroupGraphPattern@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a;if(c.substr(a,1)==="{"){var d="{";a+=1}else d=null,
j&&g('"{"');if(d!==null){for(var s=[],m=r();m!==null;)s.push(m),m=r();if(s!==null)if(m=L(),m!==null){for(var o=[],v=r();v!==null;)o.push(v),v=r();o!==null?(c.substr(a,1)==="}"?(v="}",a+=1):(v=null,j&&g('"}"')),v!==null?d=[d,s,m,o,v]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?d[2]:null;e===null&&(e=null,a=i);if(e!==null)i=e;else{e=i=a;c.substr(a,1)==="{"?(d="{",a+=1):(d=null,j&&g('"{"'));if(d!==null){s=[];for(m=r();m!==null;)s.push(m),m=r();if(s!==null)if(m=
Jb(),m!==null){o=[];for(v=r();v!==null;)o.push(v),v=r();o!==null?(c.substr(a,1)==="}"?(v="}",a+=1):(v=null,j&&g('"}"')),v!==null?d=[d,s,m,o,v]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?d[2]:null;e===null&&(e=null,a=i);i=e!==null?e:null}(j=f)&&i===null&&g("[50] GroupGraphPattern");x[b]={nextPos:a,result:i};return i}function Jb(){var b="GroupGraphPatternSub@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a,d=oa(),d=d!==null?d:"";if(d!==null){for(var s=
[],m=r();m!==null;)s.push(m),m=r();if(s!==null){var m=[],o=a,v=hb();if(v!==null){for(var k=[],h=r();h!==null;)k.push(h),h=r();if(k!==null)if(c.substr(a,1)==="."?(h=".",a+=1):(h=null,j&&g('"."')),h=h!==null?h:"",h!==null){for(var n=[],q=r();q!==null;)n.push(q),q=r();n!==null?(q=oa(),q=q!==null?q:"",q!==null?v=[v,k,h,n,q]:(v=null,a=o)):(v=null,a=o)}else v=null,a=o;else v=null,a=o}else v=null,a=o;for(;v!==null;)if(m.push(v),o=a,v=hb(),v!==null){k=[];for(h=r();h!==null;)k.push(h),h=r();if(k!==null)if(c.substr(a,
1)==="."?(h=".",a+=1):(h=null,j&&g('"."')),h=h!==null?h:"",h!==null){n=[];for(q=r();q!==null;)n.push(q),q=r();n!==null?(q=oa(),q=q!==null?q:"",q!==null?v=[v,k,h,n,q]:(v=null,a=o)):(v=null,a=o)}else v=null,a=o;else v=null,a=o}else v=null,a=o;m!==null?d=[d,s,m]:(d=null,a=e)}else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c){var b=[];a!=null&&a!=[]&&b.push(a);for(var d=0;d<c.length;d++)for(var e=0;e<c[d].length;e++)c[d][e].token!=null&&b.push(c[d][e]);for(var g=[],j=[],f=[],d=0;d<b.length;d++)if(b[d].token!=
"triplespattern"&&b[d].token!="filter"){if(j.length!=0||f.length!=0){for(var m=[],e=0;e<j.length;e++)m=m.concat(j[e].triplesContext);m.length>0&&g.push({token:"basicgraphpattern",triplesContext:m});j=[]}g.push(b[d])}else b[d].token==="triplespattern"?j.push(b[d]):f.push(b[d]);if(j.length!=0||f.length!=0){m=[];for(e=0;e<j.length;e++)m=m.concat(j[e].triplesContext);m.length>0&&g.push({token:"basicgraphpattern",triplesContext:m})}return{token:"groupgraphpattern",patterns:g,filters:f}}(d[0],d[2]):null;
e===null&&(e=null,a=i);(j=f)&&e===null&&g("[51] GroupGraphPatternSub");x[b]={nextPos:a,result:e};return e}function oa(){var b="TriplesBlock@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a,d=Ja();if(d!==null){for(var s=a,m=[],o=r();o!==null;)m.push(o),o=r();if(m!==null)if(c.substr(a,1)==="."?(o=".",a+=1):(o=null,j&&g('"."')),o!==null){var v=oa(),v=v!==null?v:"";v!==null?m=[m,o,v]:(m=null,a=s)}else m=null,a=s;else m=null,a=s;s=m!==null?m:"";s!==null?d=[d,s]:(d=null,a=e)}else d=null,
a=e;e=d!==null?function(a,c){var b=a.triplesContext;typeof c==="object"&&c.length!=null&&c[2].triplesContext!=null&&(b=b.concat(c[2].triplesContext));return{token:"triplespattern",triplesContext:b}}(d[0],d[1]):null;e===null&&(e=null,a=i);(j=f)&&e===null&&g("[54] TriplesBlock");x[b]={nextPos:a,result:e};return e}function hb(){var c="GraphPatternNotTriples@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=Kb();f===null&&(f=Lb(),f===null&&(f=Mb(),f===null&&(f=Nb(),f===null&&(f=Ob(),f===null&&
(f=Pb(),f=f!==null?f:null)))));(j=b)&&f===null&&g("[53] GraphPatternNotTriples");x[c]={nextPos:a,result:f};return f}function Lb(){var b="OptionalGraphPattern@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var i=a,e=a,d=[],s=r();s!==null;)d.push(s),s=r();if(d!==null)if(c.substr(a,8)==="OPTIONAL"?(s="OPTIONAL",a+=8):(s=null,j&&g('"OPTIONAL"')),s!==null){for(var m=[],o=r();o!==null;)m.push(o),o=r();m!==null?(o=W(),o!==null?d=[d,s,m,o]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,
a=e;e=d!==null?{token:"optionalgraphpattern",value:d[3]}:null;e===null&&(e=null,a=i);(j=f)&&e===null&&g("[54] OptionalGraphPattern");x[b]={nextPos:a,result:e};return e}function Nb(){var b="GraphGraphPattern@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var i=a,e=a,d=[],s=r();s!==null;)d.push(s),s=r();if(d!==null)if(c.substr(a,1)==="G"?(s="G",a+=1):(s=null,j&&g('"G"')),s===null&&(c.substr(a,1)==="g"?(s="g",a+=1):(s=null,j&&g('"g"')),s=s!==null?s:null),s!==null){if(c.substr(a,1)==="R"){var m=
"R";a+=1}else m=null,j&&g('"R"');m===null&&(c.substr(a,1)==="r"?(m="r",a+=1):(m=null,j&&g('"r"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="A"){var o="A";a+=1}else o=null,j&&g('"A"');o===null&&(c.substr(a,1)==="a"?(o="a",a+=1):(o=null,j&&g('"a"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="P"){var v="P";a+=1}else v=null,j&&g('"P"');v===null&&(c.substr(a,1)==="p"?(v="p",a+=1):(v=null,j&&g('"p"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="H"){var k="H";a+=1}else k=null,
j&&g('"H"');k===null&&(c.substr(a,1)==="h"?(k="h",a+=1):(k=null,j&&g('"h"')),k=k!==null?k:null);if(k!==null){for(var h=[],n=r();n!==null;)h.push(n),n=r();if(h!==null)if(n=ka(),n!==null){for(var q=[],t=r();t!==null;)q.push(t),t=r();q!==null?(t=W(),t!==null?d=[d,s,m,o,v,k,h,n,q,t]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){for(var b=0;b<c.patterns.length;b++)for(var d=
c.patterns[b],e=0;e<d.triplesContext.length;e++)d.triplesContext[e].graph=a;c.token="groupgraphpattern";return c}(d[7],d[9]):null;e===null&&(e=null,a=i);(j=f)&&e===null&&g("[55] GraphGraphPattern");x[b]={nextPos:a,result:e};return e}function Ob(){var b="ServiceGraphPattern@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a;if(c.substr(a,7)==="SERVICE"){var d="SERVICE";a+=7}else d=null,j&&g('"SERVICE"');if(d!==null){var s=ka();if(s!==null){var m=W();m!==null?d=[d,s,m]:(d=null,a=e)}else d=
null,a=e}else d=null,a=e;e=d!==null?{token:"servicegraphpattern",status:"todo",value:[d[1],d[2]]}:null;e===null&&(e=null,a=i);(j=f)&&e===null&&g("[56] ServiceGraphPattern");x[b]={nextPos:a,result:e};return e}function Mb(){var b="MinusGraphPattern@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a;if(c.substr(a,5)==="MINUS"){var d="MINUS";a+=5}else d=null,j&&g('"MINUS"');if(d!==null){var s=W();s!==null?d=[d,s]:(d=null,a=e)}else d=null,a=e;e=d!==null?{token:"minusgraphpattern",status:"todo",
value:d[1]}:null;e===null&&(e=null,a=i);(j=f)&&e===null&&g("[57] MinusGraphPattern");x[b]={nextPos:a,result:e};return e}function Kb(){var b="GroupOrUnionGraphPattern@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a,d=W();if(d!==null){for(var s=[],m=a,o=[],v=r();v!==null;)o.push(v),v=r();if(o!==null)if(c.substr(a,5)==="UNION"?(v="UNION",a+=5):(v=null,j&&g('"UNION"')),v!==null){for(var k=[],h=r();h!==null;)k.push(h),h=r();k!==null?(h=W(),h!==null?o=[o,v,k,h]:(o=null,a=m)):(o=null,a=
m)}else o=null,a=m;else o=null,a=m;for(;o!==null;){s.push(o);m=a;o=[];for(v=r();v!==null;)o.push(v),v=r();if(o!==null)if(c.substr(a,5)==="UNION"?(v="UNION",a+=5):(v=null,j&&g('"UNION"')),v!==null){k=[];for(h=r();h!==null;)k.push(h),h=r();k!==null?(h=W(),h!==null?o=[o,v,k,h]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m}s!==null?d=[d,s]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){if(c.length===0)return a;else{for(var b={token:"graphunionpattern",value:[a]},d=0;d<c.length;d++)d==
c.length-1?b.value.push(c[d][3]):(b.value.push(c[d][3]),b={token:"graphunionpattern",value:[b]});return b}}(d[0],d[1]):null;e===null&&(e=null,a=i);(j=f)&&e===null&&g("[58] GroupOrUnionGraphPattern");x[b]={nextPos:a,result:e};return e}function Pb(){var b="Filter@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var i=a,e=a,d=[],s=r();s!==null;)d.push(s),s=r();if(d!==null)if(c.substr(a,1)==="F"?(s="F",a+=1):(s=null,j&&g('"F"')),s===null&&(c.substr(a,1)==="f"?(s="f",a+=1):(s=null,j&&g('"f"')),
s=s!==null?s:null),s!==null){if(c.substr(a,1)==="I"){var m="I";a+=1}else m=null,j&&g('"I"');m===null&&(c.substr(a,1)==="i"?(m="i",a+=1):(m=null,j&&g('"i"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="L"){var o="L";a+=1}else o=null,j&&g('"L"');o===null&&(c.substr(a,1)==="l"?(o="l",a+=1):(o=null,j&&g('"l"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="T"){var v="T";a+=1}else v=null,j&&g('"T"');v===null&&(c.substr(a,1)==="t"?(v="t",a+=1):(v=null,j&&g('"t"')),v=v!==null?v:null);if(v!==
null){if(c.substr(a,1)==="E"){var k="E";a+=1}else k=null,j&&g('"E"');k===null&&(c.substr(a,1)==="e"?(k="e",a+=1):(k=null,j&&g('"e"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="R"){var h="R";a+=1}else h=null,j&&g('"R"');h===null&&(c.substr(a,1)==="r"?(h="r",a+=1):(h=null,j&&g('"r"')),h=h!==null?h:null);if(h!==null){for(var n=[],q=r();q!==null;)n.push(q),q=r();n!==null?(q=wa(),q!==null?d=[d,s,m,o,v,k,h,n,q]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=
null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?{token:"filter",value:d[8]}:null;e===null&&(e=null,a=i);(j=f)&&e===null&&g("[59] Filter");x[b]={nextPos:a,result:e};return e}function wa(){var c="Constraint@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=Ea();f===null&&(f=Da(),f===null&&(f=Wa(),f=f!==null?f:null));(j=b)&&f===null&&g("[60] Constraint");x[c]={nextPos:a,result:f};return f}function Wa(){var c="FunctionCall@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=
!1;var f=a,e=a,d=T();if(d!==null){var s=ib();s!==null?d=[d,s]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){var b={token:"expression",expressionType:"irireforfunction"};b.iriref=a;b.args=c.value;return b}(d[0],d[1]):null;e===null&&(e=null,a=f);(j=b)&&e===null&&g("[61] FunctionCall");x[c]={nextPos:a,result:e};return e}function ib(){var b="ArgList@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=la()!==null?{token:"args",value:[]}:null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=
k=a;if(c.substr(a,1)==="("){var d="(";a+=1}else d=null,j&&g('"("');if(d!==null){if(c.substr(a,8)==="DISTINCT"){var s="DISTINCT";a+=8}else s=null,j&&g('"DISTINCT"');s=s!==null?s:"";if(s!==null){var m=M();if(m!==null){var o=[],v=a;if(c.substr(a,1)===","){var i=",";a+=1}else i=null,j&&g('","');if(i!==null){var h=M();h!==null?i=[i,h]:(i=null,a=v)}else i=null,a=v;for(;i!==null;)o.push(i),v=a,c.substr(a,1)===","?(i=",",a+=1):(i=null,j&&g('","')),i!==null?(h=M(),h!==null?i=[i,h]:(i=null,a=v)):(i=null,a=
v);o!==null?(c.substr(a,1)===")"?(v=")",a+=1):(v=null,j&&g('")"')),v!==null?d=[d,s,m,o,v]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c,b){cleanEx=[];for(var d=0;d<b.length;d++)cleanEx.push(b[d][1]);b={token:"args"};b.value=[c].concat(cleanEx);b.distinct=a==="DISTINCT"?!0:!1;return b}(d[1],d[2],d[3]):null;e===null&&(e=null,a=k);k=e!==null?e:null}(j=f)&&k===null&&g("[62] ArgList");x[b]={nextPos:a,result:k};return k}function Qb(){var b="ExpressionList@"+
a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=la()!==null?{token:"args",value:[]}:null;e===null&&(e=null,a=i);if(e!==null)i=e;else{e=i=a;if(c.substr(a,1)==="("){var d="(";a+=1}else d=null,j&&g('"("');if(d!==null){var s=M();if(s!==null){var m=[],o=a;if(c.substr(a,1)===","){var k=",";a+=1}else k=null,j&&g('","');if(k!==null){var h=M();h!==null?k=[k,h]:(k=null,a=o)}else k=null,a=o;for(;k!==null;)m.push(k),o=a,c.substr(a,1)===","?(k=",",a+=1):(k=null,j&&g('","')),k!==null?(h=M(),h!==null?
k=[k,h]:(k=null,a=o)):(k=null,a=o);m!==null?(c.substr(a,1)===")"?(o=")",a+=1):(o=null,j&&g('")"')),o!==null?d=[d,s,m,o]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c){cleanEx=[];for(var b=0;b<c.length;b++)cleanEx.push(c[b][1]);b={token:"args"};b.value=[a].concat(cleanEx);return b}(d[1],d[2]):null;e===null&&(e=null,a=i);i=e!==null?e:null}(j=f)&&i===null&&g("[63] ExpressionList");x[b]={nextPos:a,result:i};return i}function vb(){var b="ConstructTemplate@"+a,f=x[b];
if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="{"){var d="{";a+=1}else d=null,j&&g('"{"');if(d!==null){for(var s=[],m=r();m!==null;)s.push(m),m=r();if(s!==null)if(m=jb(),m=m!==null?m:"",m!==null){for(var o=[],i=r();i!==null;)o.push(i),i=r();o!==null?(c.substr(a,1)==="}"?(i="}",a+=1):(i=null,j&&g('"}"')),i!==null?d=[d,s,m,o,i]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?d[2]:null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[64] ConstructTemplate");
x[b]={nextPos:a,result:e};return e}function jb(){var b="ConstructTriples@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=Ja();if(d!==null){for(var s=a,m=[],o=r();o!==null;)m.push(o),o=r();if(m!==null)if(c.substr(a,1)==="."?(o=".",a+=1):(o=null,j&&g('"."')),o!==null){for(var i=[],h=r();h!==null;)i.push(h),h=r();i!==null?(h=jb(),h=h!==null?h:"",h!==null?m=[m,o,i,h]:(m=null,a=s)):(m=null,a=s)}else m=null,a=s;else m=null,a=s;s=m!==null?m:"";s!==null?d=[d,s]:(d=null,a=e)}else d=null,
a=e;e=d!==null?function(a,c){var b=a.triplesContext;typeof c==="object"&&c.length!=null&&c[3].triplesContext!=null&&(b=b.concat(c[3].triplesContext));return{token:"triplestemplate",triplesContext:b}}(d[0],d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[65] ConstructTriples");x[b]={nextPos:a,result:e};return e}function Ja(){var c="TriplesSameSubject@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;for(var f=a,e=a,d=[],s=r();s!==null;)d.push(s),s=r();if(d!==null)if(s=kb(),s!==null){for(var m=
[],o=r();o!==null;)m.push(o),o=r();m!==null?(o=ya(),o!==null?d=[d,s,m,o]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){var b=c.triplesContext;if(c.pairs)for(var d=0;d<c.pairs.length;d++){var e=c.pairs[d],g=null;a.token&&a.token==="triplesnodecollection"?(g={subject:a.chainSubject[0],predicate:e[0],object:e[1]},b.push(g),b=b.concat(a.triplesContext)):(g={subject:a,predicate:e[0],object:e[1]},b.push(g))}d={token:"triplessamesubject"};d.triplesContext=b;d.chainSubject=
a;return d}(d[1],d[3]):null;e===null&&(e=null,a=f);if(e!==null)f=e;else{e=f=a;d=[];for(s=r();s!==null;)d.push(s),s=r();if(d!==null)if(s=lb(),s!==null){m=[];for(o=r();o!==null;)m.push(o),o=r();m!==null?(o=Rb(),o!==null?d=[d,s,m,o]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){var b=a.triplesContext,d=a.chainSubject;if(c.pairs)for(var e=0;e<c.pairs.length;e++){var g=c.pairs[e];if(a.token==="triplesnodecollection")for(var f=0;f<d.length;f++){var j=d[f];if(j.triplesContext!=
null){var m={subject:j.chainSubject,predicate:g[0],object:g[1]};b.concat(j.triplesContext)}else m={subject:d[f],predicate:g[0],object:g[1]},b.push(m)}else m={subject:d,predicate:g[0],object:g[1]},b.push(m)}e={token:"triplessamesubject"};e.triplesContext=b;e.chainSubject=d;return e}(d[1],d[3]):null;e===null&&(e=null,a=f);f=e!==null?e:null}(j=b)&&f===null&&g("[66] TriplesSameSubject");x[c]={nextPos:a,result:f};return f}function ya(){var b="PropertyListNotEmpty@"+a,f=x[b];if(f)return a=f.nextPos,f.result;
f=j;j=!1;var i=a,e=a,d=Ka();if(d!==null){for(var s=[],m=r();m!==null;)s.push(m),m=r();if(s!==null)if(m=ma(),m!==null){for(var o=[],k=a,h=[],B=r();B!==null;)h.push(B),B=r();if(h!==null)if(c.substr(a,1)===";"?(B=";",a+=1):(B=null,j&&g('";"')),B!==null){for(var n=[],q=r();q!==null;)n.push(q),q=r();if(n!==null){var q=a,t=Ka();if(t!==null){for(var y=[],u=r();u!==null;)y.push(u),u=r();y!==null?(u=ma(),u!==null?t=[t,y,u]:(t=null,a=q)):(t=null,a=q)}else t=null,a=q;q=t!==null?t:"";q!==null?h=[h,B,n,q]:(h=
null,a=k)}else h=null,a=k}else h=null,a=k;else h=null,a=k;for(;h!==null;){o.push(h);k=a;h=[];for(B=r();B!==null;)h.push(B),B=r();if(h!==null)if(c.substr(a,1)===";"?(B=";",a+=1):(B=null,j&&g('";"')),B!==null){n=[];for(q=r();q!==null;)n.push(q),q=r();if(n!==null){q=a;t=Ka();if(t!==null){y=[];for(u=r();u!==null;)y.push(u),u=r();y!==null?(u=ma(),u!==null?t=[t,y,u]:(t=null,a=q)):(t=null,a=q)}else t=null,a=q;q=t!==null?t:"";q!==null?h=[h,B,n,q]:(h=null,a=k)}else h=null,a=k}else h=null,a=k;else h=null,a=
k}o!==null?d=[d,s,m,o]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c,b){token={token:"propertylist"};for(var d=[],e=[],g=0;g<c.length;g++)c[g].triplesContext!=null?(d=d.concat(c[g].triplesContext),c[g].token==="triplesnodecollection"&&c[g].chainSubject.length!=null?e.push([a,c[g].chainSubject[0]]):e.push([a,c[g].chainSubject])):e.push([a,c[g]]);for(g=0;g<b.length;g++)for(var c=b[g][3],a=c[0],c=c[2]||[],f=0;f<c.length;f++)c[f].triplesContext!=null?(d=d.concat(c[f].triplesContext),
e.push([a,c[f].chainSubject])):e.push([a,c[f]]);token.pairs=e;token.triplesContext=d;return token}(d[0],d[2],d[3]):null;e===null&&(e=null,a=i);(j=f)&&e===null&&g("[67] PropertyListNotEmpty");x[b]={nextPos:a,result:e};return e}function Rb(){var c="PropertyList@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=ya(),f=f!==null?f:"";(j=b)&&f===null&&g("[68] PropertyList");x[c]={nextPos:a,result:f};return f}function ma(){var b="ObjectList@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=
a,e=a,d=qa();if(d!==null){for(var s=[],m=r();m!==null;)s.push(m),m=r();if(s!==null){var m=[],o=a;if(c.substr(a,1)===","){var i=",";a+=1}else i=null,j&&g('","');if(i!==null){for(var h=[],n=r();n!==null;)h.push(n),n=r();h!==null?(n=qa(),n!==null?i=[i,h,n]:(i=null,a=o)):(i=null,a=o)}else i=null,a=o;for(;i!==null;)if(m.push(i),o=a,c.substr(a,1)===","?(i=",",a+=1):(i=null,j&&g('","')),i!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();h!==null?(n=qa(),n!==null?i=[i,h,n]:(i=null,a=o)):(i=null,a=o)}else i=
null,a=o;m!==null?d=[d,s,m]:(d=null,a=e)}else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c){var b=[];b.push(a);for(var d=0;d<c.length;d++)for(var e=0;e<c[d].length;e++)typeof c[d][e]=="object"&&c[d][e].token!=null&&b.push(c[d][e]);return b}(d[0],d[2]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[69] ObjectList");x[b]={nextPos:a,result:e};return e}function Ka(){var b="Verb@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=ka();if(i===null){i=a;if(c.substr(a,1)==="a"){var e="a";a+=
1}else e=null,j&&g('"a"');e=e!==null?{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}:null;e===null&&(e=null,a=i);i=e!==null?e:null}(j=f)&&i===null&&g("[71] Verb");x[b]={nextPos:a,result:i};return i}function La(){var c="VerbPath@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=mb(),e=e!==null?e:null;e===null&&(e=null,a=f);(j=b)&&e===null&&g("[75]");x[c]={nextPos:a,result:e};return e}function mb(){var b="PathAlternative@"+a,f=x[b];if(f)return a=
f.nextPos,f.result;f=j;j=!1;var i=a,e=Ma();if(e!==null){var d=[],s=a;if(c.substr(a,1)==="|"){var m="|";a+=1}else m=null,j&&g('"|"');if(m!==null){var o=Ma();o!==null?m=[m,o]:(m=null,a=s)}else m=null,a=s;for(;m!==null;)d.push(m),s=a,c.substr(a,1)==="|"?(m="|",a+=1):(m=null,j&&g('"|"')),m!==null?(o=Ma(),o!==null?m=[m,o]:(m=null,a=s)):(m=null,a=s);d!==null?e=[e,d]:(e=null,a=i)}else e=null,a=i;(j=f)&&e===null&&g("[78] PathAlternative");x[b]={nextPos:a,result:e};return e}function Ma(){var b="PathSequence@"+
a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=Na();if(e!==null){var d=[],s=a;if(c.substr(a,1)==="/"){var m="/";a+=1}else m=null,j&&g('"/"');if(m!==null){var o=Na();o!==null?m=[m,o]:(m=null,a=s)}else m=null,a=s;for(;m!==null;)d.push(m),s=a,c.substr(a,1)==="/"?(m="/",a+=1):(m=null,j&&g('"/"')),m!==null?(o=Na(),o!==null?m=[m,o]:(m=null,a=s)):(m=null,a=s);d!==null?e=[e,d]:(e=null,a=i)}else e=null,a=i;(j=f)&&e===null&&g("[79] PathSequence");x[b]={nextPos:a,result:e};return e}function nb(){var c=
"PathElt@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=Sb();if(e!==null){var d=Tb(),d=d!==null?d:"";d!==null?e=[e,d]:(e=null,a=f)}else e=null,a=f;(j=b)&&e===null&&g("[88] PathElt");x[c]={nextPos:a,result:e};return e}function Na(){var b="PathEltOrInverse@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=nb();if(i===null){i=a;if(c.substr(a,1)==="^"){var e="^";a+=1}else e=null,j&&g('"^"');if(e!==null){var d=nb();d!==null?e=[e,d]:(e=null,a=i)}else e=null,a=i;i=e!==null?e:null}(j=
f)&&i===null&&g("[81] PathEltOrInverse");x[b]={nextPos:a,result:i};return i}function Tb(){var b="PathMod@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;if(c.substr(a,1)==="*"){var i="*";a+=1}else i=null,j&&g('"*"');if(i===null&&(c.substr(a,1)==="?"?(i="?",a+=1):(i=null,j&&g('"?"')),i===null&&(c.substr(a,1)==="+"?(i="+",a+=1):(i=null,j&&g('"+"')),i===null))){i=a;if(c.substr(a,1)==="{"){var e="{";a+=1}else e=null,j&&g('"{"');if(e!==null){var d=a,s=ca();if(s!==null){var m=a;if(c.substr(a,1)===
","){var o=",";a+=1}else o=null,j&&g('","');if(o!==null){if(c.substr(a,1)==="}"){var k="}";a+=1}else k=null,j&&g('"}"');if(k===null){var k=a,h=ca();if(h!==null){if(c.substr(a,1)==="}"){var r="}";a+=1}else r=null,j&&g('"}"');r!==null?h=[h,r]:(h=null,a=k)}else h=null,a=k;k=h!==null?h:null}k!==null?o=[o,k]:(o=null,a=m)}else o=null,a=m;o!==null?m=o:(c.substr(a,1)==="}"?(m="}",a+=1):(m=null,j&&g('"}"')),m=m!==null?m:null);m!==null?s=[s,m]:(s=null,a=d)}else s=null,a=d;s!==null?d=s:(d=a,c.substr(a,1)===
","?(s=",",a+=1):(s=null,j&&g('","')),s!==null?(m=ca(),m!==null?(c.substr(a,1)==="}"?(o="}",a+=1):(o=null,j&&g('"}"')),o!==null?s=[s,m,o]:(s=null,a=d)):(s=null,a=d)):(s=null,a=d),d=s!==null?s:null);d!==null?e=[e,d]:(e=null,a=i)}else e=null,a=i;i=e!==null?e:null}(j=f)&&i===null&&g("[82] PathMod");x[b]={nextPos:a,result:i};return i}function Sb(){var b="PathPrimary@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=T();if(i===null&&(c.substr(a,1)==="a"?(i="a",a+=1):(i=null,j&&g('"a"')),i===null)){i=
a;if(c.substr(a,1)==="!"){var e="!";a+=1}else e=null,j&&g('"!"');if(e!==null){var d=Ub();d!==null?e=[e,d]:(e=null,a=i)}else e=null,a=i;if(e!==null)i=e;else{i=a;c.substr(a,1)==="("?(e="(",a+=1):(e=null,j&&g('"("'));if(e!==null)if(d=mb(),d!==null){if(c.substr(a,1)===")"){var s=")";a+=1}else s=null,j&&g('")"');s!==null?e=[e,d,s]:(e=null,a=i)}else e=null,a=i;else e=null,a=i;i=e!==null?e:null}}(j=f)&&i===null&&g("[83] PathPrimary");x[b]={nextPos:a,result:i};return i}function Ub(){var b="PathNegatedPropertySet@"+
a,f=x[b];if(f)return a=f.nextPos,f.result;f=za();if(f===null){f=a;if(c.substr(a,1)==="("){var i="(";a+=1}else i=null,j&&g('"("');if(i!==null){var e=a,d=za();if(d!==null){var s=[],m=a;if(c.substr(a,1)==="|"){var o="|";a+=1}else o=null,j&&g('"|"');if(o!==null){var k=za();k!==null?o=[o,k]:(o=null,a=m)}else o=null,a=m;for(;o!==null;)s.push(o),m=a,c.substr(a,1)==="|"?(o="|",a+=1):(o=null,j&&g('"|"')),o!==null?(k=za(),k!==null?o=[o,k]:(o=null,a=m)):(o=null,a=m);s!==null?d=[d,s]:(d=null,a=e)}else d=null,
a=e;e=d!==null?d:"";e!==null?(c.substr(a,1)===")"?(d=")",a+=1):(d=null,j&&g('")"')),d!==null?i=[i,e,d]:(i=null,a=f)):(i=null,a=f)}else i=null,a=f;f=i!==null?i:null}x[b]={nextPos:a,result:f};return f}function za(){var b="PathOneInPropertySet@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=T();if(i===null&&(c.substr(a,1)==="a"?(i="a",a+=1):(i=null,j&&g('"a"')),i===null)){i=a;if(c.substr(a,1)==="^"){var e="^";a+=1}else e=null,j&&g('"^"');if(e!==null){var d=T();d===null&&(c.substr(a,1)==="a"?
(d="a",a+=1):(d=null,j&&g('"a"')),d=d!==null?d:null);d!==null?e=[e,d]:(e=null,a=i)}else e=null,a=i;i=e!==null?e:null}(j=f)&&i===null&&g("[85] PathOneInPropertySet");x[b]={nextPos:a,result:i};return i}function lb(){var c="TriplesNode@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=Vb(),e=e!==null?function(a){triplesContext=[];chainSubject=[];for(var c=null,b=0;b<a.length;b++)ea++,c=null,a[b].chainSubject==null&&a[b].triplesContext==null?c=a[b]:(c=a[b].chainSubject,triplesContext=triplesContext.concat(nextSubject.triplesContext)),
c={subject:{token:"blank",label:"_:"+ea},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:c},b==0&&chainSubject.push(c.subject),triplesContext.push(c),c=b===a.length-1?{subject:{token:"blank",label:"_:"+ea},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",label:"_:"+
ea},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",label:"_:"+(ea+1)}},triplesContext.push(c);return{token:"triplesnodecollection",triplesContext:triplesContext,chainSubject:chainSubject}}(e):null;e===null&&(e=null,a=f);e!==null?f=e:(f=Wb(),f=f!==null?f:null);(j=b)&&f===null&&g("[87] TriplesNode");x[c]={nextPos:a,result:f};return f}function Wb(){var b="BlankNodePropertyList@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=
j;j=!1;for(var i=a,e=a,d=[],s=r();s!==null;)d.push(s),s=r();if(d!==null)if(c.substr(a,1)==="["?(s="[",a+=1):(s=null,j&&g('"["')),s!==null){for(var m=[],o=r();o!==null;)m.push(o),o=r();if(m!==null)if(o=ya(),o!==null){for(var k=[],h=r();h!==null;)k.push(h),h=r();if(k!==null)if(c.substr(a,1)==="]"?(h="]",a+=1):(h=null,j&&g('"]"')),h!==null){for(var n=[],q=r();q!==null;)n.push(q),q=r();n!==null?d=[d,s,m,o,k,h,n]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,
a=e;else d=null,a=e;e=d!==null?function(a){ea++;for(var c={token:"blank",label:""+ea},b=[],d=0;d<a.pairs.length;d++){var e=a.pairs[d],g={};g.subject=c;g.predicate=e[0];g.object=e[1];b.push(g)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(b),chainSubject:c}}(d[3]):null;e===null&&(e=null,a=i);(j=f)&&e===null&&g("[88] BlankNodePropertyList");x[b]={nextPos:a,result:e};return e}function Vb(){var b="Collection@"+a,f=x[b];if(f)return a=f.nextPos,f.result;
f=j;j=!1;for(var i=a,e=a,d=[],s=r();s!==null;)d.push(s),s=r();if(d!==null)if(c.substr(a,1)==="("?(s="(",a+=1):(s=null,j&&g('"("')),s!==null){for(var m=[],o=r();o!==null;)m.push(o),o=r();if(m!==null){var k=qa();if(k!==null)for(o=[];k!==null;)o.push(k),k=qa();else o=null;if(o!==null){for(var k=[],h=r();h!==null;)k.push(h),h=r();if(k!==null)if(c.substr(a,1)===")"?(h=")",a+=1):(h=null,j&&g('")"')),h!==null){for(var n=[],q=r();q!==null;)n.push(q),q=r();n!==null?d=[d,s,m,o,k,h,n]:(d=null,a=e)}else d=null,
a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?d[3]:null;e===null&&(e=null,a=i);(j=f)&&e===null&&g("[89] Collection");x[b]={nextPos:a,result:e};return e}function qa(){var c="GraphNode@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;for(var f=a,e=a,d=[],i=r();i!==null;)d.push(i),i=r();if(d!==null)if(i=kb(),i!==null){for(var m=[],o=r();o!==null;)m.push(o),o=r();m!==null?d=[d,i,m]:(d=null,a=e)}else d=null,a=e;else d=null,a=e;if(d!==null)e=d;else{e=
a;d=[];for(i=r();i!==null;)d.push(i),i=r();if(d!==null)if(i=lb(),i!==null){m=[];for(o=r();o!==null;)m.push(o),o=r();m!==null?d=[d,i,m]:(d=null,a=e)}else d=null,a=e;else d=null,a=e;e=d!==null?d:null}e=e!==null?e[1]:null;e===null&&(e=null,a=f);(j=b)&&e===null&&g("[90] GraphNode");x[c]={nextPos:a,result:e};return e}function kb(){var c="VarOrTerm@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=S();f===null&&(f=Xb(),f=f!==null?f:null);(j=b)&&f===null&&g("[91] VarOrTerm");x[c]={nextPos:a,result:f};
return f}function ka(){var c="VarOrIRIref@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=S();f===null&&(f=T(),f=f!==null?f:null);(j=b)&&f===null&&g("[92] VarOrIRIref");x[c]={nextPos:a,result:f};return f}function S(){var c="Var@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=Yb();e===null&&(e=Zb(),e=e!==null?e:null);e=e!==null?function(a){var c={token:"var"};c.value=a;return c}(e):null;e===null&&(e=null,a=f);(j=b)&&e===null&&g("[93] Var");x[c]={nextPos:a,result:e};return e}
function Xb(){var c="GraphTerm@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=T();f===null&&(f=Fa(),f===null&&(f=Ga(),f===null&&(f=Ha(),f===null&&(f=$b(),f===null&&(f=la(),f=f!==null?f:null)))));(j=b)&&f===null&&g("[94] GraphTerm");x[c]={nextPos:a,result:f};return f}function M(){var b="ConditionalOrExpression@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a,d=Oa();if(d!==null){for(var s=[],m=a,o=[],k=r();k!==null;)o.push(k),k=r();if(o!==null)if(c.substr(a,2)==="||"?(k=
"||",a+=2):(k=null,j&&g('"||"')),k!==null){for(var h=[],n=r();n!==null;)h.push(n),n=r();h!==null?(n=Oa(),n!==null?o=[o,k,h,n]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;for(;o!==null;){s.push(o);m=a;o=[];for(k=r();k!==null;)o.push(k),k=r();if(o!==null)if(c.substr(a,2)==="||"?(k="||",a+=2):(k=null,j&&g('"||"')),k!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();h!==null?(n=Oa(),n!==null?o=[o,k,h,n]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m}s!==null?d=[d,s]:(d=null,
a=e)}else d=null,a=e;e=d!==null?function(a,c){if(c.length===0)return a;for(var b={token:"expression",expressionType:"conditionalor"},d=[a],e=0;e<c.length;e++)d.push(c[e][3]);b.operands=d;return b}(d[0],d[1]):null;e===null&&(e=null,a=i);(j=f)&&e===null&&g("[96] ConditionalOrExpression");x[b]={nextPos:a,result:e};return e}function Oa(){var b="ConditionalAndExpression@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a,d=Pa();if(d!==null){for(var s=[],m=a,o=[],k=r();k!==null;)o.push(k),
k=r();if(o!==null)if(c.substr(a,2)==="&&"?(k="&&",a+=2):(k=null,j&&g('"&&"')),k!==null){for(var h=[],n=r();n!==null;)h.push(n),n=r();h!==null?(n=Pa(),n!==null?o=[o,k,h,n]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;for(;o!==null;){s.push(o);m=a;o=[];for(k=r();k!==null;)o.push(k),k=r();if(o!==null)if(c.substr(a,2)==="&&"?(k="&&",a+=2):(k=null,j&&g('"&&"')),k!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();h!==null?(n=Pa(),n!==null?o=[o,k,h,n]:(o=null,a=m)):(o=null,a=m)}else o=null,
a=m;else o=null,a=m}s!==null?d=[d,s]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){if(c.length===0)return a;for(var b={token:"expression",expressionType:"conditionaland"},d=[a],e=0;e<c.length;e++)d.push(c[e][3]);b.operands=d;return b}(d[0],d[1]):null;e===null&&(e=null,a=i);(j=f)&&e===null&&g("[97] ConditionalAndExpression");x[b]={nextPos:a,result:e};return e}function Pa(){var b="RelationalExpression@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a,d=U();if(d!==null){for(var s=
[],m=a,o=[],k=r();k!==null;)o.push(k),k=r();if(o!==null)if(c.substr(a,1)==="="?(k="=",a+=1):(k=null,j&&g('"="')),k!==null){for(var h=[],n=r();n!==null;)h.push(n),n=r();h!==null?(n=U(),n!==null?o=[o,k,h,n]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;if(o!==null)m=o;else{m=a;o=[];for(k=r();k!==null;)o.push(k),k=r();if(o!==null)if(c.substr(a,2)==="!="?(k="!=",a+=2):(k=null,j&&g('"!="')),k!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();h!==null?(n=U(),n!==null?o=[o,k,h,n]:(o=null,a=m)):
(o=null,a=m)}else o=null,a=m;else o=null,a=m;if(o!==null)m=o;else{m=a;o=[];for(k=r();k!==null;)o.push(k),k=r();if(o!==null)if(c.substr(a,1)==="<"?(k="<",a+=1):(k=null,j&&g('"<"')),k!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();h!==null?(n=U(),n!==null?o=[o,k,h,n]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;if(o!==null)m=o;else{m=a;o=[];for(k=r();k!==null;)o.push(k),k=r();if(o!==null)if(c.substr(a,1)===">"?(k=">",a+=1):(k=null,j&&g('">"')),k!==null){h=[];for(n=r();n!==null;)h.push(n),
n=r();h!==null?(n=U(),n!==null?o=[o,k,h,n]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;if(o!==null)m=o;else{m=a;o=[];for(k=r();k!==null;)o.push(k),k=r();if(o!==null)if(c.substr(a,2)==="<="?(k="<=",a+=2):(k=null,j&&g('"<="')),k!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();h!==null?(n=U(),n!==null?o=[o,k,h,n]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;if(o!==null)m=o;else{m=a;o=[];for(k=r();k!==null;)o.push(k),k=r();if(o!==null)if(c.substr(a,2)===">="?(k=">=",a+=2):
(k=null,j&&g('">="')),k!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();h!==null?(n=U(),n!==null?o=[o,k,h,n]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;m=o!==null?o:null}}}}}for(;m!==null;){s.push(m);m=a;o=[];for(k=r();k!==null;)o.push(k),k=r();if(o!==null)if(c.substr(a,1)==="="?(k="=",a+=1):(k=null,j&&g('"="')),k!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();h!==null?(n=U(),n!==null?o=[o,k,h,n]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;if(o!==null)m=o;else{m=
a;o=[];for(k=r();k!==null;)o.push(k),k=r();if(o!==null)if(c.substr(a,2)==="!="?(k="!=",a+=2):(k=null,j&&g('"!="')),k!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();h!==null?(n=U(),n!==null?o=[o,k,h,n]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;if(o!==null)m=o;else{m=a;o=[];for(k=r();k!==null;)o.push(k),k=r();if(o!==null)if(c.substr(a,1)==="<"?(k="<",a+=1):(k=null,j&&g('"<"')),k!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();h!==null?(n=U(),n!==null?o=[o,k,h,n]:(o=null,a=m)):(o=
null,a=m)}else o=null,a=m;else o=null,a=m;if(o!==null)m=o;else{m=a;o=[];for(k=r();k!==null;)o.push(k),k=r();if(o!==null)if(c.substr(a,1)===">"?(k=">",a+=1):(k=null,j&&g('">"')),k!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();h!==null?(n=U(),n!==null?o=[o,k,h,n]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;if(o!==null)m=o;else{m=a;o=[];for(k=r();k!==null;)o.push(k),k=r();if(o!==null)if(c.substr(a,2)==="<="?(k="<=",a+=2):(k=null,j&&g('"<="')),k!==null){h=[];for(n=r();n!==null;)h.push(n),
n=r();h!==null?(n=U(),n!==null?o=[o,k,h,n]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;if(o!==null)m=o;else{m=a;o=[];for(k=r();k!==null;)o.push(k),k=r();if(o!==null)if(c.substr(a,2)===">="?(k=">=",a+=2):(k=null,j&&g('">="')),k!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();h!==null?(n=U(),n!==null?o=[o,k,h,n]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;m=o!==null?o:null}}}}}}s!==null?d=[d,s]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){if(c.length===0)return a;
else{var b={expressionType:"relationalexpression"};b.operator=c[0][1];b.op1=a;b.op2=c[0][3];b.token="expression";return b}}(d[0],d[1]):null;e===null&&(e=null,a=i);(j=f)&&e===null&&g("[99] RelationalExpression");x[b]={nextPos:a,result:e};return e}function U(){var b="AdditiveExpression@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=ra();if(d!==null){for(var i=[],m=a,o=[],h=r();h!==null;)o.push(h),h=r();if(o!==null)if(c.substr(a,1)==="+"?(h="+",a+=1):(h=null,j&&g('"+"')),h!==null){for(var n=
[],q=r();q!==null;)n.push(q),q=r();n!==null?(q=ra(),q!==null?o=[o,h,n,q]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;if(o!==null)m=o;else{m=a;o=[];for(h=r();h!==null;)o.push(h),h=r();if(o!==null)if(c.substr(a,1)==="-"?(h="-",a+=1):(h=null,j&&g('"-"')),h!==null){n=[];for(q=r();q!==null;)n.push(q),q=r();n!==null?(q=ra(),q!==null?o=[o,h,n,q]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;if(o!==null)m=o;else{m=a;o=sa();o===null&&(o=sa(),o=o!==null?o:null);if(o!==null){h=a;
n=[];for(q=r();q!==null;)n.push(q),q=r();if(n!==null)if(c.substr(a,1)==="*"?(q="*",a+=1):(q=null,j&&g('"*"')),q!==null){for(var t=[],u=r();u!==null;)t.push(u),u=r();t!==null?(u=aa(),u!==null?n=[n,q,t,u]:(n=null,a=h)):(n=null,a=h)}else n=null,a=h;else n=null,a=h;if(n!==null)h=n;else{h=a;n=[];for(q=r();q!==null;)n.push(q),q=r();if(n!==null)if(c.substr(a,1)==="/"?(q="/",a+=1):(q=null,j&&g('"/"')),q!==null){t=[];for(u=r();u!==null;)t.push(u),u=r();t!==null?(u=aa(),u!==null?n=[n,q,t,u]:(n=null,a=h)):(n=
null,a=h)}else n=null,a=h;else n=null,a=h;h=n!==null?n:null}h=h!==null?h:"";h!==null?o=[o,h]:(o=null,a=m)}else o=null,a=m;m=o!==null?o:null}}for(;m!==null;){i.push(m);m=a;o=[];for(h=r();h!==null;)o.push(h),h=r();if(o!==null)if(c.substr(a,1)==="+"?(h="+",a+=1):(h=null,j&&g('"+"')),h!==null){n=[];for(q=r();q!==null;)n.push(q),q=r();n!==null?(q=ra(),q!==null?o=[o,h,n,q]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;if(o!==null)m=o;else{m=a;o=[];for(h=r();h!==null;)o.push(h),h=r();if(o!==
null)if(c.substr(a,1)==="-"?(h="-",a+=1):(h=null,j&&g('"-"')),h!==null){n=[];for(q=r();q!==null;)n.push(q),q=r();n!==null?(q=ra(),q!==null?o=[o,h,n,q]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;if(o!==null)m=o;else{m=a;o=sa();o===null&&(o=sa(),o=o!==null?o:null);if(o!==null){h=a;n=[];for(q=r();q!==null;)n.push(q),q=r();if(n!==null)if(c.substr(a,1)==="*"?(q="*",a+=1):(q=null,j&&g('"*"')),q!==null){t=[];for(u=r();u!==null;)t.push(u),u=r();t!==null?(u=aa(),u!==null?n=[n,q,t,u]:(n=null,
a=h)):(n=null,a=h)}else n=null,a=h;else n=null,a=h;if(n!==null)h=n;else{h=a;n=[];for(q=r();q!==null;)n.push(q),q=r();if(n!==null)if(c.substr(a,1)==="/"?(q="/",a+=1):(q=null,j&&g('"/"')),q!==null){t=[];for(u=r();u!==null;)t.push(u),u=r();t!==null?(u=aa(),u!==null?n=[n,q,t,u]:(n=null,a=h)):(n=null,a=h)}else n=null,a=h;else n=null,a=h;h=n!==null?n:null}h=h!==null?h:"";h!==null?o=[o,h]:(o=null,a=m)}else o=null,a=m;m=o!==null?o:null}}}i!==null?d=[d,i]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,
c){if(c.length===0)return a;var b={token:"expression",expressionType:"additiveexpression"};b.summand=a;b.summands=[];for(var d=0;d<c.length;d++){var e=c[d],g={};if(e.length==4&&typeof e[1]==="string")g.operator=e[1],g.expression=e[3];else{var e={},f=g[0],j=g[1][1],m=g[1][3],j=null;f.value<0?(g.operator="-",f.value=-f.value):g.operator="+";e.token="expression";e.expressionType="multiplicativeexpression";e.operator=f;e.factors=[{operator:j,expression:m}];g.expression=e}b.summands.push(g)}return b}(d[0],
d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[101] AdditiveExpression");x[b]={nextPos:a,result:e};return e}function ra(){var b="MultiplicativeExpression@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=aa();if(d!==null){for(var i=[],m=a,o=[],h=r();h!==null;)o.push(h),h=r();if(o!==null)if(c.substr(a,1)==="*"?(h="*",a+=1):(h=null,j&&g('"*"')),h!==null){for(var n=[],q=r();q!==null;)n.push(q),q=r();n!==null?(q=aa(),q!==null?o=[o,h,n,q]:(o=null,a=m)):(o=null,a=m)}else o=null,
a=m;else o=null,a=m;if(o!==null)m=o;else{m=a;o=[];for(h=r();h!==null;)o.push(h),h=r();if(o!==null)if(c.substr(a,1)==="/"?(h="/",a+=1):(h=null,j&&g('"/"')),h!==null){n=[];for(q=r();q!==null;)n.push(q),q=r();n!==null?(q=aa(),q!==null?o=[o,h,n,q]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;m=o!==null?o:null}for(;m!==null;){i.push(m);m=a;o=[];for(h=r();h!==null;)o.push(h),h=r();if(o!==null)if(c.substr(a,1)==="*"?(h="*",a+=1):(h=null,j&&g('"*"')),h!==null){n=[];for(q=r();q!==null;)n.push(q),
q=r();n!==null?(q=aa(),q!==null?o=[o,h,n,q]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;if(o!==null)m=o;else{m=a;o=[];for(h=r();h!==null;)o.push(h),h=r();if(o!==null)if(c.substr(a,1)==="/"?(h="/",a+=1):(h=null,j&&g('"/"')),h!==null){n=[];for(q=r();q!==null;)n.push(q),q=r();n!==null?(q=aa(),q!==null?o=[o,h,n,q]:(o=null,a=m)):(o=null,a=m)}else o=null,a=m;else o=null,a=m;m=o!==null?o:null}}i!==null?d=[d,i]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){if(c.length===0)return a;
var b={token:"expression",expressionType:"multiplicativeexpression"};b.factor=a;b.factors=[];for(var d=0;d<c.length;d++){var e=c[d],g={};g.operator=e[1];g.expression=e[3];b.factors.push(g)}return b}(d[0],d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[102] MultiplicativeExpression");x[b]={nextPos:a,result:e};return e}function aa(){var b="UnaryExpression@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="!"){var d="!";a+=1}else d=null,j&&g('"!"');if(d!==null){for(var i=
[],m=r();m!==null;)i.push(m),m=r();i!==null?(m=Aa(),m!==null?d=[d,i,m]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"unaryexpression",unaryexpression:"!"};c.expression=a;return c}(d[2]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,1)==="+"?(d="+",a+=1):(d=null,j&&g('"+"'));if(d!==null){i=[];for(m=r();m!==null;)i.push(m),m=r();i!==null?(m=Aa(),m!==null?d=[d,i,m]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;e=d!==null?
function(a){var c={token:"expression",expressionType:"unaryexpression",unaryexpression:"+"};c.expression=a;return c}(d[2]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,1)==="-"?(d="-",a+=1):(d=null,j&&g('"-"'));if(d!==null){i=[];for(m=r();m!==null;)i.push(m),m=r();i!==null?(m=Aa(),m!==null?d=[d,i,m]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"unaryexpression",unaryexpression:"-"};c.expression=a;return c}(d[2]):null;
e===null&&(e=null,a=k);e!==null?k=e:(k=Aa(),k=k!==null?k:null)}}(j=f)&&k===null&&g("[103] UnaryExpression");x[b]={nextPos:a,result:k};return k}function Aa(){var c="PrimaryExpression@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=Ea();if(f===null&&(f=Da(),f===null&&(f=ac(),f===null))){var f=a,e=Fa(),e=e!==null?function(a){var c={token:"expression",expressionType:"atomic",primaryexpression:"rdfliteral"};c.value=a;return c}(e):null;e===null&&(e=null,a=f);e!==null?f=e:(f=a,e=Ga(),e=e!==null?
function(a){var c={token:"expression",expressionType:"atomic",primaryexpression:"numericliteral"};c.value=a;return c}(e):null,e===null&&(e=null,a=f),e!==null?f=e:(f=a,e=Ha(),e=e!==null?function(a){var c={token:"expression",expressionType:"atomic",primaryexpression:"booleanliteral"};c.value=a;return c}(e):null,e===null&&(e=null,a=f),e!==null?f=e:(f=bc(),f===null&&(f=a,e=S(),e=e!==null?function(a){var c={token:"expression",expressionType:"atomic",primaryexpression:"var"};c.value=a;return c}(e):null,
e===null&&(e=null,a=f),f=e!==null?e:null))))}(j=b)&&f===null&&g("[104] PrimaryExpression");x[c]={nextPos:a,result:f};return f}function Ea(){var b="BrackettedExpression@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="("){var d="(";a+=1}else d=null,j&&g('"("');if(d!==null){for(var i=[],m=r();m!==null;)i.push(m),m=r();if(i!==null)if(m=M(),m!==null){for(var h=[],n=r();n!==null;)h.push(n),n=r();h!==null?(c.substr(a,1)===")"?(n=")",a+=1):(n=null,j&&g('")"')),n!==null?
d=[d,i,m,h,n]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?d[2]:null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[105] BrackettedExpression");x[b]={nextPos:a,result:e};return e}function Da(){var b="BuiltInCall@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="S"){var d="S";a+=1}else d=null,j&&g('"S"');d===null&&(c.substr(a,1)==="s"?(d="s",a+=1):(d=null,j&&g('"s"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="T"){var i=
"T";a+=1}else i=null,j&&g('"T"');i===null&&(c.substr(a,1)==="t"?(i="t",a+=1):(i=null,j&&g('"t"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="R"){var m="R";a+=1}else m=null,j&&g('"R"');m===null&&(c.substr(a,1)==="r"?(m="r",a+=1):(m=null,j&&g('"r"')),m=m!==null?m:null);if(m!==null){for(var h=[],n=r();n!==null;)h.push(n),n=r();if(h!==null)if(c.substr(a,1)==="("?(n="(",a+=1):(n=null,j&&g('"("')),n!==null){for(var q=[],t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=M(),t!==null){for(var u=[],
z=r();z!==null;)u.push(z),z=r();u!==null?(c.substr(a,1)===")"?(z=")",a+=1):(z=null,j&&g('")"')),z!==null?d=[d,i,m,h,n,q,t,u,z]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"str"};c.args=[a];return c}(d[6]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,1)==="L"?(d="L",a+=1):(d=null,j&&g('"L"'));d===
null&&(c.substr(a,1)==="l"?(d="l",a+=1):(d=null,j&&g('"l"')),d=d!==null?d:null);if(d!==null)if(c.substr(a,1)==="A"?(i="A",a+=1):(i=null,j&&g('"A"')),i===null&&(c.substr(a,1)==="a"?(i="a",a+=1):(i=null,j&&g('"a"')),i=i!==null?i:null),i!==null)if(c.substr(a,1)==="N"?(m="N",a+=1):(m=null,j&&g('"N"')),m===null&&(c.substr(a,1)==="n"?(m="n",a+=1):(m=null,j&&g('"n"')),m=m!==null?m:null),m!==null)if(c.substr(a,1)==="G"?(h="G",a+=1):(h=null,j&&g('"G"')),h===null&&(c.substr(a,1)==="g"?(h="g",a+=1):(h=null,
j&&g('"g"')),h=h!==null?h:null),h!==null){n=[];for(q=r();q!==null;)n.push(q),q=r();if(n!==null)if(c.substr(a,1)==="("?(q="(",a+=1):(q=null,j&&g('"("')),q!==null){t=[];for(u=r();u!==null;)t.push(u),u=r();if(t!==null)if(u=M(),u!==null){for(var z=[],w=r();w!==null;)z.push(w),w=r();z!==null?(c.substr(a,1)===")"?(w=")",a+=1):(w=null,j&&g('")"')),w!==null?d=[d,i,m,h,n,q,t,u,z,w]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;else d=
null,a=e;else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"lang"};c.args=[a];return c}(d[7]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,11)==="LANGMATCHES"?(d="LANGMATCHES",a+=11):(d=null,j&&g('"LANGMATCHES"'));if(d!==null){i=[];for(m=r();m!==null;)i.push(m),m=r();if(i!==null)if(c.substr(a,1)==="("?(m="(",a+=1):(m=null,j&&g('"("')),m!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();if(h!==null)if(n=M(),n!==null){q=[];
for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(c.substr(a,1)===","?(t=",",a+=1):(t=null,j&&g('","')),t!==null){u=[];for(z=r();z!==null;)u.push(z),z=r();if(u!==null)if(z=M(),z!==null){for(var w=[],y=r();y!==null;)w.push(y),y=r();w!==null?(c.substr(a,1)===")"?(y=")",a+=1):(y=null,j&&g('")"')),y!==null?d=[d,i,m,h,n,q,t,u,z,w,y]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;
e=d!==null?function(a,c){var b={token:"expression",expressionType:"builtincall",builtincall:"langmatches"};b.args=[a,c];return b}(d[4],d[8]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,1)==="D"?(d="D",a+=1):(d=null,j&&g('"D"'));d===null&&(c.substr(a,1)==="d"?(d="d",a+=1):(d=null,j&&g('"d"')),d=d!==null?d:null);if(d!==null)if(c.substr(a,1)==="A"?(i="A",a+=1):(i=null,j&&g('"A"')),i===null&&(c.substr(a,1)==="a"?(i="a",a+=1):(i=null,j&&g('"a"')),i=i!==null?i:null),i!==null)if(c.substr(a,
1)==="T"?(m="T",a+=1):(m=null,j&&g('"T"')),m===null&&(c.substr(a,1)==="t"?(m="t",a+=1):(m=null,j&&g('"t"')),m=m!==null?m:null),m!==null)if(c.substr(a,1)==="A"?(h="A",a+=1):(h=null,j&&g('"A"')),h===null&&(c.substr(a,1)==="a"?(h="a",a+=1):(h=null,j&&g('"a"')),h=h!==null?h:null),h!==null)if(c.substr(a,1)==="T"?(n="T",a+=1):(n=null,j&&g('"T"')),n===null&&(c.substr(a,1)==="t"?(n="t",a+=1):(n=null,j&&g('"t"')),n=n!==null?n:null),n!==null)if(c.substr(a,1)==="Y"?(q="Y",a+=1):(q=null,j&&g('"Y"')),q===null&&
(c.substr(a,1)==="y"?(q="y",a+=1):(q=null,j&&g('"y"')),q=q!==null?q:null),q!==null)if(c.substr(a,1)==="P"?(t="P",a+=1):(t=null,j&&g('"P"')),t===null&&(c.substr(a,1)==="p"?(t="p",a+=1):(t=null,j&&g('"p"')),t=t!==null?t:null),t!==null)if(c.substr(a,1)==="E"?(u="E",a+=1):(u=null,j&&g('"E"')),u===null&&(c.substr(a,1)==="e"?(u="e",a+=1):(u=null,j&&g('"e"')),u=u!==null?u:null),u!==null){z=[];for(w=r();w!==null;)z.push(w),w=r();if(z!==null)if(c.substr(a,1)==="("?(w="(",a+=1):(w=null,j&&g('"("')),w!==null){for(var y=
[],A=r();A!==null;)y.push(A),A=r();if(y!==null)if(A=M(),A!==null){for(var F=[],C=r();C!==null;)F.push(C),C=r();F!==null?(c.substr(a,1)===")"?(C=")",a+=1):(C=null,j&&g('")"')),C!==null?d=[d,i,m,h,n,q,t,u,z,w,y,A,F,C]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",
builtincall:"datatype"};c.args=[a];return c}(d[11]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,5)==="BOUND"?(d="BOUND",a+=5):(d=null,j&&g('"BOUND"'));if(d!==null){i=[];for(m=r();m!==null;)i.push(m),m=r();if(i!==null)if(c.substr(a,1)==="("?(m="(",a+=1):(m=null,j&&g('"("')),m!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();if(h!==null)if(n=S(),n!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();q!==null?(c.substr(a,1)===")"?(t=")",a+=1):(t=null,j&&g('")"')),t!==null?d=[d,i,m,
h,n,q,t]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"bound"};c.args=[a];return c}(d[4]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,3)==="IRI"?(d="IRI",a+=3):(d=null,j&&g('"IRI"'));if(d!==null){i=[];for(m=r();m!==null;)i.push(m),m=r();if(i!==null)if(c.substr(a,1)==="("?(m="(",a+=1):(m=null,j&&g('"("')),m!==null){h=[];for(n=
r();n!==null;)h.push(n),n=r();if(h!==null)if(n=M(),n!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();q!==null?(c.substr(a,1)===")"?(t=")",a+=1):(t=null,j&&g('")"')),t!==null?d=[d,i,m,h,n,q,t]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"iri"};c.args=[a];return c}(d[4]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,3)==="URI"?
(d="URI",a+=3):(d=null,j&&g('"URI"'));if(d!==null){i=[];for(m=r();m!==null;)i.push(m),m=r();if(i!==null)if(c.substr(a,1)==="("?(m="(",a+=1):(m=null,j&&g('"("')),m!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();if(h!==null)if(n=M(),n!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();q!==null?(c.substr(a,1)===")"?(t=")",a+=1):(t=null,j&&g('")"')),t!==null?d=[d,i,m,h,n,q,t]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c=
{token:"expression",expressionType:"builtincall",builtincall:"uri"};c.args=[a];return c}(d[4]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,5)==="BNODE"?(d="BNODE",a+=5):(d=null,j&&g('"BNODE"'));if(d!==null){i=[];for(m=r();m!==null;)i.push(m),m=r();if(i!==null){m=a;c.substr(a,1)==="("?(h="(",a+=1):(h=null,j&&g('"("'));if(h!==null){n=[];for(q=r();q!==null;)n.push(q),q=r();if(n!==null)if(q=M(),q!==null){t=[];for(u=r();u!==null;)t.push(u),u=r();t!==null?(c.substr(a,1)===")"?(u=")",
a+=1):(u=null,j&&g('")"')),u!==null?h=[h,n,q,t,u]:(h=null,a=m)):(h=null,a=m)}else h=null,a=m;else h=null,a=m}else h=null,a=m;h!==null?m=h:(m=la(),m=m!==null?m:null);m!==null?d=[d,i,m]:(d=null,a=e)}else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"bnode"};c.args=a.length===5?[a[2]]:null;return c}(d[2]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,8)==="COALESCE"?(d="COALESCE",a+=8):(d=null,j&&g('"COALESCE"'));
if(d!==null){i=[];for(m=r();m!==null;)i.push(m),m=r();i!==null?(m=Qb(),m!==null?d=[d,i,m]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"coalesce"};c.args=a;return c}(d[2]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,2)==="IF"?(d="IF",a+=2):(d=null,j&&g('"IF"'));if(d!==null){i=[];for(m=r();m!==null;)i.push(m),m=r();if(i!==null)if(c.substr(a,1)==="("?(m="(",a+=1):(m=null,j&&g('"("')),m!==null){h=
[];for(n=r();n!==null;)h.push(n),n=r();if(h!==null)if(n=M(),n!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(c.substr(a,1)===","?(t=",",a+=1):(t=null,j&&g('","')),t!==null){u=[];for(z=r();z!==null;)u.push(z),z=r();if(u!==null)if(z=M(),z!==null){w=[];for(y=r();y!==null;)w.push(y),y=r();if(w!==null)if(c.substr(a,1)===","?(y=",",a+=1):(y=null,j&&g('","')),y!==null){A=[];for(F=r();F!==null;)A.push(F),F=r();if(A!==null)if(F=M(),F!==null){for(var C=[],Q=r();Q!==null;)C.push(Q),Q=r();C!==
null?(c.substr(a,1)===")"?(Q=")",a+=1):(Q=null,j&&g('")"')),Q!==null?d=[d,i,m,h,n,q,t,u,z,w,y,A,F,C,Q]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c,b){var d={token:"expression",expressionType:"builtincall",builtincall:"if"};d.args=[a,c,b];return d}(d[4],d[8],d[12]):null;e===null&&(e=null,
a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,9)==="ISLITERAL"?(d="ISLITERAL",a+=9):(d=null,j&&g('"ISLITERAL"'));if(d!==null){i=[];for(m=r();m!==null;)i.push(m),m=r();if(i!==null)if(c.substr(a,1)==="("?(m="(",a+=1):(m=null,j&&g('"("')),m!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();if(h!==null)if(n=M(),n!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();q!==null?(c.substr(a,1)===")"?(t=")",a+=1):(t=null,j&&g('")"')),t!==null?d=[d,i,m,h,n,q,t]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,
a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"isliteral"};c.args=[a];return c}(d[4]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,7)==="ISBLANK"?(d="ISBLANK",a+=7):(d=null,j&&g('"ISBLANK"'));if(d!==null){i=[];for(m=r();m!==null;)i.push(m),m=r();if(i!==null)if(c.substr(a,1)==="("?(m="(",a+=1):(m=null,j&&g('"("')),m!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();if(h!==null)if(n=M(),
n!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();q!==null?(c.substr(a,1)===")"?(t=")",a+=1):(t=null,j&&g('")"')),t!==null?d=[d,i,m,h,n,q,t]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"isblank"};c.args=[a];return c}(d[4]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,8)==="SAMETERM"?(d="SAMETERM",a+=8):(d=null,j&&g('"SAMETERM"'));
if(d!==null){i=[];for(m=r();m!==null;)i.push(m),m=r();if(i!==null)if(c.substr(a,1)==="("?(m="(",a+=1):(m=null,j&&g('"("')),m!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();if(h!==null)if(n=M(),n!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(c.substr(a,1)===","?(t=",",a+=1):(t=null,j&&g('","')),t!==null){u=[];for(z=r();z!==null;)u.push(z),z=r();if(u!==null)if(z=M(),z!==null){w=[];for(y=r();y!==null;)w.push(y),y=r();w!==null?(c.substr(a,1)===")"?(y=")",a+=1):(y=null,j&&g('")"')),
y!==null?d=[d,i,m,h,n,q,t,u,z,w,y]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c){var b={token:"expression",expressionType:"builtincall",builtincall:"sameterm"};b.args=[a,c];return b}(d[4],d[8]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,1)==="I"?(d="I",a+=1):(d=null,j&&g('"I"'));d===null&&(c.substr(a,1)==="i"?(d="i",a+=1):(d=null,
j&&g('"i"')),d=d!==null?d:null);if(d!==null)if(c.substr(a,1)==="S"?(i="S",a+=1):(i=null,j&&g('"S"')),i===null&&(c.substr(a,1)==="s"?(i="s",a+=1):(i=null,j&&g('"s"')),i=i!==null?i:null),i!==null)if(c.substr(a,1)==="U"?(m="U",a+=1):(m=null,j&&g('"U"')),m===null&&(c.substr(a,1)==="u"?(m="u",a+=1):(m=null,j&&g('"u"')),m=m!==null?m:null),m!==null)if(c.substr(a,1)==="R"?(h="R",a+=1):(h=null,j&&g('"R"')),h===null&&(c.substr(a,1)==="r"?(h="r",a+=1):(h=null,j&&g('"r"')),h=h!==null?h:null),h!==null)if(c.substr(a,
1)==="I"?(n="I",a+=1):(n=null,j&&g('"I"')),n===null&&(c.substr(a,1)==="i"?(n="i",a+=1):(n=null,j&&g('"i"')),n=n!==null?n:null),n!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(c.substr(a,1)==="("?(t="(",a+=1):(t=null,j&&g('"("')),t!==null){u=[];for(z=r();z!==null;)u.push(z),z=r();if(u!==null)if(z=M(),z!==null){w=[];for(y=r();y!==null;)w.push(y),y=r();w!==null?(c.substr(a,1)===")"?(y=")",a+=1):(y=null,j&&g('")"')),y!==null?d=[d,i,m,h,n,q,t,u,z,w,y]:(d=null,a=e)):(d=null,a=e)}else d=
null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"isuri"};c.args=[a];return c}(d[8]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,1)==="I"?(d="I",a+=1):(d=null,j&&g('"I"'));d===null&&(c.substr(a,1)==="i"?(d="i",a+=1):(d=null,j&&g('"i"')),d=d!==null?d:null);if(d!==null)if(c.substr(a,1)==="S"?(i="S",a+=
1):(i=null,j&&g('"S"')),i===null&&(c.substr(a,1)==="s"?(i="s",a+=1):(i=null,j&&g('"s"')),i=i!==null?i:null),i!==null)if(c.substr(a,1)==="I"?(m="I",a+=1):(m=null,j&&g('"I"')),m===null&&(c.substr(a,1)==="i"?(m="i",a+=1):(m=null,j&&g('"i"')),m=m!==null?m:null),m!==null)if(c.substr(a,1)==="R"?(h="R",a+=1):(h=null,j&&g('"R"')),h===null&&(c.substr(a,1)==="r"?(h="r",a+=1):(h=null,j&&g('"r"')),h=h!==null?h:null),h!==null)if(c.substr(a,1)==="I"?(n="I",a+=1):(n=null,j&&g('"I"')),n===null&&(c.substr(a,1)===
"i"?(n="i",a+=1):(n=null,j&&g('"i"')),n=n!==null?n:null),n!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(c.substr(a,1)==="("?(t="(",a+=1):(t=null,j&&g('"("')),t!==null){u=[];for(z=r();z!==null;)u.push(z),z=r();if(u!==null)if(z=M(),z!==null){w=[];for(y=r();y!==null;)w.push(y),y=r();w!==null?(c.substr(a,1)===")"?(y=")",a+=1):(y=null,j&&g('")"')),y!==null?d=[d,i,m,h,n,q,t,u,z,w,y]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,
a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"isuri"};c.args=[a];return c}(d[8]):null;e===null&&(e=null,a=k);e!==null?k=e:(k=cc(),k=k!==null?k:null)}}}}}}}}}}}}}}(j=f)&&k===null&&g("[106] BuiltInCall");x[b]={nextPos:a,result:k};return k}function cc(){var b="RegexExpression@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="R"){var d="R";a+=1}else d=null,
j&&g('"R"');d===null&&(c.substr(a,1)==="r"?(d="r",a+=1):(d=null,j&&g('"r"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="E"){var i="E";a+=1}else i=null,j&&g('"E"');i===null&&(c.substr(a,1)==="e"?(i="e",a+=1):(i=null,j&&g('"e"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="G"){var m="G";a+=1}else m=null,j&&g('"G"');m===null&&(c.substr(a,1)==="g"?(m="g",a+=1):(m=null,j&&g('"g"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var h="E";a+=1}else h=null,j&&g('"E"');h===null&&
(c.substr(a,1)==="e"?(h="e",a+=1):(h=null,j&&g('"e"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="X"){var n="X";a+=1}else n=null,j&&g('"X"');n===null&&(c.substr(a,1)==="x"?(n="x",a+=1):(n=null,j&&g('"x"')),n=n!==null?n:null);if(n!==null){for(var q=[],t=r();t!==null;)q.push(t),t=r();if(q!==null)if(c.substr(a,1)==="("?(t="(",a+=1):(t=null,j&&g('"("')),t!==null){for(var u=[],z=r();z!==null;)u.push(z),z=r();if(u!==null)if(z=M(),z!==null){for(var w=[],y=r();y!==null;)w.push(y),y=r();if(w!==null)if(c.substr(a,
1)===","?(y=",",a+=1):(y=null,j&&g('","')),y!==null){for(var A=[],F=r();F!==null;)A.push(F),F=r();if(A!==null)if(F=M(),F!==null){for(var C=[],Q=r();Q!==null;)C.push(Q),Q=r();if(C!==null){Q=a;if(c.substr(a,1)===","){var D=",";a+=1}else D=null,j&&g('","');if(D!==null){for(var N=[],G=r();G!==null;)N.push(G),G=r();N!==null?(G=M(),G!==null?D=[D,N,G]:(D=null,a=Q)):(D=null,a=Q)}else D=null,a=Q;Q=D!==null?D:"";if(Q!==null){D=[];for(N=r();N!==null;)D.push(N),N=r();D!==null?(c.substr(a,1)===")"?(N=")",a+=1):
(N=null,j&&g('")"')),N!==null?d=[d,i,m,h,n,q,t,u,z,w,y,A,F,C,Q,D,N]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c,b){var d={token:"expression",expressionType:"regex"};d.text=a;d.pattern=c;d.flags=b[2];return d}(d[8],d[12],d[14]):null;e===null&&(e=null,a=k);
(j=f)&&e===null&&g("[107] RegexExpression");x[b]={nextPos:a,result:e};return e}function bc(){var b="Aggregate@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a;if(c.substr(a,1)==="C"){var d="C";a+=1}else d=null,j&&g('"C"');d===null&&(c.substr(a,1)==="c"?(d="c",a+=1):(d=null,j&&g('"c"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="O"){var k="O";a+=1}else k=null,j&&g('"O"');k===null&&(c.substr(a,1)==="o"?(k="o",a+=1):(k=null,j&&g('"o"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,
1)==="U"){var m="U";a+=1}else m=null,j&&g('"U"');m===null&&(c.substr(a,1)==="u"?(m="u",a+=1):(m=null,j&&g('"u"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="N"){var h="N";a+=1}else h=null,j&&g('"N"');h===null&&(c.substr(a,1)==="n"?(h="n",a+=1):(h=null,j&&g('"n"')),h=h!==null?h:null);if(h!==null){if(c.substr(a,1)==="T"){var n="T";a+=1}else n=null,j&&g('"T"');n===null&&(c.substr(a,1)==="t"?(n="t",a+=1):(n=null,j&&g('"t"')),n=n!==null?n:null);if(n!==null){for(var q=[],t=r();t!==null;)q.push(t),
t=r();if(q!==null)if(c.substr(a,1)==="("?(t="(",a+=1):(t=null,j&&g('"("')),t!==null){for(var u=[],z=r();z!==null;)u.push(z),z=r();if(u!==null){z=a;if(c.substr(a,1)==="D"){var w="D";a+=1}else w=null,j&&g('"D"');w===null&&(c.substr(a,1)==="d"?(w="d",a+=1):(w=null,j&&g('"d"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="I"){var y="I";a+=1}else y=null,j&&g('"I"');y===null&&(c.substr(a,1)==="i"?(y="i",a+=1):(y=null,j&&g('"i"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="S"){var A="S";
a+=1}else A=null,j&&g('"S"');A===null&&(c.substr(a,1)==="s"?(A="s",a+=1):(A=null,j&&g('"s"')),A=A!==null?A:null);if(A!==null){if(c.substr(a,1)==="T"){var F="T";a+=1}else F=null,j&&g('"T"');F===null&&(c.substr(a,1)==="t"?(F="t",a+=1):(F=null,j&&g('"t"')),F=F!==null?F:null);if(F!==null){if(c.substr(a,1)==="I"){var C="I";a+=1}else C=null,j&&g('"I"');C===null&&(c.substr(a,1)==="i"?(C="i",a+=1):(C=null,j&&g('"i"')),C=C!==null?C:null);if(C!==null){if(c.substr(a,1)==="N"){var D="N";a+=1}else D=null,j&&g('"N"');
D===null&&(c.substr(a,1)==="n"?(D="n",a+=1):(D=null,j&&g('"n"')),D=D!==null?D:null);if(D!==null){if(c.substr(a,1)==="C"){var N="C";a+=1}else N=null,j&&g('"C"');N===null&&(c.substr(a,1)==="c"?(N="c",a+=1):(N=null,j&&g('"c"')),N=N!==null?N:null);if(N!==null){if(c.substr(a,1)==="T"){var G="T";a+=1}else G=null,j&&g('"T"');G===null&&(c.substr(a,1)==="t"?(G="t",a+=1):(G=null,j&&g('"t"')),G=G!==null?G:null);G!==null?w=[w,y,A,F,C,D,N,G]:(w=null,a=z)}else w=null,a=z}else w=null,a=z}else w=null,a=z}else w=
null,a=z}else w=null,a=z}else w=null,a=z}else w=null,a=z;z=w!==null?w:"";if(z!==null){w=[];for(y=r();y!==null;)w.push(y),y=r();if(w!==null)if(c.substr(a,1)==="*"?(y="*",a+=1):(y=null,j&&g('"*"')),y===null&&(y=M(),y=y!==null?y:null),y!==null){A=[];for(F=r();F!==null;)A.push(F),F=r();if(A!==null)if(c.substr(a,1)===")"?(F=")",a+=1):(F=null,j&&g('")"')),F!==null){C=[];for(D=r();D!==null;)C.push(D),D=r();C!==null?d=[d,k,m,h,n,q,t,u,z,w,y,A,F,C]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,
a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c){exp={token:"expression",expressionType:"aggregate",aggregateType:"count"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=c;return exp}(d[8],d[10]):null;e===null&&(e=null,a=i);if(e!==null)i=e;else{e=i=a;c.substr(a,1)==="S"?(d="S",a+=1):(d=null,j&&g('"S"'));d===null&&(c.substr(a,1)==="s"?(d="s",a+=1):(d=null,j&&g('"s"')),
d=d!==null?d:null);if(d!==null)if(c.substr(a,1)==="U"?(k="U",a+=1):(k=null,j&&g('"U"')),k===null&&(c.substr(a,1)==="u"?(k="u",a+=1):(k=null,j&&g('"u"')),k=k!==null?k:null),k!==null)if(c.substr(a,1)==="M"?(m="M",a+=1):(m=null,j&&g('"M"')),m===null&&(c.substr(a,1)==="m"?(m="m",a+=1):(m=null,j&&g('"m"')),m=m!==null?m:null),m!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();if(h!==null)if(c.substr(a,1)==="("?(n="(",a+=1):(n=null,j&&g('"("')),n!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=
a,c.substr(a,1)==="D"?(u="D",a+=1):(u=null,j&&g('"D"')),u===null&&(c.substr(a,1)==="d"?(u="d",a+=1):(u=null,j&&g('"d"')),u=u!==null?u:null),u!==null?(c.substr(a,1)==="I"?(z="I",a+=1):(z=null,j&&g('"I"')),z===null&&(c.substr(a,1)==="i"?(z="i",a+=1):(z=null,j&&g('"i"')),z=z!==null?z:null),z!==null?(c.substr(a,1)==="S"?(w="S",a+=1):(w=null,j&&g('"S"')),w===null&&(c.substr(a,1)==="s"?(w="s",a+=1):(w=null,j&&g('"s"')),w=w!==null?w:null),w!==null?(c.substr(a,1)==="T"?(y="T",a+=1):(y=null,j&&g('"T"')),y===
null&&(c.substr(a,1)==="t"?(y="t",a+=1):(y=null,j&&g('"t"')),y=y!==null?y:null),y!==null?(c.substr(a,1)==="I"?(A="I",a+=1):(A=null,j&&g('"I"')),A===null&&(c.substr(a,1)==="i"?(A="i",a+=1):(A=null,j&&g('"i"')),A=A!==null?A:null),A!==null?(c.substr(a,1)==="N"?(F="N",a+=1):(F=null,j&&g('"N"')),F===null&&(c.substr(a,1)==="n"?(F="n",a+=1):(F=null,j&&g('"n"')),F=F!==null?F:null),F!==null?(c.substr(a,1)==="C"?(C="C",a+=1):(C=null,j&&g('"C"')),C===null&&(c.substr(a,1)==="c"?(C="c",a+=1):(C=null,j&&g('"c"')),
C=C!==null?C:null),C!==null?(c.substr(a,1)==="T"?(D="T",a+=1):(D=null,j&&g('"T"')),D===null&&(c.substr(a,1)==="t"?(D="t",a+=1):(D=null,j&&g('"t"')),D=D!==null?D:null),D!==null?u=[u,z,w,y,A,F,C,D]:(u=null,a=t)):(u=null,a=t)):(u=null,a=t)):(u=null,a=t)):(u=null,a=t)):(u=null,a=t)):(u=null,a=t)):(u=null,a=t),t=u!==null?u:"",t!==null){u=[];for(z=r();z!==null;)u.push(z),z=r();if(u!==null)if(z=M(),z!==null){w=[];for(y=r();y!==null;)w.push(y),y=r();if(w!==null)if(c.substr(a,1)===")"?(y=")",a+=1):(y=null,
j&&g('")"')),y!==null){A=[];for(F=r();F!==null;)A.push(F),F=r();A!==null?d=[d,k,m,h,n,q,t,u,z,w,y,A]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){exp={token:"expression",expressionType:"aggregate",aggregateType:"sum"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=c;return exp}(d[6],d[8]):null;e===null&&(e=null,a=i);if(e!==null)i=
e;else{e=i=a;c.substr(a,1)==="M"?(d="M",a+=1):(d=null,j&&g('"M"'));d===null&&(c.substr(a,1)==="m"?(d="m",a+=1):(d=null,j&&g('"m"')),d=d!==null?d:null);if(d!==null)if(c.substr(a,1)==="I"?(k="I",a+=1):(k=null,j&&g('"I"')),k===null&&(c.substr(a,1)==="i"?(k="i",a+=1):(k=null,j&&g('"i"')),k=k!==null?k:null),k!==null)if(c.substr(a,1)==="N"?(m="N",a+=1):(m=null,j&&g('"N"')),m===null&&(c.substr(a,1)==="n"?(m="n",a+=1):(m=null,j&&g('"n"')),m=m!==null?m:null),m!==null){h=[];for(n=r();n!==null;)h.push(n),n=
r();if(h!==null)if(c.substr(a,1)==="("?(n="(",a+=1):(n=null,j&&g('"("')),n!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=a,c.substr(a,1)==="D"?(u="D",a+=1):(u=null,j&&g('"D"')),u===null&&(c.substr(a,1)==="d"?(u="d",a+=1):(u=null,j&&g('"d"')),u=u!==null?u:null),u!==null?(c.substr(a,1)==="I"?(z="I",a+=1):(z=null,j&&g('"I"')),z===null&&(c.substr(a,1)==="i"?(z="i",a+=1):(z=null,j&&g('"i"')),z=z!==null?z:null),z!==null?(c.substr(a,1)==="S"?(w="S",a+=1):(w=null,j&&g('"S"')),w===null&&
(c.substr(a,1)==="s"?(w="s",a+=1):(w=null,j&&g('"s"')),w=w!==null?w:null),w!==null?(c.substr(a,1)==="T"?(y="T",a+=1):(y=null,j&&g('"T"')),y===null&&(c.substr(a,1)==="t"?(y="t",a+=1):(y=null,j&&g('"t"')),y=y!==null?y:null),y!==null?(c.substr(a,1)==="I"?(A="I",a+=1):(A=null,j&&g('"I"')),A===null&&(c.substr(a,1)==="i"?(A="i",a+=1):(A=null,j&&g('"i"')),A=A!==null?A:null),A!==null?(c.substr(a,1)==="N"?(F="N",a+=1):(F=null,j&&g('"N"')),F===null&&(c.substr(a,1)==="n"?(F="n",a+=1):(F=null,j&&g('"n"')),F=
F!==null?F:null),F!==null?(c.substr(a,1)==="C"?(C="C",a+=1):(C=null,j&&g('"C"')),C===null&&(c.substr(a,1)==="c"?(C="c",a+=1):(C=null,j&&g('"c"')),C=C!==null?C:null),C!==null?(c.substr(a,1)==="T"?(D="T",a+=1):(D=null,j&&g('"T"')),D===null&&(c.substr(a,1)==="t"?(D="t",a+=1):(D=null,j&&g('"t"')),D=D!==null?D:null),D!==null?u=[u,z,w,y,A,F,C,D]:(u=null,a=t)):(u=null,a=t)):(u=null,a=t)):(u=null,a=t)):(u=null,a=t)):(u=null,a=t)):(u=null,a=t)):(u=null,a=t),t=u!==null?u:"",t!==null){u=[];for(z=r();z!==null;)u.push(z),
z=r();if(u!==null)if(z=M(),z!==null){w=[];for(y=r();y!==null;)w.push(y),y=r();if(w!==null)if(c.substr(a,1)===")"?(y=")",a+=1):(y=null,j&&g('")"')),y!==null){A=[];for(F=r();F!==null;)A.push(F),F=r();A!==null?d=[d,k,m,h,n,q,t,u,z,w,y,A]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){exp={token:"expression",expressionType:"aggregate",aggregateType:"min"};
exp.distinct=a!=""?"DISTINCT":a;exp.expression=c;return exp}(d[6],d[8]):null;e===null&&(e=null,a=i);if(e!==null)i=e;else{e=i=a;c.substr(a,1)==="M"?(d="M",a+=1):(d=null,j&&g('"M"'));d===null&&(c.substr(a,1)==="m"?(d="m",a+=1):(d=null,j&&g('"m"')),d=d!==null?d:null);if(d!==null)if(c.substr(a,1)==="A"?(k="A",a+=1):(k=null,j&&g('"A"')),k===null&&(c.substr(a,1)==="a"?(k="a",a+=1):(k=null,j&&g('"a"')),k=k!==null?k:null),k!==null)if(c.substr(a,1)==="X"?(m="X",a+=1):(m=null,j&&g('"X"')),m===null&&(c.substr(a,
1)==="x"?(m="x",a+=1):(m=null,j&&g('"x"')),m=m!==null?m:null),m!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();if(h!==null)if(c.substr(a,1)==="("?(n="(",a+=1):(n=null,j&&g('"("')),n!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=a,c.substr(a,1)==="D"?(u="D",a+=1):(u=null,j&&g('"D"')),u===null&&(c.substr(a,1)==="d"?(u="d",a+=1):(u=null,j&&g('"d"')),u=u!==null?u:null),u!==null?(c.substr(a,1)==="I"?(z="I",a+=1):(z=null,j&&g('"I"')),z===null&&(c.substr(a,1)==="i"?(z="i",a+=1):(z=
null,j&&g('"i"')),z=z!==null?z:null),z!==null?(c.substr(a,1)==="S"?(w="S",a+=1):(w=null,j&&g('"S"')),w===null&&(c.substr(a,1)==="s"?(w="s",a+=1):(w=null,j&&g('"s"')),w=w!==null?w:null),w!==null?(c.substr(a,1)==="T"?(y="T",a+=1):(y=null,j&&g('"T"')),y===null&&(c.substr(a,1)==="t"?(y="t",a+=1):(y=null,j&&g('"t"')),y=y!==null?y:null),y!==null?(c.substr(a,1)==="I"?(A="I",a+=1):(A=null,j&&g('"I"')),A===null&&(c.substr(a,1)==="i"?(A="i",a+=1):(A=null,j&&g('"i"')),A=A!==null?A:null),A!==null?(c.substr(a,
1)==="N"?(F="N",a+=1):(F=null,j&&g('"N"')),F===null&&(c.substr(a,1)==="n"?(F="n",a+=1):(F=null,j&&g('"n"')),F=F!==null?F:null),F!==null?(c.substr(a,1)==="C"?(C="C",a+=1):(C=null,j&&g('"C"')),C===null&&(c.substr(a,1)==="c"?(C="c",a+=1):(C=null,j&&g('"c"')),C=C!==null?C:null),C!==null?(c.substr(a,1)==="T"?(D="T",a+=1):(D=null,j&&g('"T"')),D===null&&(c.substr(a,1)==="t"?(D="t",a+=1):(D=null,j&&g('"t"')),D=D!==null?D:null),D!==null?u=[u,z,w,y,A,F,C,D]:(u=null,a=t)):(u=null,a=t)):(u=null,a=t)):(u=null,
a=t)):(u=null,a=t)):(u=null,a=t)):(u=null,a=t)):(u=null,a=t),t=u!==null?u:"",t!==null){u=[];for(z=r();z!==null;)u.push(z),z=r();if(u!==null)if(z=M(),z!==null){w=[];for(y=r();y!==null;)w.push(y),y=r();if(w!==null)if(c.substr(a,1)===")"?(y=")",a+=1):(y=null,j&&g('")"')),y!==null){A=[];for(F=r();F!==null;)A.push(F),F=r();A!==null?d=[d,k,m,h,n,q,t,u,z,w,y,A]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=
null,a=e;else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){exp={token:"expression",expressionType:"aggregate",aggregateType:"max"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=c;return exp}(d[6],d[8]):null;e===null&&(e=null,a=i);if(e!==null)i=e;else{e=i=a;c.substr(a,1)==="A"?(d="A",a+=1):(d=null,j&&g('"A"'));d===null&&(c.substr(a,1)==="a"?(d="a",a+=1):(d=null,j&&g('"a"')),d=d!==null?d:null);if(d!==null)if(c.substr(a,1)==="V"?(k="V",a+=1):(k=null,j&&g('"V"')),k===null&&(c.substr(a,1)==="v"?
(k="v",a+=1):(k=null,j&&g('"v"')),k=k!==null?k:null),k!==null)if(c.substr(a,1)==="G"?(m="G",a+=1):(m=null,j&&g('"G"')),m===null&&(c.substr(a,1)==="g"?(m="g",a+=1):(m=null,j&&g('"g"')),m=m!==null?m:null),m!==null){h=[];for(n=r();n!==null;)h.push(n),n=r();if(h!==null)if(c.substr(a,1)==="("?(n="(",a+=1):(n=null,j&&g('"("')),n!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=a,c.substr(a,1)==="D"?(u="D",a+=1):(u=null,j&&g('"D"')),u===null&&(c.substr(a,1)==="d"?(u="d",a+=1):(u=null,j&&
g('"d"')),u=u!==null?u:null),u!==null?(c.substr(a,1)==="I"?(z="I",a+=1):(z=null,j&&g('"I"')),z===null&&(c.substr(a,1)==="i"?(z="i",a+=1):(z=null,j&&g('"i"')),z=z!==null?z:null),z!==null?(c.substr(a,1)==="S"?(w="S",a+=1):(w=null,j&&g('"S"')),w===null&&(c.substr(a,1)==="s"?(w="s",a+=1):(w=null,j&&g('"s"')),w=w!==null?w:null),w!==null?(c.substr(a,1)==="T"?(y="T",a+=1):(y=null,j&&g('"T"')),y===null&&(c.substr(a,1)==="t"?(y="t",a+=1):(y=null,j&&g('"t"')),y=y!==null?y:null),y!==null?(c.substr(a,1)==="I"?
(A="I",a+=1):(A=null,j&&g('"I"')),A===null&&(c.substr(a,1)==="i"?(A="i",a+=1):(A=null,j&&g('"i"')),A=A!==null?A:null),A!==null?(c.substr(a,1)==="N"?(F="N",a+=1):(F=null,j&&g('"N"')),F===null&&(c.substr(a,1)==="n"?(F="n",a+=1):(F=null,j&&g('"n"')),F=F!==null?F:null),F!==null?(c.substr(a,1)==="C"?(C="C",a+=1):(C=null,j&&g('"C"')),C===null&&(c.substr(a,1)==="c"?(C="c",a+=1):(C=null,j&&g('"c"')),C=C!==null?C:null),C!==null?(c.substr(a,1)==="T"?(D="T",a+=1):(D=null,j&&g('"T"')),D===null&&(c.substr(a,1)===
"t"?(D="t",a+=1):(D=null,j&&g('"t"')),D=D!==null?D:null),D!==null?u=[u,z,w,y,A,F,C,D]:(u=null,a=t)):(u=null,a=t)):(u=null,a=t)):(u=null,a=t)):(u=null,a=t)):(u=null,a=t)):(u=null,a=t)):(u=null,a=t),t=u!==null?u:"",t!==null){u=[];for(z=r();z!==null;)u.push(z),z=r();if(u!==null)if(z=M(),z!==null){w=[];for(y=r();y!==null;)w.push(y),y=r();if(w!==null)if(c.substr(a,1)===")"?(y=")",a+=1):(y=null,j&&g('")"')),y!==null){A=[];for(F=r();F!==null;)A.push(F),F=r();A!==null?d=[d,k,m,h,n,q,t,u,z,w,y,A]:(d=null,
a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){exp={token:"expression",expressionType:"aggregate",aggregateType:"avg"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=c;return exp}(d[6],d[8]):null;e===null&&(e=null,a=i);i=e!==null?e:null}}}}(j=f)&&i===null&&g("[110] Aggregate");x[b]={nextPos:a,result:i};return i}function ac(){var c="IRIrefOrFunction@"+
a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=a,d=T();if(d!==null){var k=ib(),k=k!==null?k:"";k!==null?d=[d,k]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){var b={token:"expression",expressionType:"irireforfunction"};b.iriref=a;b.args=c.value;return b}(d[0],d[1]):null;e===null&&(e=null,a=f);(j=b)&&e===null&&g("[117] IRIrefOrFunction");x[c]={nextPos:a,result:e};return e}function Fa(){var b="RDFLiteral@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=dc();if(d!==
null){var i=ec();if(i===null){i=a;if(c.substr(a,2)==="^^"){var m="^^";a+=2}else m=null,j&&g('"^^"');if(m!==null){var h=T();h!==null?m=[m,h]:(m=null,a=i)}else m=null,a=i;i=m!==null?m:null}i=i!==null?i:"";i!==null?d=[d,i]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){return typeof c==="string"&&c.length>0?{token:"literal",value:a.value,lang:c.slice(1),type:null}:typeof c==="object"?(c.shift(),{token:"literal",value:a.value,lang:null,type:c[0]}):{token:"literal",value:a.value,lang:null,type:null}}(d[0],
d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[112] RDFLiteral");x[b]={nextPos:a,result:e};return e}function Ga(){var c="NumericLiteral@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=fc();f===null&&(f=gc(),f===null&&(f=sa(),f=f!==null?f:null));(j=b)&&f===null&&g("[113] NumericLiteral");x[c]={nextPos:a,result:f};return f}function fc(){var c="NumericLiteralUnsigned@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=Qa();f===null&&(f=Ra(),f===null&&(f=ca(),f=f!==null?f:null));
(j=b)&&f===null&&g("[114] NumericLiteralUnsigned");x[c]={nextPos:a,result:f};return f}function gc(){var c="NumericLiteralPositive@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=hc();f===null&&(f=ic(),f===null&&(f=jc(),f=f!==null?f:null));(j=b)&&f===null&&g("[115] NumericLiteralPositive");x[c]={nextPos:a,result:f};return f}function sa(){var c="NumericLiteralNegative@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=kc();f===null&&(f=lc(),f===null&&(f=mc(),f=f!==null?f:null));(j=
b)&&f===null&&g("[116] NumericLiteralNegative");x[c]={nextPos:a,result:f};return f}function Ha(){var b="BooleanLiteral@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="T"){var d="T";a+=1}else d=null,j&&g('"T"');d===null&&(c.substr(a,1)==="t"?(d="t",a+=1):(d=null,j&&g('"t"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="R"){var i="R";a+=1}else i=null,j&&g('"R"');i===null&&(c.substr(a,1)==="r"?(i="r",a+=1):(i=null,j&&g('"r"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,
1)==="U"){var m="U";a+=1}else m=null,j&&g('"U"');m===null&&(c.substr(a,1)==="u"?(m="u",a+=1):(m=null,j&&g('"u"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var h="E";a+=1}else h=null,j&&g('"E"');h===null&&(c.substr(a,1)==="e"?(h="e",a+=1):(h=null,j&&g('"e"')),h=h!==null?h:null);h!==null?d=[d,i,m,h]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}:null;e===null&&(e=null,a=k);
if(e!==null)k=e;else{e=k=a;c.substr(a,1)==="F"?(d="F",a+=1):(d=null,j&&g('"F"'));d===null&&(c.substr(a,1)==="f"?(d="f",a+=1):(d=null,j&&g('"f"')),d=d!==null?d:null);if(d!==null)if(c.substr(a,1)==="A"?(i="A",a+=1):(i=null,j&&g('"A"')),i===null&&(c.substr(a,1)==="a"?(i="a",a+=1):(i=null,j&&g('"a"')),i=i!==null?i:null),i!==null)if(c.substr(a,1)==="L"?(m="L",a+=1):(m=null,j&&g('"L"')),m===null&&(c.substr(a,1)==="l"?(m="l",a+=1):(m=null,j&&g('"l"')),m=m!==null?m:null),m!==null)if(c.substr(a,1)==="S"?(h=
"S",a+=1):(h=null,j&&g('"S"')),h===null&&(c.substr(a,1)==="s"?(h="s",a+=1):(h=null,j&&g('"s"')),h=h!==null?h:null),h!==null){if(c.substr(a,1)==="E"){var n="E";a+=1}else n=null,j&&g('"E"');n===null&&(c.substr(a,1)==="e"?(n="e",a+=1):(n=null,j&&g('"e"')),n=n!==null?n:null);n!==null?d=[d,i,m,h,n]:(d=null,a=e)}else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;e=d!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}:null;e===null&&(e=null,a=k);k=
e!==null?e:null}(j=f)&&k===null&&g("[117] BooleanLiteral");x[b]={nextPos:a,result:k};return k}function dc(){var c="String@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=nc(),e=e!==null?{token:"string",value:e}:null;e===null&&(e=null,a=f);e!==null?f=e:(f=a,e=oc(),e=e!==null?{token:"string",value:e}:null,e===null&&(e=null,a=f),e!==null?f=e:(f=a,e=pc(),e=e!==null?{token:"string",value:e}:null,e===null&&(e=null,a=f),e!==null?f=e:(f=a,e=qc(),e=e!==null?{token:"string",value:e}:null,e===
null&&(e=null,a=f),f=e!==null?e:null)));(j=b)&&f===null&&g("[118] String");x[c]={nextPos:a,result:f};return f}function T(){var c="IRIref@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=na(),e=e!==null?{token:"uri",prefix:null,suffix:null,value:e}:null;e===null&&(e=null,a=f);e!==null?f=e:(f=a,e=rc(),e=e!==null?e:null,e===null&&(e=null,a=f),f=e!==null?e:null);(j=b)&&f===null&&g("[119] IRIref");x[c]={nextPos:a,result:f};return f}function rc(){var c="PrefixedName@"+a,b=x[c];if(b)return a=
b.nextPos,b.result;b=j;j=!1;var f=a,e=sc(),e=e!==null?{token:"uri",prefix:e[0],suffix:e[1],value:null}:null;e===null&&(e=null,a=f);e!==null?f=e:(f=a,e=Ca(),e=e!==null?{token:"uri",prefix:e,suffix:"",value:null}:null,e===null&&(e=null,a=f),f=e!==null?e:null);(j=b)&&f===null&&g("[120] PrefixedName");x[c]={nextPos:a,result:f};return f}function $b(){var c="BlankNode@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=tc(),e=e!==null?{token:"blank",label:e}:null;e===null&&(e=null,a=f);e!==null?
f=e:(f=a,uc()!==null?(ea++,e={token:"blank",label:""+ea}):e=null,e===null&&(e=null,a=f),f=e!==null?e:null);(j=b)&&f===null&&g("[121] BlankNode");x[c]={nextPos:a,result:f};return f}function na(){var b="IRI_REF@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="<"){var d="<";a+=1}else d=null,j&&g('"<"');if(d!==null){var i=[];if(c.substr(a).match(/^[^<>"{} | ^\\]/)!==null){var h=c.charAt(a);a++}else h=null,j&&g('[^<>"{} | ^\\\\]');for(;h!==null;)i.push(h),c.substr(a).match(/^[^<>"{} | ^\\]/)!==
null?(h=c.charAt(a),a++):(h=null,j&&g('[^<>"{} | ^\\\\]'));i!==null?(c.substr(a,1)===">"?(h=">",a+=1):(h=null,j&&g('">"')),h!==null?d=[d,i,h]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;e=d!==null?d[1].join(""):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[122] IRI_REF");x[b]={nextPos:a,result:e};return e}function Ca(){var b="PNAME_NS@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=Va(),d=d!==null?d:"";if(d!==null){if(c.substr(a,1)===":"){var i=":";a+=1}else i=null,j&&g('":"');
i!==null?d=[d,i]:(d=null,a=e)}else d=null,a=e;e=d!==null?d[0]:null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[123] PNAME_NS");x[b]={nextPos:a,result:e};return e}function sc(){var c="PNAME_LN@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=a,d=Ca();if(d!==null){var k=ob();k!==null?d=[d,k]:(d=null,a=e)}else d=null,a=e;e=d!==null?[d[0],d[1]]:null;e===null&&(e=null,a=f);(j=b)&&e===null&&g("[124] PNAME_LN");x[c]={nextPos:a,result:e};return e}function tc(){var b="BLANK_NODE_LABEL@"+a,f=
x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,2)==="_:"){var d="_:";a+=2}else d=null,j&&g('"_:"');if(d!==null){var i=ob();i!==null?d=[d,i]:(d=null,a=e)}else d=null,a=e;e=d!==null?d[1]:null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[125] BLANK_NODE_LABEL");x[b]={nextPos:a,result:e};return e}function Yb(){var b="VAR1@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="?"){var d="?";a+=1}else d=null,j&&g('"?"');if(d!==null){var i=pb();i!==
null?d=[d,i]:(d=null,a=e)}else d=null,a=e;e=d!==null?d[1]:null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[126] VAR1");x[b]={nextPos:a,result:e};return e}function Zb(){var b="VAR2@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="$"){var d="$";a+=1}else d=null,j&&g('"$"');if(d!==null){var i=pb();i!==null?d=[d,i]:(d=null,a=e)}else d=null,a=e;e=d!==null?d[1]:null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[127] VAR2");x[b]={nextPos:a,result:e};return e}function ec(){var b=
"LANGTAG@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="@"){var d="@";a+=1}else d=null,j&&g('"@"');if(d!==null){if(c.substr(a).match(/^[a-zA-Z]/)!==null){var i=c.charAt(a);a++}else i=null,j&&g("[a-zA-Z]");if(i!==null)for(var h=[];i!==null;)h.push(i),c.substr(a).match(/^[a-zA-Z]/)!==null?(i=c.charAt(a),a++):(i=null,j&&g("[a-zA-Z]"));else h=null;if(h!==null){var i=[],n=a;if(c.substr(a,1)==="-"){var q="-";a+=1}else q=null,j&&g('"-"');if(q!==null){if(c.substr(a).match(/^[a-zA-Z0-9]/)!==
null){var r=c.charAt(a);a++}else r=null,j&&g("[a-zA-Z0-9]");if(r!==null)for(var t=[];r!==null;)t.push(r),c.substr(a).match(/^[a-zA-Z0-9]/)!==null?(r=c.charAt(a),a++):(r=null,j&&g("[a-zA-Z0-9]"));else t=null;t!==null?q=[q,t]:(q=null,a=n)}else q=null,a=n;for(;q!==null;)if(i.push(q),n=a,c.substr(a,1)==="-"?(q="-",a+=1):(q=null,j&&g('"-"')),q!==null){c.substr(a).match(/^[a-zA-Z0-9]/)!==null?(r=c.charAt(a),a++):(r=null,j&&g("[a-zA-Z0-9]"));if(r!==null)for(t=[];r!==null;)t.push(r),c.substr(a).match(/^[a-zA-Z0-9]/)!==
null?(r=c.charAt(a),a++):(r=null,j&&g("[a-zA-Z0-9]"));else t=null;t!==null?q=[q,t]:(q=null,a=n)}else q=null,a=n;i!==null?d=[d,h,i]:(d=null,a=e)}else d=null,a=e}else d=null,a=e;e=d!==null?d[2].length===0?("@"+d[1].join("")).toLowerCase():("@"+d[1].join("")+"-"+d[2][0][1].join("")).toLowerCase():null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[128] LANGTAG");x[b]={nextPos:a,result:e};return e}function ca(){var b="INTEGER@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a;if(c.substr(a).match(/^[0-9]/)!==
null){var e=c.charAt(a);a++}else e=null,j&&g("[0-9]");if(e!==null)for(var d=[];e!==null;)d.push(e),c.substr(a).match(/^[0-9]/)!==null?(e=c.charAt(a),a++):(e=null,j&&g("[0-9]"));else d=null;e=d!==null?function(a){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#integer"};lit.value=Z(a);return lit}(d):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[129] INTEGER");x[b]={nextPos:a,result:e};return e}function Ra(){var b="DECIMAL@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;
var k=a,e=a;if(c.substr(a).match(/^[0-9]/)!==null){var d=c.charAt(a);a++}else d=null,j&&g("[0-9]");if(d!==null)for(var i=[];d!==null;)i.push(d),c.substr(a).match(/^[0-9]/)!==null?(d=c.charAt(a),a++):(d=null,j&&g("[0-9]"));else i=null;if(i!==null)if(c.substr(a,1)==="."?(d=".",a+=1):(d=null,j&&g('"."')),d!==null){var h=[];if(c.substr(a).match(/^[0-9]/)!==null){var n=c.charAt(a);a++}else n=null,j&&g("[0-9]");for(;n!==null;)h.push(n),c.substr(a).match(/^[0-9]/)!==null?(n=c.charAt(a),a++):(n=null,j&&g("[0-9]"));
h!==null?i=[i,d,h]:(i=null,a=e)}else i=null,a=e;else i=null,a=e;e=i!==null?function(a,c,b){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};lit.value=Z([a,c,b]);return lit}(i[0],i[1],i[2]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,1)==="."?(i=".",a+=1):(i=null,j&&g('"."'));if(i!==null){c.substr(a).match(/^[0-9]/)!==null?(d=c.charAt(a),a++):(d=null,j&&g("[0-9]"));if(d!==null)for(h=[];d!==null;)h.push(d),c.substr(a).match(/^[0-9]/)!==null?(d=c.charAt(a),
a++):(d=null,j&&g("[0-9]"));else h=null;h!==null?i=[i,h]:(i=null,a=e)}else i=null,a=e;e=i!==null?function(a,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};lit.value=Z([a,c]);return lit}(i[0],i[1]):null;e===null&&(e=null,a=k);k=e!==null?e:null}(j=f)&&k===null&&g("[130] DECIMAL");x[b]={nextPos:a,result:k};return k}function Qa(){var b="DOUBLE@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a;if(c.substr(a).match(/^[0-9]/)!==null){var d=c.charAt(a);a++}else d=
null,j&&g("[0-9]");if(d!==null)for(var k=[];d!==null;)k.push(d),c.substr(a).match(/^[0-9]/)!==null?(d=c.charAt(a),a++):(d=null,j&&g("[0-9]"));else k=null;if(k!==null)if(c.substr(a,1)==="."?(d=".",a+=1):(d=null,j&&g('"."')),d!==null){var h=[];if(c.substr(a).match(/^[0-9]/)!==null){var n=c.charAt(a);a++}else n=null,j&&g("[0-9]");for(;n!==null;)h.push(n),c.substr(a).match(/^[0-9]/)!==null?(n=c.charAt(a),a++):(n=null,j&&g("[0-9]"));h!==null?(n=Sa(),n!==null?k=[k,d,h,n]:(k=null,a=e)):(k=null,a=e)}else k=
null,a=e;else k=null,a=e;e=k!==null?function(a,c,b,d){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=Z([a,c,b,d]);return lit}(k[0],k[1],k[2],k[3]):null;e===null&&(e=null,a=i);if(e!==null)i=e;else{e=i=a;c.substr(a,1)==="."?(k=".",a+=1):(k=null,j&&g('"."'));if(k!==null){c.substr(a).match(/^[0-9]/)!==null?(h=c.charAt(a),a++):(h=null,j&&g("[0-9]"));if(h!==null)for(d=[];h!==null;)d.push(h),c.substr(a).match(/^[0-9]/)!==null?(h=c.charAt(a),a++):(h=null,j&&g("[0-9]"));
else d=null;d!==null?(h=Sa(),h!==null?k=[k,d,h]:(k=null,a=e)):(k=null,a=e)}else k=null,a=e;e=k!==null?function(a,c,b){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=Z([a,c,b]);return lit}(k[0],k[1],k[2]):null;e===null&&(e=null,a=i);if(e!==null)i=e;else{e=i=a;c.substr(a).match(/^[0-9]/)!==null?(d=c.charAt(a),a++):(d=null,j&&g("[0-9]"));if(d!==null)for(k=[];d!==null;)k.push(d),c.substr(a).match(/^[0-9]/)!==null?(d=c.charAt(a),a++):(d=null,j&&g("[0-9]"));else k=
null;k!==null?(d=Sa(),d!==null?k=[k,d]:(k=null,a=e)):(k=null,a=e);e=k!==null?function(a,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=Z([a,c]);return lit}(k[0],k[1]):null;e===null&&(e=null,a=i);i=e!==null?e:null}}(j=f)&&i===null&&g("[131] DOUBLE");x[b]={nextPos:a,result:i};return i}function jc(){var b="INTEGER_POSITIVE@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="+"){var d="+";a+=1}else d=null,j&&g('"+"');if(d!==
null){var i=ca();i!==null?d=[d,i]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){a.value="+"+a.value;return a}(d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[132] INTEGER_POSITIVE");x[b]={nextPos:a,result:e};return e}function ic(){var b="DECIMAL_POSITIVE@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="+"){var d="+";a+=1}else d=null,j&&g('"+"');if(d!==null){var i=Ra();i!==null?d=[d,i]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){a.value="+"+
a.value;return a}(d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[133] DECIMAL_POSITIVE");x[b]={nextPos:a,result:e};return e}function hc(){var b="DOUBLE_POSITIVE@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="+"){var d="+";a+=1}else d=null,j&&g('"+"');if(d!==null){var i=Qa();i!==null?d=[d,i]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){a.value="+"+a.value;return a}(d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[134] DOUBLE_POSITIVE");x[b]=
{nextPos:a,result:e};return e}function mc(){var b="INTEGER_NEGATIVE@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="-"){var d="-";a+=1}else d=null,j&&g('"-"');if(d!==null){var i=ca();i!==null?d=[d,i]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){a.value="-"+a.value;return a}(d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[135] INTEGER_NEGATIVE");x[b]={nextPos:a,result:e};return e}function lc(){var b="DECIMAL_NEGATIVE@"+a,f=x[b];if(f)return a=f.nextPos,
f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="-"){var d="-";a+=1}else d=null,j&&g('"-"');if(d!==null){var i=Ra();i!==null?d=[d,i]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){a.value="-"+a.value;return a}(d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[136] DECIMAL_NEGATIVE");x[b]={nextPos:a,result:e};return e}function kc(){var b="DOUBLE_NEGATIVE@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="-"){var d="-";a+=1}else d=null,j&&g('"-"');if(d!==
null){var i=Qa();i!==null?d=[d,i]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){a.value="-"+a.value;return a}(d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[137] DOUBLE_NEGATIVE");x[b]={nextPos:a,result:e};return e}function Sa(){var b="EXPONENT@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a).match(/^[eE]/)!==null){var d=c.charAt(a);a++}else d=null,j&&g("[eE]");if(d!==null){if(c.substr(a).match(/^[+\-]/)!==null){var i=c.charAt(a);a++}else i=null,j&&g("[+\\-]");
i=i!==null?i:"";if(i!==null){if(c.substr(a).match(/^[0-9]/)!==null){var h=c.charAt(a);a++}else h=null,j&&g("[0-9]");if(h!==null)for(var n=[];h!==null;)n.push(h),c.substr(a).match(/^[0-9]/)!==null?(h=c.charAt(a),a++):(h=null,j&&g("[0-9]"));else n=null;n!==null?d=[d,i,n]:(d=null,a=e)}else d=null,a=e}else d=null,a=e;e=d!==null?Z([d[0],d[1],d[2]]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[138] EXPONENT");x[b]={nextPos:a,result:e};return e}function pc(){var b="STRING_LITERAL1@"+a,f=x[b];if(f)return a=
f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="'"){var d="'";a+=1}else d=null,j&&g('"\'"');if(d!==null){var i=[];if(c.substr(a).match(/^[^'\\\n\r]/)!==null){var h=c.charAt(a);a++}else h=null,j&&g("[^'\\\\\\n\\r]");h===null&&(h=fa(),h=h!==null?h:null);for(;h!==null;)i.push(h),c.substr(a).match(/^[^'\\\n\r]/)!==null?(h=c.charAt(a),a++):(h=null,j&&g("[^'\\\\\\n\\r]")),h===null&&(h=fa(),h=h!==null?h:null);i!==null?(c.substr(a,1)==="'"?(h="'",a+=1):(h=null,j&&g('"\'"')),h!==null?d=[d,i,h]:
(d=null,a=e)):(d=null,a=e)}else d=null,a=e;e=d!==null?Z(d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[139] STRING_LITERAL1");x[b]={nextPos:a,result:e};return e}function qc(){var b="STRING_LITERAL2@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==='"'){var d='"';a+=1}else d=null,j&&g('"\\""');if(d!==null){var i=[];if(c.substr(a).match(/^[^"\\\n\r]/)!==null){var h=c.charAt(a);a++}else h=null,j&&g('[^"\\\\\\n\\r]');h===null&&(h=fa(),h=h!==null?h:null);for(;h!==
null;)i.push(h),c.substr(a).match(/^[^"\\\n\r]/)!==null?(h=c.charAt(a),a++):(h=null,j&&g('[^"\\\\\\n\\r]')),h===null&&(h=fa(),h=h!==null?h:null);i!==null?(c.substr(a,1)==='"'?(h='"',a+=1):(h=null,j&&g('"\\""')),h!==null?d=[d,i,h]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;e=d!==null?Z(d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[140] STRING_LITERAL2");x[b]={nextPos:a,result:e};return e}function nc(){var b="STRING_LITERAL_LONG1@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,
e=a;if(c.substr(a,3)==="'''"){var d="'''";a+=3}else d=null,j&&g("\"'''\"");if(d!==null){var i=[];if(c.substr(a).match(/^[^'\\]/)!==null){var h=c.charAt(a);a++}else h=null,j&&g("[^'\\\\]");h===null&&(h=fa(),h=h!==null?h:null);for(;h!==null;)i.push(h),c.substr(a).match(/^[^'\\]/)!==null?(h=c.charAt(a),a++):(h=null,j&&g("[^'\\\\]")),h===null&&(h=fa(),h=h!==null?h:null);i!==null?(c.substr(a,3)==="'''"?(h="'''",a+=3):(h=null,j&&g("\"'''\"")),h!==null?d=[d,i,h]:(d=null,a=e)):(d=null,a=e)}else d=null,a=
e;e=d!==null?Z(d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[141] STRING_LITERAL_LONG1");x[b]={nextPos:a,result:e};return e}function oc(){var b="STRING_LITERAL_LONG2@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a;if(c.substr(a,3)==='"""'){var d='"""';a+=3}else d=null,j&&g('"\\"\\"\\""');if(d!==null){var k=[];if(c.substr(a).match(/^[^"\\]/)!==null){var h=c.charAt(a);a++}else h=null,j&&g('[^"\\\\]');h===null&&(h=fa(),h=h!==null?h:null);for(;h!==null;)k.push(h),c.substr(a).match(/^[^"\\]/)!==
null?(h=c.charAt(a),a++):(h=null,j&&g('[^"\\\\]')),h===null&&(h=fa(),h=h!==null?h:null);k!==null?(c.substr(a,3)==='"""'?(h='"""',a+=3):(h=null,j&&g('"\\"\\"\\""')),h!==null?d=[d,k,h]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;e=d!==null?Z(d[1]):null;e===null&&(e=null,a=i);(j=f)&&e===null&&g("[142] STRING_LITERAL_LONG2");x[b]={nextPos:a,result:e};return e}function fa(){var b="ECHAR@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a;if(c.substr(a,1)==="\\"){var e="\\";a+=1}else e=null,j&&
g('"\\\\"');if(e!==null){if(c.substr(a).match(/^[tbnrf"']/)!==null){var d=c.charAt(a);a++}else d=null,j&&g("[tbnrf\"']");d!==null?e=[e,d]:(e=null,a=k)}else e=null,a=k;(j=f)&&e===null&&g("[143] ECHAR");x[b]={nextPos:a,result:e};return e}function la(){var b="NIL@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="("){var d="(";a+=1}else d=null,j&&g('"("');if(d!==null){for(var i=[],h=r();h!==null;)i.push(h),h=r();i!==null?(c.substr(a,1)===")"?(h=")",a+=1):(h=null,j&&
g('")"')),h!==null?d=[d,i,h]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;e=d!==null?{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}:null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[144] NIL");x[b]={nextPos:a,result:e};return e}function r(){var b="WS@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;if(c.substr(a).match(/^[ ]/)!==null){var k=c.charAt(a);a++}else k=null,j&&g("[ ]");k===null&&(c.substr(a).match(/^[\t]/)!==
null?(k=c.charAt(a),a++):(k=null,j&&g("[\t]")),k===null&&(c.substr(a).match(/^[\r]/)!==null?(k=c.charAt(a),a++):(k=null,j&&g("[\\r]")),k===null&&(c.substr(a).match(/^[\n]/)!==null?(k=c.charAt(a),a++):(k=null,j&&g("[\\n]")),k===null&&(k=vc(),k=k!==null?k:null))));(j=f)&&k===null&&g("[145] WS");x[b]={nextPos:a,result:k};return k}function vc(){var b="COMMENT@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a;if(c.substr(a,1)==="#"){var e="#";a+=1}else e=null,j&&g('"#"');if(e!==null){var d=
[];if(c.substr(a).match(/^[^\n\r]/)!==null){var i=c.charAt(a);a++}else i=null,j&&g("[^\\n\\r]");for(;i!==null;)d.push(i),c.substr(a).match(/^[^\n\r]/)!==null?(i=c.charAt(a),a++):(i=null,j&&g("[^\\n\\r]"));d!==null?e=[e,d]:(e=null,a=k)}else e=null,a=k;(j=f)&&e===null&&g(" COMMENT");x[b]={nextPos:a,result:e};return e}function uc(){var b="ANON@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a;if(c.substr(a,1)==="["){var e="[";a+=1}else e=null,j&&g('"["');if(e!==null){for(var d=[],i=r();i!==
null;)d.push(i),i=r();d!==null?(c.substr(a,1)==="]"?(i="]",a+=1):(i=null,j&&g('"]"')),i!==null?e=[e,d,i]:(e=null,a=k)):(e=null,a=k)}else e=null,a=k;(j=f)&&e===null&&g("[146] ANON");x[b]={nextPos:a,result:e};return e}function qb(){var b="PN_CHARS_BASE@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;if(c.substr(a).match(/^[A-Z]/)!==null){var k=c.charAt(a);a++}else k=null,j&&g("[A-Z]");k===null&&(c.substr(a).match(/^[a-z]/)!==null?(k=c.charAt(a),a++):(k=null,j&&g("[a-z]")),k===null&&(c.substr(a).match(/^[\xC0-\xD6]/)!==
null?(k=c.charAt(a),a++):(k=null,j&&g("[\\xC0-\\xD6]")),k===null&&(c.substr(a).match(/^[\xD8-\xF6]/)!==null?(k=c.charAt(a),a++):(k=null,j&&g("[\\xD8-\\xF6]")),k===null&&(c.substr(a).match(/^[\xF8-\u02FF]/)!==null?(k=c.charAt(a),a++):(k=null,j&&g("[\\xF8-\\u02FF]")),k===null&&(c.substr(a).match(/^[\u0370-\u037D]/)!==null?(k=c.charAt(a),a++):(k=null,j&&g("[\\u0370-\\u037D]")),k===null&&(c.substr(a).match(/^[\u037F-\u1FFF]/)!==null?(k=c.charAt(a),a++):(k=null,j&&g("[\\u037F-\\u1FFF]")),k===null&&(c.substr(a).match(/^[\u200C-\u200D]/)!==
null?(k=c.charAt(a),a++):(k=null,j&&g("[\\u200C-\\u200D]")),k===null&&(c.substr(a).match(/^[\u2070-\u218F]/)!==null?(k=c.charAt(a),a++):(k=null,j&&g("[\\u2070-\\u218F]")),k===null&&(c.substr(a).match(/^[\u2C00-\u2FEF]/)!==null?(k=c.charAt(a),a++):(k=null,j&&g("[\\u2C00-\\u2FEF]")),k===null&&(c.substr(a).match(/^[\u3001-\uD7FF]/)!==null?(k=c.charAt(a),a++):(k=null,j&&g("[\\u3001-\\uD7FF]")),k===null&&(c.substr(a).match(/^[\uF900-\uFDCF]/)!==null?(k=c.charAt(a),a++):(k=null,j&&g("[\\uF900-\\uFDCF]")),
k===null&&(c.substr(a).match(/^[\uFDF0-\uFFFD]/)!==null?(k=c.charAt(a),a++):(k=null,j&&g("[\\uFDF0-\\uFFFD]")),k===null&&(c.substr(a).match(/^[\u1000-\uEFFF]/)!==null?(k=c.charAt(a),a++):(k=null,j&&g("[\\u1000-\\uEFFF]")),k=k!==null?k:null)))))))))))));(j=f)&&k===null&&g("[147] PN_CHARS_BASE");x[b]={nextPos:a,result:k};return k}function ua(){var b="PN_CHARS_U@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=qb();k===null&&(c.substr(a,1)==="_"?(k="_",a+=1):(k=null,j&&g('"_"')),k=k!==null?
k:null);(j=f)&&k===null&&g("[148] PN_CHARS_U");x[b]={nextPos:a,result:k};return k}function pb(){var b="VARNAME@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=ua();d===null&&(c.substr(a).match(/^[0-9]/)!==null?(d=c.charAt(a),a++):(d=null,j&&g("[0-9]")),d=d!==null?d:null);if(d!==null){var i=[],h=ua();h===null&&(c.substr(a).match(/^[0-9]/)!==null?(h=c.charAt(a),a++):(h=null,j&&g("[0-9]")),h===null&&(c.substr(a).match(/^[\xB7]/)!==null?(h=c.charAt(a),a++):(h=null,j&&g("[\\xB7]")),
h===null&&(c.substr(a).match(/^[\u0300-\u036F]/)!==null?(h=c.charAt(a),a++):(h=null,j&&g("[\\u0300-\\u036F]")),h===null&&(c.substr(a).match(/^[\u203F-\u2040]/)!==null?(h=c.charAt(a),a++):(h=null,j&&g("[\\u203F-\\u2040]")),h=h!==null?h:null))));for(;h!==null;)i.push(h),h=ua(),h===null&&(c.substr(a).match(/^[0-9]/)!==null?(h=c.charAt(a),a++):(h=null,j&&g("[0-9]")),h===null&&(c.substr(a).match(/^[\xB7]/)!==null?(h=c.charAt(a),a++):(h=null,j&&g("[\\xB7]")),h===null&&(c.substr(a).match(/^[\u0300-\u036F]/)!==
null?(h=c.charAt(a),a++):(h=null,j&&g("[\\u0300-\\u036F]")),h===null&&(c.substr(a).match(/^[\u203F-\u2040]/)!==null?(h=c.charAt(a),a++):(h=null,j&&g("[\\u203F-\\u2040]")),h=h!==null?h:null))));i!==null?d=[d,i]:(d=null,a=e)}else d=null,a=e;e=d!==null?d[0]+d[1].join(""):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[149] VARNAME");x[b]={nextPos:a,result:e};return e}function Ba(){var b="PN_CHARS@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=ua();k===null&&(c.substr(a,1)==="-"?(k="-",a+=
1):(k=null,j&&g('"-"')),k===null&&(c.substr(a).match(/^[0-9]/)!==null?(k=c.charAt(a),a++):(k=null,j&&g("[0-9]")),k===null&&(c.substr(a).match(/^[\xB7]/)!==null?(k=c.charAt(a),a++):(k=null,j&&g("[\\xB7]")),k===null&&(c.substr(a).match(/^[\u0300-\u036F]/)!==null?(k=c.charAt(a),a++):(k=null,j&&g("[\\u0300-\\u036F]")),k===null&&(c.substr(a).match(/^[\u203F-\u2040]/)!==null?(k=c.charAt(a),a++):(k=null,j&&g("[\\u203F-\\u2040]")),k=k!==null?k:null)))));(j=f)&&k===null&&g("[150] PN_CHARS");x[b]={nextPos:a,
result:k};return k}function Va(){var b="PN_PREFIX@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=qb();if(d!==null){var h=[],i=Ba();i===null&&(c.substr(a,1)==="."?(i=".",a+=1):(i=null,j&&g('"."')),i=i!==null?i:null);for(;i!==null;)h.push(i),i=Ba(),i===null&&(c.substr(a,1)==="."?(i=".",a+=1):(i=null,j&&g('"."')),i=i!==null?i:null);h!==null?d=[d,h]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){if(c[c.length-1]==".")throw Error("Wrong PN_PREFIX, cannot finish with '.'");else return a+
c.join("")}(d[0],d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&g("[151] PN_PREFIX");x[b]={nextPos:a,result:e};return e}function ob(){var b="PN_LOCAL@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=ua();d===null&&(c.substr(a).match(/^[0-9]/)!==null?(d=c.charAt(a),a++):(d=null,j&&g("[0-9]")),d=d!==null?d:null);if(d!==null){for(var h=[],i=Ba();i!==null;)h.push(i),i=Ba();h!==null?d=[d,h]:(d=null,a=e)}else d=null,a=e;e=d!==null?d[0]+d[1].join(""):null;e===null&&(e=null,a=k);(j=
f)&&e===null&&g("[152] PN_LOCAL");x[b]={nextPos:a,result:e};return e}function rb(){var b=function(a){a.sort();for(var c=null,b=[],f=0;f<a.length;f++)a[f]!==c&&(b.push(a[f]),c=a[f]);switch(b.length){case 0:return"end of input";case 1:return b[0];default:return b.slice(0,b.length-1).join(", ")+" or "+b[b.length-1]}}(Ta),f=Math.max(a,va),f=f<c.length?i(c.charAt(f)):"end of input";return"Expected "+b+" but "+f+" found."}function wc(){for(var a=1,b=1,f=!1,e=0;e<va;e++){var d=c.charAt(e);d==="\n"?(f||a++,
b=1,f=!1):d==="\r"|d==="\u2028"||d==="\u2029"?(a++,b=1,f=!0):(b++,f=!1)}return{line:a,column:b}}var ha={ANON:uc,AdditiveExpression:U,Aggregate:bc,ArgList:ib,AskQuery:X,BLANK_NODE_LABEL:tc,BaseDecl:z,BindingValue:xa,BindingsClause:sb,BlankNode:$b,BlankNodePropertyList:Wb,BooleanLiteral:Ha,BrackettedExpression:Ea,BuiltInCall:Da,COMMENT:vc,Clear:Bb,Collection:Vb,ConditionalAndExpression:Oa,ConditionalOrExpression:M,Constraint:wa,ConstructQuery:O,ConstructTemplate:vb,ConstructTriples:jb,Create:Db,DECIMAL:Ra,
DECIMAL_NEGATIVE:lc,DECIMAL_POSITIVE:ic,DOCUMENT:function(){var c="DOCUMENT@"+a,b=x[c];if(b)return a=b.nextPos,b.result;b=h();b===null&&(b=w(),b=b!==null?b:null);x[c]={nextPos:a,result:b};return b},DOUBLE:Qa,DOUBLE_NEGATIVE:kc,DOUBLE_POSITIVE:hc,DatasetClause:P,DefaultGraphClause:$,DeleteClause:Ib,DeleteData:Fb,DeleteWhere:Gb,DescribeQuery:R,Drop:Cb,ECHAR:fa,EXPONENT:Sa,ExistsFunc:function(){var b="ExistsFunc@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a;if(c.substr(a,6)==="EXISTS"){var e=
"EXISTS";a+=6}else e=null,j&&g('"EXISTS"');if(e!==null){var d=W();d!==null?e=[e,d]:(e=null,a=k)}else e=null,a=k;(j=f)&&e===null&&g("[108] ExistsFunc");x[b]={nextPos:a,result:e};return e},ExpressionList:Qb,Filter:Pb,FunctionCall:Wa,GraphGraphPattern:Nb,GraphNode:qa,GraphPatternNotTriples:hb,GraphRef:Ia,GraphRefAll:$a,GraphTerm:Xb,GroupClause:ga,GroupCondition:ia,GroupGraphPattern:W,GroupGraphPatternSub:Jb,GroupOrUnionGraphPattern:Kb,HavingClause:wb,INTEGER:ca,INTEGER_NEGATIVE:mc,INTEGER_POSITIVE:jc,
IRI_REF:na,IRIref:T,IRIrefOrFunction:ac,InsertClause:bb,InsertData:Eb,LANGTAG:ec,LimitClause:Ya,LimitOffsetClauses:yb,Load:Ab,MinusGraphPattern:Mb,Modify:Hb,MultiplicativeExpression:ra,NIL:la,NamedGraphClause:ba,NotExistsFunc:function(){var b="NotExistsFunc@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a;if(c.substr(a,10)==="NOT EXISTS"){var e="NOT EXISTS";a+=10}else e=null,j&&g('"NOT EXISTS"');if(e!==null){var d=W();d!==null?e=[e,d]:(e=null,a=k)}else e=null,a=k;(j=f)&&e===null&&g("[109] NotExistsFunc");
x[b]={nextPos:a,result:e};return e},NumericLiteral:Ga,NumericLiteralNegative:sa,NumericLiteralPositive:gc,NumericLiteralUnsigned:fc,ObjectList:ma,OffsetClause:Za,OptionalGraphPattern:Lb,OrderClause:xb,OrderCondition:Xa,PNAME_LN:sc,PNAME_NS:Ca,PN_CHARS:Ba,PN_CHARS_BASE:qb,PN_CHARS_U:ua,PN_LOCAL:ob,PN_PREFIX:Va,PathAlternative:mb,PathElt:nb,PathEltOrInverse:Na,PathMod:Tb,PathNegatedPropertySet:Ub,PathOneInPropertySet:za,PathPrimary:Sb,PathSequence:Ma,PrefixDecl:u,PrefixedName:rc,PrimaryExpression:Aa,
Prologue:t,PropertyList:Rb,PropertyListNotEmpty:ya,PropertyListNotEmptyPath:function(){var b="PropertyListNotEmptyPath@"+a,f=x[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=La();e===null&&(e=S(),e=e!==null?e:null);if(e!==null){var d=ma();if(d!==null){var h=[],i=a;if(c.substr(a,1)===";"){var n=";";a+=1}else n=null,j&&g('";"');if(n!==null){var q=a,r=La();r===null&&(r=S(),r=r!==null?r:null);if(r!==null){var t=ma();t!==null?r=[r,t]:(r=null,a=q)}else r=null,a=q;q=r!==null?r:"";q!==null?n=[n,q]:
(n=null,a=i)}else n=null,a=i;for(;n!==null;)h.push(n),i=a,c.substr(a,1)===";"?(n=";",a+=1):(n=null,j&&g('";"')),n!==null?(q=a,r=La(),r===null&&(r=S(),r=r!==null?r:null),r!==null?(t=ma(),t!==null?r=[r,t]:(r=null,a=q)):(r=null,a=q),q=r!==null?r:"",q!==null?n=[n,q]:(n=null,a=i)):(n=null,a=i);h!==null?e=[e,d,h]:(e=null,a=k)}else e=null,a=k}else e=null,a=k;(j=f)&&e===null&&g("[73] PropertyListNotEmptyPath");x[b]={nextPos:a,result:e};return e},PropertyListPath:function(){var c="PropertyListPath@"+a,b=x[c];
if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=ya(),f=f!==null?f:"";(j=b)&&f===null&&g("[74] PropertyListPath");x[c]={nextPos:a,result:f};return f},QuadData:ab,QuadPattern:eb,Quads:fb,QuadsNotTriples:gb,Query:n,RDFLiteral:Fa,RegexExpression:cc,RelationalExpression:Pa,SPARQL:h,STRING_LITERAL1:pc,STRING_LITERAL2:qc,STRING_LITERAL_LONG1:nc,STRING_LITERAL_LONG2:oc,SelectClause:J,SelectQuery:H,ServiceGraphPattern:Ob,SolutionModifier:Y,String:dc,SubSelect:L,TURTLE:w,TriplesBlock:oa,TriplesNode:lb,TriplesSameSubject:Ja,
TriplesTemplate:pa,UnaryExpression:aa,Update:Ua,Update1:zb,UsingClause:cb,VAR1:Yb,VAR2:Zb,VARNAME:pb,Var:S,VarOrIRIref:ka,VarOrTerm:kb,Verb:Ka,VerbPath:La,WS:r,WhereClause:V,base:I,directive:D,prefixID:G,statement:A};if(b!==void 0){if(ha[b]===void 0)throw Error("Invalid rule name: "+i(b)+".");}else b="DOCUMENT";var a=0,j=!0,va=0,Ta=[],x={},Z=function(a){for(var c="",b=0;b<a.length;b++)c+=typeof a[b]==="string"?a[b]:a[b].join("");return c},ea=0,ub=function(a){for(var c="",b=0;b<a.length;b++)c+=a[b];
return c.toUpperCase()},ha=ha[b]();if(ha===null||a!==c.length)throw ha=wc(),new this.SyntaxError(rb(),ha.line,ha.column);return ha},toSource:function(){return this._source},SyntaxError:function(c,b,k){this.name="SyntaxError";this.message=c;this.line=b;this.column=k}};b.SyntaxError.prototype=Error.prototype;return b}();var Y={};(new Date).getTime();Y.combined_parser=ia.parser;Y.parser={};Y.parser.parse=function(b,c){for(var f=[],k=Y.combined_parser.parse(b),i={},g={namespaces:i,base:"",blankCounter:0},
h=0;h<k.length;h++){var n=k[h];if(n.token==="base")g.base=n.value;else if(n.token==="prefix")i[n.prefix]=n.local;else if(n.token==="triples"||n.token==="triplespattern")for(var t=0;t<n.triplesContext.length;t++){var z=n.triplesContext[t],z={subject:A.lexicalFormTerm(z.subject,g),predicate:A.lexicalFormTerm(z.predicate,g),object:A.lexicalFormTerm(z.object,g),graph:c};f.push(z)}}return f};var w={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",
owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",
ccard:"http://purl.org/commerce/creditcard#"},UrisMap:function(){this.defaultNs="";this.interfaceProperties=["get","remove","set","setDefault","addAll","resolve","shrink"]}};w.UrisMap.prototype.values=function(){var b={},c;for(c in this)A.include(this.interfaceProperties,c)||(b[c]=this[c]);return b};w.UrisMap.prototype.get=function(b){if(b.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";return this[b]};w.UrisMap.prototype.remove=function(b){if(b.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";
delete this[b];return null};w.UrisMap.prototype.set=function(b,c){if(b.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";this[b]=c};w.UrisMap.prototype.setDefault=function(b){this.defaultNs=b};w.UrisMap.prototype.addAll=function(b,c){for(var f in b)A.include(this.interfaceProperties,f)||(this[f]!=null?c===!0&&(this[f]=b[f]):this[f]=b[f]);return this};w.UrisMap.prototype.resolve=function(b){var c=b.split(":"),b=c[0],c=c[1];return b===""?this.defaultNs+c:this[b]!=null?this[b]+c:null};
w.UrisMap.prototype.shrink=function(b){for(var c in this){var f=this[c];if(b.indexOf(f)===0&&f!=="")return b=b.split(f)[1],c+":"+b}return b};w.Profile=function(){this.prefixes=new w.UrisMap;this.terms=new w.UrisMap};w.Profile.prototype.importProfile=function(b,c){this.prefixes.addAll(b.prefixes,c);this.terms.addAll(b.terms,c)};w.Profile.prototype.resolve=function(b){return b.indexOf(":")!=-1?this.prefixes.resolve(b):this.terms[b]!=null?this.terms.resolve(b):null};w.Profile.prototype.setDefaultPrefix=
function(b){this.prefixes.setDefault(b)};w.Profile.prototype.setDefaultVocabulary=function(b){this.terms.setDefault(b)};w.Profile.prototype.setPrefix=function(b,c){this.prefixes.set(b,c)};w.Profile.prototype.setTerm=function(b,c){this.terms.set(b,c)};w.RDFEnvironment=function(){this.blankNodeCounter=0;var b=this;this.filters={s:function(c){return function(b){return b.subject.equals(c)}},p:function(c){return function(b){return b.predicate.equals(c)}},o:function(c){return function(b){return b.object.equals(c)}},
sp:function(c,b){return function(h){return h.subject.equals(c)&&h.predicate.equals(b)}},so:function(c,b){return function(h){return h.subject.equals(c)&&h.object.equals(b)}},po:function(c,b){return function(h){return h.predicate.equals(c)&&h.object.equals(b)}},spo:function(c,b,h){return function(g){return g.subject.equals(c)&&g.predicate.equals(b)&&g.object.equals(h)}},describes:function(c){return function(b){return b.subject.equals(c)||b.object.equals(c)}},type:function(c){var k=b.resolve("rdf:type");
return function(b){return b.predicate.equals(k)&&b.object.equals(c)}}};for(var c in w.defaultContext)this.prefixes.set(c,w.defaultContext[c])};A["extends"](w.Profile,w.RDFEnvironment);w.RDFEnvironment.prototype.createBlankNode=function(){var b=w.BlankNode(this.blankNodeCounter);this.blankNodeCounter++;return b};w.RDFEnvironment.prototype.createNamedNode=function(b){var c=this.resolve(b);return c!=null?new w.NamedNode(c):new w.NamedNode(b)};w.RDFEnvironment.prototype.createLiteral=function(b,c,f){return f!=
null?new w.Literal(b,c,f.toString()):new w.Literal(b,c,f)};w.RDFEnvironment.prototype.createTriple=function(b,c,f){return new w.Triple(b,c,f)};w.RDFEnvironment.prototype.createGraph=function(b){var c=new w.Graph;if(b!=null)for(var f=0;f<b.length;f++)c.add(b[f]);return c};w.RDFEnvironment.prototype.createAction=function(b,c){return function(f){return b(f)?c(f):f}};w.RDFEnvironment.prototype.createProfile=function(b){return b===!0?new w.RDFEnvironment.Profile:(b=new w.RDFEnvironment.Profile,b.importProfile(this),
b)};w.RDFEnvironment.prototype.createTermMap=function(b){if(b===!0)return new w.UrisMap;else{var b=this.terms.values(),c=new w.UrisMap,f;for(f in b)c[f]=b[f];return c}};w.RDFEnvironment.prototype.createPrefixMap=function(b){if(b===!0)return new w.UrisMap;else{var b=this.prefixes.values(),c=new w.UrisMap,f;for(f in b)c[f]=b[f];return c}};w.RDFNode=function(b){this.interfaceName=b;this.attributes=["interfaceName","nominalValue"]};w.RDFNode.prototype.equals=function(b){if(b.interfaceName==null)return this.valueOf()==
b;else{for(var c in this.attributes){var f=this.attributes[c];if(this[f]!=b[f])return!1}return!0}};w.BlankNode=function(b){w.RDFNode.call(this,"BlankNode");this.nominalValue="_:"+b;this.bnodeId=b};A["extends"](w.RDFNode,w.BlankNode);w.BlankNode.prototype.toString=function(){return this.nominalValue};w.BlankNode.prototype.toNT=function(){return this.nominalValue};w.BlankNode.prototype.valueOf=function(){return this.nominalValue};w.Literal=function(b,c,f){w.RDFNode.call(this,"Literal");this.nominalValue=
b;if(c!=null)this.language=c;else if(f!=null)this.datatype=f};A["extends"](w.RDFNode,w.Literal);w.Literal.prototype.toString=function(){var b='"'+this.nominalValue+'"';this.language!=null?b=b+"@"+this.language:this.type!=null&&(b=b+"^^"+this.datatype);return b};w.Literal.prototype.toNT=function(){return this.toString()};w.Literal.prototype.valueOf=function(){return h.effectiveTypeValue({token:"literal",type:this.type,value:this.nominalValue,language:this.language})};w.NamedNode=function(b){w.RDFNode.call(this,
"NamedNode");this.nominalValue=b.value!=null?b.value:b};A["extends"](w.RDFNode,w.NamedNode);w.NamedNode.prototype.toString=function(){return this.nominalValue};w.NamedNode.prototype.toNT=function(){return"<"+this.toString()+">"};w.NamedNode.prototype.valueOf=function(){return this.nominalValue};w.Triple=function(b,c,f){this.subject=b;this.predicate=c;this.object=f};w.Triple.prototype.equals=function(b){return this.subject.equals(b.subject)&&this.predicate.equals(b.predicate)&&this.object.equals(b.object)};
w.Triple.prototype.toString=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+" . \r\n"};w.Graph=function(){this.triples=[];this.duplicates={};this.actions=[]};w.Graph.prototype.add=function(b){for(var c=0;c<this.actions.length;c++)b=this.actions[c](b);c=b.subject.toString()+b.predicate.toString()+b.object.toString();this.duplicates[c]||(this.duplicates[c]=!0,this.triples.push(b));return this};w.Graph.prototype.addAction=function(b,c){this.actions.push(b);if(c==
!0)for(var f=0;f<this.triples.length;f++)this.triples[f]=b(this.triples[f]);return this};w.Graph.prototype.addAll=function(b){for(var b=b.toArray(),c=0;c<b.length;c++)this.add(b[c]);return this};w.Graph.prototype.remove=function(b){for(var c=null,f=0;f<this.triples.length;f++)if(this.triples[f].equals(b)){delete this.duplicates[b.subject.toString()+b.predicate.toString()+b.object.toString()];c=f;break}c!=null&&this.triples.splice(c,1);return this};w.Graph.prototype.toArray=function(){return this.triples};
w.Graph.prototype.some=function(b){for(var c=0;c<this.triples.length;c++)if(b(this.triples[c],this)===!0)return!0;return!1};w.Graph.prototype.every=function(b){for(var c=0;c<this.triples.length;c++)if(b(this.triples[c],this)===!1)return!1;return!0};w.Graph.prototype.filter=function(b){for(var c=new w.Graph,f=0;f<this.triples.length;f++)b(this.triples[f],this)===!0&&c.add(this.triples[f]);return c};w.Graph.prototype.forEach=function(b){for(var c=0;c<this.triples.length;c++)b(this.triples[c],this)};
w.Graph.prototype.merge=function(){for(var b=new w.Graph,c=0;c<this.triples;c++){var f=this.triples[c];b.add(f)}for(c=0;c<triples.length;c++)f=triples[c],this.add(f);return b};w.Graph.prototype.match=function(b,c,f,k){for(var h=new w.Graph,g=0,q=0;q<this.triples.length;q++){var n=this.triples[q];if(b==null||n.subject.equals(b))if(c==null||n.predicate.equals(c))if(f==null||n.object.equals(f))if(k==null||g<k)g++,h.add(n);else break}return h};w.Graph.prototype.removeMatches=function(b,c,f){for(var k=
[],h=0;h<this.triples.length;h++){var g=this.triples[h];if(b==null||g.subject.equals(b))if(c==null||g.predicate.equals(c))(f==null||g.object.equals(f))&&k.push(g)}for(h=0;h<k.length;h++)this.remove(k[h]);return this};w.Graph.prototype.toNT=function(){var b="";this.forEach(function(c){b+=c.toString()});return b};w.buildRDFResource=function(b,c,f,k){return b.token==="blank"?w.buildBlankNode(b,c,f,k):b.token==="literal"?w.buildLiteral(b,c,f,k):b.token==="uri"?w.buildNamedNode(b,c,f,k):b.token==="var"?
(b=c[b.value],b!=null?w.buildRDFResource(b,c,f,k):null):null};w.buildBlankNode=function(b){if(b.value==null&&b.label)b.value=b.label;if(b.value.indexOf("_:")===0)b.value=b.value.split("_:")[1];return new w.BlankNode(b.value)};w.buildLiteral=function(b){return new w.Literal(b.value,b.lang,b.type)};w.buildNamedNode=function(b,c,f,k){if(b.value==null&&b.prefix!=null)c=f.resolveNsInEnvironment(b.prefix,k),b.value=c+b.suffix;return new w.NamedNode(b)};w.rdf=new w.RDFEnvironment;var h={checkFilters:function(b,
c,f,k,i){var g=b.filter,q=[];if(g==null||b.length!=null)return c;for(b=0;b<g.length;b++){for(var c=h.run(g[b].value,c,f,k,i),n=[],t=0;t<c.length;t++)c[t].__nullify__!=null?q.push(c[t]):n.push(c[t]);c=n}return c.concat(q)}};h.boundVars=function(b){if(b.expressionType!=null){var c=b.expressionType;if(c=="relationalexpression")return c=b.op2,h.boundVars(b.op1)+h.boundVars(c);else if(c=="conditionalor"||c=="conditionaland"){for(var f=[],c=0;c<b.operands;c++)f=f.concat(h.boundVars(b.operands[c]));return f}else if(c==
"builtincall")if(b.args==null)return[];else{f=[];for(c=0;c<b.args.length;c++)f=f.concat(h.boundVars(b.args[c]));return f}else if(c=="multiplicativeexpression"){f=h.boundVars(b.factor);for(c=0;c<b.factors.length;c++)f=f.concat(h.boundVars(b.factors[c].expression));return f}else if(c=="additiveexpression"){f=h.boundVars(b.summand);for(c=0;c<b.summands.length;c++)f=f.concat(h.boundVars(b.summands[c].expression));return f}else if(c=="regex")return f=h.boundVars(b.expression1),f.concat(h.boundVars(b.expression2));
else if(c=="unaryexpression")return h.boundVars(b.expression);else if(c=="atomic")return b.primaryexpression=="var"?[b.value]:[]}else throw console.log("ERROR"),console.log(b),"Cannot find bound expressions in a no expression token";};h.run=function(b,c,f,k,i){for(var g=i.copyDenormalizedBindings(c,k.outCache),q=[],n=0;n<c.length;n++){var t=h.runFilter(b,g[n],i,k),t=h.ebv(t);h.isEbvError(t)?f&&(t={__nullify__:!0,bindings:c[n]},q.push(t)):t===!0?q.push(c[n]):f&&(t={__nullify__:!0,bindings:c[n]},q.push(t))}return q};
h.collect=function(b,c,f,k){for(var i=k.copyDenormalizedBindings(c,f.outCache),g=[],q=0;q<i.length;q++){var n=h.runFilter(b,i[q],k,f);g.push({binding:c[q],value:n})}return g};h.runDistinct=function(){};h.runAggregator=function(b,c,f,k){if(c==null||c.length===0)return h.ebvError();else if(b.token==="variable"&&b.kind=="var")return c[0][b.value.value];else if(b.token==="variable"&&b.kind==="aliased")if(b.expression.expressionType==="atomic"&&b.expression.primaryexpression==="var")return c[0][b.expression.value.value];
else if(b.expression.expressionType==="aggregate")if(b.expression.aggregateType==="max"){for(var i=null,g=0;g<c.length;g++){var q=c[g],q=h.runFilter(b.expression.expression,q,f,k);h.isEbvError(q)||(i===null?i=q:h.runLtFunction(i,q).value===!0&&(i=q))}return i===null?h.ebvError():i}else if(b.expression.aggregateType==="min"){i=null;for(g=0;g<c.length;g++)q=c[g],q=h.runFilter(b.expression.expression,q,f,k),h.isEbvError(q)||(i===null?i=q:h.runGtFunction(i,q).value===!0&&(i=q));return i===null?h.ebvError():
i}else if(b.expression.aggregateType==="count"){var i={},n=0;if(b.expression.expression==="*")if(b.expression.distinct!=null&&b.expression.distinct!="")for(g=0;g<c.length;g++){var q=c[g],t=A.hashTerm(q);i[t]==null&&(i[t]=!0,n++)}else n=c.length;else for(g=0;g<c.length;g++)q=c[g],q=h.runFilter(b.expression.expression,q,f,k),h.isEbvError(q)||(b.expression.distinct!=null&&b.expression.distinct!=""?(t=A.hashTerm(q),i[t]==null&&(i[t]=!0,n++)):n++);return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",
value:""+n}}else if(b.expression.aggregateType==="avg"){for(var i={},z={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"},g=n=0;g<c.length;g++)q=c[g],q=h.runFilter(b.expression.expression,q,f,k),h.isEbvError(q)||(b.expression.distinct!=null&&b.expression.distinct!=""?(t=A.hashTerm(q),i[t]==null&&(i[t]=!0,h.isNumeric(q)&&(z=h.runSumFunction(z,q),n++))):h.isNumeric(q)&&(z=h.runSumFunction(z,q),n++));b=h.runDivFunction(z,{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",
value:""+n});b.value=""+b.value;return b}else if(b.expression.aggregateType==="sum"){i={};z={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"};for(g=0;g<c.length;g++)q=c[g],q=h.runFilter(b.expression.expression,q,f,k),h.isEbvError(q)||(b.expression.distinct!=null&&b.expression.distinct!=""?(t=A.hashTerm(q),i[t]==null&&(i[t]=!0,h.isNumeric(q)&&(z=h.runSumFunction(z,q)))):h.isNumeric(q)&&(z=h.runSumFunction(z,q)));z.value=""+z.value;return z}else return q=h.runFilter(aggregate.expression,
c[0],{blanks:{},outCache:{}})};h.runFilter=function(b,c,f,k){if(b.expressionType!=null){var i=b.expressionType;if(i=="relationalexpression"){var i=h.runFilter(b.op1,c,f,k),g=h.runFilter(b.op2,c,f,k);return h.runRelationalFilter(b,i,g,c,f,k)}else if(i=="conditionalor")return h.runOrFunction(b,c,f,k);else if(i=="conditionaland")return h.runAndFunction(b,c,f,k);else if(i=="additiveexpression")return h.runAddition(b.summand,b.summands,c,f,k);else if(i=="builtincall")return h.runBuiltInCall(b.builtincall,
b.args,c,f,k);else if(i=="multiplicativeexpression")return h.runMultiplication(b.factor,b.factors,c,f,k);else if(i=="unaryexpression")return h.runUnaryExpression(b.unaryexpression,b.expression,c,f,k);else if(i=="irireforfunction")return h.runIriRefOrFunction(b.iriref,b.args,c,f,k);else if(i=="regex")return h.runRegex(b.text,b.pattern,b.flags,c,f,k);else if(i=="atomic")if(b.primaryexpression=="var")return c[b.value.value];else{if(typeof b.value=="object"&&!(b.value.type==null||typeof b.value.type!=
"object"))b.value.type=A.lexicalFormBaseUri(b.value.type,k);return b.value}else throw"Unknown filter expression type";}else throw"Cannot find bound expressions in a no expression token";};h.isRDFTerm=function(b){return b==null?!1:b.token&&b.token=="literal"||b.token&&b.token=="uri"||b.token&&b.token=="blank"?!0:!1};h.RDFTermEquality=function(b,c,f,k){return b.token==="literal"&&c.token==="literal"?b.lang==c.lang&&b.type==c.type&&b.value==c.value?!0:b.type!=null&&c.type!=null?h.ebvError():h.isSimpleLiteral(b)&&
c.type!=null?h.ebvError():h.isSimpleLiteral(c)&&b.type!=null?h.ebvError():!1:b.token==="uri"&&c.token==="uri"?A.lexicalFormBaseUri(b,k)==A.lexicalFormBaseUri(c,k):b.token==="blank"&&c.token==="blank"?b.value==c.value:!1};h.isInteger=function(b){return b==null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#integer"||b.type=="http://www.w3.org/2001/XMLSchema#decimal"||b.type=="http://www.w3.org/2001/XMLSchema#double"||b.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||
b.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#long"||b.type=="http://www.w3.org/2001/XMLSchema#int"||b.type=="http://www.w3.org/2001/XMLSchema#short"||b.type=="http://www.w3.org/2001/XMLSchema#byte"||b.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||
b.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"?!0:!1:!1};h.isFloat=function(b){return b==null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#float"?!0:!1:!1};h.isDecimal=function(b){return b==null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#decimal"?!0:!1:!1};h.isDouble=function(b){return b==null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#double"?!0:!1:!1};h.isNumeric=function(b){return b==null?!1:b.token==="literal"?b.type==
"http://www.w3.org/2001/XMLSchema#integer"||b.type=="http://www.w3.org/2001/XMLSchema#decimal"||b.type=="http://www.w3.org/2001/XMLSchema#float"||b.type=="http://www.w3.org/2001/XMLSchema#double"||b.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||b.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#long"||b.type=="http://www.w3.org/2001/XMLSchema#int"||b.type=="http://www.w3.org/2001/XMLSchema#short"||b.type=="http://www.w3.org/2001/XMLSchema#byte"||
b.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||b.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"?!0:!1:!1};h.isSimpleLiteral=function(b){return b&&b.token=="literal"?b.type==null&&b.lang==null?!0:!1:!1};h.isXsdType=function(b,c){return c&&c.token==
"literal"?c.type=="http://www.w3.org/2001/XMLSchema#"+b:!1};h.ebv=function(b){if(b==null||h.isEbvError(b))return h.ebvError();else if(b.token&&b.token==="literal")if(b.type=="http://www.w3.org/2001/XMLSchema#integer"||b.type=="http://www.w3.org/2001/XMLSchema#decimal"||b.type=="http://www.w3.org/2001/XMLSchema#double"||b.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||b.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#long"||b.type==
"http://www.w3.org/2001/XMLSchema#int"||b.type=="http://www.w3.org/2001/XMLSchema#short"||b.type=="http://www.w3.org/2001/XMLSchema#byte"||b.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||b.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"){var c=parseFloat(b.value);
return isNaN(c)?!1:parseFloat(b.value)!=0}else return b.type==="http://www.w3.org/2001/XMLSchema#boolean"?b.value==="true"||b.value===!0||b.value==="True":b.type==="http://www.w3.org/2001/XMLSchema#string"?b.value!="":b.type==="http://www.w3.org/2001/XMLSchema#dateTime"?new Date(b.value)!=null:h.isEbvError(b)?b:b.type==null?b.value!=""?!0:!1:h.ebvError();else return b.value===!0};h.ebvTrue=function(){return val={token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}};h.ebvFalse=
function(){return val={token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}};h.ebvError=function(){return val={token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null}};h.isEbvError=function(b){return typeof b=="object"&&b!=null?b.type==="https://github.com/antoniogarrote/js-tools/types#error":!1};h.ebvBoolean=function(b){return h.isEbvError(b)?b:b===!0?h.ebvTrue():h.ebvFalse()};h.runRelationalFilter=function(b,c,f,k,i,g){b=b.operator;if(b==="=")return h.runEqualityFunction(c,
f,k,i,g);else if(b==="!="){c=h.runEqualityFunction(c,f,k,i,g);if(!h.isEbvError(c))c.value=!c.value;return c}else if(b==="<")return h.runLtFunction(c,f,k);else if(b===">")return h.runGtFunction(c,f,k);else if(b==="<=")return h.runLtEqFunction(c,f,k);else if(b===">=")return h.runGtEqFunction(c,f,k);else throw"Error applying relational filter, unknown operator";};h.effectiveTypeValue=function(b){if(b.token=="literal")if(b.type=="http://www.w3.org/2001/XMLSchema#integer")return b=parseInt(b.value);else if(b.type==
"http://www.w3.org/2001/XMLSchema#decimal")return b=parseFloat(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#float")return b=parseFloat(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#double")return b=parseFloat(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger")return b=parseFloat(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#negativeInteger")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#long")return b=
parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#int")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#short")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#byte")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#unsignedLong")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#unsignedInt")return b=
parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#unsignedShort")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#unsignedByte")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#positiveInteger")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#date"||b.type=="http://www.w3.org/2001/XMLSchema#dateTime")try{return A.parseISO8601(b.value)}catch(c){return null}else return b.type=="http://www.w3.org/2001/XMLSchema#boolean"?
b.value===!0||b.value==="true"||b.value==="1"||b.value===1||b.value===!0?!0:b.value===!1||b.value==="false"||b.value==="0"||b.value===0||b.value===!1?!1:void 0:b.type=="http://www.w3.org/2001/XMLSchema#string"?b.value===null||b.value===void 0?void 0:""+b.value:b.value;else throw console.log("not implemented yet"),"value not supported in operations yet";};h.runOrFunction=function(b,c,f,k){for(var i=null,g=0;g<b.operands.length;g++){var q=h.runFilter(b.operands[g],c,f,k);h.isEbvError(q)==!1&&(q=h.ebv(q));
i==null?i=q:h.isEbvError(q)?i=h.isEbvError(i)?h.ebvError():i===!0?!0:h.ebvError():q===!0?i=!0:h.isEbvError(i)&&(i=h.ebvError())}return h.ebvBoolean(i)};h.runAndFunction=function(b,c,f,k){for(var i=null,g=0;g<b.operands.length;g++){var q=h.runFilter(b.operands[g],c,f,k);h.isEbvError(q)==!1&&(q=h.ebv(q));i==null?i=q:h.isEbvError(q)?i=h.isEbvError(i)?h.ebvError():i===!0?h.ebvError():!1:q===!0?h.isEbvError(i)&&(i=h.ebvError()):i=!1}return h.ebvBoolean(i)};h.runEqualityFunction=function(b,c,f,k,i){if(h.isEbvError(b)||
h.isEbvError(c))return h.ebvError();if(h.isNumeric(b)&&h.isNumeric(c)){var f=h.effectiveTypeValue(b),g=h.effectiveTypeValue(c);return isNaN(f)||isNaN(g)?h.ebvBoolean(h.RDFTermEquality(b,c,k,i)):h.ebvBoolean(f==g)}else if((h.isSimpleLiteral(b)||h.isXsdType("string",b))&&(h.isSimpleLiteral(c)||h.isXsdType("string",c)))return h.ebvBoolean(h.effectiveTypeValue(b)==h.effectiveTypeValue(c));else if(h.isXsdType("boolean",b)&&h.isXsdType("boolean",c))return h.ebvBoolean(h.effectiveTypeValue(b)==h.effectiveTypeValue(c));
else if((h.isXsdType("dateTime",b)||h.isXsdType("date",b))&&(h.isXsdType("dateTime",c)||h.isXsdType("date",c))){if(h.isXsdType("dateTime",b)&&h.isXsdType("date",c))return h.ebvFalse();if(h.isXsdType("date",b)&&h.isXsdType("dateTime",c))return h.ebvFalse();b=A.compareDateComponents(b.value,c.value);return b!=null?b==0?h.ebvTrue():h.ebvFalse():h.ebvError()}else return h.isRDFTerm(b)&&h.isRDFTerm(c)?h.ebvBoolean(h.RDFTermEquality(b,c,k,i)):h.ebvFalse()};h.runGtFunction=function(b,c){if(h.isEbvError(b)||
h.isEbvError(c))return h.ebvError();if(h.isNumeric(b)&&h.isNumeric(c))return h.ebvBoolean(h.effectiveTypeValue(b)>h.effectiveTypeValue(c));else if(h.isSimpleLiteral(b)&&h.isSimpleLiteral(c))return h.ebvBoolean(h.effectiveTypeValue(b)>h.effectiveTypeValue(c));else if(h.isXsdType("string",b)&&h.isXsdType("string",c))return h.ebvBoolean(h.effectiveTypeValue(b)>h.effectiveTypeValue(c));else if(h.isXsdType("boolean",b)&&h.isXsdType("boolean",c))return h.ebvBoolean(h.effectiveTypeValue(b)>h.effectiveTypeValue(c));
else if((h.isXsdType("dateTime",b)||h.isXsdType("date",b))&&(h.isXsdType("dateTime",c)||h.isXsdType("date",c))){if(h.isXsdType("dateTime",b)&&h.isXsdType("date",c))return h.ebvFalse();if(h.isXsdType("date",b)&&h.isXsdType("dateTime",c))return h.ebvFalse();var f=A.compareDateComponents(b.value,c.value);return f!=null?f==1?h.ebvTrue():h.ebvFalse():h.ebvError()}else return h.ebvFalse()};h.runTotalGtFunction=function(b,c){return h.isEbvError(b)||h.isEbvError(c)?h.ebvError():h.isNumeric(b)&&h.isNumeric(c)||
h.isSimpleLiteral(b)&&h.isSimpleLiteral(c)||h.isXsdType("string",b)&&h.isSimpleLiteral("string",c)||h.isXsdType("boolean",b)&&h.isSimpleLiteral("boolean",c)||h.isXsdType("dateTime",b)&&h.isSimpleLiteral("dateTime",c)?h.runGtFunction(b,c,[]):b.token&&b.token==="uri"&&c.token&&c.token==="uri"?h.ebvBoolean(b.value>c.value):b.token&&b.token==="literal"&&c.token&&c.token==="literal"?h.ebvBoolean(""+b.value+b.type+b.lang>""+c.value+c.type+c.lang):b.token&&b.token==="blank"&&c.token&&c.token==="blank"?h.ebvBoolean(b.value>
c.value):b.value&&c.value?h.ebvBoolean(b.value>c.value):h.ebvTrue()};h.runLtFunction=function(b,c){if(h.isEbvError(b)||h.isEbvError(c))return h.ebvError();if(h.isNumeric(b)&&h.isNumeric(c))return h.ebvBoolean(h.effectiveTypeValue(b)<h.effectiveTypeValue(c));else if(h.isSimpleLiteral(b)&&h.isSimpleLiteral(c))return h.ebvBoolean(h.effectiveTypeValue(b)<h.effectiveTypeValue(c));else if(h.isXsdType("string",b)&&h.isXsdType("string",c))return h.ebvBoolean(h.effectiveTypeValue(b)<h.effectiveTypeValue(c));
else if(h.isXsdType("boolean",b)&&h.isXsdType("boolean",c))return h.ebvBoolean(h.effectiveTypeValue(b)<h.effectiveTypeValue(c));else if((h.isXsdType("dateTime",b)||h.isXsdType("date",b))&&(h.isXsdType("dateTime",c)||h.isXsdType("date",c))){if(h.isXsdType("dateTime",b)&&h.isXsdType("date",c))return h.ebvFalse();if(h.isXsdType("date",b)&&h.isXsdType("dateTime",c))return h.ebvFalse();var f=A.compareDateComponents(b.value,c.value);return f!=null?f==-1?h.ebvTrue():h.ebvFalse():h.ebvError()}else return h.ebvFalse()};
h.runGtEqFunction=function(b,c){if(h.isEbvError(b)||h.isEbvError(c))return h.ebvError();if(h.isNumeric(b)&&h.isNumeric(c))return h.ebvBoolean(h.effectiveTypeValue(b)>=h.effectiveTypeValue(c));else if(h.isSimpleLiteral(b)&&h.isSimpleLiteral(c))return h.ebvBoolean(h.effectiveTypeValue(b)>=h.effectiveTypeValue(c));else if(h.isXsdType("string",b)&&h.isXsdType("string",c))return h.ebvBoolean(h.effectiveTypeValue(b)>=h.effectiveTypeValue(c));else if(h.isXsdType("boolean",b)&&h.isXsdType("boolean",c))return h.ebvBoolean(h.effectiveTypeValue(b)>=
h.effectiveTypeValue(c));else if((h.isXsdType("dateTime",b)||h.isXsdType("date",b))&&(h.isXsdType("dateTime",c)||h.isXsdType("date",c))){if(h.isXsdType("dateTime",b)&&h.isXsdType("date",c))return h.ebvFalse();if(h.isXsdType("date",b)&&h.isXsdType("dateTime",c))return h.ebvFalse();var f=A.compareDateComponents(b.value,c.value);return f!=null?f!=-1?h.ebvTrue():h.ebvFalse():h.ebvError()}else return h.ebvFalse()};h.runLtEqFunction=function(b,c){if(h.isEbvError(b)||h.isEbvError(c))return h.ebvError();
if(h.isNumeric(b)&&h.isNumeric(c))return h.ebvBoolean(h.effectiveTypeValue(b)<=h.effectiveTypeValue(c));else if(h.isSimpleLiteral(b)&&h.isSimpleLiteral(c))return h.ebvBoolean(h.effectiveTypeValue(b)<=h.effectiveTypeValue(c));else if(h.isXsdType("string",b)&&h.isXsdType("string",c))return h.ebvBoolean(h.effectiveTypeValue(b)<=h.effectiveTypeValue(c));else if(h.isXsdType("boolean",b)&&h.isXsdType("boolean",c))return h.ebvBoolean(h.effectiveTypeValue(b)<=h.effectiveTypeValue(c));else if((h.isXsdType("dateTime",
b)||h.isXsdType("date",b))&&(h.isXsdType("dateTime",c)||h.isXsdType("date",c))){if(h.isXsdType("dateTime",b)&&h.isXsdType("date",c))return h.ebvFalse();if(h.isXsdType("date",b)&&h.isXsdType("dateTime",c))return h.ebvFalse();var f=A.compareDateComponents(b.value,c.value);return f!=null?f!=1?h.ebvTrue():h.ebvFalse():h.ebvError()}else return h.ebvFalse()};h.runAddition=function(b,c,f,k,i){var g=h.runFilter(b,f,k,i);if(h.isEbvError(g))return h.ebvError();b=g;if(h.isNumeric(g)){for(g=0;g<c.length;g++){var q=
h.runFilter(c[g].expression,f,k,i);if(h.isNumeric(q))c[g].operator==="+"?b=h.runSumFunction(b,q):c[g].operator==="-"&&(b=h.runSubFunction(b,q));else return h.ebvFalse()}return b}else return h.ebvFalse()};h.runSumFunction=function(b,c){if(h.isEbvError(b)||h.isEbvError(c))return h.ebvError();var f=h.effectiveTypeValue(b)+h.effectiveTypeValue(c);return h.isDouble(b)||h.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:f}:h.isFloat(b)||h.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",
value:f}:h.isDecimal(b)||h.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:f}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:f}};h.runSubFunction=function(b,c){if(h.isEbvError(b)||h.isEbvError(c))return h.ebvError();var f=h.effectiveTypeValue(b)-h.effectiveTypeValue(c);return h.isDouble(b)||h.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:f}:h.isFloat(b)||h.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",
value:f}:h.isDecimal(b)||h.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:f}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:f}};h.runMultiplication=function(b,c,f,k,i){b=h.runFilter(b,f,k,i);if(h.isEbvError(b))return b;var g=b;if(h.isNumeric(b)){for(var q=0;q<c.length;q++){var n=h.runFilter(c[q].expression,f,k,i);if(h.isEbvError(n))return b;if(h.isNumeric(n))c[q].operator==="*"?g=h.runMulFunction(g,n):c[q].operator==="/"&&(g=h.runDivFunction(g,
n));else return h.ebvFalse()}return g}else return h.ebvFalse()};h.runMulFunction=function(b,c){if(h.isEbvError(b)||h.isEbvError(c))return h.ebvError();var f=h.effectiveTypeValue(b)*h.effectiveTypeValue(c);return h.isDouble(b)||h.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:f}:h.isFloat(b)||h.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:f}:h.isDecimal(b)||h.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",
value:f}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:f}};h.runDivFunction=function(b,c){if(h.isEbvError(b)||h.isEbvError(c))return h.ebvError();var f=h.effectiveTypeValue(b)/h.effectiveTypeValue(c);return h.isDouble(b)||h.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:f}:h.isFloat(b)||h.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:f}:h.isDecimal(b)||h.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",
value:f}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:f}};h.runBuiltInCall=function(b,c,f,k,i){for(var g=[],q=0;q<c.length;q++)if(c[q].token==="var")g.push(c[q]);else{var n=h.runFilter(c[q],f,k,i);if(h.isEbvError(n))return n;g.push(n)}if(b==="str")return g[0].token==="literal"?{token:"literal",type:null,value:""+g[0].value}:g[0].token==="uri"?{token:"literal",type:null,value:g[0].value}:h.ebvFalse();else if(b==="lang")return g[0].token==="literal"?g[0].lang!=null?{token:"literal",
value:""+g[0].lang}:{token:"literal",value:""}:h.ebvError();else if(b==="datatype")return g[0].token==="literal"?(f=g[0],f.type!=null?typeof f.type==="string"?{token:"uri",value:f.type,prefix:null,suffix:null}:f.type:f.lang==null?{token:"uri",value:"http://www.w3.org/2001/XMLSchema#string",prefix:null,suffix:null}:h.ebvError()):h.ebvError();else if(b==="isliteral")return g[0].token==="literal"?h.ebvTrue():h.ebvFalse();else if(b==="isblank")return g[0].token==="blank"?h.ebvTrue():h.ebvFalse();else if(b===
"isuri"||b==="isiri")return g[0].token==="uri"?h.ebvTrue():h.ebvFalse();else if(b==="sameterm")return f=h.RDFTermEquality(g[0],g[1],k,i),h.isEbvError(f)&&(f=!1),h.ebvBoolean(f);else if(b==="langmatches")return f=g[0],g=g[1],f.token==="literal"&&g.token==="literal"?g.value==="*"&&f.value!=""?h.ebvTrue():h.ebvBoolean(f.value.toLowerCase().indexOf(g.value.toLowerCase())===0):h.ebvError();else if(b==="bound")return g=g[0].value,g==null?h.ebvError():f[g]!=null?h.ebvTrue():h.ebvFalse();else throw"Builtin call "+
b+" not implemented yet";};h.runUnaryExpression=function(b,c,f,k,i){c=h.runFilter(c,f,k,i);if(h.isEbvError(c))return c;if(b==="!"){var g=h.ebv(c);return h.isEbvError(g)?h.ebvFalse():h.ebvBoolean(!g)}else if(b==="+")return h.isNumeric(c)?c:h.ebvError();else if(b==="-")if(h.isNumeric(c)){b={};for(g in c)b[g]=c[g];b.value=-b.value;return b}else return h.ebvError()};h.runRegex=function(b,c,f,k,i,g){if(b!=null)b=h.runFilter(b,k,i,g);else return h.ebvError();if(c!=null)c=h.runFilter(c,k,i,g);else return h.ebvError();
f!=null&&(f=h.runFilter(f,k,i,g));if(c!=null&&c.token==="literal"&&(f==null||f.token==="literal"))c=c.value,f=f==null?null:f.value;else return h.ebvError();if(b!=null&&b.token=="var")if(k[b.value]!=null)b=k[b.value];else return h.ebvError();else if(b!=null&&b.token==="literal")if(b.type==null||h.isXsdType("string",b))b=b.value;else return h.ebvError();else return h.ebvError();return(f==null?RegExp(c):RegExp(c,f.toLowerCase())).exec(b)?h.ebvTrue():h.ebvFalse()};h.normalizeLiteralDatatype=function(b,
c,f){if(!(b.value.type==null||typeof b.value.type!="object"))b.value.type=A.lexicalFormBaseUri(b.value.type,f);return b};h.runIriRefOrFunction=function(b,c,f,k,i){if(c==null)return b;else{for(var g=[],q=0;q<c.length;q++)g.push(h.runFilter(c[q],f,k,i));b=A.lexicalFormBaseUri(b,i);if(b=="http://www.w3.org/2001/XMLSchema#integer"||b=="http://www.w3.org/2001/XMLSchema#decimal"||b=="http://www.w3.org/2001/XMLSchema#double"||b=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||b=="http://www.w3.org/2001/XMLSchema#negativeInteger"||
b=="http://www.w3.org/2001/XMLSchema#long"||b=="http://www.w3.org/2001/XMLSchema#int"||b=="http://www.w3.org/2001/XMLSchema#short"||b=="http://www.w3.org/2001/XMLSchema#byte"||b=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||b=="http://www.w3.org/2001/XMLSchema#unsignedLong"||b=="http://www.w3.org/2001/XMLSchema#unsignedInt"||b=="http://www.w3.org/2001/XMLSchema#unsignedShort"||b=="http://www.w3.org/2001/XMLSchema#unsignedByte"||b=="http://www.w3.org/2001/XMLSchema#positiveInteger")if(g=
g[0],g.token==="literal")if(g=h.normalizeLiteralDatatype(g,k,i),g.type=="http://www.w3.org/2001/XMLSchema#integer"||g.type=="http://www.w3.org/2001/XMLSchema#decimal"||g.type=="http://www.w3.org/2001/XMLSchema#double"||g.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||g.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||g.type=="http://www.w3.org/2001/XMLSchema#long"||g.type=="http://www.w3.org/2001/XMLSchema#int"||g.type=="http://www.w3.org/2001/XMLSchema#short"||g.type=="http://www.w3.org/2001/XMLSchema#byte"||
g.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||g.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||g.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||g.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||g.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||g.type=="http://www.w3.org/2001/XMLSchema#positiveInteger")return g.type=b,g;else if(g.type=="http://www.w3.org/2001/XMLSchema#boolean")return h.ebv(g)==!0?(g.type=b,g.value=1):(g.type=b,g.value=0),g;else if(g.type==
"http://www.w3.org/2001/XMLSchema#float"||g.type=="http://www.w3.org/2001/XMLSchema#double")return g.type=b,g.value=parseInt(g.value),g;else if(g.type=="http://www.w3.org/2001/XMLSchema#string"||g.type==null){if(g.value.split(".").length>2)return h.ebvError();else if(g.value.split("-").length>2)return h.ebvError();else if(g.value.split("/").length>2)return h.ebvError();else if(g.value.split("+").length>2)return h.ebvError();if(b=="http://www.w3.org/2001/XMLSchema#decimal"&&(g.value.indexOf("e")!=
-1||g.value.indexOf("E")!=-1))return h.ebvError();if(b=="http://www.w3.org/2001/XMLSchema#int"||b=="http://www.w3.org/2001/XMLSchema#integer")if(g.value.indexOf("e")!=-1||g.value.indexOf("E")!=-1||g.value.indexOf(".")!=-1)return h.ebvError();try{return g.value=parseInt(parseFloat(g.value)),isNaN(g.value)?h.ebvError():(g.type=b,g)}catch(n){return h.ebvError()}}else return h.ebvError();else return h.ebvError();else if(b=="http://www.w3.org/2001/XMLSchema#boolean")return g=g[0],g.token==="literal"&&
g.type==null?g.value==="true"||g.value==="1"?h.ebvTrue():g.value==="false"||g.value==="0"?h.ebvFalse():h.ebvError():g.token==="literal"?h.isEbvError(g)?g:h.ebvBoolean(g):h.ebvError();else if(b=="http://www.w3.org/2001/XMLSchema#string")if(g=g[0],g.token==="literal")if(g=h.normalizeLiteralDatatype(g,k,i),g.type=="http://www.w3.org/2001/XMLSchema#integer"||g.type=="http://www.w3.org/2001/XMLSchema#decimal"||g.type=="http://www.w3.org/2001/XMLSchema#double"||g.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||
g.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||g.type=="http://www.w3.org/2001/XMLSchema#long"||g.type=="http://www.w3.org/2001/XMLSchema#int"||g.type=="http://www.w3.org/2001/XMLSchema#short"||g.type=="http://www.w3.org/2001/XMLSchema#byte"||g.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||g.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||g.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||g.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||g.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||
g.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"||g.type=="http://www.w3.org/2001/XMLSchema#float")return g.type=b,g.value=""+g.value,g;else if(g.type=="http://www.w3.org/2001/XMLSchema#string")return g;else if(g.type=="http://www.w3.org/2001/XMLSchema#boolean")return h.ebv(g)?(g.type=b,g.value="true"):(g.type=b,g.value="false"),g;else if(g.type=="http://www.w3.org/2001/XMLSchema#dateTime"||g.type=="http://www.w3.org/2001/XMLSchema#date"){g.type=b;if(typeof g.value!="string")g.value=A.iso8601(g.value);
return g}else return g.type==null?(g.value=""+g.value,g.type=b,g):h.ebvError();else return g.token==="uri"?{token:"literal",value:A.lexicalFormBaseUri(g,i),type:b,lang:null}:h.ebvError();else if(b=="http://www.w3.org/2001/XMLSchema#dateTime"||b=="http://www.w3.org/2001/XMLSchema#date")if(g=g[0],g.type=="http://www.w3.org/2001/XMLSchema#dateTime"||g.type=="http://www.w3.org/2001/XMLSchema#date")return g;else if(g.type=="http://www.w3.org/2001/XMLSchema#string"||g.type==null)try{return g.value=A.iso8601(A.parseStrictISO8601(g.value)),
g.type=b,g}catch(t){return h.ebvError()}else return h.ebvError();else if(b=="http://www.w3.org/2001/XMLSchema#float")if(g=g[0],g.token==="literal")if(g=h.normalizeLiteralDatatype(g,k,i),g.type=="http://www.w3.org/2001/XMLSchema#decimal"||g.type=="http://www.w3.org/2001/XMLSchema#int")return g.type=b,g.value=parseFloat(g.value),g;else if(g.type=="http://www.w3.org/2001/XMLSchema#boolean")return h.ebv(g)==!0?(g.type=b,g.value=1):(g.type=b,g.value=0),g;else if(g.type=="http://www.w3.org/2001/XMLSchema#float"||
g.type=="http://www.w3.org/2001/XMLSchema#double")return g.type=b,g.value=parseFloat(g.value),g;else if(g.type=="http://www.w3.org/2001/XMLSchema#string")try{return g.value=parseFloat(g.value),isNaN(g.value)?h.ebvError():(g.type=b,g)}catch(z){return h.ebvError()}else if(g.type==null){if(g.value.split(".").length>2)return h.ebvError();else if(g.value.split("-").length>2)return h.ebvError();else if(g.value.split("/").length>2)return h.ebvError();else if(g.value.split("+").length>2)return h.ebvError();
try{return g.value=parseFloat(g.value),isNaN(g.value)?h.ebvError():(g.type=b,g)}catch(u){return h.ebvError()}}else return h.ebvError();else return h.ebvError();else return h.ebvError()}};var D={orderJoins:function(b){return b},variablesInBGP:function(b){var c=b.variables;if(c)return c;var f=b.value||b,c=[];for(comp in f)f[comp]&&f[comp].token==="var"?c.push(f[comp].value):f[comp]&&f[comp].token==="blank"&&c.push("blank:"+f[comp].label);return b.variables=c},variablesIntersectionBGP:function(b,c){for(var f=
D.variablesInBGP(b).sort(),k=D.variablesInBGP(c).sort(),h=0,g=0,q=[];h<f.length&&g<k.length;)f[h]===k[g]?(q.push(f[h]),h++,g++):f[h]<k[g]?h++:g++;return q}};D.executeAndBGPs=function(b,c,f,k){b=A.partition(b,2);return D.buildBushyJoinTreeBase(b,c,f,k)};D.buildBushyJoinTreeBase=function(b,c,f,k){for(var h=[],g=0;g<b.length;g++){var q=b[g];results=D.executeAndBGP(q[0],q[1],c,f,k);if(results!=null)h.push(results);else return null}return D.buildBushyJoinTreeBranches(h)};D.buildBushyJoinTreeBranches=function(b){if(b.length===
1)return b[0];else{for(var b=A.partition(b,2),c=[],f=0;f<b.length;f++){var k=b[f],k=D.executeAndBindings(k[0],k[1]);c.push(k)}return D.buildBushyJoinTreeBranches(c)}};D.executeAndBindings=function(b,c){return b==null?c:c==null?b:b==[]||c==[]?[]:D.variablesIntersectionBindings(b[0],c[0]).length==0?D.crossProductBindings(b,c):D.joinBindings(b,c)};D.executeAndBGP=function(b,c,f,k,h){if(b==null)return D.executeEmptyJoinBGP(c,f,k,h);else if(c==null)return D.executeEmptyJoinBGP(b,f,k,h);else{var g=D.variablesIntersectionBGP(b,
c);return g.length===0?D.executeCrossProductBGP(g,b,c,f,k,h):D.executeJoinBGP(g,b,c,f,k,h)}};D.executeEmptyJoinBGP=function(b,c,f,k){return D.executeBGPDatasets(b,c,f,k)};D.executeJoinBGP=function(b,c,f,k,h,g){b=D.executeBGPDatasets(c,k,h,g);return b!=null?(f=D.executeBGPDatasets(f,k,h,g),f!=null?D.joinBindings(b,f):null):null};D.executeBGPDatasets=function(b,c,f,k){var h={};if(b.graph==null){for(var g=[],q=0;q<c["default"].length;q++)if(h[c["default"][q].oid]==null){h[c["default"][q].oid]=!0;b.graph=
c["default"][q];var n=f.rangeQuery(b,k),n=D.buildBindingsFromRange(n,b);g.push(n)}return b=D.unionManyBindings(g)}else if(b.graph.token==="var"){for(var t=b.graph.value,g=[],q=0;q<c.named.length;q++)if(h[c.named[q].oid]==null)if(h[c.named[q].oid]=!0,b.graph=c.named[q],n=f.rangeQuery(b,k),n!=null){for(var n=D.buildBindingsFromRange(n,b),z=0;z<n.length;z++)n[z][t]=c.named[q].oid;g.push(n)}else return null;return b=D.unionManyBindings(g||[])}else return n=f.rangeQuery(b,k),n!=null?n=D.buildBindingsFromRange(n,
b):null};D.executeCrossProductBGP=function(b,c,f,k,h,g){b=D.executeBGPDatasets(c,k,h,g);return b!=null?(f=D.executeBGPDatasets(f,k,h,g),f!=null?D.crossProductBindings(b,f):null):null};D.buildBindingsFromRange=function(b,c){D.variablesInBGP(c);var f={},k=c.value||c,f={};for(n in k)k[n]&&k[n].token==="var"?f[n]=k[n].value:k[n]&&k[n].token==="blank"&&(f[n]="blank:"+k[n].label);for(var k=[],h=0;h<b.length;h++){var g={},q=b[h],n;for(n in f)g[f[n]]=q[n];k.push(g)}return k};D.variablesIntersectionBindings=
function(b,c){var f=0,k=0,h=[],g=[],q;for(q in b)h.push(q);for(q in c)g.push(q);h.sort();g.sort();for(q=[];f<h.length&&k<g.length;)h[f]===g[k]?(q.push(h[f]),f++,k++):h[f]<g[k]?f++:k++;return q};D.areCompatibleBindings=function(b,c){for(var f in b)if(c[f]!=null&&c[f]!=b[f])return!1;return!0};D.mergeBindings=function(b,c){var f={},h;for(h in b)f[h]=b[h];for(h in c)f[h]=c[h];return f};D.joinBindings=function(b,c){for(var f=[],h=0;h<b.length;h++)for(var i=b[h],g=0;g<c.length;g++){var q=c[g];D.areCompatibleBindings(i,
q)&&f.push(D.mergeBindings(i,q))}return f};D.augmentMissingBindings=function(b,c){for(var f in c)b[f]==null&&(b[f]=null);return b};D.leftOuterJoinBindings=function(b,c){for(var f=[],h=0;h<b.length;h++){for(var i=b[h],g=!1,q=0;q<c.length;q++){var n=c[q];D.areCompatibleBindings(i,n)&&(g=!0,f.push(D.mergeBindings(i,n)))}g===!1&&(D.augmentMissingBindings(i,n),f.push(i))}return f};D.crossProductBindings=function(b,c){for(var f=[],h=0;h<b.length;h++)for(var i=b[h],g=0;g<c.length;g++)f.push(D.mergeBindings(i,
c[g]));return f};D.unionBindings=function(b,c){return b.concat(c)};D.unionManyBindings=function(b){for(var c=[],f=0;f<b.length;f++)c=D.unionBindings(c,b[f]);return c};var G={QueryEngine:function(b){if(arguments.length!=0)this.backend=b.backend,this.lexicon=b.lexicon,this.abstractQueryTree=new P.AbstractQueryTree,this.rdfLoader=new $.RDFLoader(b.communication),this.callbacksBackend=new I.CallbacksBackend(this)}};G.QueryEngine.prototype.registerNsInEnvironment=function(b,c){for(var f=b.prefixes,h={},
i=0;i<f.length;i++){var g=f[i];if(g.token==="prefix")h[g.prefix]=g.local}c.namespaces=h;c.base=b.base&&typeof b.base==="object"?b.base.value:null};G.QueryEngine.prototype.applyModifier=function(b,c){if(b=="DISTINCT"){for(var f={},h=[],i=0;i<c.length;i++){var g=c[i],q="",n;for(n in g){var t=g[n];t==null?q=q+n+"null":t.token=="literal"?(t.value!=null&&(q+=t.value),t.lang!=null&&(q+=t.lang),t.type!=null&&(q+=t.type)):q=t.value?q+n+t.value:q+n+t}f[q]==null&&(h.push(g),f[q]=!0)}return h}else return c};
G.QueryEngine.prototype.applyLimitOffset=function(b,c,f){if(c==null&&b==null)return f;b==null&&(b=0);c=c==null?f.length:b+c;return f.slice(b,c)};G.QueryEngine.prototype.applySingleOrderBy=function(b,c,f){for(var k=[],i=0;i<b.length;i++){var g=h.collect(b[i].expression,[c],f,this);k.push(g[0].value)}return{binding:c,value:k}};G.QueryEngine.prototype.applyOrderBy=function(b,c,f){var h=this,i=[];if(b!=null&&b.length>0){for(var g=0;g<c.length;g++){var q=h.applySingleOrderBy(b,c[g],f);i.push(q)}i.sort(function(c,
g){return h.compareFilteredBindings(c,g,b,f)});c=[];for(g=0;g<i.length;g++)c.push(i[g].binding)}return c};G.QueryEngine.prototype.compareFilteredBindings=function(b,c,f,k){for(var i=0;;){if(i==b.value.length)return 0;var g=f[i].direction;if(b.value[i]==null&&c.value[i]==null)i++;else{if(b.value[i]==null)b={value:!1};else if(c.value[i]==null)b={value:!0};else if(b.value[i].token==="blank"&&c.value[i].token==="blank"){i++;continue}else if(b.value[i].token==="blank")b={value:!1};else if(c.value[i].token===
"blank")b={value:!0};else if(b.value[i].token==="uri"&&c.value[i].token==="uri")if(h.runEqualityFunction(b.value[i],c.value[i],[],this,k).value==!0){i++;continue}else b=h.runTotalGtFunction(b.value[i],c.value[i],[]);else if(b.value[i].token==="uri")b={value:!1};else if(c.value[i].token==="uri")b={value:!0};else if(b.value[i].token==="literal"&&c.value[i].token==="literal"&&b.value[i].type==null&&c.value[i].type==null)if(h.runEqualityFunction(b.value[i],c.value[i],[],this,k).value==!0){i++;continue}else b=
h.runTotalGtFunction(b.value[i],c.value[i],[]);else if(b.value[i].token==="literal"&&b.value[i].type==null)b={value:!1};else if(c.value[i].token==="literal"&&c.value[i].type==null)b={value:!0};else if(h.runEqualityFunction(b.value[i],c.value[i],[],this,k).value==!0){i++;continue}else b=h.runTotalGtFunction(b.value[i],c.value[i],[]);return b.value==!0?g==="ASC"?1:-1:g==="ASC"?-1:1}}};G.QueryEngine.prototype.removeDefaultGraphBindings=function(b,c){for(var f=[],h={},i=0;i<c.named.length;i++)h[c.named[i].oid]=
!0;for(i=0;i<c["default"].length;i++)h[c["default"][i].oid]==null&&f.push(c["default"][i].oid);f=[];for(i=0;i<b.length;i++){var g=b[i],q=!1,n;for(n in g){for(var t=0;t<h.length;t++)if(g[n]===h[t]){q=!0;break}if(q)break}q||f.push(g)}return f};G.QueryEngine.prototype.aggregateBindings=function(b,c,f){for(var c=this.copyDenormalizedBindings(c,f.outCache),k={},i=0;i<b.length;i++){var g=h.runAggregator(b[i],c,this,f);b[i].alias?k[b[i].alias.value]=g:k[b[i].value.value]=g}return k};G.QueryEngine.prototype.projectBindings=
function(b,c){if(b[0].kind==="*")return c;else{for(var f=[],k=0;k<c.length;k++){for(var i=c[k],g={},q=!0,n=0;n<b.length;n++)if(b[n].token=="variable"&&b[n].kind!="aliased")g[b[n].value.value]=i[b[n].value.value];else if(b[n].token=="variable"&&b[n].kind=="aliased"){var t=h.runFilter(b[n].expression,i,this,{blanks:{},outCache:{}});if(h.isEbvError(t)){q=!1;break}else g[b[n].alias.value]=t}q===!0&&f.push(g)}return f}};G.QueryEngine.prototype.resolveNsInEnvironment=function(b,c){return c.namespaces[b]};
G.QueryEngine.prototype.normalizeTerm=function(b,c,f){if(b.token==="uri")return c=A.lexicalFormBaseUri(b,c),c==null?null:f?this.lexicon.registerUri(c):this.lexicon.resolveUri(c);else if(b.token==="literal")return c=A.lexicalFormLiteral(b,c),b=f?this.lexicon.registerLiteral(c):this.lexicon.resolveLiteral(c);else if(b.token==="blank"){var h=b.label,b=c.blanks[h];b==null&&(b=f?this.lexicon.registerBlank(h):this.lexicon.resolveBlank(h),c.blanks[h]=b);return b}else return b.token==="var"?b.value:null};
G.QueryEngine.prototype.normalizeDatasets=function(b,c){for(var f=0;f<b.length;f++){var h=b[f];if(h.value===this.lexicon.defaultGraphUri)h.oid=this.lexicon.defaultGraphOid;else{var i=this.normalizeTerm(h,c,!1);if(result!=null)h.oid=i;else return null}}return!0};G.QueryEngine.prototype.normalizeQuad=function(b,c,f){var h=null,i=null,g=h=null,q;if(b.graph==null)g=0;else if(q=this.normalizeTerm(b.graph,c,f),q!=null)g=q,f===!0&&b.graph.token!="var"&&this.lexicon.registerGraph(q);else return null;q=this.normalizeTerm(b.subject,
c,f);if(q!=null)h=q;else return null;q=this.normalizeTerm(b.predicate,c,f);if(q!=null)i=q;else return null;q=this.normalizeTerm(b.object,c,f);return q==null?null:{subject:h,predicate:i,object:q,graph:g}};G.QueryEngine.prototype.denormalizeBindingsList=function(b,c){for(var f=[],h=0;h<b.length;h++)result=this.denormalizeBindings(b[h],c),f.push(result);return f};G.QueryEngine.prototype.copyDenormalizedBindings=function(b,c){for(var f=[],h=0;h<b.length;h++){for(var i={},g=b[h],q=A.keys(g),n=0;n<q.length;n++){var t=
g[q[n]];if(t==null)i[q[n]]=null;else if(typeof t==="object")i[q[n]]=t;else{var z=c[t];z==null&&(z=this.lexicon.retrieve(t),c[t]=z);i[q[n]]=z}}f.push(i)}return f};G.QueryEngine.prototype.denormalizeBindings=function(b,c){for(var f=A.keys(b),h=0;h<f.length;h++){var i=b[f[h]];i==null?b[f[h]]=null:c[i]!=null?b[f[h]]=c[i]:(i=this.lexicon.retrieve(i),b[f[h]]=i)}return b};G.QueryEngine.prototype.execute=function(b,c,f,h){try{var b=A.normalizeUnicodeLiterals(b),i=this.abstractQueryTree.parseQueryString(b);
if(i==null)c(!1,"Error parsing query string");else if(i.token==="query"&&i.kind=="update"){this.callbacksBackend.startGraphModification();var g=this;this.executeUpdate(i,function(b,f){b?g.callbacksBackend.endGraphModification(function(){c(b,f)}):(g.callbacksBackend.cancelGraphModification(),c(b,f))})}else i.token==="query"&&i.kind=="query"&&this.executeQuery(i,c,f,h)}catch(q){q.name&&q.name==="SyntaxError"?c(!1,"Syntax error: \nmessage:"+q.message+"\nline "+q.line+", column:"+q.column):c(!1,"Query execution error")}};
G.QueryEngine.prototype.executeQuery=function(b,c,f,h){var i=b.units,g=this,q={blanks:{},outCache:{}};this.registerNsInEnvironment(b.prologue,q);var n=g.abstractQueryTree.parseExecutableUnit(i[0]);if(n.kind==="select")this.executeSelect(n,q,f,h,function(b,f){b?typeof f==="object"&&f.denorm===!0?c(!0,f.bindings):(f=g.denormalizeBindingsList(f,q.outCache),f!=null?c(!0,f):c(!1,f)):c(!1,f)});else if(n.kind==="ask")n.projection=[{token:"variable",kind:"*"}],this.executeSelect(n,q,f,h,function(b,f){b?b?
f.length>0?c(!0,!0):c(!0,!1):c(!1,f):c(!1,f)});else if(n.kind==="construct")n.projection=[{token:"variable",kind:"*"}],g=this,this.executeSelect(n,q,f,h,function(b,f){if(b)if(b)if(f=g.denormalizeBindingsList(f,q.outCache),f!=null){var h=new w.Graph;if(n.template==null)n.template={triplesContext:n.pattern};for(var k=1,i=0;i<f.length;i++)for(var A=f[i],D={},G=0;G<n.template.triplesContext.length;G++){for(var I=["subject","predicate","object"],H=n.template.triplesContext[G],J=0;J<I.length;J++){var L=
I[J];if(H[L].token==="blank")if(D[H[L].value]!=null)H[L].value=D[H[L].value];else{var O="_:b"+k;k++;D[H[L].value]=O;H[L].value=O}}I=w.buildRDFResource(H.subject,A,g,q);J=w.buildRDFResource(H.predicate,A,g,q);H=w.buildRDFResource(H.object,A,g,q);I!=null&&J!=null&&H!=null&&(J=new w.Triple(I,J,H),h.add(J))}c(!0,h)}else c(!1,f);else c(!1,f);else c(!1,f)})};G.QueryEngine.prototype.executeSelect=function(b,c,f,h,i){if(b.kind==="select"||b.kind==="ask"||b.kind==="construct"||b.kind==="modify"){var g=b.projection,
q=b.dataset,n=b.modifier,t=b.limit,z=b.offset,u=b.order;if(f!=null||h!=null)q["default"]=f||[],q.named=h||[];q["default"]!=null&&q["default"].length===0&&q.named!=null&&q.named.length===0&&q["default"].push(this.lexicon.defaultGraphUriTerm);if(this.normalizeDatasets(q["default"].concat(q.named),c)!=null)if(h=this.executeSelectUnit(g,q,b.pattern,c),h!=null){if(b.group!=null&&b.group===""){for(var w=!1,f=0;f<b.projection.length;f++)if(b.projection[f].expression!=null&&b.projection[f].expression.expressionType===
"aggregate"){w=!0;break}if(w===!0)b.group="singleGroup"}if(b.group&&b.group!="")if(this.checkGroupSemantics(b.group,g)){q=this.groupSolution(h,b.group,c);n=[];for(f=0;f<q.length;f++)t=this.aggregateBindings(g,q[f],c),n.push(t);i(!0,{bindings:n,denorm:!0})}else i(!1,"Incompatible Group and Projection variables");else c=this.applyOrderBy(u,h,c),g=this.projectBindings(g,c),modifiedBindings=this.applyModifier(n,g),filteredBindings=this.removeDefaultGraphBindings(this.applyLimitOffset(z,t,modifiedBindings),
q),i(!0,filteredBindings)}else console.log("ERROR selectUnit"),i(!1,h);else console.log("ERROR normalizing"),i(!1,results)}else i(!1,"Cannot execute "+b.kind+" query as a select query")};G.QueryEngine.prototype.groupSolution=function(b,c,f){var k=[],i=[],g=!1;if(c==="singleGroup")return[b];else{for(var q=0;q<b.length;q++){for(var n=b[q],t=!0,z=0;z<c.length;z++){var u=c[z],w=null;if(u.token==="var")w=u.value,g==!1&&k.push(w);else if(u.token==="aliased_expression")if(w=u.alias.value,g==!1&&k.push(w),
u.expression.primaryexpression==="var")n[u.alias.value]=n[u.expression.value.value];else if(w=this.copyDenormalizedBindings([n],f.outCache),w=h.runFilter(u.expression,w[0],this,f),h.isEbvError(w))t=!1;else{if(w.value!=null)w.value=""+w.value;n[u.alias.value]=w}else w=this.copyDenormalizedBindings([n],f.outCache),w=h.runFilter(u,w[0],this,f),h.isEbvError(w)?t=!1:(n["groupCondition"+env._i]=w,w="groupCondition"+env._i,g==!1&&k.push(w))}g==!1&&(g=!0);t===!0&&i.push(n)}b={};for(q=0;q<i.length;q++){c=
i[q];f="";for(z=0;z<k.length;z++)g=c[k[z]],f+=typeof g==="object"?g.value:g;b[f]==null?b[f]=[c]:b[f].push(c)}var k=[],A;for(A in b)k.push(b[A]);return k}};G.QueryEngine.prototype.executeSelectUnit=function(b,c,f,k){return f.kind==="BGP"?this.executeAndBGP(b,c,f,k):f.kind==="UNION"?this.executeUNION(b,c,f.value,k):f.kind==="JOIN"?this.executeJOIN(b,c,f,k):f.kind==="LEFT_JOIN"?this.executeLEFT_JOIN(b,c,f,k):f.kind==="FILTER"?(b=this.executeSelectUnit(b,c,f.value,k),b!=null?b=h.checkFilters(f,b,!1,k,
this):[]):f.kind==="EMPTY_PATTERN"?[]:(console.log("Cannot execute query pattern "+f.kind+". Not implemented yet."),null)};G.QueryEngine.prototype.executeUNION=function(b,c,f,k){var i=f[0],g=f[1],q=null,n=null;if(f.length!=2)throw"SPARQL algebra UNION with more than two components";q=this.executeSelectUnit(b,c,i,k);if(q==null)return null;n=this.executeSelectUnit(b,c,g,k);if(n==null)return null;b=D.unionBindings(q,n);return b=h.checkFilters(f,b,!1,k,this)};G.QueryEngine.prototype.executeAndBGP=function(b,
c,f,k){b=D.executeAndBGPs(f.value,c,this,k);return b!=null?h.checkFilters(f,b,!1,k,this):null};G.QueryEngine.prototype.executeLEFT_JOIN=function(b,c,f,k){var i=f.rvalue,g=null,q=null,g=this.executeSelectUnit(b,c,f.lvalue,k);if(g==null)return null;q=this.executeSelectUnit(b,c,i,k);if(q==null)return null;b=D.leftOuterJoinBindings(g,q);f=h.checkFilters(f,b,!0,k,this);if(g.length>1&&q.length>1){var k=[],b={},n;for(n in g[0])b[n]=!0;for(n in q[0])b[n]!=!0&&k.push(n);acum=[];duplicates={};for(g=0;g<f.length;g++)if(f[g].__nullify__===
!0){for(b=0;b<k.length;b++)f[g].bindings[k[b]]=null;b=[];q=[];for(n in f[g].bindings)f[g].bindings[n]!=null&&(b.push(n+f[g].bindings[n]),b.sort(),q.push(b.join("")));if(duplicates[b.join("")]==null){for(b=0;b<q.length;b++)duplicates[q[b]]=!0;acum.push(f[g].bindings)}}else for(n in acum.push(f[g]),b=[],f[g])b.push(n+f[g][n]),b.sort(),duplicates[b.join("")]=!0;return acum}else return f};G.QueryEngine.prototype.executeJOIN=function(b,c,f,k){var i=f.rvalue,g=null,q=null,g=this.executeSelectUnit(b,c,f.lvalue,
k);if(g==null)return null;q=this.executeSelectUnit(b,c,i,k);if(q==null)return null;b=D.joinBindings(g,q);return b=h.checkFilters(f,b,!1,k,this)};G.QueryEngine.prototype.rangeQuery=function(b,c){var f=this.normalizeQuad(b,c,!1);return f!=null?(f=this.backend.range(new X.Pattern(f)),f==null||f.length==0?[]:f):(console.log("ERROR normalizing quad"),null)};G.QueryEngine.prototype.executeUpdate=function(b,c){var f=b.units,h=this,i={blanks:{},outCache:{}};this.registerNsInEnvironment(b.prologue,i);for(var g=
0;g<f.length;g++){var q=h.abstractQueryTree.parseExecutableUnit(f[g]);if(q.kind==="insertdata"){for(var n=0;n<q.quads.length;n++){var t=q.quads[n];if(h._executeQuadInsert(t,i)!==!0)return c(!1,error)}c(!0)}else if(q.kind==="deletedata"){for(n=0;n<q.quads.length;n++)t=q.quads[n],this._executeQuadDelete(t,i);c(!0)}else if(q.kind==="modify")this._executeModifyQuery(q,i,c);else if(q.kind==="create")c(!0);else if(q.kind==="load")n={uri:A.lexicalFormBaseUri(q.sourceGraph,i)},q.destinyGraph!=null&&(n={uri:A.lexicalFormBaseUri(q.destinyGraph,
i)}),h=this,this.rdfLoader.load(q.sourceGraph.value,n,function(b,f){b==!1?(console.log("Error loading graph"),console.log(f)):(f=h.batchLoad(f),c(f!=null,f||"error batch loading quads"))});else if(q.kind==="drop")this._executeClearGraph(q.destinyGraph,i,c);else if(q.kind==="clear")this._executeClearGraph(q.destinyGraph,i,c);else throw Error("not supported execution unit");}};G.QueryEngine.prototype.batchLoad=function(b,c){for(var f=null,h=null,i=null,g=null,q=0,n=!0,t={},w,u,A=0;A<b.length;A++)if(u=
b[A],u.subject.uri||u.subject.token==="uri"?f=w=this.lexicon.registerUri(u.subject.uri||u.subject.value):u.subject.literal||u.subject.token==="literal"?f=w=this.lexicon.registerLiteral(u.subject.literal||u.subject.value):(g=t[u.subject.blank||u.subject.value],g==null&&(g=this.lexicon.registerBlank(u.subject.blank||u.subject.value),t[u.subject.blank||u.subject.value]=g),f=g),u.predicate.uri||u.predicate.token==="uri"?w=this.lexicon.registerUri(u.predicate.uri||u.predicate.value):u.predicate.literal||
u.predicate.token==="literal"?w=this.lexicon.registerLiteral(u.predicate.literal||u.predicate.value):(g=t[u.predicate.blank||u.predicate.value],g==null&&(g=this.lexicon.registerBlank(u.predicate.blank||u.predicate.value),t[u.predicate.blank||u.predicate.value]=g)),h=w,u.object.uri||u.object.token==="uri"?w=this.lexicon.registerUri(u.object.uri||u.object.value):u.object.literal||u.object.token==="literal"?w=this.lexicon.registerLiteral(u.object.literal||u.object.value):(g=t[u.object.blank||u.object.value],
g==null&&(g=this.lexicon.registerBlank(u.object.blank||u.object.value),t[u.object.blank||u.object.value]=g)),i=w,u.graph.uri||u.graph.token==="uri"?(w=this.lexicon.registerUri(u.graph.uri||u.graph.value),this.lexicon.registerGraph(w)):u.graph.literal||u.graph.token==="literal"?w=this.lexicon.registerLiteral(u.graph.literal||u.graph.value):(g=t[u.graph.blank||u.graph.value],g==null&&(g=this.lexicon.registerBlank(u.graph.blank||u.graph.value),t[u.graph.blank||u.graph.value]=g)),g=w,u={subject:f,predicate:h,
object:i,graph:g},f=new X.NodeKey(u),this.backend.index(f)==!0)q+=1;else{n=!1;break}return n?(c&&c(!0,q),q):(c&&c(!1,null),null)};G.QueryEngine.prototype._executeModifyQuery=function(b,c,f){var h=this,i=!0,g=null,q=["subject","predicate","object","graph"];b.insert=b.insert==null?[]:b.insert;b["delete"]=b["delete"]==null?[]:b["delete"];A.seq(function(f){var q=[],w=[];b["with"]!=null&&q.push(b["with"]);if(b.using!=null)for(var w=[],u=0;u<b.using.length;u++){var A=b.using[u];A.kind==="named"?w.push(A.uri):
q.push(A.uri)}b.dataset={};b.projection=[{token:"variable",kind:"*"}];h.executeSelect(b,c,q,w,function(b,q){b?(q=h.denormalizeBindingsList(q,c.outCache),q!=null?g=q:i=!1):i=!1;return f()})},function(f){var t=b["with"];if(i){for(var w=[],u=0;u<b["delete"].length;u++)for(var A=b["delete"][u],D=0;D<g.length;D++){for(var G={},H=g[D],I=0;I<q.length;I++){var J=q[I];J=="graph"&&A[J]==null?G.graph=t:G[J]=A[J].token==="var"?H[A[J].value]:A[J]}w.push(G)}for(D=0;D<w.length;D++)G=w[D],h._executeQuadDelete(G,
c)}f()},function(f){var t=b["with"];if(i){for(var w=[],u=0;u<b.insert.length;u++)for(var A=b.insert[u],D=0;D<g.length;D++){for(var G={},I=g[D],H=0;H<q.length;H++){var J=q[H];J=="graph"&&A[J]==null?G.graph=t:G[J]=A[J].token==="var"?I[A[J].value]:A[J]}w.push(G)}for(u=0;u<w.length;u++)G=w[u],h._executeQuadInsert(G,c)}f()})(function(){f(i)})};G.QueryEngine.prototype._executeQuadInsert=function(b,c){var f=this.normalizeQuad(b,c,!0);if(f!=null){var h=new X.NodeKey(f),i=this.backend.search(h);return i?i:
(i=this.backend.index(h),i==!0?(this.callbacksBackend.nextGraphModification(I.added,[b,f]),!0):(console.log("ERROR inserting quad"),!1))}else return console.log("ERROR normalizing quad"),!1};G.QueryEngine.prototype._executeQuadDelete=function(b,c){var f=this.normalizeQuad(b,c,!1);if(f!=null){var h=new X.NodeKey(f);this.backend["delete"](h);return this.lexicon.unregister(b,h)==!0?(this.callbacksBackend.nextGraphModification(I.deleted,[b,f]),!0):(console.log("ERROR unregistering quad"),!1)}else return console.log("ERROR normalizing quad"),
!1};G.QueryEngine.prototype._executeClearGraph=function(b,c,f){if(b==="default")this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",f);else if(b==="named"){var h=this,i=this.lexicon.registeredGraphs(!0);if(i!=null){var g=!1;A.repeat(0,i.length,function(b,c){var f=i[c._i],w=arguments.callee;g?b(w,c):h.execute("DELETE { GRAPH <"+f+"> { ?s ?p ?o } } WHERE { GRAPH <"+f+"> { ?s ?p ?o } }",function(f){g=!f;b(w,c)})},function(){f(!g)})}else f(!1,"Error deleting named graphs")}else b==="all"?(h=this,this.execute("CLEAR DEFAULT",
function(b,c){b?h.execute("CLEAR NAMED",f):f(!1,c)})):b.token=="uri"?(b=A.lexicalFormBaseUri(b,c),b!=null?this.execute("DELETE { GRAPH <"+b+"> { ?s ?p ?o } } WHERE { GRAPH <"+b+"> { ?s ?p ?o } }",f):f(!1,"wrong graph URI")):f(!1,"wrong graph URI")};G.QueryEngine.prototype.checkGroupSemantics=function(b,c){if(b==="singleGroup")return!0;for(var f={},h=0;h<b.length;h++){var i=b[h];i.token==="var"?f[i.value]=!0:i.token==="aliased_expression"&&(f[i.alias.value]=!0)}for(h=0;h<c.length;h++)if(i=c[h],i.kind===
"var"){if(f[i.value.value]==null)return!1}else if(i.kind==="aliased"&&i.expression&&i.expression.primaryexpression==="var"&&f[i.expression.value.value]==null)return!1;return!0};var I={ANYTHING:{token:"var",value:"_"},added:"added",deleted:"deleted",eventsFlushed:"eventsFlushed",CallbacksBackend:function(b){this.aqt=new P.AbstractQueryTree;this.engine=b;this.indexMap={};this.observersMap={};this.queriesIndexMap={};this.emptyNotificationsMap={};this.queriesList=[];this.pendingQueries=[];this.matchedQueries=
[];this.updateInProgress=null;this.indices=["SPOG","GP","OGS","POG","GSP","OS"];this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};this.callbackCounter=0;this.callbacksMap={};this.callbacksInverseMap={};this.queryCounter=0;this.queriesMap={};this.queriesCallbacksMap=
{};this.queriesInverseMap={};for(b=0;b<this.indices.length;b++){var c=this.indices[b];this.indexMap[c]={};this.queriesIndexMap[c]={}}}};I.CallbacksBackend.prototype.startGraphModification=function(){this.pendingQueries=[].concat(this.queriesList);this.matchedQueries=[];if(this.updateInProgress==null)this.updateInProgress={added:[],deleted:[]}};I.CallbacksBackend.prototype.nextGraphModification=function(b,c){this.updateInProgress[b].push(c)};I.CallbacksBackend.prototype.endGraphModification=function(b){var c=
this;if(this.updateInProgress!=null){var f=c.updateInProgress;c.updateInProgress=null;this.sendNotification(I.deleted,f[I.deleted],function(){c.sendNotification(I.added,f[I.added],function(){c.sendEmptyNotification(I.eventsFlushed,null,function(){c.dispatchQueries(function(){b(!0)})})})})}else b(!0)};I.CallbacksBackend.prototype.cancelGraphModification=function(){this.updateInProgress=null};I.CallbacksBackend.prototype.sendNotification=function(b,c,f){for(var h={},i=0;i<c.length;i++){var g=c[i],q;
for(q in this.indexMap){var n=this.indexMap[q],t=this.componentOrders[q];this._searchCallbacksInIndex(n,t,b,g,h);this.pendingQueries.length!=0&&(n=this.queriesIndexMap[q],this._searchQueriesInIndex(n,t,g))}}this.dispatchNotifications(h);f!=null&&f(!0)};I.CallbacksBackend.prototype.sendEmptyNotification=function(b,c,f){for(var h=this.emptyNotificationsMap[b]||[],i=0;i<h.length;i++)h[i](b,c);f()};I.CallbacksBackend.prototype.dispatchNotifications=function(b){for(var c in b){var f=this.callbacksMap[c],
h=b[c][I.deleted];h!=null&&f(I.deleted,h);for(var i in b[c])i!=I.deleted&&f(i,b[c][i])}};I.CallbacksBackend.prototype._searchCallbacksInIndex=function(b,c,f,h,i){for(var g=h[1],h=h[0],q=0;q<c.length+1;q++){for(var n=b._||[],t=[],w=0;w<n.length;w++){var u=n[w];this.callbacksMap[u]!=null&&(i[u]=i[u]||{},i[u][f]=i[u][f]||[],i[u][f].push(h),t.push(u))}b._=t;n=c[q];if(b[""+g[n]]!=null)b=b[""+g[n]];else break}};I.CallbacksBackend.prototype.subscribeEmpty=function(b,c){var f=this.emptyNotificationsMap[b]||
[];f.push(c);this.emptyNotificationsMap[b]=f};I.CallbacksBackend.prototype.unsubscribeEmpty=function(b,c){var f=this.emptyNotificationsMap[b];f!=null&&(f=A.remove(f,c));this.emptyNotificationsMap[b]=f};I.CallbacksBackend.prototype.subscribe=function(b,c,f,h,i,g){b=this.engine.normalizeQuad(this._tokenizeComponents(b,c,f,h),{blanks:{},outCache:{}},!0);f=this._indexForPattern(new X.Pattern(b));c=this.componentOrders[f];f=this.indexMap[f];for(h=0;h<c.length;h++){var q=b[c[h]];if(q==="_"){f._==null&&
(f._=[]);this.callbackCounter++;f._.push(this.callbackCounter);this.callbacksMap[this.callbackCounter]=i;this.callbacksInverseMap[i]=this.callbackCounter;break}else h===c.length-1?(f[q]=f[q]||{_:[]},this.callbackCounter++,f[q]._.push(this.callbackCounter),this.callbacksMap[this.callbackCounter]=i,this.callbacksInverseMap[i]=this.callbackCounter):(f[q]=f[q]||{},f=f[q])}g!=null&&g(!0)};I.CallbacksBackend.prototype.unsubscribe=function(b){var c=this.callbacksInverseMap[b];c!=null&&(delete this.callbacksInverseMap[b],
delete this.callbacksMap[c])};I.CallbacksBackend.prototype._tokenizeComponents=function(b,c,f,h){var i={};b==null?i.subject=I.ANYTHING:b.indexOf("_:")==0?(console.log("BLANK!!"),i.subject={token:"blank",value:b}):i.subject={token:"uri",value:b};i.predicate=c==null?I.ANYTHING:{token:"uri",value:c};i.object=f==null?I.ANYTHING:{token:"uri",value:f};i.graph=h==null?I.ANYTHING:{token:"uri",value:h};return i};I.CallbacksBackend.prototype._indexForPattern=function(b){for(var b=b.indexKey,c=this.indices,
f=0;f<c.length;f++)for(var h=c[f],i=this.componentOrders[h],g=0;g<i.length;g++){if(A.include(b,i[g])===!1)break;if(g==b.length-1)return h}return"SPOG"};I.CallbacksBackend.prototype.observeNode=function(){var b,c,f,h;arguments.length===4?(b=arguments[0],c=arguments[1],f=arguments[2],h=arguments[3]):(b=arguments[0],c=this.engine.lexicon.defaultGraphUri,f=arguments[1],h=arguments[2]);var i=this,g={blanks:{},outCache:{}},q=[];this.engine.execute("CONSTRUCT { <"+b+"> ?p ?o } WHERE { GRAPH <"+c+"> { <"+
b+"> ?p ?o } }",function(c,t){if(c){var z=!1,u=function(b,c){if(b==="eventsFlushed"&&z)z=!1,f(t);else if(b!=="eventsFlushed"){z=!0;for(var h=0;h<c.length;h++){var k=c[h],n=w.buildRDFResource(k.subject,q,i.engine,g),u=w.buildRDFResource(k.predicate,q,i.engine,g),k=w.buildRDFResource(k.object,q,i.engine,g);n!=null&&u!=null&&k!=null&&(k=new w.Triple(n,u,k),b===I.added?t.add(k):b===I.deleted&&t.remove(k))}}};i.observersMap[f]=u;i.subscribeEmpty(I.eventsFlushed,u);i.subscribe(b,null,null,null,u,function(){f(t);
h&&h(!0)})}else h&&h(!1)})};I.CallbacksBackend.prototype.stopObservingNode=function(b){return(b=this.observersMap[b])?(this.unsubscribe(b),this.unsubscribeEmpty(I.eventsFlushed,b),!0):!1};I.CallbacksBackend.prototype.observeQuery=function(b,c,f){var h=this.aqt.collectBasicTriples(this.aqt.parseSelect(this.aqt.parseQueryString(b).units[0])),i={blanks:{},outCache:{}},g,q,n,t=this.queryCounter;this.queryCounter++;this.queriesMap[t]=b;this.queriesInverseMap[b]=t;this.queriesList.push(t);this.queriesCallbacksMap[t]=
c;for(var w=0;w<h.length;w++){q=h[w];if(q.graph==null)q.graph=this.engine.lexicon.defaultGraphUriTerm;q=this.engine.normalizeQuad(q,i,!0);g=new X.Pattern(q);n=this._indexForPattern(g);g=this.componentOrders[n];n=this.queriesIndexMap[n];for(w=0;w<g.length;w++){var u=q[g[w]];if(typeof u==="string"){n._==null&&(n._=[]);n._.push(t);break}else w===g.length-1?(n[u]=n[u]||{_:[]},n[u]._.push(t)):(n[u]=n[u]||{},n=n[u])}}this.engine.execute(b,function(b,f){b?c(f):console.log("ERROR in query callback "+f)});
f!=null&&f()};I.CallbacksBackend.prototype.stopObservingQuery=function(b){var c=this.queriesInverseMap[b];if(c!=null)delete this.queriesInverseMap[b],delete this.queriesMap[c],this.queriesList=A.remove(this.queriesList,c)};I.CallbacksBackend.prototype._searchQueriesInIndex=function(b,c,f){for(var f=f[1],h=0;h<c.length+1;h++){for(var i=b._||[],g=[],q=0;q<i.length;q++){var n=i[q];A.include(this.pendingQueries,n)&&(A.remove(this.pendingQueries,n),this.matchedQueries.push(n));this.queriesMap[n]!=null&&
g.push(n)}b._=g;i=c[h];if(b[""+f[i]]!=null)b=b[""+f[i]];else break}};I.CallbacksBackend.prototype.dispatchQueries=function(b){var c=this,f,h,i,g;A.repeat(0,this.matchedQueries.length,function(b,n){f=arguments.callee;i=c.matchedQueries[n._i];h=c.queriesMap[i];g=c.queriesCallbacksMap[i];A.recur(function(){c.engine.execute(h,function(c,h){c?g(h):console.log("ERROR executing query callback "+h);b(f,n)})})},function(){b()})};var O={};try{console.log("*** Checking if web workers are available"),console.log("*** Web workers available")}catch(rb){console.log("*** Web workers are not available: "+
rb),Worker=null}if(Worker)O.RDFStoreClient=function(b,c,f){this.connection=Worker.Worker?new Worker.Worker(b):new Worker(b);this.callbacksCounter=1;var h=this;this.rdf=w.rdf;h=this;this.connection.onmessage=function(b){h.receive(b)};this.observingCallbacks={};this.callbacks={0:{cb:function(b,c){b===!0?f(!0,h):f(!1,c)},fn:"create"}};this.connection.postMessage({fn:"create",args:c,callback:"0"})},O.RDFStoreClient.prototype.receive=function(b){event=b.data||b;if(b=this.callbacks[event.callback])b.fn===
"create"||b.fn==="execute"||b.fn==="insert"||b.fn=="graph"||b.fn==="node"||b.fn==="insert"||b.fn==="delete"||b.fn==="clear"||b.fn==="load"||b.fn==="startObservingQueryEndCb"||b.fn==="registeredGraphs"?(delete this.callbacks[event.callback],b.cb(event.success,event.result)):b.fn==="startObservingNode"?b.cb(event.result):b.fn==="subscribe"&&b.cb(event.event,event.result)},O.RDFStoreClient.prototype.registerCallback=function(b,c){var f=""+this.callbacksCounter;this.callbacks[f]={fn:b,cb:c};this.callbacksCounter++;
return f},O.RDFStoreClient.prototype.execute=function(){if(arguments.length===3)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(arguments.length===4)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var b,c;arguments.length===1?(b=arguments[0],c=function(){}):arguments.length===2&&(b=arguments[0],c=arguments[1]);c=this.registerCallback("execute",c);this.connection.postMessage({fn:"execute",args:[b],callback:c})}},O.RDFStoreClient.prototype.insert=
function(){var b,c,f;if(arguments.length===1)c=arguments[0],this.connection.postMessage({fn:"insert",args:[c]});else if(arguments.length===2)c=arguments[0],f=arguments[1]||function(){},f=this.registerCallback("insert",f),this.connection.postMessage({fn:"insert",args:[c],callback:f});else if(arguments.length===3)c=arguments[0],b=arguments[1],f=arguments[2]||function(){},f=this.registerCallback("insert",f),this.connection.postMessage({fn:"insert",args:[c,b],callback:f});else throw"The triples to insert, an optional graph and callback must be provided";
},O.RDFStoreClient.prototype.graph=function(){var b=null,c=null;if(arguments.length===1)c=arguments[0]||function(){};else if(arguments.length===2)c=arguments[1]||function(){},b=arguments[0];else throw"An optional graph URI and a callback function must be provided";var f=this,h=this.registerCallback("insert",function(b,g){if(b){for(var h,k=0;k<g.triples.length;k++)h=g.triples[k],g.triples[k]=new w.Triple(f.adaptJSInterface(h.subject),f.adaptJSInterface(h.predicate),f.adaptJSInterface(h.object));c(b,
f.rdf.createGraph(g.triples))}else c(b,g)});b==null?this.connection.postMessage({fn:"graph",args:[],callback:h}):this.connection.postMessage({fn:"graph",args:[b],callback:h})},O.RDFStoreClient.prototype.node=function(){var b=null,c=null,f=null;if(arguments.length===2)f=arguments[0],c=arguments[1]||function(){};else if(arguments.length===3)f=arguments[0],b=arguments[1],c=arguments[2]||function(){};else throw"An optional graph URI and a callback function must be provided";var h=this,i=this.registerCallback("insert",
function(b,f){if(b){for(var i,t=0;t<f.triples.length;t++)i=f.triples[t],f.triples[t]=new w.Triple(h.adaptJSInterface(i.subject),h.adaptJSInterface(i.predicate),h.adaptJSInterface(i.object));c(b,h.rdf.createGraph(f.triples))}else c(b,f)});b==null?this.connection.postMessage({fn:"node",args:[f],callback:i}):this.connection.postMessage({fn:"node",args:[f,b],callback:i})},O.RDFStoreClient.prototype.setPrefix=function(b,c){this.rdf.setPrefix(b,c);this.connection.postMessage({fn:"rdf/setPrefix",args:[b,
c],callback:null})},O.RDFStoreClient.prototype.setDefaultPrefix=function(b){this.rdf.setDefaultPrefix(b);this.connection.postMessage({fn:"rdf/setDefaultPrefix",args:[b],callback:null})},O.RDFStoreClient.prototype["delete"]=function(){var b,c,f;if(arguments.length===1)c=arguments[0],this.connection.postMessage({fn:"delete",args:[c]});else if(arguments.length===2)c=arguments[0],f=arguments[1]||function(){},f=this.registerCallback("delete",f),this.connection.postMessage({fn:"delete",args:[c],callback:f});
else if(arguments.length===3)c=arguments[0],b=arguments[1],f=arguments[2]||function(){},f=this.registerCallback("delete",f),this.connection.postMessage({fn:"delete",args:[c,b],callback:f});else throw"The triples to delete, an optional graph and callback must be provided";},O.RDFStoreClient.prototype.clear=function(){var b,c;if(arguments.length===1)c=arguments[0]||function(){},c=this.registerCallback("clear",c),this.connection.postMessage({fn:"clear",args:[],callback:c});else if(arguments.length===
2)b=arguments[0],c=arguments[1]||function(){},c=this.registerCallback("clear",c),this.connection.postMessage({fn:"clear",args:[b],callback:c});else throw"The optional graph and a callback must be provided";},O.RDFStoreClient.prototype.load=function(){var b,c,f,h;if(arguments.length===3)b=arguments[0],c=arguments[1],h=arguments[2]||function(){},h=this.registerCallback("load",h),this.connection.postMessage({fn:"load",args:[b,c],callback:h});else if(arguments.length===4)b=arguments[0],c=arguments[1],
f=arguments[2],h=arguments[3]||function(){},h=this.registerCallback("load",h),this.connection.postMessage({fn:"load",args:[b,c,f],callback:h});else if(arguments.length===2)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";},O.RDFStoreClient.prototype.startObservingQuery=function(b,c,f){f!=null?(c=this.registerCallback("startObservingQuery",c),this.observingCallbacks[b]=c,f=this.registerCallback("startObservingQueryEndCb",f),this.connection.postMessage({fn:"startObservingQuery",
args:[b],callback:[c,f]})):(c=this.registerCallback("startObservingQuery",c),this.observingCallbacks[b]=c,this.connection.postMessage({fn:"startObservingQuery",args:[b],callback:[c]}))},O.RDFStoreClient.prototype.stopObservingQuery=function(b){var c=this.observingCallbacks[b];delete this.observingCallbacks[b];delete this.callbacks[c];this.connection.postMessage({fn:"stopObservingQuery",args:[b],callback:[]})},O.RDFStoreClient.prototype.startObservingNode=function(){var b,c,f;if(arguments.length===
2){b=arguments[0];f=arguments[1];var h=this,i=this.registerCallback("startObservingNode",function(b){for(var c,i=0;i<b.triples.length;i++)c=b.triples[i],b.triples[i]=new w.Triple(h.adaptJSInterface(c.subject),h.adaptJSInterface(c.predicate),h.adaptJSInterface(c.object));f(h.rdf.createGraph(b.triples))});this.observingCallbacks[f]=i;this.connection.postMessage({fn:"startObservingNode",args:[b],callback:i})}else arguments.length===3&&(b=arguments[0],c=arguments[1],f=arguments[2],h=this,i=this.registerCallback("startObservingNode",
function(b){for(var c,i=0;i<b.triples.length;i++)c=b.triples[i],b.triples[i]=new w.Triple(h.adaptJSInterface(c.subject),h.adaptJSInterface(c.predicate),h.adaptJSInterface(c.object));f(h.rdf.createGraph(b.triples))}),this.observingCallbacks[f]=i,this.connection.postMessage({fn:"startObservingNode",args:[b,c],callback:i}))},O.RDFStoreClient.prototype.stopObservingNode=function(b){var c=this.observingCallbacks[b];delete this.observingCallbacks[b];delete this.callbacks[c];this.connection.postMessage({fn:"stopObservingNode",
args:[c],callback:[]})},O.RDFStoreClient.prototype.subscribe=function(b,c,f,h,i){var g=this,q=this.registerCallback("subscribe",function(b,c){for(var f,h=0;h<c.length;h++)f=c[h],c[h]=new w.Triple(g.adaptJSInterface(f.subject),g.adaptJSInterface(f.predicate),g.adaptJSInterface(f.object));i(b,c)});this.observingCallbacks[i]=q;this.connection.postMessage({fn:"subscribe",args:[b,c,f,h],callback:q})},O.RDFStoreClient.prototype.unsubscribe=function(b){var c=this.observingCallbacks[b];delete this.observingCallbacks[b];
delete this.callbacks[c];this.connection.postMessage({fn:"unsubscribe",args:[c],callback:[]})},O.RDFStoreClient.prototype.registeredGraphs=function(b){var c=this;this.connection.postMessage({fn:"registeredGraphs",args:[],callback:this.registerCallback("registeredGraphs",function(f,h){if(f)for(var i=0;i<h.length;i++)graph=h[i],h[i]=c.adaptJSInterface(graph);b(f,h)})})},O.RDFStoreClient.prototype.adaptJSInterface=function(b){if(b.interfaceName==="BlankNode")return new w.BlankNode(b.bnodeId);else if(b.interfaceName===
"Literal")return new w.Literal(b.nominalValue,b.language,b.datatype);else if(b.interfaceName==="NamedNode")return new w.NamedNode(b.nominalValue)},O.RDFStoreClient.prototype.isWebWorkerConnection=!0;var H={VERSION:"0.4.0"};H.connect=function(){var b,c,f;arguments.length==1&&(b=__dirname,c={},f=arguments[0]);arguments.length==2?(typeof arguments[0]==="string"?(b=arguments[0],c={}):(b=__dirname,c=arguments[0]),f=arguments[1]):(b=arguments[0],c=arguments[1],f=arguments[2]);try{Worker?new O.RDFStoreClient(b,
c,function(b,c){f(b,c)}):H.create(c,function(b){f(!1,b)})}catch(h){console.log(h),H.create(c,function(b){f(!1,b)})}};H.create=function(){return arguments.length==1?new H.Store(arguments[0]):arguments.length==2?new H.Store(arguments[0],arguments[1]):new H.Store};H.Store=function(b,c){var f=null,h=null;if(arguments.length==0)h={};else if(arguments.length==1)h={},f=b;else if(arguments.length>1)h=b,f=c;else throw"An optional argument map and a callback must be provided";h.treeOrder==null&&(h.treeOrder=
15);this.rdf=w.rdf;this.functionMap={};var i=this;new R.Lexicon(function(b){new V.QuadBackend(h,function(c){h.backend=c;h.lexicon=b;i.engine=new G.QueryEngine(h);f&&f(i)})})};H.Store.prototype.execute=function(){if(arguments.length===3)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(arguments.length===4)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var b,c;arguments.length===1?(b=arguments[0],c=function(){}):arguments.length===2&&
(b=arguments[0],c=arguments[1]);this.engine.execute(b,c)}};H.Store.prototype.executeWithEnvironment=function(){var b,c,f,h;arguments.length===3?(b=arguments[0],c=function(){},f=arguments[1],h=arguments[2]):arguments.length===4&&(b=arguments[0],c=arguments[3],f=arguments[1],h=arguments[2]);this.engine.execute(b,c,f,h)};H.Store.prototype.graph=function(){var b=null,c=null;if(arguments.length===1)c=arguments[0]||function(){},b=this.engine.lexicon.defaultGraphUri;else if(arguments.length===2)c=arguments[1]||
function(){},b=arguments[0];else throw"An optional graph URI and a callback function must be provided";this.rdf.resolve(b)!=null&&(b=this.rdf.resolve(b));this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+b+"> { ?s ?p ?o } }",c)};H.Store.prototype.node=function(){var b=null,c=null,f=null;if(arguments.length===2)f=arguments[0],c=arguments[1]||function(){},b=this.engine.lexicon.defaultGraphUri;else if(arguments.length===3)f=arguments[0],b=arguments[1],c=arguments[2]||function(){};else throw"An optional graph URI and a callback function must be provided";
this.rdf.resolve(b)!=null&&(b=this.rdf.resolve(b));this.rdf.resolve(f)!=null&&(f=this.rdf.resolve(f));this.engine.execute("CONSTRUCT { <"+f+"> ?p ?o } WHERE { GRAPH <"+b+"> { <"+f+"> ?p ?o } }",c)};H.Store.prototype.startObservingNode=function(){var b,c,f;arguments.length===2?(b=arguments[0],f=arguments[1],this.engine.callbacksBackend.observeNode(b,f,function(){})):arguments.length===3&&(b=arguments[0],c=arguments[1],f=arguments[2],this.engine.callbacksBackend.observeNode(b,c,f,function(){}))};H.Store.prototype.stopObservingNode=
function(b){this.engine.callbacksBackend.stopObservingNode(b)};H.Store.prototype.startObservingQuery=function(b,c,f){f!=null?this.engine.callbacksBackend.observeQuery(b,c,f):this.engine.callbacksBackend.observeQuery(b,c,function(){})};H.Store.prototype.stopObservingQuery=function(b){this.engine.callbacksBackend.stopObservingQuery(b)};H.Store.prototype.subscribe=function(b,c,f,h,i){var g=function(b,c){for(var f=[],g={blanks:{},outCache:{}},h=[],k=0;k<c.length;k++){var A=c[k],D=w.buildRDFResource(A.subject,
h,this.engine,g),G=w.buildRDFResource(A.predicate,h,this.engine,g),A=w.buildRDFResource(A.object,h,this.engine,g);D!=null&&G!=null&&A!=null&&(A=new w.Triple(D,G,A),f.push(A))}i(b,f)};this.functionMap[i]=g;this.engine.callbacksBackend.subscribe(b,c,f,h,g,function(){})};H.Store.prototype.unsubscribe=function(b){this.engine.callbacksBackend.unsubscribe(this.functionMap[b]);delete this.functionMap[b]};H.Store.prototype.setPrefix=function(b,c){this.rdf.setPrefix(b,c)};H.Store.prototype.setDefaultPrefix=
function(b){this.rdf.setDefaultPrefix(b)};H.Store.prototype.insert=function(){var b,c,f;if(arguments.length===1)c=arguments[0];else if(arguments.length===2)b=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),c=arguments[0],f=arguments[1]||function(){};else if(arguments.length===3)c=arguments[0],b=this.rdf.createNamedNode(arguments[1]),f=arguments[2]||function(){};else throw"The triples to insert, an optional graph and callback must be provided";var h="",i=this;c.forEach(function(b){h=
h+i._nodeToQuery(b.subject)+i._nodeToQuery(b.predicate)+i._nodeToQuery(b.object)+"."});h=b!=null?"INSERT DATA { GRAPH "+this._nodeToQuery(b)+" { "+h+" } }":"INSERT DATA { "+this._nodeToQuery(b)+" { "+h+" }";this.engine.execute(h,f)};H.Store.prototype._nodeToQuery=function(b){if(b.interfaceName==="NamedNode"){var c=this.rdf.resolve(b.valueOf());return c!=null?"<"+c+">":"<"+b.valueOf()+">"}else return b.toString()};H.Store.prototype["delete"]=function(){var b,c,f;if(arguments.length===1)c=arguments[0];
else if(arguments.length===2)b=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),c=arguments[0],f=arguments[1]||function(){};else if(arguments.length===3)c=arguments[0],b=this.rdf.createNamedNode(arguments[1]),f=arguments[2]||function(){};else throw"The triples to delete, an optional graph and callback must be provided";var h="",i=this;c.forEach(function(b){h=h+i._nodeToQuery(b.subject)+i._nodeToQuery(b.predicate)+i._nodeToQuery(b.object)+"."});h=b!=null?"DELETE DATA { GRAPH "+this._nodeToQuery(b)+
" { "+h+" } }":"DELETE DATA { "+this._nodeToQuery(b)+" { "+h+" }";this.engine.execute(h,f)};H.Store.prototype.clear=function(){var b,c;if(arguments.length===1)b=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),c=arguments[0]||function(){};else if(arguments.length===2)b=this.rdf.createNamedNode(arguments[0]),c=arguments[1]||function(){};else throw"The optional graph and a callback must be provided";this.engine.execute("CLEAR GRAPH "+this._nodeToQuery(b),c)};H.Store.prototype.load=function(){var b,
c,f,h;if(arguments.length===3)f=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0],c=arguments[1],h=arguments[2]||function(){};else if(arguments.length===4)b=arguments[0],c=arguments[1],f=this.rdf.createNamedNode(arguments[2]),h=arguments[3]||function(){};else if(arguments.length===2)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";if(b==="remote")c=this.rdf.createNamedNode(c),this.engine.execute("LOAD <"+c.valueOf()+"> INTO GRAPH <"+
f.valueOf()+">",h);else if(c&&typeof c==="string"&&c.indexOf("file://")===0){b=this.engine.rdfLoader.parsers[b];var i=this;this.engine.rdfLoader.loadFromFile(b,{token:"uri",value:f.valueOf()},c,function(b,c){b?i.engine.batchLoad(c,h):h(b,c)})}else b=this.engine.rdfLoader.parsers[b],i=this,this.engine.rdfLoader.tryToParse(b,{token:"uri",value:f.valueOf()},c,function(b,c){b?i.engine.batchLoad(c,h):h(b,c)})};H.Store.prototype.registerParser=function(b,c){this.engine.rdfLoader.registerParser(b,c)};H.Store.prototype.registeredGraphs=
function(b){for(var c=this.engine.lexicon.registeredGraphs(!0),f=[],h=0;h<c.length;h++){var i=new w.NamedNode(c[h]);f.push(i)}return b(!0,f)};H.Store.prototype._nodeToQuery=function(b){if(b.interfaceName==="NamedNode"){var c=this.rdf.resolve(b.valueOf());return c!=null?"<"+c+">":"<"+b.valueOf()+">"}else return b.toString()};H.Store.prototype.getNetworkTransport=function(){return ga};H.Store.prototype.setNetworkTransport=function(b){ga=b};RDFStoreWorker={observingCallbacks:{}};RDFStoreWorker.handleCreate=
function(b,c){args=[b];args.push(function(b){RDFStoreWorker.store=b;postMessage({callback:c,result:"created",success:!0})});H.create.apply(H,args)};RDFStoreWorker.receive=function(b){var c=b.data||b;if(c.fn==="create"&&c.args!=null)RDFStoreWorker.handleCreate(c.args,c.callback);else if((c.fn==="execute"||c.fn==="executeWithEnvironment"||c.fn==="graph"||c.fn==="node"||c.fn==="clear"||c.fn==="load")&&c.args!=null){c.args.push(function(b,f){c.callback!=null&&postMessage({callback:c.callback,result:f,
success:b})});try{RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args)}catch(f){console.log("Error executing method through connection"),console.log(f)}}else if((c.fn==="insert"||c.fn==="delete")&&c.args!=null)try{c.args.push(function(b,f){c.callback!=null&&postMessage({callback:c.callback,result:f,success:b})});for(var h,i=c.args[0],b=0;b<i.triples.length;b++)h=i.triples[b],i.triples[b]=new w.Triple(RDFStoreWorker.adaptJSInterface(h.subject),RDFStoreWorker.adaptJSInterface(h.predicate),
RDFStoreWorker.adaptJSInterface(h.object));c.args[1].interfaceName!=null&&(c.args[1]=RDFStoreWorker.adaptJSInterface(c.args[1]));c.args[0]=RDFStoreWorker.store.rdf.createGraph(i.triples);RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args)}catch(g){console.log("Error executing method through connection"),console.log(g)}else c.fn==="rdf/setPrefix"&&c.args!=null?RDFStoreWorker.store.rdf.setPrefix(c.args[0],c.args[1]):c.fn==="rdf/setDefaultPrefix"&&c.args!=null?RDFStoreWorker.store.rdf.setDefaultPrefix(c.args[0]):
c.fn==="startObservingQuery"&&c.args!=null?(h=function(b,f){postMessage({callback:c.callback[0],result:f,success:b})},RDFStoreWorker.observingCallbacks[c.args[0]]=h,c.args.push(h),c.args.push(function(b,f){c.callback&&c.callback[1]!=null&&postMessage({callback:c.callback[1],result:f,success:b})}),RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args)):c.fn==="stopObservingQuery"?((h=RDFStoreWorker.observingCallbacks[c.args[0]])&&RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,[h]),delete RDFStoreWorker.observingCallbacks[c.args[0]]):
c.fn==="startObservingNode"&&c.args!=null?(h=function(b){postMessage({callback:c.callback,result:b})},RDFStoreWorker.observingCallbacks[c.callback]=h,c.args.push(h),RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args)):c.fn==="stopObservingNode"&&c.args!=null?((h=RDFStoreWorker.observingCallbacks[c.args[0]])&&RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,[h]),delete RDFStoreWorker.observingCallbacks[c.args[0]]):c.fn==="subscribe"&&c.args!=null?(h=function(b,f){postMessage({callback:c.callback,
event:b,result:f})},RDFStoreWorker.observingCallbacks[c.callback]=h,c.args.push(h),RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args)):c.fn==="stopObservingNode"&&c.args!=null?((h=RDFStoreWorker.observingCallbacks[c.args[0]])&&RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,[h]),delete RDFStoreWorker.observingCallbacks[c.args[0]]):c.fn==="registeredGraphs"&&c.args!=null&&RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,[function(b,f){c.callback!=null&&postMessage({callback:c.callback,
result:f,success:b})}])};RDFStoreWorker.adaptJSInterface=function(b){if(b.interfaceName==="BlankNode")return new w.BlankNode(b.bnodeId);else if(b.interfaceName==="Literal")return new w.Literal(b.nominalValue,b.language,b.datatype);else if(b.interfaceName==="NamedNode")return new w.NamedNode(b.nominalValue)};onmessage=RDFStoreWorker.receive;try{window.rdfstore=H}catch(yc){}})();
