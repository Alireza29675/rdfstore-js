(function(){try{console=console||{}}catch(vc){console=console||{},console.log=function(){}}var A={"extends":function(b,c){c.prototype=new b},stackCounterLimit:1E3,stackCounter:0};A.recur=function(b){A.stackCounter===A.stackCounterLimit?(A.stackCounter=0,setTimeout(b,0)):(A.stackCounter++,b())};A.shuffle=function(b){for(var c,f,k=b.length;k;c=parseInt(Math.random()*k),f=b[--k],b[k]=b[c],b[c]=f);return b};A.include=function(b,c,f){for(var k=b.length-1;k>=0;k--){var i=!1,i=f==null?b[k]===c:f(b[k],c)===
0;if(i===!0)return!0}return!1};A.remove=function(b,c){for(var f=[],k=0;k<b.length;k++)b[k]!==c&&f.push(b[k]);return f};A.repeat=function(b,c,f,k,i){arguments.length===4&&(i={});b<c?(i._i=b,f(function(h,f){A.recur(function(){A.repeat(b+1,c,h,k,f)})},i)):k(i)};Utilsmeanwhile=function(b,c,f,k){arguments.length===3&&(k={});k._stack_counter==null&&(k._stack_counter=0);b===!0?c(function(c,b,k){k._stack_counter%40==39?(k._stack_counter+=1,setTimeout(function(){Utilsmeanwhile(c,b,f,k)},0)):(k._stack_counter+=
1,Utilsmeanwhile(c,b,f,k))},k):f(k)};A.seq=function(){var b=arguments;return function(c){A.repeat(0,b.length,function(c,k){var i=arguments.callee;b[k._i](function(){c(i,k)})},function(){c()})}};A.partition=function(b,c){for(var f=b.length%c,k=[],i=0;i<f;i++)k.push(null);f=[];for(i=0;i<b.length;i++)k.push(b[i]),k.length%c==0&&(f.push(k),k=[]);return f};A.keys=function(b){var c=[],f;for(f in b)c.push(f);return c};A.iso8601=function(b){function c(c){return c<10?"0"+c:c}return b.getUTCFullYear()+"-"+
c(b.getUTCMonth()+1)+"-"+c(b.getUTCDate())+"T"+c(b.getUTCHours())+":"+c(b.getUTCMinutes())+":"+c(b.getUTCSeconds())+"Z"};A.parseStrictISO8601=function(b){var b=b.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),c=0,f=new Date(b[1],0,1);if(b[3])f.setMonth(b[3]-1);else throw"missing ISO8061 component";if(b[5])f.setDate(b[5]);else throw"missing ISO8061 component";if(b[7])f.setHours(b[7]);else throw"missing ISO8061 component";
if(b[8])f.setMinutes(b[8]);else throw"missing ISO8061 component";if(b[10])f.setSeconds(b[10]);else throw"missing ISO8061 component";b[12]&&f.setMilliseconds(Number("0."+b[12])*1E3);b[14]&&(c=Number(b[16])*60+Number(b[17]),c*=b[15]=="-"?1:-1);c-=f.getTimezoneOffset();time=Number(f)+c*6E4;b=new Date;b.setTime(Number(time));return b};A.parseISO8601=function(b){var b=b.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),
c=0,f=new Date(b[1],0,1);b[3]&&f.setMonth(b[3]-1);b[5]&&f.setDate(b[5]);b[7]&&f.setHours(b[7]);b[8]&&f.setMinutes(b[8]);b[10]&&f.setSeconds(b[10]);b[12]&&f.setMilliseconds(Number("0."+b[12])*1E3);b[14]&&(c=Number(b[16])*60+Number(b[17]),c*=b[15]=="-"?1:-1);c-=f.getTimezoneOffset();time=Number(f)+c*6E4;b=new Date;b.setTime(Number(time));return b};A.parseISO8601Components=function(b){var b=b.match(RegExp("([0-9]{4})(-([0-9]{2}))(-([0-9]{2}))(T([0-9]{2}):([0-9]{2})(:([0-9]{2}))?(.([0-9]+))?)?(Z|([-+])([0-9]{2})(:([0-9]{2}))?)?")),
c,f,k,i,h,g,r,v;c=Number(b[1]);f=b[3]-1;k=Number(b[5]);i=Number(b[7]);h=Number(b[8]);g=Number(b[10]);b[12]&&(r=Number("0."+b[12])*1E3);b[13]==="Z"?v=0:b[14]?(v=0,b[17]&&(v=Number(b[17])),v+=Number(b[15])*60,v*=b[14]=="-"?-1:1):b[14]==null&&b[11]&&(v=Number(b[12])*60);return{year:isNaN(c)?null:c,month:isNaN(f)?null:f,date:isNaN(k)?null:k,hours:isNaN(i)?null:i,minutes:isNaN(h)?null:h,seconds:isNaN(g)?null:g,millisecs:isNaN(r)?null:r,timezone:isNaN(v)?null:v}};A.compareDateComponents=function(b,c){var f=
A.parseISO8601Components(b),k=A.parseISO8601Components(c);return f.timezone==null&&k.timezone==null||f.timezone!=null&&k.timezone!=null?(da=A.parseISO8601(b),db=A.parseISO8601(c),da.getTime()==db.getTime()?0:da.getTime()<db.getTime()?-1:1):f.timezone!=null&&k.timezone==null?(da=A.parseISO8601(b),db=A.parseISO8601(c),ta=da.getTime(),tb=db.getTime(),f=50400,ta<tb&&ta<tb+f?-1:ta>tb&&ta>tb-f?1:null):(da=A.parseISO8601(b),db=A.parseISO8601(c),ta=da.getTime(),tb=db.getTime(),f=50400,ta<tb&&ta+f<tb?-1:ta>
tb&&ta+f>tb?1:null)};A.lexicalFormLiteral=function(b,c){var f=b.value,k=b.lang,i=b.type,h=null;f!=null&&i!=null&&typeof i!="string"?(f=i.value,f!=null?h='"'+b.value+'"^^<'+f+">":(f=i.suffix,i=c.namespaces[i.prefix],b.type=i+f,h='"'+b.value+'"^^<'+i+f+">")):h=k==null&&i==null?'"'+f+'"':i==null?'"'+f+'"@'+k:'"'+b.value+'"^^<'+i+">";return h};A.lexicalFormBaseUri=function(b,c){var f=null;if(b.value==null){var k=b.suffix,i=c.namespaces[b.prefix];i!=null&&(f=i+k)}else f=b.value;if(f===null)return null;
else f.indexOf(":")==-1&&(f=(c.base||"")+f);return f};A.lexicalFormTerm=function(b,c){if(b.token==="uri")return{uri:A.lexicalFormBaseUri(b,c)};else if(b.token==="literal")return{literal:A.lexicalFormLiteral(b,c)};else if(b.token==="blank")return{blank:"_:"+b.label};else callback(!1,"Token of kind "+b.token+" cannot transformed into its lexical form")};A.normalizeUnicodeLiterals=function(b){for(var c=b.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||[],f={},k=0;k<c.length;k++)f[c[k]]==null&&(f[c[k]]=!0,b=b.replace(RegExp("\\"+
c[k],"g"),eval("'"+c[k]+"'")));return b};A.hashTerm=function(b){try{if(b==null)return"";if(b.token==="uri")return"u"+b.value;else if(b.token==="blank")return"b"+b.value;else if(b.token==="literal")return l="l"+b.value,l+=b.type||"",l+=b.lang||"",l}catch(c){if(typeof b==="object"){var f="";for(p in b)f=f+p+b[p];return f}return b}};var L={Tree:function(b){if(arguments.length!=0)this.order=b,this.root=this._allocateNode(),this.root.isLeaf=!0,this.root.level=0,this._diskWrite(this.root),this._updateRootNode(this.root),
this.comparator=function(c,b){return c<b?-1:c>b?1:0},this.merger=null}};L.Tree.prototype._allocateNode=function(){return new L.Node};L.Tree.prototype._diskWrite=function(){};L.Tree.prototype._diskRead=function(b){return b};L.Tree.prototype._diskDelete=function(){};L.Tree.prototype._updateRootNode=function(b){return b};L.Tree.prototype.clear=function(){this.root=this._allocateNode();this.root.isLeaf=!0;this.root.level=0;this._updateRootNode(this.root)};L.Tree.prototype.search=function(b,c){for(var f=
!0,k=this.root;f;){for(var i=0;i<k.numberActives&&this.comparator(b,k.keys[i].key)===1;)i++;if(i<k.numberActives&&this.comparator(k.keys[i].key,b)===0)return c!=null&&c==!0?!0:k.keys[i].data;else k.isLeaf===!0?f=!1:k=this._diskRead(k.children[i])}return null};L.Tree.prototype.walk=function(b){this._walk(b,this.root)};L.Tree.prototype._walk=function(b,c){if(c.isLeaf)for(var f=0;f<c.numberActives;f++)b(c.keys[f]);else{for(f=0;f<c.numberActives;f++)this._walk(b,this._diskRead(c.children[f])),b(c.keys[f]);
this._walk(b,this._diskRead(c.children[c.numberActives]))}};L.Tree.prototype.walkNodes=function(b){this._walkNodes(b,this.root)};L.Tree.prototype._walkNodes=function(b,c){if(c.isLeaf)b(c);else{b(c);for(var f=0;f<c.numberActives;f++)this._walkNodes(b,this._diskRead(c.children[f]));this._walkNodes(b,this._diskRead(c.children[c.numberActives]))}};L.Tree.prototype._splitChild=function(b,c,f){var k=this._allocateNode();k.isLeaf=f.isLeaf;k.level=f.level;k.numberActives=this.order-1;var i=f.keys[this.order-
1];f.keys[this.order-1]=null;for(var h=0;h<this.order-1;h++)k.keys[h]=f.keys[h+this.order],f.keys[h+this.order]=null,f.isLeaf||(k.children[h]=f.children[h+this.order],f.children[h+this.order]=null);f.isLeaf||(k.children[h]=f.children[h+this.order],f.children[h+this.order]=null);f.numberActives=this.order-1;for(h=b.numberActives+1;h>c+1;h--)b.children[h]=b.children[h-1];b.children[c+1]=k;for(h=b.numberActives;h>c;h--)b.keys[h]=b.keys[h-1];b.keys[c]=i;b.numberActives++;this._diskWrite(k);this._diskWrite(b);
this._diskWrite(f)};L.Tree.prototype.insert=function(b,c){if(this.root.numberActives===2*this.order-1){var f=this._allocateNode();f.isLeaf=!1;f.level=this.root.level+1;f.numberActives=0;f.children[0]=this.root;this._splitChild(f,0,this.root);this.root=f;this._updateRootNode(this.root);this._insertNonFull(f,b,c)}else this._insertNonFull(this.root,b,c)};L.Tree.prototype._insertNonFull=function(b,c,f){for(var k=b.numberActives-1;!b.isLeaf;){for(;k>=0&&this.comparator(c,b.keys[k].key)===-1;)k--;k++;var i=
this._diskRead(b.children[k]);i.numberActives===2*this.order-1&&(this._splitChild(b,k,i),this.comparator(c,b.keys[k].key)===1&&k++);b=this._diskRead(b.children[k]);k=b.numberActives-1}for(;k>=0&&this.comparator(c,b.keys[k].key)===-1;)b.keys[k+1]=b.keys[k],k--;b.keys[k+1]={key:c,data:f};b.numberActives++;this._diskWrite(b)};L.Tree.prototype["delete"]=function(b){for(var c=this.root,f=null,k=!0,i=null,h=null,g=null,r=!0;r===!0;){for(r=!1;k===!0;){v=0;if(c.numberActives===0)return!1;for(;v<c.numberActives&&
this.comparator(b,c.keys[v].key)===1;)v++;i=v;v<c.numberActives&&this.comparator(b,c.keys[v].key)===0&&(k=!1);if(k===!0){if(c.isLeaf===!0)return!1;f=c;c=this._diskRead(c.children[v]);if(c===null)return!1;i===f.numberActives?(h=this._diskRead(f.children[i-1]),g=null):i===0?(h=null,g=this._diskRead(f.children[1])):(h=this._diskRead(f.children[i-1]),g=this._diskRead(f.children[i+1]));c.numberActives===this.order-1&&f!=null&&(g!=null&&g.numberActives>this.order-1?this._moveKey(f,v,-1):h!=null&&h.numberActives>
this.order-1?this._moveKey(f,v,1):h!=null&&h.numberActives===this.order-1?c=this._mergeSiblings(f,v,-1):g!=null&&g.numberActives===this.order-1&&(c=this._mergeSiblings(f,v,1)))}}if(c.isLeaf&&c.numberActives>this.order-1)return this._deleteKeyFromNode(c,i),!0;if(c.isLeaf&&c===this.root)return this._deleteKeyFromNode(c,i),!0;if(c.isLeaf===!1)if(f=v=null,(v=this._diskRead(c.children[i])).numberActives>this.order-1)b=this._getMaxKeyPos(v),b=b.node.keys[b.index],c.keys[i]=b,this._diskWrite(c),c=v,b=b.key,
k=r=!0;else if((v=this._diskRead(c.children[i+1])).numberActives>this.order-1)b=this._getMinKeyPos(v),b=b.node.keys[b.index],c.keys[i]=b,this._diskWrite(c),c=v,b=b.key,k=r=!0;else if((v=this._diskRead(c.children[i])).numberActives===this.order-1&&(f=this._diskRead(c.children[i+1])).numberActives===this.order-1){k=this._mergeNodes(v,c.keys[i],f);c.children[i]=k;i++;for(var v=i;v<c.numberActives;v++)c.children[v]=c.children[v+1],c.keys[v-1]=c.keys[v];c.children[v]=null;c.keys[v-1]=null;c.numberActives--;
if(c.numberActives===0&&this.root===c)this.root=k;this._diskWrite(c);c=k;k=r=!0}c.isLeaf&&c.numberActives>this.order-1&&k===!1&&this._deleteKeyFromNode(c,i);if(r===!1)return!0}};L.Tree.prototype._moveKey=function(b,c,f){f===1&&c--;var k=this._diskRead(b.children[c]),i=this._diskRead(b.children[c+1]);if(f==-1){k.keys[k.numberActives]=b.keys[c];k.children[k.numberActives+1]=i.children[0];i.children[0]=null;k.numberActives++;b.keys[c]=i.keys[0];for(f=1;f<i.numberActives;f++)i.keys[f-1]=i.keys[f],i.children[f-
1]=i.children[f];i.children[i.numberActives-1]=i.children[i.numberActives];i.numberActives--}else{i.children[i.numberActives+1]=i.children[i.numberActives];for(f=i.numberActives;f>0;f--)i.children[f]=i.children[f-1],i.keys[f]=i.keys[f-1];i.keys[0]=null;i.children[0]=null;i.children[0]=k.children[k.numberActives];i.keys[0]=b.keys[c];i.numberActives++;k.children[k.numberActives]=null;b.keys[c]=k.keys[k.numberActives-1];k.keys[k.numberActives-1]=null;k.numberActives--}this._diskWrite(k);this._diskWrite(i);
this._diskWrite(b)};L.Tree.prototype._mergeSiblings=function(b,c){var f,k,i;c===b.numberActives?(c--,k=this._diskRead(b.children[b.numberActives-1]),i=this._diskRead(b.children[b.numberActives])):(k=this._diskRead(b.children[c]),i=this._diskRead(b.children[c+1]));var h=this._allocateNode();h.isLeaf=k.isLeaf;h.level=k.level;for(f=0;f<this.order-1;f++)h.keys[f]=k.keys[f],h.children[f]=k.children[f];h.keys[this.order-1]=b.keys[c];h.children[this.order-1]=k.children[this.order-1];for(f=0;f<this.order-
1;f++)h.keys[f+this.order]=i.keys[f],h.children[f+this.order]=i.children[f];h.children[2*this.order-1]=i.children[this.order-1];b.children[c]=h;for(f=c;f<b.numberActives;f++)b.keys[f]=b.keys[f+1],b.children[f+1]=b.children[f+2];h.numberActives=k.numberActives+i.numberActives+1;b.numberActives--;for(f=b.numberActives;f<2*this.order-1;f++)b.keys[f]=null;if(b.numberActives===0&&this.root===b)this.root=h,h.isLeaf=h.level?!1:!0;this._diskWrite(h);this.root===h&&this._updateRootNode(this.root);this._diskWrite(b);
this._diskDelete(k);this._diskDelete(i);return h};L.Tree.prototype._deleteKeyFromNode=function(b,c){var f=2*this.order-1;if(b.numberActives<f)f=b.numberActives;var k;if(b.isLeaf===!1)return!1;for(k=c;k<f-1;k++)b.keys[k]=b.keys[k+1];b.keys.pop();b.numberActives--;this._diskWrite(b);return!0};L.Tree.prototype._mergeNodes=function(b,c,f){var k,i;k=this._allocateNode();k.isLeaf=!0;for(i=0;i<b.numberActives;i++)k.keys[i]=b.keys[i],k.children[i]=b.children[i];k.children[b.numberActives]=b.children[b.numberActives];
k.keys[b.numberActives]=c;for(i=0;i<f.numberActives;i++)k.keys[i+b.numberActives+1]=f.keys[i],k.children[i+b.numberActives+1]=f.children[i];k.children[2*this.order-1]=f.children[f.numberActives];k.numberActives=b.numberActives+f.numberActives+1;k.isLeaf=b.isLeaf;k.level=b.level;this._diskWrite(k);return k};L.Tree.prototype.audit=function(b){var c=[],f=[],k=this,i=function(h){for(var i=0;i<f.length;i++)if(k.comparator(f[i],h)===0){var g=" !!! duplicated key "+h;b===!0&&console.log(g);c.push(g)}},h=
null,k=this;this.walkNodes(function(g){b===!0&&(console.log("--- Node at "+g.level+" level"),console.log(" - leaf? "+g.isLeaf),console.log(" - num actives? "+g.numberActives),console.log(" - keys: "));for(var r=g.numberActives;r<g.keys.length;r++)g.keys[r]!=null&&b===!0&&(console.log(" * warning : redundant key data"),c.push(" * warning : redundant key data"));for(r=g.numberActives+1;r<g.children.length;r++)g.children[r]!=null&&b===!0&&(console.log(" * warning : redundant children data"),c.push(" * warning : redundant key data"));
if(g.isLeaf===!1)for(r=0;r<g.numberActives;r++){var v=k._diskRead(g.children[r]).keys[k._diskRead(g.children[r]).numberActives-1].key,B=k._diskRead(g.children[r+1]).keys[0].key;b===!0&&console.log("   "+g.keys[r].key+"("+v+","+B+")");if(k.comparator(g.keys[r].key,v)===-1){var w=" !!! value max left "+v+" > key "+g.keys[r].key;b===!0&&console.log(w);c.push(w)}k.comparator(g.keys[r].key,B)===1&&(w=" !!! value min right "+B+" < key "+g.keys[r].key,b===!0&&console.log(w),c.push(w));i(g.keys[r].key);f.push(g.keys[r].key)}else{h===
null?h=g.level:h!=g.level&&(w=" !!! Leaf node with wrong level value",b===!0&&console.log(w),c.push(w));for(r=0;r<g.numberActives;r++)b===!0&&console.log(" "+g.keys[r].key),i(g.keys[r].key),f.push(g.keys[r].key)}g!=k.root&&(g.numberActives>2*k.order-1&&(b===!0&&(w=" !!!! MAX num keys restriction violated "),console.log(w),c.push(w)),g.numberActives<k.order-1&&(b===!0&&(w=" !!!! MIN num keys restriction violated "),console.log(w),c.push(w)))});return c};L.Tree.prototype._getMaxKeyPos=function(b){for(var c=
{};;){if(b===null)break;if(b.isLeaf===!0){c.node=b;c.index=b.numberActives-1;break}else c.node=b,c.index=b.numberActives-1,b=this._diskRead(b.children[b.numberActives])}return c};L.Tree.prototype._getMinKeyPos=function(b){for(var c={};;){if(b===null)break;if(b.isLeaf===!0){c.node=b;c.index=0;break}else c.node=b,c.index=0,b=this._diskRead(b.children[0])}return c};L.Node=function(){this.numberActives=0;this.isLeaf=null;this.keys=[];this.children=[];this.level=0};var V={NodeKey:function(b,c){this.subject=
b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.order=c}};V.NodeKey.prototype.comparator=function(b){for(var c=0;c<this.order.length;c++){var f=this.order[c];if(b[f]==null)break;else if(this[f]<b[f])return-1;else if(this[f]>b[f])return 1}return 0};V.Pattern=function(b){this.subject=b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.indexKey=[];this.keyComponents={};for(var c=[],f=[],b=["subject","predicate","object","graph"],k=0;k<b.length;k++)typeof this[b[k]]===
"string"?(f.push(b[k]),this.keyComponents[b[k]]=null):(c.push(b[k]),this.keyComponents[b[k]]=this[b[k]],this.indexKey.push(b[k]));this.order=c.concat(f);this.key=new V.NodeKey(this.keyComponents,this.order)};var T={Tree:function(b,c){if(arguments!=0)this.componentOrder=b.componentOrder,L.Tree.call(this,b.order,b.name,b.persistent,b.cacheMaxSize),this.comparator=function(c,b){for(var i=0;i<this.componentOrder.length;i++){var h=this.componentOrder[i],g=c[h],h=b[h];if(g<h)return-1;else if(g>h)return 1}return 0},
this.rangeComparator=function(c,b){for(var i=0;i<this.componentOrder.length;i++){var h=this.componentOrder[i];if(b[h]==null||c[h]==null)break;else if(c[h]<b[h])return-1;else if(c[h]>b[h])return 1}return 0},c!=null&&c(this)}};A["extends"](L.Tree,T.Tree);T.Tree.prototype.insert=function(b,c){L.Tree.prototype.insert.call(this,b,null);c&&c(!0);return!0};T.Tree.prototype.search=function(b,c){var f=L.Tree.prototype.search.call(this,b,!0);c&&c(f);return f};T.Tree.prototype.range=function(b,c){var f=null,
f=typeof this.root==="string"?this._rangeTraverse(this,this._diskRead(this.root),b):this._rangeTraverse(this,this.root,b);c&&c(f);return f};T.Tree.prototype._rangeTraverse=function(b,c,f){for(var f=f.key,k=[],i=[c],h;i.length>0;){c=i.shift();for(h=0;h<c.numberActives&&b.rangeComparator(c.keys[h].key,f)===-1;)h++;if(c.isLeaf===!0)for(;h<c.numberActives&&b.rangeComparator(c.keys[h].key,f)===0;)k.push(c.keys[h].key),h++;else{var g=b._diskRead(c.children[h]);for(i.push(g);;)if(h<c.numberActives&&b.rangeComparator(c.keys[h].key,
f)===0)k.push(c.keys[h].key),h++,g=b._diskRead(c.children[h]),i.push(g);else break}}return k};var Y={QuadBackend:function(b,c){if(arguments!=0){this.indexMap={};this.treeOrder=b.treeOrder;this.indices=["SPOG","GP","OGS","POG","GSP","OS"];this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject",
"predicate","graph"]};for(var f=0;f<this.indices.length;f++){var k=this.indices[f],i=new T.Tree({order:this.treeOrder,componentOrder:this.componentOrders[k],persistent:b.persistent,name:(b.name||"")+k,cacheMaxSize:b.cacheMaxSize});this.indexMap[k]=i}c&&c(this)}}};Y.QuadBackend.prototype.clear=function(){for(var b=0;b<this.indices.length;b++)this.indexMap[this.indices[b]].clear()};Y.QuadBackend.prototype._indexForPattern=function(b){for(var b=b.indexKey,c=this.indices,f=0;f<c.length;f++)for(var k=
c[f],i=this.componentOrders[k],h=0;h<i.length;h++){if(A.include(b,i[h])===!1)break;if(h==b.length-1)return k}return"SPOG"};Y.QuadBackend.prototype.index=function(b,c){for(var f=0;f<this.indices.length;f++)this.indexMap[this.indices[f]].insert(b);c&&c(!0);return!0};Y.QuadBackend.prototype.range=function(b,c){var f=this.indexMap[this._indexForPattern(b)].range(b);c&&c(f);return f};Y.QuadBackend.prototype.search=function(b,c){var f=this.indexMap[this.indices[0]].search(b);c&&c(f!=null);return f!=null};
Y.QuadBackend.prototype["delete"]=function(b,c){for(var f,k=0;k<this.indices.length;k++)f=this.indices[k],f=this.indexMap[f],f["delete"](b);c&&c(!0);return!0};var P={Lexicon:function(b){this.uriToOID={};this.OIDToUri={};this.literalToOID={};this.OIDToLiteral={};this.blankToOID={};this.OIDToBlank={};this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri,oid:this.defaultGraphOid};
this.oidCounter=1;this.knownGraphs={};b!=null&&b(this)}};P.Lexicon.prototype.registerGraph=function(b){b!=this.defaultGraphOid&&(this.knownGraphs[b]=!0);return!0};P.Lexicon.prototype.registeredGraphs=function(b){var c=[],f;for(f in this.knownGraphs)b===!0?c.push(this.OIDToUri["u"+f]):c.push(f);return c};P.Lexicon.prototype.registerUri=function(b){if(b===this.defaultGraphUri)return this.defaultGraphOid;else{if(this.uriToOID[b]==null){var c=this.oidCounter;this.oidCounter++;this.uriToOID[b]=[c,0];this.OIDToUri["u"+
c]=b}else{var f=this.uriToOID[b],c=f[0];this.uriToOID[b]=[c,f[1]+1]}return c}};P.Lexicon.prototype.resolveUri=function(b){return b===this.defaultGraphUri?this.defaultGraphOid:(b=this.uriToOID[b],b!=null?b[0]:-1)};P.Lexicon.prototype.registerBlank=function(){var b=this.oidCounter;this.oidCounter++;b=""+b;this.OIDToBlank[b]=!0;return b};P.Lexicon.prototype.resolveBlank=function(){var b=this.oidCounter;this.oidCounter++;return""+b};P.Lexicon.prototype.registerLiteral=function(b){if(this.literalToOID[b]==
null){var c=this.oidCounter;this.oidCounter++;this.literalToOID[b]=[c,0];this.OIDToLiteral["l"+c]=b}else{var f=this.literalToOID[b],c=f[0];this.literalToOID[b]=[c,f[1]+1]}return c};P.Lexicon.prototype.resolveLiteral=function(b){b=this.literalToOID[b];return b!=null?b[0]:-1};P.Lexicon.prototype.parseLiteral=function(b){var c=b.lastIndexOf("@");if(c!=-1&&b[c-1]==='"'){var f=b.substring(1,c-1),b=b.substring(c+1,b.length);return{token:"literal",value:f,lang:b}}c=b.lastIndexOf("^^");if(c!=-1&&b[c-1]===
'"'&&b[c+2]==="<"&&b[b.length-1]===">")return f=b.substring(1,c-1),b=b.substring(c+3,b.length-1),{token:"literal",value:f,type:b};f=b.substring(1,b.length-1);return{token:"literal",value:f}};P.Lexicon.prototype.parseUri=function(b){return{token:"uri",value:b}};P.Lexicon.prototype.retrieve=function(b){try{if(b===this.defaultGraphOid)return{token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0};else{var c=this.OIDToUri["u"+b];if(c)return this.parseUri(c);else{var f=this.OIDToLiteral["l"+
b];if(f)return this.parseLiteral(f);else if(this.OIDToBlank[""+b])return{token:"blank",value:"_:"+b};else throw"Null value for OID";}}}catch(k){throw console.log("error in lexicon retrieving OID:"),console.log(b),k.message||k.stack?(k.message&&console.log(k.message),k.stack&&console.log(k.stack)):console.log(k),Error("Unknown retrieving OID in lexicon:"+b);}};P.Lexicon.prototype.clear=function(){this.uriToOID={};this.OIDToUri={};this.literalToOID={};this.OIDToLiteral={};this.blankToOID={};this.OIDToBlank=
{}};P.Lexicon.prototype.unregister=function(b,c){try{return this.unregisterTerm(b.subject.token,c.subject),this.unregisterTerm(b.predicate.token,c.predicate),this.unregisterTerm(b.object.token,c.object),b.graph!=null&&this.unregisterTerm(b.graph.token,c.graph),!0}catch(f){return console.log("Error unregistering quad"),console.log(f.message),!1}};P.Lexicon.prototype.unregisterTerm=function(b,c){if(b==="uri"){if(c!=this.defaultGraphOid){var f="u"+c,k=this.OIDToUri[f],i=this.uriToOID[k],h=i[1];if(""+
i[0]===""+c)h===0?(delete this.OIDToUri[f],delete this.uriToOID[k],delete this.knownGraphs[c]):this.uriToOID[k]=[c,h-1];else throw"Not matching OID : "+c+" vs "+i[0];}}else if(b==="literal")if(this.oidCounter++,f="l"+c,k=this.OIDToLiteral[f],i=this.literalToOID[k],h=i[1],""+i[0]===""+c)h===0?(delete this.OIDToLiteral[f],delete this.literalToOID[k]):this.literalToOID[k]=[c,h-1];else throw"Not matching OID : "+c+" vs "+i[0];else b==="blank"&&delete this.OIDToBlank[""+c]};var ea={};ea.load=function(b,
c,f){jQuery.ajax({url:b,headers:{Accepts:c},success:function(c,b,h){if((""+h.status)[0]=="2"){for(var b=h.getAllResponseHeaders().split("\n"),h={},g=0;g<b.length;g++){var r=b[g].split(":");h[r[0]]=r[1]}f(!0,{headers:h,data:c})}},error:function(b){(""+b.status)[0]=="3"?redirection==0?f(!1,500):(b=b.getAllResponseHeaders().Location||b.getAllResponseHeaders().location,b!=null?ea.load(b,c,f,redirection-1):f(!1,500)):f(!1,b.statusCode())}})};var J={parser:{}};J.parser.parse=function(b,c){var f={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",
rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",
sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#","@coerce":{"http://www.w3.org/2001/XMLSchema#anyURI":["http://xmlns.com/foaf/0.1/homepage","http://xmlns.com/foaf/0.1/member"],"http://www.w3.org/2001/XMLSchema#integer":"http://xmlns.com/foaf/0.1/age"}},defaultGraph:null,activeSubject:null,inheritedSubject:null,activePredicate:null,inheritedPredicate:null,activeObject:null,activeContext:[],localContext:{},listOfIncompleteTriples:[],listOfUnprocessedItems:[]},k=[];f.activeContext=
f.defaultContext;J.parser.isArray(b)?J.parser.parseListOfNodes(b,f,null,null,k,0):J.parser.parseListOfNodes([b],f,null,null,k,0);for(var f=[],i=0;i<k.length;i++){var h=k[i];h.graph=c;f.push(h)}return f};J.parser.parseListOfNodes=function(b,c,f,k,i,h){for(var g,r,v=0;v<b.length;v++)if(g=b[v],processorState={activeSubject:null,inheritedSubject:f,activePredicate:null,inheritedPredicate:k,activeObject:null,localContext:{},listOfIncompleteTriples:[],listOfUnprocessedItems:[]},processorState.activeContext=
J.parser.copyContext(c.activeContext),J.parser.isAssociatveArray(g)){g["@context"]!=null&&(processorState.activeContext=J.parser.mergeContexts(processorState.activeContext,g["@context"]));g["@"]!=null?(r=g["@"],processorState.activeSubject=J.parser.parseIri(r,processorState.activeContext)):(r="_:"+h,processorState.activeSubject={token:"blank",value:r},h++);processorState.inheritedPredicate!=null&&processorState.inheritedSubject!=null&&i.push({subject:processorState.inheritedSubject,predicate:processorState.inheritedPredicate,
object:processorState.activeSubject});for(var B in g)if(r=g[B],B!=="@context"&&B!=="@")processorState.activePredicate=B==="a"?{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}:J.parser.parseIri(B,processorState.activeContext),typeof r!="object"?(processorState.activeObject=J.parser.coerceLiteral(r,processorState.activePredicate,processorState.activeContext),i.push({subject:processorState.activeSubject,predicate:processorState.activePredicate,object:processorState.activeObject})):
r.length!=null?J.parser.parseListOfNodes(r,processorState,processorState.activeSubject,processorState.activePredicate,i,h):r["@iri"]!=null?i.push({subject:processorState.activeSubject,predicate:processorState.activePredicate,object:J.parser.parseIri(r)}):r["@literal"]!=null?(r["@language"]?obj={token:"literal",value:r["@literal"],lang:r["@language"]}:(obj=J.parser.coerceLiteral(r["@literal"]),obj.type=null.type||r["@datatype"]),i.push({subject:processorState.activeSubject,predicate:processorState.activePredicate,
object:obj})):J.parser.parseListOfNodes([r],processorState,null,null,i)}else typeof g==="string"&&processorState.inheritedPredicate!=null&&processorState.inheritedSubject!=null&&i.push({subject:processorState.inheritedSubject,predicate:processorState.inheritedPredicate,object:J.parser.coerceLiteral(g,processorState.inheritedPredicate,processorState.activeContext)})};J.parser.coerceLiteral=function(b,c,f){for(var k in f||{}){var i=f[k];if(b.indexOf(k)===0)return{token:"uri",value:i+(b.split(k+":")[1]||
"")};else if(i===b)return{token:"uri",value:i}}for(var h in f["@coerce"]||{})for(k in i=f["@coerce"][h],typeof i==="string"&&(i=[i]),f)for(var g=0;g<i.length;g++){var r=i[g];r.indexOf(k)===0&&(r=r.split(k+":")[1]||"",r=f[k]+r);if(r===c.value)return h==="http://www.w3.org/2001/XMLSchema#anyURI"||h==="xsd:anyURI"?{token:"uri",value:b}:{token:"literal",value:b,type:h}}return{token:"literal",value:b}};J.parser.isAssociatveArray=function(b){return typeof b==="object"&&b.length==null};J.parser.isArray=
function(b){return typeof b==="object"&&b.length!=null};J.parser.copyContext=function(b){var c={},f;for(f in b)if(f==="@coerce"){var k=b[f],i={},h;for(h in k)i[h]=k[h];c[f]=i}else c[f]=b[f];return c};J.parser.mergeContexts=function(b,c){for(var f in c)f!=="@coerce"&&(b[f]=c[f]);if(c["@coerce"]!=null){f=c["@coerce"];var k=b["@coerce"]||{},i;for(i in f)if(typeof f[i]==="string")k[J.parser.parseIri(i,b).value]=J.parser.parseIri(f[i],b).value;else for(var h=[],g=0;g<f[i].length;g++)h.push(J.parser.parseIri(f[i][g],
b).value);b["@coerce"]=k}return b};J.parser.copyContextStack=function(b){for(var c=[],f=0;f<b.length;f++){var k=b[f],i={},h;for(h in k)if(h==="@coerce"){var g=k[h],r={},v;for(v in g)if(typeof g[v]==="object"){for(var B=[],w=0;w<g[v].length;w++)B.push(g[v][w]);r[v]=B}else r[v]=g[v];i[h]=r}else i[h]=k[h];c.push(i)}return c};J.parser.parseIri=function(b,c){if(typeof b==="object")if(b["@iri"]!=null)b=b["@iri"];else throw"Error processing iri";for(var f in c)if(f=="@base"&&b.indexOf(":")===0)return{token:"uri",
value:c[f]+(b.split(":")[1]||"")};else if(b.indexOf(f)===0)return{token:"uri",value:c[f]+(b.split(f+":")[1]||"")};if(b.indexOf(":")===-1&&c["@vocab"]!=null)return{token:"uri",value:c["@vocab"]+b};else if(b.indexOf(":")!=-1)return{token:"uri",value:b};else throw"Cannot resolve URI: "+b;};J.parser.parseObject=function(b,c){if(typeof b==="object")if(b["@iri"]!=null)return{token:"uri",value:b["@iri"]};else throw"Error processing iri";else{for(var f in c)if(b.indexOf(f)===0)return{token:"uri",value:c[f]+
(b.split(f+":")[1]||"")};return{token:"uri",value:b}}};var Z={RDFLoader:function(b){this.precedences=["text/turtle","text/n3","application/json"];this.parsers={"text/turtle":W.parser,"text/n3":W.parser,"application/json":J.parser};if(b!=null)for(var c in b.parsers)this.parsers[c]=b.parsers[c];if(b&&b.precedences!=null)for(c in this.precedences=b.precedences,b.parsers)A.include(this.precedences,c)||this.precedences.push(c);this.acceptHeaderValue="";for(b=0;b<this.precedences.length;b++)b!=0?this.acceptHeaderValue=
this.acceptHeaderValue+","+this.precedences[b]:this.acceptHeaderValue+=this.precedences[b]}};Z.RDFLoader.prototype.registerParser=function(b,c){this.parsers[b]=c;this.precedences.push(b)};Z.RDFLoader.prototype.unregisterParser=function(b){delete this.parsers[b];for(var c=[],f=0;f<this.precedences.length;f++)this.precedences[f]!=b&&c.push(this.precedences[f]);this.precedences=c};Z.RDFLoader.prototype.setAcceptHeaderPrecedence=function(b){this.precedences=b};Z.RDFLoader.prototype.load=function(b,c,
f){var k=this;ea.load(b,this.acceptHeaderValue,function(i,h){if(i==!0){var g=h.headers["Content-Type"]||h.headers["content-type"],r=h.data;if(g!=null){var g=g.split(";")[0],v;for(v in k.parsers)if(v.indexOf("/")!=-1){var B=v.split("/");if(B[1]==="*"){if(g.indexOf(B[0])!=-1)return k.tryToParse(k.parsers[v],c,r,f)}else if(g.indexOf(v)!=-1)return k.tryToParse(k.parsers[v],c,r,f);else if(g.indexOf(B[1])!=-1)return k.tryToParse(k.parsers[v],c,r,f)}else if(g.indexOf(v)!=-1)return k.tryToParse(k.parsers[v],
b,c,f);f(!1,"Unknown media type : "+g)}else console.log("Unknown media type"),console.log(h.headers),f(!1,"Uknown media type")}else f(!1,"Network error: "+h)})};Z.RDFLoader.prototype.loadFromFile=function(b,c,f,k){try{var i=this;fs=require("fs");fs.readFile(f.split("file:/")[1],function(h,f){if(h)throw h;f=f.toString("utf8");i.tryToParse(b,c,f,k)})}catch(h){k(!1,h)}};Z.RDFLoader.prototype.tryToParse=function(b,c,f,k){try{typeof f==="string"&&(f=A.normalizeUnicodeLiterals(f));var i=b.parse(f,c);i!=
null?k(!0,i):k(!1,"parsing error")}catch(h){k(!1,"parsing error with mime type : "+h)}};var O={AbstractQueryTree:function(){}};O.AbstractQueryTree.prototype.parseQueryString=function(b){return ga.parser.parse(b)};O.AbstractQueryTree.prototype.parseExecutableUnit=function(b){if(b.kind==="select")return this.parseSelect(b);else if(b.kind==="ask")return this.parseSelect(b);else if(b.kind==="modify")return this.parseSelect(b);else if(b.kind==="construct")return this.parseSelect(b);else if(b.kind==="insertdata")return this.parseInsertData(b);
else if(b.kind==="deletedata")return this.parseInsertData(b);else if(b.kind==="load")return b;else if(b.kind==="clear")return b;else if(b.kind==="drop")return b;else if(b.kind==="create")return b;else throw Error("unknown executable unit: "+b.kind);};O.AbstractQueryTree.prototype.parseSelect=function(b){return b==null?(console.log("error parsing query"),null):(b.pattern=this.build(b.pattern,{}),b)};O.AbstractQueryTree.prototype.parseInsertData=function(b){return b==null?(console.log("error parsing query"),
null):b};O.AbstractQueryTree.prototype.build=function(b,c){if(b.token==="groupgraphpattern")return this._buildGroupGraphPattern(b,c);else if(b.token==="basicgraphpattern")return{kind:"BGP",value:b.triplesContext};else if(b.token==="graphunionpattern"){var f=this.build(b.value[0],c),k=this.build(b.value[1],c);return{kind:"UNION",value:[f,k]}}else if(b.token==="graphgraphpattern")return{kind:"GRAPH",value:this.build(b.value,c),graph:b.graph};else throw Error("not supported token in query:"+b.token);
};O.AbstractQueryTree.prototype._buildGroupGraphPattern=function(b,c){for(var f=b.filters||[],k={kind:"EMPTY_PATTERN"},i=0;i<b.patterns.length;i++){var h=b.patterns[i];h.token==="optionalgraphpattern"?(h=this.build(h.value,c),k=h.kind==="FILTER"?{kind:"LEFT_JOIN",lvalue:k,rvalue:h.value,filter:h.filter}:{kind:"LEFT_JOIN",lvalue:k,rvalue:h,filter:!0}):(h=this.build(h,c),k=k.kind=="EMPTY_PATTERN"?h:{kind:"JOIN",lvalue:k,rvalue:h})}if(f.length!=0)if(k.kind==="EMPTY_PATTERN")return{kind:"FILTER",filter:f,
value:k};else if(k.kind==="LEFT_JOIN"&&k.filter===!0)return{kind:"FILTER",filter:f,value:k};else if(k.kind==="LEFT_JOIN")return{kind:"FILTER",filter:f,value:k};else if(k.kind==="JOIN")return{kind:"FILTER",filter:f,value:k};else if(k.kind==="UNION")return{kind:"FILTER",filter:f,value:k};else if(k.kind==="GRAPH")return{kind:"FILTER",filter:f,value:k};else if(k.kind==="BGP")return{kind:"FILTER",filter:f,value:k};else throw Error("Unknow kind of algebra expression: "+k.kind);else return k};O.AbstractQueryTree.prototype.collectBasicTriples=
function(b,c){c==null&&(c=[]);if(b.kind==="select")c=this.collectBasicTriples(b.pattern,c);else if(b.kind==="BGP")c=c.concat(b.value);else if(b.kind==="UNION")c=this.collectBasicTriples(b.value[0],c),c=this.collectBasicTriples(b.value[1],c);else if(b.kind==="GRAPH")c=this.collectBasicTriples(b.value,c);else if(b.kind==="LEFT_JOIN"||b.kind==="JOIN")c=this.collectBasicTriples(b.lvalue,c),c=this.collectBasicTriples(b.rvalue,c);else if(b.kind==="FILTER")c=this.collectBasicTriples(b.value,c);else if(b.kind!==
"EMPTY_PATTERN")throw"Unknown pattern: "+b.kind;return c};var ga={};ga.parser=function(){var b={parse:function(c,b){function k(a){var c=a.charCodeAt(0);if(c<=255)var a="x",b=2;else a="u",b=4;var a="\\"+a,e=c.toString(16).toUpperCase(),c=e;b-=e.length;for(e=0;e<b;e++)c="0"+c;return a+c}function i(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,k)+'"'}function h(c){a<sa||(a>sa&&(sa=a,Ra=[]),Ra.push(c))}function g(){var c="SPARQL@"+
a,b=y[c];if(b)return a=b.nextPos,b.result;b=r();b===null&&(b=Sa(),b=b!==null?b:null);y[c]={nextPos:a,result:b};return b}function r(){var c="Query@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=a,d=v();if(d!==null){var q=I();q===null&&(q=N(),q===null&&(q=P(),q===null&&(q=V(),q=q!==null?q:null)));q!==null?d=[d,q]:(d=null,a=e)}else d=null,a=e;e=d!==null?{token:"query",kind:"query",prologue:d[0],units:[d[1]]}:null;e===null&&(e=null,a=f);(j=b)&&e===null&&h("[2] Query");y[c]={nextPos:a,
result:e};return e}function v(){var c="Prologue@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=a,d=B(),d=d!==null?d:"";if(d!==null){for(var q=[],m=s();m!==null;)q.push(m),m=s();if(q!==null){for(var m=[],n=w();n!==null;)m.push(n),n=w();m!==null?d=[d,q,m]:(d=null,a=e)}else d=null,a=e}else d=null,a=e;e=d!==null?{token:"prologue",base:d[0],prefixes:d[2]}:null;e===null&&(e=null,a=f);(j=b)&&e===null&&h("[3] Prologue");y[c]={nextPos:a,result:e};return e}function B(){var b="BaseDecl@"+a,f=
y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var D=a,e=a,d=[],q=s();q!==null;)d.push(q),q=s();if(d!==null)if(c.substr(a,1)==="B"?(q="B",a+=1):(q=null,j&&h('"B"')),q===null&&(c.substr(a,1)==="b"?(q="b",a+=1):(q=null,j&&h('"b"')),q=q!==null?q:null),q!==null){if(c.substr(a,1)==="A"){var m="A";a+=1}else m=null,j&&h('"A"');m===null&&(c.substr(a,1)==="a"?(m="a",a+=1):(m=null,j&&h('"a"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="S"){var n="S";a+=1}else n=null,j&&h('"S"');n===null&&(c.substr(a,
1)==="s"?(n="s",a+=1):(n=null,j&&h('"s"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="E"){var u="E";a+=1}else u=null,j&&h('"E"');u===null&&(c.substr(a,1)==="e"?(u="e",a+=1):(u=null,j&&h('"e"')),u=u!==null?u:null);if(u!==null){for(var K=[],t=s();t!==null;)K.push(t),t=s();K!==null?(t=la(),t!==null?d=[d,q,m,n,u,K,t]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?function(a){base={token:"base"};base.value=a;return base}(d[6]):
null;e===null&&(e=null,a=D);(j=f)&&e===null&&h("[4] BaseDecl");y[b]={nextPos:a,result:e};return e}function w(){var b="PrefixDecl@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var D=a,e=a,d=[],q=s();q!==null;)d.push(q),q=s();if(d!==null)if(c.substr(a,1)==="P"?(q="P",a+=1):(q=null,j&&h('"P"')),q===null&&(c.substr(a,1)==="p"?(q="p",a+=1):(q=null,j&&h('"p"')),q=q!==null?q:null),q!==null){if(c.substr(a,1)==="R"){var m="R";a+=1}else m=null,j&&h('"R"');m===null&&(c.substr(a,1)==="r"?(m="r",a+=
1):(m=null,j&&h('"r"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var n="E";a+=1}else n=null,j&&h('"E"');n===null&&(c.substr(a,1)==="e"?(n="e",a+=1):(n=null,j&&h('"e"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="F"){var u="F";a+=1}else u=null,j&&h('"F"');u===null&&(c.substr(a,1)==="f"?(u="f",a+=1):(u=null,j&&h('"f"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="I"){var K="I";a+=1}else K=null,j&&h('"I"');K===null&&(c.substr(a,1)==="i"?(K="i",a+=1):(K=null,j&&h('"i"')),
K=K!==null?K:null);if(K!==null){if(c.substr(a,1)==="X"){var t="X";a+=1}else t=null,j&&h('"X"');t===null&&(c.substr(a,1)==="x"?(t="x",a+=1):(t=null,j&&h('"x"')),t=t!==null?t:null);if(t!==null){for(var k=[],i=s();i!==null;)k.push(i),i=s();if(k!==null)if(i=Aa(),i!==null){for(var g=[],z=s();z!==null;)g.push(z),z=s();g!==null?(z=la(),z!==null?d=[d,q,m,n,u,K,t,k,i,g,z]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,
a=e}else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){prefix={token:"prefix"};prefix.prefix=a;prefix.local=c;return prefix}(d[8],d[10]):null;e===null&&(e=null,a=D);(j=f)&&e===null&&h("[5] PrefixDecl");y[b]={nextPos:a,result:e};return e}function x(){var c="TURTLE@"+a,b=y[c];if(b)return a=b.nextPos,b.result;for(var b=a,h=[],e=A();e!==null;)h.push(e),e=A();h=h!==null?h:null;h===null&&(h=null,a=b);y[c]={nextPos:a,result:h};return h}function A(){var b="statement@"+a,f=y[b];if(f)return a=f.nextPos,
f.result;for(var D=f=a,e=[],d=s();d!==null;)e.push(d),d=s();if(e!==null)if(d=E(),d!==null){for(var q=[],m=s();m!==null;)q.push(m),m=s();if(q!==null)if(c.substr(a,1)==="."?(m=".",a+=1):(m=null,j&&h('"."')),m!==null){for(var n=[],u=s();u!==null;)n.push(u),u=s();n!==null?e=[e,d,q,m,n]:(e=null,a=D)}else e=null,a=D;else e=null,a=D}else e=null,a=D;else e=null,a=D;D=e!==null?e[1]:null;D===null&&(D=null,a=f);if(D!==null)f=D;else{D=f=a;e=[];for(d=s();d!==null;)e.push(d),d=s();if(e!==null)if(d=ma(),d!==null){q=
[];for(m=s();m!==null;)q.push(m),m=s();q!==null?e=[e,d,q]:(e=null,a=D)}else e=null,a=D;else e=null,a=D;D=e!==null?e[1]:null;D===null&&(D=null,a=f);if(D!==null)f=D;else{f=s();if(f!==null)for(D=[];f!==null;)D.push(f),f=s();else D=null;f=D!==null?D:null}}y[b]={nextPos:a,result:f};return f}function E(){var c="directive@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=F();b===null&&(b=H(),b=b!==null?b:null);y[c]={nextPos:a,result:b};return b}function H(){var b="base@"+a,f=y[b];if(f)return a=f.nextPos,f.result;
for(var D=f=a,e=[],d=s();d!==null;)e.push(d),d=s();if(e!==null)if(c.substr(a,5)==="@base"?(d="@base",a+=5):(d=null,j&&h('"@base"')),d!==null){var q=s();if(q!==null)for(var m=[];q!==null;)m.push(q),q=s();else m=null;m!==null?(q=la(),q!==null?e=[e,d,m,q]:(e=null,a=D)):(e=null,a=D)}else e=null,a=D;else e=null,a=D;D=e!==null?function(a){base={token:"base"};base.value=a;return base}(e[3]):null;D===null&&(D=null,a=f);y[b]={nextPos:a,result:D};return D}function F(){var b="prefixID@"+a,f=y[b];if(f)return a=
f.nextPos,f.result;for(var D=f=a,e=[],d=s();d!==null;)e.push(d),d=s();if(e!==null)if(c.substr(a,7)==="@prefix"?(d="@prefix",a+=7):(d=null,j&&h('"@prefix"')),d!==null){var q=s();if(q!==null)for(var m=[];q!==null;)m.push(q),q=s();else m=null;if(m!==null)if(q=Ta(),q=q!==null?q:"",q!==null){if(c.substr(a,1)===":"){var n=":";a+=1}else n=null,j&&h('":"');if(n!==null){for(var u=[],K=s();K!==null;)u.push(K),K=s();u!==null?(K=la(),K!==null?e=[e,d,m,q,n,u,K]:(e=null,a=D)):(e=null,a=D)}else e=null,a=D}else e=
null,a=D;else e=null,a=D}else e=null,a=D;else e=null,a=D;D=e!==null?function(a,c){prefix={token:"prefix"};prefix.prefix=a;prefix.local=c;return prefix}(e[3],e[6]):null;D===null&&(D=null,a=f);y[b]={nextPos:a,result:D};return D}function I(){var c="SelectQuery@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=a,d=J();if(d!==null){for(var q=[],m=s();m!==null;)q.push(m),m=s();if(q!==null){for(var m=[],n=O();n!==null;)m.push(n),n=O();if(m!==null){for(var n=[],u=s();u!==null;)n.push(u),u=s();
if(n!==null)if(u=T(),u!==null){for(var K=[],t=s();t!==null;)K.push(t),t=s();if(K!==null)if(t=W(),t!==null){for(var k=[],i=s();i!==null;)k.push(i),i=s();k!==null?(i=pb(),i!==null?d=[d,q,m,n,u,K,t,k,i]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c,d,b){for(var e={named:[],"default":[]},h=0;h<c.length;h++){var j=c[h];j.kind==="default"?e["default"].push(j.graph):e.named.push(j.graph)}e.named.length===
0&&e["default"].length===0&&e["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});c={kind:"select",token:"executableunit"};c.dataset=e;c.projection=a.vars;c.modifier=a.modifier;c.pattern=d;if(b!=null&&b.limit!=null)c.limit=b.limit;if(b!=null&&b.offset!=null)c.offset=b.offset;if(b!=null&&b.order!=null&&b.order!="")c.order=b.order;if(b!=null&&b.group!=null)c.group=b.group;return c}(d[0],d[2],d[4],d[6]):null;e===null&&(e=null,a=f);
(j=b)&&e===null&&h("[6] SelectQuery");y[c]={nextPos:a,result:e};return e}function L(){var c="SubSelect@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=J();if(e!==null){var d=T();if(d!==null){var q=W();q!==null?e=[e,d,q]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;(j=b)&&e===null&&h("[7] SubSelect");y[c]={nextPos:a,result:e};return e}function J(){var b="SelectClause@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var D=a,e=a,d=[],q=s();q!==null;)d.push(q),q=s();if(d!==null)if(c.substr(a,
1)==="S"?(q="S",a+=1):(q=null,j&&h('"S"')),q===null&&(c.substr(a,1)==="s"?(q="s",a+=1):(q=null,j&&h('"s"')),q=q!==null?q:null),q!==null){if(c.substr(a,1)==="E"){var m="E";a+=1}else m=null,j&&h('"E"');m===null&&(c.substr(a,1)==="e"?(m="e",a+=1):(m=null,j&&h('"e"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="L"){var n="L";a+=1}else n=null,j&&h('"L"');n===null&&(c.substr(a,1)==="l"?(n="l",a+=1):(n=null,j&&h('"l"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="E"){var u="E";a+=1}else u=
null,j&&h('"E"');u===null&&(c.substr(a,1)==="e"?(u="e",a+=1):(u=null,j&&h('"e"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="C"){var K="C";a+=1}else K=null,j&&h('"C"');K===null&&(c.substr(a,1)==="c"?(K="c",a+=1):(K=null,j&&h('"c"')),K=K!==null?K:null);if(K!==null){if(c.substr(a,1)==="T"){var t="T";a+=1}else t=null,j&&h('"T"');t===null&&(c.substr(a,1)==="t"?(t="t",a+=1):(t=null,j&&h('"t"')),t=t!==null?t:null);if(t!==null){for(var k=[],i=s();i!==null;)k.push(i),i=s();if(k!==null){i=a;if(c.substr(a,
1)==="D"){var g="D";a+=1}else g=null,j&&h('"D"');g===null&&(c.substr(a,1)==="d"?(g="d",a+=1):(g=null,j&&h('"d"')),g=g!==null?g:null);if(g!==null){if(c.substr(a,1)==="I"){var z="I";a+=1}else z=null,j&&h('"I"');z===null&&(c.substr(a,1)==="i"?(z="i",a+=1):(z=null,j&&h('"i"')),z=z!==null?z:null);if(z!==null){if(c.substr(a,1)==="S"){var o="S";a+=1}else o=null,j&&h('"S"');o===null&&(c.substr(a,1)==="s"?(o="s",a+=1):(o=null,j&&h('"s"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="T"){var r="T";a+=
1}else r=null,j&&h('"T"');r===null&&(c.substr(a,1)==="t"?(r="t",a+=1):(r=null,j&&h('"t"')),r=r!==null?r:null);if(r!==null){if(c.substr(a,1)==="I"){var C="I";a+=1}else C=null,j&&h('"I"');C===null&&(c.substr(a,1)==="i"?(C="i",a+=1):(C=null,j&&h('"i"')),C=C!==null?C:null);if(C!==null){if(c.substr(a,1)==="N"){var v="N";a+=1}else v=null,j&&h('"N"');v===null&&(c.substr(a,1)==="n"?(v="n",a+=1):(v=null,j&&h('"n"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="C"){var w="C";a+=1}else w=null,j&&h('"C"');
w===null&&(c.substr(a,1)==="c"?(w="c",a+=1):(w=null,j&&h('"c"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="T"){var B="T";a+=1}else B=null,j&&h('"T"');B===null&&(c.substr(a,1)==="t"?(B="t",a+=1):(B=null,j&&h('"t"')),B=B!==null?B:null);B!==null?g=[g,z,o,r,C,v,w,B]:(g=null,a=i)}else g=null,a=i}else g=null,a=i}else g=null,a=i}else g=null,a=i}else g=null,a=i}else g=null,a=i}else g=null,a=i;g!==null?i=g:(i=a,c.substr(a,1)==="R"?(g="R",a+=1):(g=null,j&&h('"R"')),g===null&&(c.substr(a,1)==="r"?
(g="r",a+=1):(g=null,j&&h('"r"')),g=g!==null?g:null),g!==null?(c.substr(a,1)==="E"?(z="E",a+=1):(z=null,j&&h('"E"')),z===null&&(c.substr(a,1)==="e"?(z="e",a+=1):(z=null,j&&h('"e"')),z=z!==null?z:null),z!==null?(c.substr(a,1)==="D"?(o="D",a+=1):(o=null,j&&h('"D"')),o===null&&(c.substr(a,1)==="d"?(o="d",a+=1):(o=null,j&&h('"d"')),o=o!==null?o:null),o!==null?(c.substr(a,1)==="U"?(r="U",a+=1):(r=null,j&&h('"U"')),r===null&&(c.substr(a,1)==="u"?(r="u",a+=1):(r=null,j&&h('"u"')),r=r!==null?r:null),r!==
null?(c.substr(a,1)==="C"?(C="C",a+=1):(C=null,j&&h('"C"')),C===null&&(c.substr(a,1)==="c"?(C="c",a+=1):(C=null,j&&h('"c"')),C=C!==null?C:null),C!==null?(c.substr(a,1)==="E"?(v="E",a+=1):(v=null,j&&h('"E"')),v===null&&(c.substr(a,1)==="e"?(v="e",a+=1):(v=null,j&&h('"e"')),v=v!==null?v:null),v!==null?(c.substr(a,1)==="D"?(w="D",a+=1):(w=null,j&&h('"D"')),w===null&&(c.substr(a,1)==="d"?(w="d",a+=1):(w=null,j&&h('"d"')),w=w!==null?w:null),w!==null?g=[g,z,o,r,C,v,w]:(g=null,a=i)):(g=null,a=i)):(g=null,
a=i)):(g=null,a=i)):(g=null,a=i)):(g=null,a=i)):(g=null,a=i),i=g!==null?g:null);i=i!==null?i:"";if(i!==null){g=[];for(z=s();z!==null;)g.push(z),z=s();if(g!==null){o=a;r=[];for(C=s();C!==null;)r.push(C),C=s();if(r!==null)if(C=Q(),C!==null){v=[];for(w=s();w!==null;)v.push(w),w=s();v!==null?r=[r,C,v]:(r=null,a=o)}else r=null,a=o;else r=null,a=o;if(r!==null)o=r;else{o=a;r=[];for(C=s();C!==null;)r.push(C),C=s();if(r!==null)if(c.substr(a,1)==="("?(C="(",a+=1):(C=null,j&&h('"("')),C!==null){v=[];for(w=s();w!==
null;)v.push(w),w=s();if(v!==null)if(w=M(),w!==null){for(var B=[],x=s();x!==null;)B.push(x),x=s();if(B!==null)if(c.substr(a,1)==="A"?(x="A",a+=1):(x=null,j&&h('"A"')),x===null&&(c.substr(a,1)==="a"?(x="a",a+=1):(x=null,j&&h('"a"')),x=x!==null?x:null),x!==null){if(c.substr(a,1)==="S"){var A="S";a+=1}else A=null,j&&h('"S"');A===null&&(c.substr(a,1)==="s"?(A="s",a+=1):(A=null,j&&h('"s"')),A=A!==null?A:null);if(A!==null){for(var E=[],G=s();G!==null;)E.push(G),G=s();if(E!==null)if(G=Q(),G!==null){for(var H=
[],F=s();F!==null;)H.push(F),F=s();if(H!==null)if(c.substr(a,1)===")"?(F=")",a+=1):(F=null,j&&h('")"')),F!==null){for(var I=[],ha=s();ha!==null;)I.push(ha),ha=s();I!==null?r=[r,C,v,w,B,x,A,E,G,H,F,I]:(r=null,a=o)}else r=null,a=o;else r=null,a=o}else r=null,a=o;else r=null,a=o}else r=null,a=o}else r=null,a=o;else r=null,a=o}else r=null,a=o;else r=null,a=o}else r=null,a=o;else r=null,a=o;o=r!==null?r:null}if(o!==null)for(z=[];o!==null;){z.push(o);o=a;r=[];for(C=s();C!==null;)r.push(C),C=s();if(r!==
null)if(C=Q(),C!==null){v=[];for(w=s();w!==null;)v.push(w),w=s();v!==null?r=[r,C,v]:(r=null,a=o)}else r=null,a=o;else r=null,a=o;if(r!==null)o=r;else{o=a;r=[];for(C=s();C!==null;)r.push(C),C=s();if(r!==null)if(c.substr(a,1)==="("?(C="(",a+=1):(C=null,j&&h('"("')),C!==null){v=[];for(w=s();w!==null;)v.push(w),w=s();if(v!==null)if(w=M(),w!==null){B=[];for(x=s();x!==null;)B.push(x),x=s();if(B!==null)if(c.substr(a,1)==="A"?(x="A",a+=1):(x=null,j&&h('"A"')),x===null&&(c.substr(a,1)==="a"?(x="a",a+=1):(x=
null,j&&h('"a"')),x=x!==null?x:null),x!==null)if(c.substr(a,1)==="S"?(A="S",a+=1):(A=null,j&&h('"S"')),A===null&&(c.substr(a,1)==="s"?(A="s",a+=1):(A=null,j&&h('"s"')),A=A!==null?A:null),A!==null){E=[];for(G=s();G!==null;)E.push(G),G=s();if(E!==null)if(G=Q(),G!==null){H=[];for(F=s();F!==null;)H.push(F),F=s();if(H!==null)if(c.substr(a,1)===")"?(F=")",a+=1):(F=null,j&&h('")"')),F!==null){I=[];for(ha=s();ha!==null;)I.push(ha),ha=s();I!==null?r=[r,C,v,w,B,x,A,E,G,H,F,I]:(r=null,a=o)}else r=null,a=o;else r=
null,a=o}else r=null,a=o;else r=null,a=o}else r=null,a=o;else r=null,a=o;else r=null,a=o}else r=null,a=o;else r=null,a=o}else r=null,a=o;else r=null,a=o;o=r!==null?r:null}}else z=null;if(z===null){z=a;o=[];for(r=s();r!==null;)o.push(r),r=s();if(o!==null)if(c.substr(a,1)==="*"?(r="*",a+=1):(r=null,j&&h('"*"')),r!==null){C=[];for(v=s();v!==null;)C.push(v),v=s();C!==null?o=[o,r,C]:(o=null,a=z)}else o=null,a=z;else o=null,a=z;z=o!==null?o:null}z!==null?d=[d,q,m,n,u,K,t,k,i,g,z]:(d=null,a=e)}else d=null,
a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){var d=[];if(c.length===3&&c[1]==="*")return{vars:[{token:"variable",kind:"*"}],modifier:qb(a)};for(var b=0;b<c.length;b++){var e=c[b];e.length===3?d.push({token:"variable",kind:"var",value:e[1]}):d.push({token:"variable",kind:"aliased",expression:e[3],alias:e[8]})}return{vars:d,modifier:qb(a)}}(d[8],d[10]):null;e===null&&(e=null,
a=D);(j=f)&&e===null&&h("[8] SelectClause");y[b]={nextPos:a,result:e};return e}function N(){var b="ConstructQuery@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var D=a,e=a,d=[],q=s();q!==null;)d.push(q),q=s();if(d!==null)if(c.substr(a,1)==="C"?(q="C",a+=1):(q=null,j&&h('"C"')),q===null&&(c.substr(a,1)==="c"?(q="c",a+=1):(q=null,j&&h('"c"')),q=q!==null?q:null),q!==null){if(c.substr(a,1)==="O"){var m="O";a+=1}else m=null,j&&h('"O"');m===null&&(c.substr(a,1)==="o"?(m="o",a+=1):(m=null,j&&
h('"o"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="N"){var n="N";a+=1}else n=null,j&&h('"N"');n===null&&(c.substr(a,1)==="n"?(n="n",a+=1):(n=null,j&&h('"n"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="S"){var u="S";a+=1}else u=null,j&&h('"S"');u===null&&(c.substr(a,1)==="s"?(u="s",a+=1):(u=null,j&&h('"s"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="T"){var K="T";a+=1}else K=null,j&&h('"T"');K===null&&(c.substr(a,1)==="t"?(K="t",a+=1):(K=null,j&&h('"t"')),K=K!==null?
K:null);if(K!==null){if(c.substr(a,1)==="R"){var t="R";a+=1}else t=null,j&&h('"R"');t===null&&(c.substr(a,1)==="r"?(t="r",a+=1):(t=null,j&&h('"r"')),t=t!==null?t:null);if(t!==null){if(c.substr(a,1)==="U"){var k="U";a+=1}else k=null,j&&h('"U"');k===null&&(c.substr(a,1)==="u"?(k="u",a+=1):(k=null,j&&h('"u"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="C"){var i="C";a+=1}else i=null,j&&h('"C"');i===null&&(c.substr(a,1)==="c"?(i="c",a+=1):(i=null,j&&h('"c"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,
1)==="T"){var g="T";a+=1}else g=null,j&&h('"T"');g===null&&(c.substr(a,1)==="t"?(g="t",a+=1):(g=null,j&&h('"t"')),g=g!==null?g:null);if(g!==null){for(var r=[],o=s();o!==null;)r.push(o),o=s();if(r!==null)if(o=rb(),o!==null){for(var v=[],C=s();C!==null;)v.push(C),C=s();if(v!==null){for(var C=[],w=O();w!==null;)C.push(w),w=O();if(C!==null){for(var w=[],B=s();B!==null;)w.push(B),B=s();if(w!==null)if(B=T(),B!==null){for(var x=[],A=s();A!==null;)x.push(A),A=s();x!==null?(A=W(),A!==null?d=[d,q,m,n,u,K,t,
k,i,g,r,o,v,C,w,B,x,A]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c,d,b){for(var e={named:[],"default":[]},h=0;h<c.length;h++){var j=c[h];j.kind==="default"?e["default"].push(j.graph):e.named.push(j.graph)}e.named.length===0&&e["default"].length===
0&&e["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});c={kind:"construct",token:"executableunit"};c.dataset=e;c.template=a;c.pattern=d;if(b!=null&&b.limit!=null)c.limit=b.limit;if(b!=null&&b.offset!=null)c.offset=b.offset;if(b!=null&&b.order!=null&&b.order!="")c.order=b.order;return c}(d[11],d[13],d[15],d[17]):null;e===null&&(e=null,a=D);(j=f)&&e===null&&h("[9] ConstructQuery");y[b]={nextPos:a,result:e};return e}function P(){var b=
"DescribeQuery@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var D=a;if(c.substr(a,8)==="DESCRIBE"){var e="DESCRIBE";a+=8}else e=null,j&&h('"DESCRIBE"');if(e!==null){var d=ia();if(d!==null)for(var q=[];d!==null;)q.push(d),d=ia();else q=null;q!==null?d=q:(c.substr(a,1)==="*"?(d="*",a+=1):(d=null,j&&h('"*"')),d=d!==null?d:null);if(d!==null){for(var q=[],m=O();m!==null;)q.push(m),m=O();if(q!==null)if(m=T(),m=m!==null?m:"",m!==null){var n=W();n!==null?e=[e,d,q,m,n]:(e=null,a=D)}else e=null,a=D;
else e=null,a=D}else e=null,a=D}else e=null,a=D;(j=f)&&e===null&&h("[10] DescribeQuery");y[b]={nextPos:a,result:e};return e}function V(){var b="AskQuery@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var D=a,e=a,d=[],q=s();q!==null;)d.push(q),q=s();if(d!==null)if(c.substr(a,1)==="A"?(q="A",a+=1):(q=null,j&&h('"A"')),q===null&&(c.substr(a,1)==="a"?(q="a",a+=1):(q=null,j&&h('"a"')),q=q!==null?q:null),q!==null){if(c.substr(a,1)==="S"){var m="S";a+=1}else m=null,j&&h('"S"');m===null&&(c.substr(a,
1)==="s"?(m="s",a+=1):(m=null,j&&h('"s"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="K"){var n="K";a+=1}else n=null,j&&h('"K"');n===null&&(c.substr(a,1)==="k"?(n="k",a+=1):(n=null,j&&h('"k"')),n=n!==null?n:null);if(n!==null){for(var u=[],k=s();k!==null;)u.push(k),k=s();if(u!==null){for(var k=[],t=O();t!==null;)k.push(t),t=O();if(k!==null){for(var t=[],i=s();i!==null;)t.push(i),i=s();t!==null?(i=T(),i!==null?d=[d,q,m,n,u,k,t,i]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=
null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){for(var d={named:[],"default":[]},b=0;b<a.length;b++){var e=a[b];e.kind==="default"?d["default"].push(e.graph):d.named.push(e.graph)}d.named.length===0&&d["default"].length===0&&d["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"ask",token:"executableunit"};b.dataset=d;b.pattern=c;return b}(d[5],d[7]):null;e===null&&(e=null,a=D);(j=f)&&
e===null&&h("[11] AskQuery");y[b]={nextPos:a,result:e};return e}function O(){var b="DatasetClause@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var D=a,e=a;if(c.substr(a,1)==="F"){var d="F";a+=1}else d=null,j&&h('"F"');d===null&&(c.substr(a,1)==="f"?(d="f",a+=1):(d=null,j&&h('"f"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="R"){var q="R";a+=1}else q=null,j&&h('"R"');q===null&&(c.substr(a,1)==="r"?(q="r",a+=1):(q=null,j&&h('"r"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)===
"O"){var m="O";a+=1}else m=null,j&&h('"O"');m===null&&(c.substr(a,1)==="o"?(m="o",a+=1):(m=null,j&&h('"o"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="M"){var n="M";a+=1}else n=null,j&&h('"M"');n===null&&(c.substr(a,1)==="m"?(n="m",a+=1):(n=null,j&&h('"m"')),n=n!==null?n:null);if(n!==null){for(var u=[],k=s();k!==null;)u.push(k),k=s();if(u!==null)if(k=Y(),k===null&&(k=Z(),k=k!==null?k:null),k!==null){for(var t=[],i=s();i!==null;)t.push(i),i=s();t!==null?d=[d,q,m,n,u,k,t]:(d=null,a=e)}else d=
null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?d[5]:null;e===null&&(e=null,a=D);(j=f)&&e===null&&h("[12] DatasetClause");y[b]={nextPos:a,result:e};return e}function Y(){var c="DefaultGraphClause@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;for(var f=a,e=a,d=[],q=s();q!==null;)d.push(q),q=s();d!==null?(q=R(),q!==null?d=[d,q]:(d=null,a=e)):(d=null,a=e);e=d!==null?{graph:d[1],kind:"default",token:"graphClause"}:null;e===null&&(e=null,a=f);
(j=b)&&e===null&&h("[13] DefaultGraphClause");y[c]={nextPos:a,result:e};return e}function Z(){var b="NamedGraphClause@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var D=a,e=a;if(c.substr(a,1)==="N"){var d="N";a+=1}else d=null,j&&h('"N"');d===null&&(c.substr(a,1)==="n"?(d="n",a+=1):(d=null,j&&h('"n"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="A"){var q="A";a+=1}else q=null,j&&h('"A"');q===null&&(c.substr(a,1)==="a"?(q="a",a+=1):(q=null,j&&h('"a"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,
1)==="M"){var m="M";a+=1}else m=null,j&&h('"M"');m===null&&(c.substr(a,1)==="m"?(m="m",a+=1):(m=null,j&&h('"m"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var n="E";a+=1}else n=null,j&&h('"E"');n===null&&(c.substr(a,1)==="e"?(n="e",a+=1):(n=null,j&&h('"e"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="D"){var u="D";a+=1}else u=null,j&&h('"D"');u===null&&(c.substr(a,1)==="d"?(u="d",a+=1):(u=null,j&&h('"d"')),u=u!==null?u:null);if(u!==null){for(var k=[],t=s();t!==null;)k.push(t),
t=s();k!==null?(t=R(),t!==null?d=[d,q,m,n,u,k,t]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?{graph:d[6],kind:"named",token:"graphCluase"}:null;e===null&&(e=null,a=D);(j=f)&&e===null&&h("[14] NamedGraphClause");y[b]={nextPos:a,result:e};return e}function T(){var b="WhereClause@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var D=a,e=a,d=a;if(c.substr(a,1)==="W"){var q="W";a+=1}else q=null,j&&h('"W"');q===null&&(c.substr(a,
1)==="w"?(q="w",a+=1):(q=null,j&&h('"w"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="H"){var m="H";a+=1}else m=null,j&&h('"H"');m===null&&(c.substr(a,1)==="h"?(m="h",a+=1):(m=null,j&&h('"h"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var n="E";a+=1}else n=null,j&&h('"E"');n===null&&(c.substr(a,1)==="e"?(n="e",a+=1):(n=null,j&&h('"e"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="R"){var u="R";a+=1}else u=null,j&&h('"R"');u===null&&(c.substr(a,1)==="r"?(u="r",a+=1):
(u=null,j&&h('"r"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var k="E";a+=1}else k=null,j&&h('"E"');k===null&&(c.substr(a,1)==="e"?(k="e",a+=1):(k=null,j&&h('"e"')),k=k!==null?k:null);k!==null?q=[q,m,n,u,k]:(q=null,a=d)}else q=null,a=d}else q=null,a=d}else q=null,a=d}else q=null,a=d;d=q!==null?q:"";if(d!==null){q=[];for(m=s();m!==null;)q.push(m),m=s();if(q!==null)if(m=U(),m!==null){n=[];for(u=s();u!==null;)n.push(u),u=s();n!==null?d=[d,q,m,n]:(d=null,a=e)}else d=null,a=e;else d=null,
a=e}else d=null,a=e;e=d!==null?d[2]:null;e===null&&(e=null,a=D);(j=f)&&e===null&&h("[16] WhereClause");y[b]={nextPos:a,result:e};return e}function W(){var c="SolutionModifier@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=a,d=ea(),d=d!==null?d:"";if(d!==null){var q=sb(),q=q!==null?q:"";if(q!==null){var m=ub(),m=m!==null?m:"";if(m!==null){var n=vb(),n=n!==null?n:"";n!==null?d=[d,q,m,n]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c,b){var d={};
if(b!=null){if(b.limit!=null)d.limit=b.limit;if(b.offset!=null)d.offset=b.offset}if(a!=null)d.group=a;d.order=c;return d}(d[0],d[2],d[3]):null;e===null&&(e=null,a=f);(j=b)&&e===null&&h("[17] SolutionModifier");y[c]={nextPos:a,result:e};return e}function ea(){var b="GroupClause@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var D=a,e=a;if(c.substr(a,1)==="G"){var d="G";a+=1}else d=null,j&&h('"G"');d===null&&(c.substr(a,1)==="g"?(d="g",a+=1):(d=null,j&&h('"g"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,
1)==="R"){var q="R";a+=1}else q=null,j&&h('"R"');q===null&&(c.substr(a,1)==="r"?(q="r",a+=1):(q=null,j&&h('"r"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="O"){var m="O";a+=1}else m=null,j&&h('"O"');m===null&&(c.substr(a,1)==="o"?(m="o",a+=1):(m=null,j&&h('"o"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="U"){var n="U";a+=1}else n=null,j&&h('"U"');n===null&&(c.substr(a,1)==="u"?(n="u",a+=1):(n=null,j&&h('"u"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="P"){var u="P";a+=
1}else u=null,j&&h('"P"');u===null&&(c.substr(a,1)==="p"?(u="p",a+=1):(u=null,j&&h('"p"')),u=u!==null?u:null);if(u!==null){for(var k=[],t=s();t!==null;)k.push(t),t=s();if(k!==null)if(c.substr(a,1)==="B"?(t="B",a+=1):(t=null,j&&h('"B"')),t===null&&(c.substr(a,1)==="b"?(t="b",a+=1):(t=null,j&&h('"b"')),t=t!==null?t:null),t!==null){if(c.substr(a,1)==="Y"){var i="Y";a+=1}else i=null,j&&h('"Y"');i===null&&(c.substr(a,1)==="y"?(i="y",a+=1):(i=null,j&&h('"y"')),i=i!==null?i:null);if(i!==null){for(var g=
[],o=s();o!==null;)g.push(o),o=s();if(g!==null){o=ga();if(o!==null)for(var r=[];o!==null;)r.push(o),o=ga();else r=null;r!==null?d=[d,q,m,n,u,k,t,i,g,r]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?d[9]:null;e===null&&(e=null,a=D);(j=f)&&e===null&&h("[18] GroupClause");y[b]={nextPos:a,result:e};return e}function ga(){var b="GroupCondition@"+a,f=y[b];if(f)return a=f.nextPos,f.result;
f=j;j=!1;for(var D=a,e=a,d=[],q=s();q!==null;)d.push(q),q=s();if(d!==null)if(q=Ba(),q!==null){for(var m=[],n=s();n!==null;)m.push(n),n=s();m!==null?d=[d,q,m]:(d=null,a=e)}else d=null,a=e;else d=null,a=e;e=d!==null?d[1]:null;e===null&&(e=null,a=D);if(e!==null)D=e;else{e=D=a;d=[];for(q=s();q!==null;)d.push(q),q=s();if(d!==null)if(q=Ua(),q!==null){m=[];for(n=s();n!==null;)m.push(n),n=s();m!==null?d=[d,q,m]:(d=null,a=e)}else d=null,a=e;else d=null,a=e;e=d!==null?d[1]:null;e===null&&(e=null,a=D);if(e!==
null)D=e;else{e=D=a;d=[];for(q=s();q!==null;)d.push(q),q=s();if(d!==null)if(c.substr(a,1)==="("?(q="(",a+=1):(q=null,j&&h('"("')),q!==null){m=[];for(n=s();n!==null;)m.push(n),n=s();if(m!==null)if(n=M(),n!==null){for(var u=[],k=s();k!==null;)u.push(k),k=s();if(u!==null){k=a;if(c.substr(a,1)==="A"){var t="A";a+=1}else t=null,j&&h('"A"');t===null&&(c.substr(a,1)==="a"?(t="a",a+=1):(t=null,j&&h('"a"')),t=t!==null?t:null);if(t!==null){if(c.substr(a,1)==="S"){var i="S";a+=1}else i=null,j&&h('"S"');i===
null&&(c.substr(a,1)==="s"?(i="s",a+=1):(i=null,j&&h('"s"')),i=i!==null?i:null);if(i!==null){for(var g=[],o=s();o!==null;)g.push(o),o=s();g!==null?(o=Q(),o!==null?t=[t,i,g,o]:(t=null,a=k)):(t=null,a=k)}else t=null,a=k}else t=null,a=k;k=t!==null?t:"";if(k!==null){t=[];for(i=s();i!==null;)t.push(i),i=s();if(t!==null)if(c.substr(a,1)===")"?(i=")",a+=1):(i=null,j&&h('")"')),i!==null){g=[];for(o=s();o!==null;)g.push(o),o=s();g!==null?d=[d,q,m,n,u,k,t,i,g]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=
null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?d[5].length!=0?{token:"aliased_expression",expression:d[3],alias:d[5][3]}:d[3]:null;e===null&&(e=null,a=D);if(e!==null)D=e;else{e=D=a;d=[];for(q=s();q!==null;)d.push(q),q=s();if(d!==null)if(q=Q(),q!==null){m=[];for(n=s();n!==null;)m.push(n),n=s();m!==null?d=[d,q,m]:(d=null,a=e)}else d=null,a=e;else d=null,a=e;e=d!==null?d[1]:null;e===null&&(e=null,a=D);D=e!==null?e:null}}}(j=f)&&D===null&&h("[19] GroupCondition");
y[b]={nextPos:a,result:D};return D}function sb(){var b="HavingClause@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var D=a;if(c.substr(a,6)==="HAVING"){var e="HAVING";a+=6}else e=null,j&&h('"HAVING"');if(e!==null){var d=ua();if(d!==null)for(var q=[];d!==null;)q.push(d),d=ua();else q=null;q!==null?e=[e,q]:(e=null,a=D)}else e=null,a=D;(j=f)&&e===null&&h("[20] HavingClause");y[b]={nextPos:a,result:e};return e}function ub(){var b="OrderClause@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;
var D=a,e=a;if(c.substr(a,1)==="O"){var d="O";a+=1}else d=null,j&&h('"O"');d===null&&(c.substr(a,1)==="o"?(d="o",a+=1):(d=null,j&&h('"o"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="R"){var q="R";a+=1}else q=null,j&&h('"R"');q===null&&(c.substr(a,1)==="r"?(q="r",a+=1):(q=null,j&&h('"r"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="D"){var m="D";a+=1}else m=null,j&&h('"D"');m===null&&(c.substr(a,1)==="d"?(m="d",a+=1):(m=null,j&&h('"d"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,
1)==="E"){var n="E";a+=1}else n=null,j&&h('"E"');n===null&&(c.substr(a,1)==="e"?(n="e",a+=1):(n=null,j&&h('"e"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="R"){var u="R";a+=1}else u=null,j&&h('"R"');u===null&&(c.substr(a,1)==="r"?(u="r",a+=1):(u=null,j&&h('"r"')),u=u!==null?u:null);if(u!==null){for(var k=[],t=s();t!==null;)k.push(t),t=s();if(k!==null)if(c.substr(a,1)==="B"?(t="B",a+=1):(t=null,j&&h('"B"')),t===null&&(c.substr(a,1)==="b"?(t="b",a+=1):(t=null,j&&h('"b"')),t=t!==null?t:null),
t!==null){if(c.substr(a,1)==="Y"){var i="Y";a+=1}else i=null,j&&h('"Y"');i===null&&(c.substr(a,1)==="y"?(i="y",a+=1):(i=null,j&&h('"y"')),i=i!==null?i:null);if(i!==null){for(var g=[],o=s();o!==null;)g.push(o),o=s();if(g!==null){var r=Va();if(r!==null)for(o=[];r!==null;)o.push(r),r=Va();else o=null;if(o!==null){for(var r=[],v=s();v!==null;)r.push(v),v=s();r!==null?d=[d,q,m,n,u,k,t,i,g,o,r]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=
null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?d[9]:null;e===null&&(e=null,a=D);(j=f)&&e===null&&h("[22] OrderClause");y[b]={nextPos:a,result:e};return e}function Va(){var b="OrderCondition@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var D=a,e=a;if(c.substr(a,3)==="ASC"){var d="ASC";a+=3}else d=null,j&&h('"ASC"');d===null&&(c.substr(a,4)==="DESC"?(d="DESC",a+=4):(d=null,j&&h('"DESC"')),d=d!==null?d:null);if(d!==null){for(var q=[],m=s();m!==null;)q.push(m),m=s();if(q!==
null)if(m=Ca(),m!==null){for(var n=[],u=s();u!==null;)n.push(u),u=s();n!==null?d=[d,q,m,n]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?{direction:d[0],expression:d[2]}:null;e===null&&(e=null,a=D);if(e!==null)D=e;else{e=D=a;d=ua();d===null&&(d=Q(),d=d!==null?d:null);if(d!==null){q=[];for(m=s();m!==null;)q.push(m),m=s();q!==null?d=[d,q]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){a.token==="var"&&(a={token:"expression",expressionType:"atomic",primaryexpression:"var",
value:a});return{direction:"ASC",expression:a}}(d[0]):null;e===null&&(e=null,a=D);D=e!==null?e:null}(j=f)&&D===null&&h("[23] OrderCondition");y[b]={nextPos:a,result:D};return D}function vb(){var c="LimitOffsetClauses@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=a,d=Wa();if(d!==null){var q=Xa(),q=q!==null?q:"";q!==null?d=[d,q]:(d=null,a=e)}else d=null,a=e;d!==null?e=d:(e=a,d=Xa(),d!==null?(q=Wa(),q=q!==null?q:"",q!==null?d=[d,q]:(d=null,a=e)):(d=null,a=e),e=d!==null?d:null);e=e!==
null?function(a){for(var c={},b=0;b<a.length;b++){var d=a[b];if(d.limit!=null)c.limit=d.limit;else if(d.offset!=null)c.offset=d.offset}return c}(e):null;e===null&&(e=null,a=f);(j=b)&&e===null&&h("[24] LimitOffsetClauses");y[c]={nextPos:a,result:e};return e}function Wa(){var b="LimitClause@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var D=a,e=a;if(c.substr(a,1)==="L"){var d="L";a+=1}else d=null,j&&h('"L"');d===null&&(c.substr(a,1)==="l"?(d="l",a+=1):(d=null,j&&h('"l"')),d=d!==null?d:null);
if(d!==null){if(c.substr(a,1)==="I"){var q="I";a+=1}else q=null,j&&h('"I"');q===null&&(c.substr(a,1)==="i"?(q="i",a+=1):(q=null,j&&h('"i"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="M"){var m="M";a+=1}else m=null,j&&h('"M"');m===null&&(c.substr(a,1)==="m"?(m="m",a+=1):(m=null,j&&h('"m"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="I"){var n="I";a+=1}else n=null,j&&h('"I"');n===null&&(c.substr(a,1)==="i"?(n="i",a+=1):(n=null,j&&h('"i"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,
1)==="T"){var u="T";a+=1}else u=null,j&&h('"T"');u===null&&(c.substr(a,1)==="t"?(u="t",a+=1):(u=null,j&&h('"t"')),u=u!==null?u:null);if(u!==null){for(var k=[],t=s();t!==null;)k.push(t),t=s();if(k!==null)if(t=aa(),t!==null){for(var i=[],g=s();g!==null;)i.push(g),g=s();i!==null?d=[d,q,m,n,u,k,t,i]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?{limit:parseInt(d[6].value)}:null;e===null&&(e=null,a=D);(j=f)&&e===
null&&h("[25] LimitClause");y[b]={nextPos:a,result:e};return e}function Xa(){var b="OffsetClause@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var D=a,e=a;if(c.substr(a,1)==="O"){var d="O";a+=1}else d=null,j&&h('"O"');d===null&&(c.substr(a,1)==="o"?(d="o",a+=1):(d=null,j&&h('"o"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="F"){var q="F";a+=1}else q=null,j&&h('"F"');q===null&&(c.substr(a,1)==="f"?(q="f",a+=1):(q=null,j&&h('"f"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)===
"F"){var m="F";a+=1}else m=null,j&&h('"F"');m===null&&(c.substr(a,1)==="f"?(m="f",a+=1):(m=null,j&&h('"f"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="S"){var n="S";a+=1}else n=null,j&&h('"S"');n===null&&(c.substr(a,1)==="s"?(n="s",a+=1):(n=null,j&&h('"s"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="E"){var u="E";a+=1}else u=null,j&&h('"E"');u===null&&(c.substr(a,1)==="e"?(u="e",a+=1):(u=null,j&&h('"e"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="T"){var k="T";a+=1}else k=
null,j&&h('"T"');k===null&&(c.substr(a,1)==="t"?(k="t",a+=1):(k=null,j&&h('"t"')),k=k!==null?k:null);if(k!==null){for(var t=[],i=s();i!==null;)t.push(i),i=s();if(t!==null)if(i=aa(),i!==null){for(var g=[],o=s();o!==null;)g.push(o),o=s();g!==null?d=[d,q,m,n,u,k,t,i,g]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?{offset:parseInt(d[7].value)}:null;e===null&&(e=null,a=D);(j=f)&&e===null&&h("[26] OffsetClause");
y[b]={nextPos:a,result:e};return e}function pb(){var b="BindingsClause@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var D=a;if(c.substr(a,8)==="BINDINGS"){var e="BINDINGS";a+=8}else e=null,j&&h('"BINDINGS"');if(e!==null){for(var d=[],q=Q();q!==null;)d.push(q),q=Q();if(d!==null)if(c.substr(a,1)==="{"?(q="{",a+=1):(q=null,j&&h('"{"')),q!==null){var m=[],n=a;if(c.substr(a,1)==="("){var u="(";a+=1}else u=null,j&&h('"("');if(u!==null){var k=va();if(k!==null)for(var t=[];k!==null;)t.push(k),k=va();
else t=null;t!==null?(c.substr(a,1)===")"?(k=")",a+=1):(k=null,j&&h('")"')),k!==null?u=[u,t,k]:(u=null,a=n)):(u=null,a=n)}else u=null,a=n;u!==null?n=u:(n=ja(),n=n!==null?n:null);for(;n!==null;){m.push(n);n=a;c.substr(a,1)==="("?(u="(",a+=1):(u=null,j&&h('"("'));if(u!==null){k=va();if(k!==null)for(t=[];k!==null;)t.push(k),k=va();else t=null;t!==null?(c.substr(a,1)===")"?(k=")",a+=1):(k=null,j&&h('")"')),k!==null?u=[u,t,k]:(u=null,a=n)):(u=null,a=n)}else u=null,a=n;u!==null?n=u:(n=ja(),n=n!==null?n:
null)}m!==null?(c.substr(a,1)==="}"?(n="}",a+=1):(n=null,j&&h('"}"')),n!==null?e=[e,d,q,m,n]:(e=null,a=D)):(e=null,a=D)}else e=null,a=D;else e=null,a=D}else e=null,a=D;D=e!==null?e:"";(j=f)&&D===null&&h("[27] BindingsClause");y[b]={nextPos:a,result:D};return D}function va(){var b="BindingValue@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var D=R();D===null&&(D=Da(),D===null&&(D=Ea(),D===null&&(D=Fa(),D===null&&(c.substr(a,5)==="UNDEF"?(D="UNDEF",a+=5):(D=null,j&&h('"UNDEF"')),D=D!==null?D:
null))));(j=f)&&D===null&&h("[28] BindingValue");y[b]={nextPos:a,result:D};return D}function Sa(){var b="Update@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var D=a,e=a,d=v();if(d!==null){for(var q=[],m=s();m!==null;)q.push(m),m=s();if(q!==null)if(m=wb(),m!==null){for(var n=a,u=[],k=s();k!==null;)u.push(k),k=s();if(u!==null)if(c.substr(a,1)===";"?(k=";",a+=1):(k=null,j&&h('";"')),k!==null){for(var t=[],i=s();i!==null;)t.push(i),i=s();t!==null?(i=Sa(),i=i!==null?i:"",i!==null?u=[u,k,t,i]:(u=
null,a=n)):(u=null,a=n)}else u=null,a=n;else u=null,a=n;n=u!==null?u:"";n!==null?d=[d,q,m,n]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c,b){var d={token:"query",kind:"update"};d.prologue=a;a=[c];b.length!=null&&b[3]!=null&&b[3].units!=null&&(a=a.concat(b[3].units));d.units=a;return d}(d[0],d[2],d[3]):null;e===null&&(e=null,a=D);(j=f)&&e===null&&h("[30] Update");y[b]={nextPos:a,result:e};return e}function wb(){var c="Update1@"+a,b=y[c];if(b)return a=b.nextPos,
b.result;b=j;j=!1;var f=xb();f===null&&(f=yb(),f===null&&(f=zb(),f===null&&(f=Ab(),f===null&&(f=Bb(),f===null&&(f=Cb(),f===null&&(f=Db(),f===null&&(f=Eb(),f=f!==null?f:null)))))));(j=b)&&f===null&&h("[31] Update1");y[c]={nextPos:a,result:f};return f}function xb(){var b="Load@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var D=a,e=a;if(c.substr(a,1)==="L"){var d="L";a+=1}else d=null,j&&h('"L"');d===null&&(c.substr(a,1)==="l"?(d="l",a+=1):(d=null,j&&h('"l"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,
1)==="O"){var q="O";a+=1}else q=null,j&&h('"O"');q===null&&(c.substr(a,1)==="o"?(q="o",a+=1):(q=null,j&&h('"o"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="A"){var m="A";a+=1}else m=null,j&&h('"A"');m===null&&(c.substr(a,1)==="a"?(m="a",a+=1):(m=null,j&&h('"a"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="D"){var n="D";a+=1}else n=null,j&&h('"D"');n===null&&(c.substr(a,1)==="d"?(n="d",a+=1):(n=null,j&&h('"d"')),n=n!==null?n:null);if(n!==null){for(var u=[],k=s();k!==null;)u.push(k),
k=s();if(u!==null)if(k=R(),k!==null){for(var t=[],i=s();i!==null;)t.push(i),i=s();if(t!==null){i=a;if(c.substr(a,1)==="I"){var g="I";a+=1}else g=null,j&&h('"I"');g===null&&(c.substr(a,1)==="i"?(g="i",a+=1):(g=null,j&&h('"i"')),g=g!==null?g:null);if(g!==null){if(c.substr(a,1)==="N"){var o="N";a+=1}else o=null,j&&h('"N"');o===null&&(c.substr(a,1)==="n"?(o="n",a+=1):(o=null,j&&h('"n"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="T"){var r="T";a+=1}else r=null,j&&h('"T"');r===null&&(c.substr(a,
1)==="t"?(r="t",a+=1):(r=null,j&&h('"t"')),r=r!==null?r:null);if(r!==null){if(c.substr(a,1)==="O"){var v="O";a+=1}else v=null,j&&h('"O"');v===null&&(c.substr(a,1)==="o"?(v="o",a+=1):(v=null,j&&h('"o"')),v=v!==null?v:null);if(v!==null){for(var w=[],C=s();C!==null;)w.push(C),C=s();w!==null?(C=Ga(),C!==null?g=[g,o,r,v,w,C]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i}else g=null,a=i}else g=null,a=i}else g=null,a=i;i=g!==null?g:"";i!==null?d=[d,q,m,n,u,k,t,i]:(d=null,a=e)}else d=null,a=e}else d=null,a=
e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c){var b={kind:"load",token:"executableunit"};b.sourceGraph=a;b.destinyGraph=c[5];return b}(d[5],d[7]):null;e===null&&(e=null,a=D);(j=f)&&e===null&&h("[32] Load");y[b]={nextPos:a,result:e};return e}function yb(){var b="Clear@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="C"){var d="C";a+=1}else d=null,j&&h('"C"');d===null&&(c.substr(a,1)==="c"?(d="c",a+=1):
(d=null,j&&h('"c"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="L"){var q="L";a+=1}else q=null,j&&h('"L"');q===null&&(c.substr(a,1)==="l"?(q="l",a+=1):(q=null,j&&h('"l"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="E"){var m="E";a+=1}else m=null,j&&h('"E"');m===null&&(c.substr(a,1)==="e"?(m="e",a+=1):(m=null,j&&h('"e"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="A"){var n="A";a+=1}else n=null,j&&h('"A"');n===null&&(c.substr(a,1)==="a"?(n="a",a+=1):(n=null,j&&h('"a"')),
n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="R"){var u="R";a+=1}else u=null,j&&h('"R"');u===null&&(c.substr(a,1)==="r"?(u="r",a+=1):(u=null,j&&h('"r"')),u=u!==null?u:null);if(u!==null){for(var i=[],t=s();t!==null;)i.push(t),t=s();if(i!==null){t=a;if(c.substr(a,1)==="S"){var g="S";a+=1}else g=null,j&&h('"S"');g===null&&(c.substr(a,1)==="s"?(g="s",a+=1):(g=null,j&&h('"s"')),g=g!==null?g:null);if(g!==null){if(c.substr(a,1)==="I"){var o="I";a+=1}else o=null,j&&h('"I"');o===null&&(c.substr(a,1)===
"i"?(o="i",a+=1):(o=null,j&&h('"i"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="L"){var r="L";a+=1}else r=null,j&&h('"L"');r===null&&(c.substr(a,1)==="l"?(r="l",a+=1):(r=null,j&&h('"l"')),r=r!==null?r:null);if(r!==null){if(c.substr(a,1)==="E"){var z="E";a+=1}else z=null,j&&h('"E"');z===null&&(c.substr(a,1)==="e"?(z="e",a+=1):(z=null,j&&h('"e"')),z=z!==null?z:null);if(z!==null){if(c.substr(a,1)==="N"){var v="N";a+=1}else v=null,j&&h('"N"');v===null&&(c.substr(a,1)==="n"?(v="n",a+=1):(v=null,
j&&h('"n"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="T"){var w="T";a+=1}else w=null,j&&h('"T"');w===null&&(c.substr(a,1)==="t"?(w="t",a+=1):(w=null,j&&h('"t"')),w=w!==null?w:null);w!==null?g=[g,o,r,z,v,w]:(g=null,a=t)}else g=null,a=t}else g=null,a=t}else g=null,a=t}else g=null,a=t}else g=null,a=t;t=g!==null?g:"";if(t!==null){g=[];for(o=s();o!==null;)g.push(o),o=s();g!==null?(o=Ya(),o!==null?d=[d,q,m,n,u,i,t,g,o]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=
e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={kind:"clear",token:"executableunit"};c.destinyGraph=a;return c}(d[8]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[33] Clear");y[b]={nextPos:a,result:e};return e}function zb(){var b="Drop@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="D"){var d="D";a+=1}else d=null,j&&h('"D"');d===null&&(c.substr(a,1)==="d"?(d="d",a+=1):(d=null,j&&h('"d"')),d=d!==null?d:null);if(d!==
null){if(c.substr(a,1)==="R"){var q="R";a+=1}else q=null,j&&h('"R"');q===null&&(c.substr(a,1)==="r"?(q="r",a+=1):(q=null,j&&h('"r"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="O"){var m="O";a+=1}else m=null,j&&h('"O"');m===null&&(c.substr(a,1)==="o"?(m="o",a+=1):(m=null,j&&h('"o"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="P"){var n="P";a+=1}else n=null,j&&h('"P"');n===null&&(c.substr(a,1)==="p"?(n="p",a+=1):(n=null,j&&h('"p"')),n=n!==null?n:null);if(n!==null){for(var u=[],i=
s();i!==null;)u.push(i),i=s();if(u!==null){i=a;if(c.substr(a,1)==="S"){var t="S";a+=1}else t=null,j&&h('"S"');t===null&&(c.substr(a,1)==="s"?(t="s",a+=1):(t=null,j&&h('"s"')),t=t!==null?t:null);if(t!==null){if(c.substr(a,1)==="I"){var g="I";a+=1}else g=null,j&&h('"I"');g===null&&(c.substr(a,1)==="i"?(g="i",a+=1):(g=null,j&&h('"i"')),g=g!==null?g:null);if(g!==null){if(c.substr(a,1)==="L"){var o="L";a+=1}else o=null,j&&h('"L"');o===null&&(c.substr(a,1)==="l"?(o="l",a+=1):(o=null,j&&h('"l"')),o=o!==
null?o:null);if(o!==null){if(c.substr(a,1)==="E"){var r="E";a+=1}else r=null,j&&h('"E"');r===null&&(c.substr(a,1)==="e"?(r="e",a+=1):(r=null,j&&h('"e"')),r=r!==null?r:null);if(r!==null){if(c.substr(a,1)==="N"){var z="N";a+=1}else z=null,j&&h('"N"');z===null&&(c.substr(a,1)==="n"?(z="n",a+=1):(z=null,j&&h('"n"')),z=z!==null?z:null);if(z!==null){if(c.substr(a,1)==="T"){var v="T";a+=1}else v=null,j&&h('"T"');v===null&&(c.substr(a,1)==="t"?(v="t",a+=1):(v=null,j&&h('"t"')),v=v!==null?v:null);v!==null?
t=[t,g,o,r,z,v]:(t=null,a=i)}else t=null,a=i}else t=null,a=i}else t=null,a=i}else t=null,a=i}else t=null,a=i;i=t!==null?t:"";if(i!==null){t=[];for(g=s();g!==null;)t.push(g),g=s();t!==null?(g=Ya(),g!==null?d=[d,q,m,n,u,i,t,g]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={kind:"drop",token:"executableunit"};c.destinyGraph=a;return c}(d[7]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[34] Drop");
y[b]={nextPos:a,result:e};return e}function Ab(){var b="Create@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="C"){var d="C";a+=1}else d=null,j&&h('"C"');d===null&&(c.substr(a,1)==="c"?(d="c",a+=1):(d=null,j&&h('"c"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="R"){var q="R";a+=1}else q=null,j&&h('"R"');q===null&&(c.substr(a,1)==="r"?(q="r",a+=1):(q=null,j&&h('"r"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="E"){var m="E";a+=1}else m=null,j&&
h('"E"');m===null&&(c.substr(a,1)==="e"?(m="e",a+=1):(m=null,j&&h('"e"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="A"){var n="A";a+=1}else n=null,j&&h('"A"');n===null&&(c.substr(a,1)==="a"?(n="a",a+=1):(n=null,j&&h('"a"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="T"){var u="T";a+=1}else u=null,j&&h('"T"');u===null&&(c.substr(a,1)==="t"?(u="t",a+=1):(u=null,j&&h('"t"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var i="E";a+=1}else i=null,j&&h('"E"');i===null&&(c.substr(a,
1)==="e"?(i="e",a+=1):(i=null,j&&h('"e"')),i=i!==null?i:null);if(i!==null){for(var t=[],g=s();g!==null;)t.push(g),g=s();if(t!==null){g=a;if(c.substr(a,1)==="S"){var o="S";a+=1}else o=null,j&&h('"S"');o===null&&(c.substr(a,1)==="s"?(o="s",a+=1):(o=null,j&&h('"s"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="I"){var r="I";a+=1}else r=null,j&&h('"I"');r===null&&(c.substr(a,1)==="i"?(r="i",a+=1):(r=null,j&&h('"i"')),r=r!==null?r:null);if(r!==null){if(c.substr(a,1)==="L"){var z="L";a+=1}else z=
null,j&&h('"L"');z===null&&(c.substr(a,1)==="l"?(z="l",a+=1):(z=null,j&&h('"l"')),z=z!==null?z:null);if(z!==null){if(c.substr(a,1)==="E"){var v="E";a+=1}else v=null,j&&h('"E"');v===null&&(c.substr(a,1)==="e"?(v="e",a+=1):(v=null,j&&h('"e"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="N"){var w="N";a+=1}else w=null,j&&h('"N"');w===null&&(c.substr(a,1)==="n"?(w="n",a+=1):(w=null,j&&h('"n"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="T"){var C="T";a+=1}else C=null,j&&h('"T"');C===
null&&(c.substr(a,1)==="t"?(C="t",a+=1):(C=null,j&&h('"t"')),C=C!==null?C:null);C!==null?o=[o,r,z,v,w,C]:(o=null,a=g)}else o=null,a=g}else o=null,a=g}else o=null,a=g}else o=null,a=g}else o=null,a=g;g=o!==null?o:"";if(g!==null){o=[];for(r=s();r!==null;)o.push(r),r=s();o!==null?(r=Ga(),r!==null?d=[d,q,m,n,u,i,t,g,o,r]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c=
{kind:"create",token:"executableunit"};c.destinyGraph=a;return c}(d[9]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[35] Create");y[b]={nextPos:a,result:e};return e}function Bb(){var b="InsertData@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="I"){var d="I";a+=1}else d=null,j&&h('"I"');d===null&&(c.substr(a,1)==="i"?(d="i",a+=1):(d=null,j&&h('"i"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="N"){var q="N";a+=1}else q=null,j&&h('"N"');q===null&&(c.substr(a,
1)==="n"?(q="n",a+=1):(q=null,j&&h('"n"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="S"){var m="S";a+=1}else m=null,j&&h('"S"');m===null&&(c.substr(a,1)==="s"?(m="s",a+=1):(m=null,j&&h('"s"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var n="E";a+=1}else n=null,j&&h('"E"');n===null&&(c.substr(a,1)==="e"?(n="e",a+=1):(n=null,j&&h('"e"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="R"){var u="R";a+=1}else u=null,j&&h('"R"');u===null&&(c.substr(a,1)==="r"?(u="r",a+=1):
(u=null,j&&h('"r"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="T"){var i="T";a+=1}else i=null,j&&h('"T"');i===null&&(c.substr(a,1)==="t"?(i="t",a+=1):(i=null,j&&h('"t"')),i=i!==null?i:null);if(i!==null){for(var t=[],g=s();g!==null;)t.push(g),g=s();if(t!==null)if(c.substr(a,1)==="D"?(g="D",a+=1):(g=null,j&&h('"D"')),g===null&&(c.substr(a,1)==="d"?(g="d",a+=1):(g=null,j&&h('"d"')),g=g!==null?g:null),g!==null){if(c.substr(a,1)==="A"){var o="A";a+=1}else o=null,j&&h('"A"');o===null&&(c.substr(a,
1)==="a"?(o="a",a+=1):(o=null,j&&h('"a"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="T"){var r="T";a+=1}else r=null,j&&h('"T"');r===null&&(c.substr(a,1)==="t"?(r="t",a+=1):(r=null,j&&h('"t"')),r=r!==null?r:null);if(r!==null){if(c.substr(a,1)==="A"){var z="A";a+=1}else z=null,j&&h('"A"');z===null&&(c.substr(a,1)==="a"?(z="a",a+=1):(z=null,j&&h('"a"')),z=z!==null?z:null);if(z!==null){for(var v=[],w=s();w!==null;)v.push(w),w=s();v!==null?(w=Za(),w!==null?d=[d,q,m,n,u,i,t,g,o,r,z,v,w]:(d=null,
a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={kind:"insertdata",token:"executableunit"};c.quads=a;return c}(d[12]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[36] InsertData");y[b]={nextPos:a,result:e};return e}function Cb(){var b="DeleteData@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,
1)==="D"){var d="D";a+=1}else d=null,j&&h('"D"');d===null&&(c.substr(a,1)==="d"?(d="d",a+=1):(d=null,j&&h('"d"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="E"){var q="E";a+=1}else q=null,j&&h('"E"');q===null&&(c.substr(a,1)==="e"?(q="e",a+=1):(q=null,j&&h('"e"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="L"){var m="L";a+=1}else m=null,j&&h('"L"');m===null&&(c.substr(a,1)==="l"?(m="l",a+=1):(m=null,j&&h('"l"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var n="E";a+=
1}else n=null,j&&h('"E"');n===null&&(c.substr(a,1)==="e"?(n="e",a+=1):(n=null,j&&h('"e"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="T"){var u="T";a+=1}else u=null,j&&h('"T"');u===null&&(c.substr(a,1)==="t"?(u="t",a+=1):(u=null,j&&h('"t"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var i="E";a+=1}else i=null,j&&h('"E"');i===null&&(c.substr(a,1)==="e"?(i="e",a+=1):(i=null,j&&h('"e"')),i=i!==null?i:null);if(i!==null){for(var t=[],g=s();g!==null;)t.push(g),g=s();if(t!==null)if(c.substr(a,
1)==="D"?(g="D",a+=1):(g=null,j&&h('"D"')),g===null&&(c.substr(a,1)==="d"?(g="d",a+=1):(g=null,j&&h('"d"')),g=g!==null?g:null),g!==null){if(c.substr(a,1)==="A"){var o="A";a+=1}else o=null,j&&h('"A"');o===null&&(c.substr(a,1)==="a"?(o="a",a+=1):(o=null,j&&h('"a"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="T"){var r="T";a+=1}else r=null,j&&h('"T"');r===null&&(c.substr(a,1)==="t"?(r="t",a+=1):(r=null,j&&h('"t"')),r=r!==null?r:null);if(r!==null){if(c.substr(a,1)==="A"){var z="A";a+=1}else z=
null,j&&h('"A"');z===null&&(c.substr(a,1)==="a"?(z="a",a+=1):(z=null,j&&h('"a"')),z=z!==null?z:null);if(z!==null){var v=Za();v!==null?d=[d,q,m,n,u,i,t,g,o,r,z,v]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={kind:"deletedata",token:"executableunit"};c.quads=a;return c}(d[11]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[37] DeleteData");
y[b]={nextPos:a,result:e};return e}function Db(){var b="DeleteWhere@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="D"){var d="D";a+=1}else d=null,j&&h('"D"');d===null&&(c.substr(a,1)==="d"?(d="d",a+=1):(d=null,j&&h('"d"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="E"){var q="E";a+=1}else q=null,j&&h('"E"');q===null&&(c.substr(a,1)==="e"?(q="e",a+=1):(q=null,j&&h('"e"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="L"){var m="L";a+=1}else m=null,
j&&h('"L"');m===null&&(c.substr(a,1)==="l"?(m="l",a+=1):(m=null,j&&h('"l"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var n="E";a+=1}else n=null,j&&h('"E"');n===null&&(c.substr(a,1)==="e"?(n="e",a+=1):(n=null,j&&h('"e"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="T"){var u="T";a+=1}else u=null,j&&h('"T"');u===null&&(c.substr(a,1)==="t"?(u="t",a+=1):(u=null,j&&h('"t"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var i="E";a+=1}else i=null,j&&h('"E"');i===null&&
(c.substr(a,1)==="e"?(i="e",a+=1):(i=null,j&&h('"e"')),i=i!==null?i:null);if(i!==null){for(var t=[],g=s();g!==null;)t.push(g),g=s();if(t!==null)if(c.substr(a,1)==="W"?(g="W",a+=1):(g=null,j&&h('"W"')),g===null&&(c.substr(a,1)==="w"?(g="w",a+=1):(g=null,j&&h('"w"')),g=g!==null?g:null),g!==null){if(c.substr(a,1)==="H"){var o="H";a+=1}else o=null,j&&h('"H"');o===null&&(c.substr(a,1)==="h"?(o="h",a+=1):(o=null,j&&h('"h"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="E"){var r="E";a+=1}else r=
null,j&&h('"E"');r===null&&(c.substr(a,1)==="e"?(r="e",a+=1):(r=null,j&&h('"e"')),r=r!==null?r:null);if(r!==null){if(c.substr(a,1)==="R"){var z="R";a+=1}else z=null,j&&h('"R"');z===null&&(c.substr(a,1)==="r"?(z="r",a+=1):(z=null,j&&h('"r"')),z=z!==null?z:null);if(z!==null){if(c.substr(a,1)==="E"){var v="E";a+=1}else v=null,j&&h('"E"');v===null&&(c.substr(a,1)==="e"?(v="e",a+=1):(v=null,j&&h('"e"')),v=v!==null?v:null);if(v!==null){for(var w=[],C=s();C!==null;)w.push(C),C=s();w!==null?(C=U(),C!==null?
d=[d,q,m,n,u,i,t,g,o,r,z,v,w,C]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={kind:"modify"};c.pattern=a;c["with"]=null;c.using=null;for(var b=[],a=a.patterns[0],a=a.triplesContext==null&&a.patterns!=null?a.patterns[0].triplesContext:a.triplesContext,d=0;d<a.length;d++){var e={},h=a[d];e.subject=h.subject;
e.predicate=h.predicate;e.object=h.object;e.graph=h.graph;b.push(e)}c["delete"]=b;return c}(d[13]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[38] DeleteWhere");y[b]={nextPos:a,result:e};return e}function Eb(){var b="Modify@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=a;if(c.substr(a,1)==="W"){var q="W";a+=1}else q=null,j&&h('"W"');q===null&&(c.substr(a,1)==="w"?(q="w",a+=1):(q=null,j&&h('"w"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="I"){var m="I";a+=1}else m=
null,j&&h('"I"');m===null&&(c.substr(a,1)==="i"?(m="i",a+=1):(m=null,j&&h('"i"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="T"){var n="T";a+=1}else n=null,j&&h('"T"');n===null&&(c.substr(a,1)==="t"?(n="t",a+=1):(n=null,j&&h('"t"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="H"){var u="H";a+=1}else u=null,j&&h('"H"');u===null&&(c.substr(a,1)==="h"?(u="h",a+=1):(u=null,j&&h('"h"')),u=u!==null?u:null);if(u!==null){for(var i=[],g=s();g!==null;)i.push(g),g=s();i!==null?(g=R(),g!==null?
q=[q,m,n,u,i,g]:(q=null,a=d)):(q=null,a=d)}else q=null,a=d}else q=null,a=d}else q=null,a=d}else q=null,a=d;d=q!==null?q:"";if(d!==null){q=[];for(m=s();m!==null;)q.push(m),m=s();if(q!==null){m=a;n=Fb();if(n!==null){u=[];for(i=s();i!==null;)u.push(i),i=s();u!==null?(i=$a(),i=i!==null?i:"",i!==null?n=[n,u,i]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;n!==null?m=n:(m=$a(),m=m!==null?m:null);if(m!==null){n=[];for(u=s();u!==null;)n.push(u),u=s();if(n!==null){u=[];for(i=ab();i!==null;)u.push(i),i=ab();if(u!==
null){i=[];for(g=s();g!==null;)i.push(g),g=s();if(i!==null)if(c.substr(a,1)==="W"?(g="W",a+=1):(g=null,j&&h('"W"')),g===null&&(c.substr(a,1)==="w"?(g="w",a+=1):(g=null,j&&h('"w"')),g=g!==null?g:null),g!==null){if(c.substr(a,1)==="H"){var o="H";a+=1}else o=null,j&&h('"H"');o===null&&(c.substr(a,1)==="h"?(o="h",a+=1):(o=null,j&&h('"h"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="E"){var r="E";a+=1}else r=null,j&&h('"E"');r===null&&(c.substr(a,1)==="e"?(r="e",a+=1):(r=null,j&&h('"e"')),r=r!==
null?r:null);if(r!==null){if(c.substr(a,1)==="R"){var v="R";a+=1}else v=null,j&&h('"R"');v===null&&(c.substr(a,1)==="r"?(v="r",a+=1):(v=null,j&&h('"r"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="E"){var z="E";a+=1}else z=null,j&&h('"E"');z===null&&(c.substr(a,1)==="e"?(z="e",a+=1):(z=null,j&&h('"e"')),z=z!==null?z:null);if(z!==null){for(var w=[],B=s();B!==null;)w.push(B),B=s();if(w!==null)if(B=U(),B!==null){for(var C=[],x=s();x!==null;)C.push(x),x=s();C!==null?d=[d,q,m,n,u,i,g,o,r,v,z,
w,B,C]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c,b,d){var e={kind:"modify"};e["with"]=a!=""?a[5]:null;c.length===3&&c[2]===""?(e["delete"]=c[0],e.insert=null):c.length===3&&c[0].length!=null&&c[1].length!=null&&c[2].length!=null?(e["delete"]=c[0],e.insert=c[2]):(e.insert=c,e["delete"]=null);b!=""&&
(e.using=b);e.pattern=d;return e}(d[0],d[2],d[4],d[12]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[39] Modify");y[b]={nextPos:a,result:e};return e}function Fb(){var b="DeleteClause@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="D"){var d="D";a+=1}else d=null,j&&h('"D"');d===null&&(c.substr(a,1)==="d"?(d="d",a+=1):(d=null,j&&h('"d"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="E"){var q="E";a+=1}else q=null,j&&h('"E"');q===null&&(c.substr(a,1)===
"e"?(q="e",a+=1):(q=null,j&&h('"e"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="L"){var m="L";a+=1}else m=null,j&&h('"L"');m===null&&(c.substr(a,1)==="l"?(m="l",a+=1):(m=null,j&&h('"l"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var n="E";a+=1}else n=null,j&&h('"E"');n===null&&(c.substr(a,1)==="e"?(n="e",a+=1):(n=null,j&&h('"e"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="T"){var u="T";a+=1}else u=null,j&&h('"T"');u===null&&(c.substr(a,1)==="t"?(u="t",a+=1):(u=null,
j&&h('"t"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var i="E";a+=1}else i=null,j&&h('"E"');i===null&&(c.substr(a,1)==="e"?(i="e",a+=1):(i=null,j&&h('"e"')),i=i!==null?i:null);if(i!==null){var g=bb();g!==null?d=[d,q,m,n,u,i,g]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?d[6]:null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[40] DeleteClause");y[b]={nextPos:a,result:e};return e}function $a(){var b="InsertClause@"+
a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="I"){var d="I";a+=1}else d=null,j&&h('"I"');d===null&&(c.substr(a,1)==="i"?(d="i",a+=1):(d=null,j&&h('"i"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="N"){var q="N";a+=1}else q=null,j&&h('"N"');q===null&&(c.substr(a,1)==="n"?(q="n",a+=1):(q=null,j&&h('"n"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="S"){var m="S";a+=1}else m=null,j&&h('"S"');m===null&&(c.substr(a,1)==="s"?(m="s",a+=1):(m=null,j&&
h('"s"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var n="E";a+=1}else n=null,j&&h('"E"');n===null&&(c.substr(a,1)==="e"?(n="e",a+=1):(n=null,j&&h('"e"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="R"){var u="R";a+=1}else u=null,j&&h('"R"');u===null&&(c.substr(a,1)==="r"?(u="r",a+=1):(u=null,j&&h('"r"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="T"){var i="T";a+=1}else i=null,j&&h('"T"');i===null&&(c.substr(a,1)==="t"?(i="t",a+=1):(i=null,j&&h('"t"')),i=i!==null?
i:null);if(i!==null){var g=bb();g!==null?d=[d,q,m,n,u,i,g]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?d[6]:null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[41] InsertClause");y[b]={nextPos:a,result:e};return e}function ab(){var b="UsingClause@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var i=a,e=a,d=[],q=s();q!==null;)d.push(q),q=s();if(d!==null)if(c.substr(a,1)==="U"?(q="U",a+=1):(q=null,j&&h('"U"')),q===null&&
(c.substr(a,1)==="u"?(q="u",a+=1):(q=null,j&&h('"u"')),q=q!==null?q:null),q!==null){if(c.substr(a,1)==="S"){var m="S";a+=1}else m=null,j&&h('"S"');m===null&&(c.substr(a,1)==="s"?(m="s",a+=1):(m=null,j&&h('"s"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="I"){var n="I";a+=1}else n=null,j&&h('"I"');n===null&&(c.substr(a,1)==="i"?(n="i",a+=1):(n=null,j&&h('"i"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="N"){var u="N";a+=1}else u=null,j&&h('"N"');u===null&&(c.substr(a,1)==="n"?(u=
"n",a+=1):(u=null,j&&h('"n"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="G"){var k="G";a+=1}else k=null,j&&h('"G"');k===null&&(c.substr(a,1)==="g"?(k="g",a+=1):(k=null,j&&h('"g"')),k=k!==null?k:null);if(k!==null){for(var g=[],o=s();o!==null;)g.push(o),o=s();if(g!==null){o=R();if(o===null){o=a;if(c.substr(a,1)==="N"){var r="N";a+=1}else r=null,j&&h('"N"');r===null&&(c.substr(a,1)==="n"?(r="n",a+=1):(r=null,j&&h('"n"')),r=r!==null?r:null);if(r!==null){if(c.substr(a,1)==="A"){var v="A";a+=
1}else v=null,j&&h('"A"');v===null&&(c.substr(a,1)==="a"?(v="a",a+=1):(v=null,j&&h('"a"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="M"){var z="M";a+=1}else z=null,j&&h('"M"');z===null&&(c.substr(a,1)==="m"?(z="m",a+=1):(z=null,j&&h('"m"')),z=z!==null?z:null);if(z!==null){if(c.substr(a,1)==="E"){var w="E";a+=1}else w=null,j&&h('"E"');w===null&&(c.substr(a,1)==="e"?(w="e",a+=1):(w=null,j&&h('"e"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="D"){var B="D";a+=1}else B=null,j&&h('"D"');
B===null&&(c.substr(a,1)==="d"?(B="d",a+=1):(B=null,j&&h('"d"')),B=B!==null?B:null);if(B!==null){for(var C=[],x=s();x!==null;)C.push(x),x=s();C!==null?(x=R(),x!==null?r=[r,v,z,w,B,C,x]:(r=null,a=o)):(r=null,a=o)}else r=null,a=o}else r=null,a=o}else r=null,a=o}else r=null,a=o}else r=null,a=o;o=r!==null?r:null}o!==null?d=[d,q,m,n,u,k,g,o]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?d[7].length!=null?{kind:"named",
uri:d[7][6]}:{kind:"default",uri:d[7]}:null;e===null&&(e=null,a=i);(j=f)&&e===null&&h("[42] UsingClause");y[b]={nextPos:a,result:e};return e}function Ga(){var b="GraphRef@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="G"){var d="G";a+=1}else d=null,j&&h('"G"');d===null&&(c.substr(a,1)==="g"?(d="g",a+=1):(d=null,j&&h('"g"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="R"){var q="R";a+=1}else q=null,j&&h('"R"');q===null&&(c.substr(a,1)==="r"?(q="r",a+=1):
(q=null,j&&h('"r"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="A"){var m="A";a+=1}else m=null,j&&h('"A"');m===null&&(c.substr(a,1)==="a"?(m="a",a+=1):(m=null,j&&h('"a"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="P"){var n="P";a+=1}else n=null,j&&h('"P"');n===null&&(c.substr(a,1)==="p"?(n="p",a+=1):(n=null,j&&h('"p"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="H"){var u="H";a+=1}else u=null,j&&h('"H"');u===null&&(c.substr(a,1)==="h"?(u="h",a+=1):(u=null,j&&h('"h"')),
u=u!==null?u:null);if(u!==null){for(var i=[],g=s();g!==null;)i.push(g),g=s();i!==null?(g=R(),g!==null?d=[d,q,m,n,u,i,g]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?d[6]:null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[43] GraphRef");y[b]={nextPos:a,result:e};return e}function Ya(){var b="GraphRefAll@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=Ga(),e=e!==null?e:null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=
k=a;if(c.substr(a,1)==="D"){var d="D";a+=1}else d=null,j&&h('"D"');d===null&&(c.substr(a,1)==="d"?(d="d",a+=1):(d=null,j&&h('"d"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="E"){var q="E";a+=1}else q=null,j&&h('"E"');q===null&&(c.substr(a,1)==="e"?(q="e",a+=1):(q=null,j&&h('"e"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="F"){var m="F";a+=1}else m=null,j&&h('"F"');m===null&&(c.substr(a,1)==="f"?(m="f",a+=1):(m=null,j&&h('"f"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)===
"A"){var n="A";a+=1}else n=null,j&&h('"A"');n===null&&(c.substr(a,1)==="a"?(n="a",a+=1):(n=null,j&&h('"a"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="U"){var u="U";a+=1}else u=null,j&&h('"U"');u===null&&(c.substr(a,1)==="u"?(u="u",a+=1):(u=null,j&&h('"u"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="L"){var i="L";a+=1}else i=null,j&&h('"L"');i===null&&(c.substr(a,1)==="l"?(i="l",a+=1):(i=null,j&&h('"l"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="T"){var g="T";a+=1}else g=
null,j&&h('"T"');g===null&&(c.substr(a,1)==="t"?(g="t",a+=1):(g=null,j&&h('"t"')),g=g!==null?g:null);g!==null?d=[d,q,m,n,u,i,g]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?"default":null;e===null&&(e=null,a=k);e!==null?k=e:(e=k=a,c.substr(a,1)==="N"?(d="N",a+=1):(d=null,j&&h('"N"')),d===null&&(c.substr(a,1)==="n"?(d="n",a+=1):(d=null,j&&h('"n"')),d=d!==null?d:null),d!==null?(c.substr(a,1)==="A"?(q="A",a+=1):(q=null,j&&h('"A"')),
q===null&&(c.substr(a,1)==="a"?(q="a",a+=1):(q=null,j&&h('"a"')),q=q!==null?q:null),q!==null?(c.substr(a,1)==="M"?(m="M",a+=1):(m=null,j&&h('"M"')),m===null&&(c.substr(a,1)==="m"?(m="m",a+=1):(m=null,j&&h('"m"')),m=m!==null?m:null),m!==null?(c.substr(a,1)==="E"?(n="E",a+=1):(n=null,j&&h('"E"')),n===null&&(c.substr(a,1)==="e"?(n="e",a+=1):(n=null,j&&h('"e"')),n=n!==null?n:null),n!==null?(c.substr(a,1)==="D"?(u="D",a+=1):(u=null,j&&h('"D"')),u===null&&(c.substr(a,1)==="d"?(u="d",a+=1):(u=null,j&&h('"d"')),
u=u!==null?u:null),u!==null?d=[d,q,m,n,u]:(d=null,a=e)):(d=null,a=e)):(d=null,a=e)):(d=null,a=e)):(d=null,a=e),e=d!==null?"named":null,e===null&&(e=null,a=k),e!==null?k=e:(e=k=a,c.substr(a,1)==="A"?(d="A",a+=1):(d=null,j&&h('"A"')),d===null&&(c.substr(a,1)==="a"?(d="a",a+=1):(d=null,j&&h('"a"')),d=d!==null?d:null),d!==null?(c.substr(a,1)==="L"?(q="L",a+=1):(q=null,j&&h('"L"')),q===null&&(c.substr(a,1)==="l"?(q="l",a+=1):(q=null,j&&h('"l"')),q=q!==null?q:null),q!==null?(c.substr(a,1)==="L"?(m="L",
a+=1):(m=null,j&&h('"L"')),m===null&&(c.substr(a,1)==="l"?(m="l",a+=1):(m=null,j&&h('"l"')),m=m!==null?m:null),m!==null?d=[d,q,m]:(d=null,a=e)):(d=null,a=e)):(d=null,a=e),e=d!==null?"all":null,e===null&&(e=null,a=k),k=e!==null?e:null))}(j=f)&&k===null&&h("[44] GraphRefAll");y[b]={nextPos:a,result:k};return k}function bb(){var b="QuadPattern@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var k=a,e=a,d=[],q=s();q!==null;)d.push(q),q=s();if(d!==null)if(c.substr(a,1)==="{"?(q="{",a+=1):(q=null,
j&&h('"{"')),q!==null){for(var m=[],n=s();n!==null;)m.push(n),n=s();if(m!==null)if(n=cb(),n!==null){for(var u=[],i=s();i!==null;)u.push(i),i=s();if(u!==null)if(c.substr(a,1)==="}"?(i="}",a+=1):(i=null,j&&h('"}"')),i!==null){for(var g=[],o=s();o!==null;)g.push(o),o=s();g!==null?d=[d,q,m,n,u,i,g]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?d[3].quadsContext:null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[45] QuadPattern");
y[b]={nextPos:a,result:e};return e}function Za(){var b="QuadData@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var k=a,e=a,d=[],q=s();q!==null;)d.push(q),q=s();if(d!==null)if(c.substr(a,1)==="{"?(q="{",a+=1):(q=null,j&&h('"{"')),q!==null){for(var m=[],n=s();n!==null;)m.push(n),n=s();if(m!==null)if(n=cb(),n!==null){for(var u=[],i=s();i!==null;)u.push(i),i=s();if(u!==null)if(c.substr(a,1)==="}"?(i="}",a+=1):(i=null,j&&h('"}"')),i!==null){for(var g=[],o=s();o!==null;)g.push(o),o=s();g!==null?
d=[d,q,m,n,u,i,g]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?d[3].quadsContext:null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[46] QuadData");y[b]={nextPos:a,result:e};return e}function cb(){var b="Quads@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a,d=na(),d=d!==null?d:"";if(d!==null){var q=[],m=a,n=eb();if(n!==null){if(c.substr(a,1)==="."){var u=".";a+=1}else u=null,j&&h('"."');u=u!==null?u:"";if(u!==
null){var k=na(),k=k!==null?k:"";k!==null?n=[n,u,k]:(n=null,a=m)}else n=null,a=m}else n=null,a=m;for(;n!==null;)q.push(n),m=a,n=eb(),n!==null?(c.substr(a,1)==="."?(u=".",a+=1):(u=null,j&&h('"."')),u=u!==null?u:"",u!==null?(k=na(),k=k!==null?k:"",k!==null?n=[n,u,k]:(n=null,a=m)):(n=null,a=m)):(n=null,a=m);q!==null?d=[d,q]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){var b=[];if(a.triplesContext!=null&&a.triplesContext!=null)for(var d=0;d<a.triplesContext.length;d++){var e=a.triplesContext[d];
e.graph=null;b.push(e)}if(c&&c.length>0&&c[0].length>0&&(b=b.concat(c[0][0].quadsContext),c[0][2]!=null&&c[0][2].triplesContext!=null))for(d=0;d<c[0][2].triplesContext.length;d++)e=c[0][2].triplesContext[d],e.graph=null,b.push(e);return{token:"quads",quadsContext:b}}(d[0],d[1]):null;e===null&&(e=null,a=i);(j=f)&&e===null&&h("[47] Quads");y[b]={nextPos:a,result:e};return e}function eb(){var b="QuadsNotTriples@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var k=a,e=a,d=[],q=s();q!==null;)d.push(q),
q=s();if(d!==null)if(c.substr(a,1)==="G"?(q="G",a+=1):(q=null,j&&h('"G"')),q===null&&(c.substr(a,1)==="g"?(q="g",a+=1):(q=null,j&&h('"g"')),q=q!==null?q:null),q!==null){if(c.substr(a,1)==="R"){var m="R";a+=1}else m=null,j&&h('"R"');m===null&&(c.substr(a,1)==="r"?(m="r",a+=1):(m=null,j&&h('"r"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="A"){var n="A";a+=1}else n=null,j&&h('"A"');n===null&&(c.substr(a,1)==="a"?(n="a",a+=1):(n=null,j&&h('"a"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,
1)==="P"){var u="P";a+=1}else u=null,j&&h('"P"');u===null&&(c.substr(a,1)==="p"?(u="p",a+=1):(u=null,j&&h('"p"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="H"){var i="H";a+=1}else i=null,j&&h('"H"');i===null&&(c.substr(a,1)==="h"?(i="h",a+=1):(i=null,j&&h('"h"')),i=i!==null?i:null);if(i!==null){for(var g=[],o=s();o!==null;)g.push(o),o=s();if(g!==null)if(o=ia(),o!==null){for(var r=[],v=s();v!==null;)r.push(v),v=s();if(r!==null)if(c.substr(a,1)==="{"?(v="{",a+=1):(v=null,j&&h('"{"')),v!==
null){for(var z=[],w=s();w!==null;)z.push(w),w=s();if(z!==null)if(w=na(),w=w!==null?w:"",w!==null){for(var B=[],C=s();C!==null;)B.push(C),C=s();if(B!==null)if(c.substr(a,1)==="}"?(C="}",a+=1):(C=null,j&&h('"}"')),C!==null){for(var x=[],A=s();A!==null;)x.push(A),A=s();x!==null?d=[d,q,m,n,u,i,g,o,r,v,z,w,B,C,x]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=
null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){for(var b=[],d=0;d<c.triplesContext.length;d++){var e=c.triplesContext[d];e.graph=a;b.push(e)}return{token:"quadsnottriples",quadsContext:b}}(d[7],d[11]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[48] QuadsNotTriples");y[b]={nextPos:a,result:e};return e}function na(){var b="TriplesTemplate@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a,d=Ha();if(d!==null){for(var q=a,m=[],n=s();n!==null;)m.push(n),n=s();if(m!==
null)if(c.substr(a,1)==="."?(n=".",a+=1):(n=null,j&&h('"."')),n!==null){for(var u=[],k=s();k!==null;)u.push(k),k=s();u!==null?(k=na(),k=k!==null?k:"",k!==null?m=[m,n,u,k]:(m=null,a=q)):(m=null,a=q)}else m=null,a=q;else m=null,a=q;q=m!==null?m:"";q!==null?d=[d,q]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){var b=a.triplesContext;typeof c==="object"&&c.length!=null&&c[3].triplesContext!=null&&(b=b.concat(c[3].triplesContext));return{token:"triplestemplate",triplesContext:b}}(d[0],d[1]):null;
e===null&&(e=null,a=i);(j=f)&&e===null&&h("[49] TriplesTemplate");y[b]={nextPos:a,result:e};return e}function U(){var b="GroupGraphPattern@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="{"){var d="{";a+=1}else d=null,j&&h('"{"');if(d!==null){for(var q=[],m=s();m!==null;)q.push(m),m=s();if(q!==null)if(m=L(),m!==null){for(var n=[],u=s();u!==null;)n.push(u),u=s();n!==null?(c.substr(a,1)==="}"?(u="}",a+=1):(u=null,j&&h('"}"')),u!==null?d=[d,q,m,n,u]:(d=null,a=e)):
(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?d[2]:null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,1)==="{"?(d="{",a+=1):(d=null,j&&h('"{"'));if(d!==null){q=[];for(m=s();m!==null;)q.push(m),m=s();if(q!==null)if(m=Gb(),m!==null){n=[];for(u=s();u!==null;)n.push(u),u=s();n!==null?(c.substr(a,1)==="}"?(u="}",a+=1):(u=null,j&&h('"}"')),u!==null?d=[d,q,m,n,u]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?d[2]:null;e===null&&
(e=null,a=k);k=e!==null?e:null}(j=f)&&k===null&&h("[50] GroupGraphPattern");y[b]={nextPos:a,result:k};return k}function Gb(){var b="GroupGraphPatternSub@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=ma(),d=d!==null?d:"";if(d!==null){for(var q=[],m=s();m!==null;)q.push(m),m=s();if(q!==null){var m=[],n=a,u=fb();if(u!==null){for(var i=[],g=s();g!==null;)i.push(g),g=s();if(i!==null)if(c.substr(a,1)==="."?(g=".",a+=1):(g=null,j&&h('"."')),g=g!==null?g:"",g!==null){for(var o=[],r=s();r!==
null;)o.push(r),r=s();o!==null?(r=ma(),r=r!==null?r:"",r!==null?u=[u,i,g,o,r]:(u=null,a=n)):(u=null,a=n)}else u=null,a=n;else u=null,a=n}else u=null,a=n;for(;u!==null;)if(m.push(u),n=a,u=fb(),u!==null){i=[];for(g=s();g!==null;)i.push(g),g=s();if(i!==null)if(c.substr(a,1)==="."?(g=".",a+=1):(g=null,j&&h('"."')),g=g!==null?g:"",g!==null){o=[];for(r=s();r!==null;)o.push(r),r=s();o!==null?(r=ma(),r=r!==null?r:"",r!==null?u=[u,i,g,o,r]:(u=null,a=n)):(u=null,a=n)}else u=null,a=n;else u=null,a=n}else u=
null,a=n;m!==null?d=[d,q,m]:(d=null,a=e)}else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c){var b=[];a!=null&&a!=[]&&b.push(a);for(var d=0;d<c.length;d++)for(var e=0;e<c[d].length;e++)c[d][e].token!=null&&b.push(c[d][e]);for(var h=[],j=[],f=[],d=0;d<b.length;d++)if(b[d].token!="triplespattern"&&b[d].token!="filter"){if(j.length!=0||f.length!=0){for(var m=[],e=0;e<j.length;e++)m=m.concat(j[e].triplesContext);m.length>0&&h.push({token:"basicgraphpattern",triplesContext:m});j=[]}h.push(b[d])}else b[d].token===
"triplespattern"?j.push(b[d]):f.push(b[d]);if(j.length!=0||f.length!=0){m=[];for(e=0;e<j.length;e++)m=m.concat(j[e].triplesContext);m.length>0&&h.push({token:"basicgraphpattern",triplesContext:m})}return{token:"groupgraphpattern",patterns:h,filters:f}}(d[0],d[2]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[51] GroupGraphPatternSub");y[b]={nextPos:a,result:e};return e}function ma(){var b="TriplesBlock@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=Ha();if(d!==null){for(var q=
a,m=[],n=s();n!==null;)m.push(n),n=s();if(m!==null)if(c.substr(a,1)==="."?(n=".",a+=1):(n=null,j&&h('"."')),n!==null){var u=ma(),u=u!==null?u:"";u!==null?m=[m,n,u]:(m=null,a=q)}else m=null,a=q;else m=null,a=q;q=m!==null?m:"";q!==null?d=[d,q]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){var b=a.triplesContext;typeof c==="object"&&c.length!=null&&c[2].triplesContext!=null&&(b=b.concat(c[2].triplesContext));return{token:"triplespattern",triplesContext:b}}(d[0],d[1]):null;e===null&&(e=null,a=
k);(j=f)&&e===null&&h("[54] TriplesBlock");y[b]={nextPos:a,result:e};return e}function fb(){var c="GraphPatternNotTriples@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=Hb();f===null&&(f=Ib(),f===null&&(f=Jb(),f===null&&(f=Kb(),f===null&&(f=Lb(),f===null&&(f=Mb(),f=f!==null?f:null)))));(j=b)&&f===null&&h("[53] GraphPatternNotTriples");y[c]={nextPos:a,result:f};return f}function Ib(){var b="OptionalGraphPattern@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var k=a,e=a,d=[],q=
s();q!==null;)d.push(q),q=s();if(d!==null)if(c.substr(a,8)==="OPTIONAL"?(q="OPTIONAL",a+=8):(q=null,j&&h('"OPTIONAL"')),q!==null){for(var m=[],n=s();n!==null;)m.push(n),n=s();m!==null?(n=U(),n!==null?d=[d,q,m,n]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e;e=d!==null?{token:"optionalgraphpattern",value:d[3]}:null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[54] OptionalGraphPattern");y[b]={nextPos:a,result:e};return e}function Kb(){var b="GraphGraphPattern@"+a,f=y[b];if(f)return a=f.nextPos,
f.result;f=j;j=!1;for(var k=a,e=a,d=[],q=s();q!==null;)d.push(q),q=s();if(d!==null)if(c.substr(a,1)==="G"?(q="G",a+=1):(q=null,j&&h('"G"')),q===null&&(c.substr(a,1)==="g"?(q="g",a+=1):(q=null,j&&h('"g"')),q=q!==null?q:null),q!==null){if(c.substr(a,1)==="R"){var m="R";a+=1}else m=null,j&&h('"R"');m===null&&(c.substr(a,1)==="r"?(m="r",a+=1):(m=null,j&&h('"r"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="A"){var n="A";a+=1}else n=null,j&&h('"A"');n===null&&(c.substr(a,1)==="a"?(n="a",a+=1):
(n=null,j&&h('"a"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="P"){var u="P";a+=1}else u=null,j&&h('"P"');u===null&&(c.substr(a,1)==="p"?(u="p",a+=1):(u=null,j&&h('"p"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="H"){var i="H";a+=1}else i=null,j&&h('"H"');i===null&&(c.substr(a,1)==="h"?(i="h",a+=1):(i=null,j&&h('"h"')),i=i!==null?i:null);if(i!==null){for(var g=[],o=s();o!==null;)g.push(o),o=s();if(g!==null)if(o=ia(),o!==null){for(var r=[],v=s();v!==null;)r.push(v),v=s();r!==null?
(v=U(),v!==null?d=[d,q,m,n,u,i,g,o,r,v]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){for(var b=0;b<c.patterns.length;b++)for(var d=c.patterns[b],e=0;e<d.triplesContext.length;e++)d.triplesContext[e].graph=a;c.token="groupgraphpattern";return c}(d[7],d[9]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[55] GraphGraphPattern");y[b]={nextPos:a,result:e};return e}function Lb(){var b=
"ServiceGraphPattern@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,7)==="SERVICE"){var d="SERVICE";a+=7}else d=null,j&&h('"SERVICE"');if(d!==null){var q=ia();if(q!==null){var m=U();m!==null?d=[d,q,m]:(d=null,a=e)}else d=null,a=e}else d=null,a=e;e=d!==null?{token:"servicegraphpattern",status:"todo",value:[d[1],d[2]]}:null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[56] ServiceGraphPattern");y[b]={nextPos:a,result:e};return e}function Jb(){var b="MinusGraphPattern@"+
a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,5)==="MINUS"){var d="MINUS";a+=5}else d=null,j&&h('"MINUS"');if(d!==null){var q=U();q!==null?d=[d,q]:(d=null,a=e)}else d=null,a=e;e=d!==null?{token:"minusgraphpattern",status:"todo",value:d[1]}:null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[57] MinusGraphPattern");y[b]={nextPos:a,result:e};return e}function Hb(){var b="GroupOrUnionGraphPattern@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=U();if(d!==
null){for(var q=[],m=a,n=[],u=s();u!==null;)n.push(u),u=s();if(n!==null)if(c.substr(a,5)==="UNION"?(u="UNION",a+=5):(u=null,j&&h('"UNION"')),u!==null){for(var i=[],g=s();g!==null;)i.push(g),g=s();i!==null?(g=U(),g!==null?n=[n,u,i,g]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;for(;n!==null;){q.push(n);m=a;n=[];for(u=s();u!==null;)n.push(u),u=s();if(n!==null)if(c.substr(a,5)==="UNION"?(u="UNION",a+=5):(u=null,j&&h('"UNION"')),u!==null){i=[];for(g=s();g!==null;)i.push(g),g=s();i!==null?
(g=U(),g!==null?n=[n,u,i,g]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m}q!==null?d=[d,q]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){if(c.length===0)return a;else{for(var b={token:"graphunionpattern",value:[a]},d=0;d<c.length;d++)d==c.length-1?b.value.push(c[d][3]):(b.value.push(c[d][3]),b={token:"graphunionpattern",value:[b]});return b}}(d[0],d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[58] GroupOrUnionGraphPattern");y[b]={nextPos:a,result:e};return e}function Mb(){var b=
"Filter@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var k=a,e=a,d=[],q=s();q!==null;)d.push(q),q=s();if(d!==null)if(c.substr(a,1)==="F"?(q="F",a+=1):(q=null,j&&h('"F"')),q===null&&(c.substr(a,1)==="f"?(q="f",a+=1):(q=null,j&&h('"f"')),q=q!==null?q:null),q!==null){if(c.substr(a,1)==="I"){var m="I";a+=1}else m=null,j&&h('"I"');m===null&&(c.substr(a,1)==="i"?(m="i",a+=1):(m=null,j&&h('"i"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="L"){var n="L";a+=1}else n=null,j&&h('"L"');n===
null&&(c.substr(a,1)==="l"?(n="l",a+=1):(n=null,j&&h('"l"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="T"){var u="T";a+=1}else u=null,j&&h('"T"');u===null&&(c.substr(a,1)==="t"?(u="t",a+=1):(u=null,j&&h('"t"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var i="E";a+=1}else i=null,j&&h('"E"');i===null&&(c.substr(a,1)==="e"?(i="e",a+=1):(i=null,j&&h('"e"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="R"){var g="R";a+=1}else g=null,j&&h('"R"');g===null&&(c.substr(a,1)===
"r"?(g="r",a+=1):(g=null,j&&h('"r"')),g=g!==null?g:null);if(g!==null){for(var o=[],r=s();r!==null;)o.push(r),r=s();o!==null?(r=ua(),r!==null?d=[d,q,m,n,u,i,g,o,r]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?{token:"filter",value:d[8]}:null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[59] Filter");y[b]={nextPos:a,result:e};return e}function ua(){var c="Constraint@"+a,b=y[c];if(b)return a=b.nextPos,
b.result;b=j;j=!1;var f=Ca();f===null&&(f=Ba(),f===null&&(f=Ua(),f=f!==null?f:null));(j=b)&&f===null&&h("[60] Constraint");y[c]={nextPos:a,result:f};return f}function Ua(){var c="FunctionCall@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=a,d=R();if(d!==null){var q=gb();q!==null?d=[d,q]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){var b={token:"expression",expressionType:"irireforfunction"};b.iriref=a;b.args=c.value;return b}(d[0],d[1]):null;e===null&&(e=null,a=f);(j=b)&&
e===null&&h("[61] FunctionCall");y[c]={nextPos:a,result:e};return e}function gb(){var b="ArgList@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=ja()!==null?{token:"args",value:[]}:null;e===null&&(e=null,a=i);if(e!==null)i=e;else{e=i=a;if(c.substr(a,1)==="("){var d="(";a+=1}else d=null,j&&h('"("');if(d!==null){if(c.substr(a,8)==="DISTINCT"){var q="DISTINCT";a+=8}else q=null,j&&h('"DISTINCT"');q=q!==null?q:"";if(q!==null){var m=M();if(m!==null){var n=[],u=a;if(c.substr(a,1)===","){var k=
",";a+=1}else k=null,j&&h('","');if(k!==null){var g=M();g!==null?k=[k,g]:(k=null,a=u)}else k=null,a=u;for(;k!==null;)n.push(k),u=a,c.substr(a,1)===","?(k=",",a+=1):(k=null,j&&h('","')),k!==null?(g=M(),g!==null?k=[k,g]:(k=null,a=u)):(k=null,a=u);n!==null?(c.substr(a,1)===")"?(u=")",a+=1):(u=null,j&&h('")"')),u!==null?d=[d,q,m,n,u]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c,b){cleanEx=[];for(var d=0;d<b.length;d++)cleanEx.push(b[d][1]);b={token:"args"};
b.value=[c].concat(cleanEx);b.distinct=a==="DISTINCT"?!0:!1;return b}(d[1],d[2],d[3]):null;e===null&&(e=null,a=i);i=e!==null?e:null}(j=f)&&i===null&&h("[62] ArgList");y[b]={nextPos:a,result:i};return i}function Nb(){var b="ExpressionList@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=ja()!==null?{token:"args",value:[]}:null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;if(c.substr(a,1)==="("){var d="(";a+=1}else d=null,j&&h('"("');if(d!==null){var q=M();if(q!==null){var m=[],n=
a;if(c.substr(a,1)===","){var u=",";a+=1}else u=null,j&&h('","');if(u!==null){var i=M();i!==null?u=[u,i]:(u=null,a=n)}else u=null,a=n;for(;u!==null;)m.push(u),n=a,c.substr(a,1)===","?(u=",",a+=1):(u=null,j&&h('","')),u!==null?(i=M(),i!==null?u=[u,i]:(u=null,a=n)):(u=null,a=n);m!==null?(c.substr(a,1)===")"?(n=")",a+=1):(n=null,j&&h('")"')),n!==null?d=[d,q,m,n]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c){cleanEx=[];for(var b=0;b<c.length;b++)cleanEx.push(c[b][1]);
b={token:"args"};b.value=[a].concat(cleanEx);return b}(d[1],d[2]):null;e===null&&(e=null,a=k);k=e!==null?e:null}(j=f)&&k===null&&h("[63] ExpressionList");y[b]={nextPos:a,result:k};return k}function rb(){var b="ConstructTemplate@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="{"){var d="{";a+=1}else d=null,j&&h('"{"');if(d!==null){for(var q=[],m=s();m!==null;)q.push(m),m=s();if(q!==null)if(m=hb(),m=m!==null?m:"",m!==null){for(var n=[],u=s();u!==null;)n.push(u),
u=s();n!==null?(c.substr(a,1)==="}"?(u="}",a+=1):(u=null,j&&h('"}"')),u!==null?d=[d,q,m,n,u]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?d[2]:null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[64] ConstructTemplate");y[b]={nextPos:a,result:e};return e}function hb(){var b="ConstructTriples@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=Ha();if(d!==null){for(var q=a,m=[],n=s();n!==null;)m.push(n),n=s();if(m!==null)if(c.substr(a,1)==="."?(n=
".",a+=1):(n=null,j&&h('"."')),n!==null){for(var u=[],i=s();i!==null;)u.push(i),i=s();u!==null?(i=hb(),i=i!==null?i:"",i!==null?m=[m,n,u,i]:(m=null,a=q)):(m=null,a=q)}else m=null,a=q;else m=null,a=q;q=m!==null?m:"";q!==null?d=[d,q]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){var b=a.triplesContext;typeof c==="object"&&c.length!=null&&c[3].triplesContext!=null&&(b=b.concat(c[3].triplesContext));return{token:"triplestemplate",triplesContext:b}}(d[0],d[1]):null;e===null&&(e=null,a=k);(j=f)&&
e===null&&h("[65] ConstructTriples");y[b]={nextPos:a,result:e};return e}function Ha(){var c="TriplesSameSubject@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;for(var f=a,e=a,d=[],q=s();q!==null;)d.push(q),q=s();if(d!==null)if(q=ib(),q!==null){for(var m=[],n=s();n!==null;)m.push(n),n=s();m!==null?(n=wa(),n!==null?d=[d,q,m,n]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){var b=c.triplesContext;if(c.pairs)for(var d=0;d<c.pairs.length;d++){var e=c.pairs[d],
h=null;a.token&&a.token==="triplesnodecollection"?(h={subject:a.chainSubject[0],predicate:e[0],object:e[1]},b.push(h),b=b.concat(a.triplesContext)):(h={subject:a,predicate:e[0],object:e[1]},b.push(h))}d={token:"triplessamesubject"};d.triplesContext=b;d.chainSubject=a;return d}(d[1],d[3]):null;e===null&&(e=null,a=f);if(e!==null)f=e;else{e=f=a;d=[];for(q=s();q!==null;)d.push(q),q=s();if(d!==null)if(q=jb(),q!==null){m=[];for(n=s();n!==null;)m.push(n),n=s();m!==null?(n=Ob(),n!==null?d=[d,q,m,n]:(d=null,
a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){var b=a.triplesContext,d=a.chainSubject;if(c.pairs)for(var e=0;e<c.pairs.length;e++){var h=c.pairs[e];if(a.token==="triplesnodecollection")for(var f=0;f<d.length;f++){var j=d[f];if(j.triplesContext!=null){var m={subject:j.chainSubject,predicate:h[0],object:h[1]};b.concat(j.triplesContext)}else m={subject:d[f],predicate:h[0],object:h[1]},b.push(m)}else m={subject:d,predicate:h[0],object:h[1]},b.push(m)}e={token:"triplessamesubject"};
e.triplesContext=b;e.chainSubject=d;return e}(d[1],d[3]):null;e===null&&(e=null,a=f);f=e!==null?e:null}(j=b)&&f===null&&h("[66] TriplesSameSubject");y[c]={nextPos:a,result:f};return f}function wa(){var b="PropertyListNotEmpty@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a,d=Ia();if(d!==null){for(var q=[],m=s();m!==null;)q.push(m),m=s();if(q!==null)if(m=ka(),m!==null){for(var n=[],k=a,g=[],t=s();t!==null;)g.push(t),t=s();if(g!==null)if(c.substr(a,1)===";"?(t=";",a+=1):(t=null,j&&
h('";"')),t!==null){for(var o=[],r=s();r!==null;)o.push(r),r=s();if(o!==null){var r=a,v=Ia();if(v!==null){for(var z=[],w=s();w!==null;)z.push(w),w=s();z!==null?(w=ka(),w!==null?v=[v,z,w]:(v=null,a=r)):(v=null,a=r)}else v=null,a=r;r=v!==null?v:"";r!==null?g=[g,t,o,r]:(g=null,a=k)}else g=null,a=k}else g=null,a=k;else g=null,a=k;for(;g!==null;){n.push(g);k=a;g=[];for(t=s();t!==null;)g.push(t),t=s();if(g!==null)if(c.substr(a,1)===";"?(t=";",a+=1):(t=null,j&&h('";"')),t!==null){o=[];for(r=s();r!==null;)o.push(r),
r=s();if(o!==null){r=a;v=Ia();if(v!==null){z=[];for(w=s();w!==null;)z.push(w),w=s();z!==null?(w=ka(),w!==null?v=[v,z,w]:(v=null,a=r)):(v=null,a=r)}else v=null,a=r;r=v!==null?v:"";r!==null?g=[g,t,o,r]:(g=null,a=k)}else g=null,a=k}else g=null,a=k;else g=null,a=k}n!==null?d=[d,q,m,n]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c,b){token={token:"propertylist"};for(var d=[],e=[],h=0;h<c.length;h++)c[h].triplesContext!=null?(d=d.concat(c[h].triplesContext),c[h].token===
"triplesnodecollection"&&c[h].chainSubject.length!=null?e.push([a,c[h].chainSubject[0]]):e.push([a,c[h].chainSubject])):e.push([a,c[h]]);for(h=0;h<b.length;h++)for(var c=b[h][3],a=c[0],c=c[2]||[],f=0;f<c.length;f++)c[f].triplesContext!=null?(d=d.concat(c[f].triplesContext),e.push([a,c[f].chainSubject])):e.push([a,c[f]]);token.pairs=e;token.triplesContext=d;return token}(d[0],d[2],d[3]):null;e===null&&(e=null,a=i);(j=f)&&e===null&&h("[67] PropertyListNotEmpty");y[b]={nextPos:a,result:e};return e}function Ob(){var c=
"PropertyList@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=wa(),f=f!==null?f:"";(j=b)&&f===null&&h("[68] PropertyList");y[c]={nextPos:a,result:f};return f}function ka(){var b="ObjectList@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=oa();if(d!==null){for(var q=[],m=s();m!==null;)q.push(m),m=s();if(q!==null){var m=[],n=a;if(c.substr(a,1)===","){var i=",";a+=1}else i=null,j&&h('","');if(i!==null){for(var g=[],t=s();t!==null;)g.push(t),t=s();g!==null?(t=oa(),t!==null?
i=[i,g,t]:(i=null,a=n)):(i=null,a=n)}else i=null,a=n;for(;i!==null;)if(m.push(i),n=a,c.substr(a,1)===","?(i=",",a+=1):(i=null,j&&h('","')),i!==null){g=[];for(t=s();t!==null;)g.push(t),t=s();g!==null?(t=oa(),t!==null?i=[i,g,t]:(i=null,a=n)):(i=null,a=n)}else i=null,a=n;m!==null?d=[d,q,m]:(d=null,a=e)}else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c){var b=[];b.push(a);for(var d=0;d<c.length;d++)for(var e=0;e<c[d].length;e++)typeof c[d][e]=="object"&&c[d][e].token!=null&&b.push(c[d][e]);return b}(d[0],
d[2]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[69] ObjectList");y[b]={nextPos:a,result:e};return e}function Ia(){var b="Verb@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=ia();if(i===null){i=a;if(c.substr(a,1)==="a"){var e="a";a+=1}else e=null,j&&h('"a"');e=e!==null?{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}:null;e===null&&(e=null,a=i);i=e!==null?e:null}(j=f)&&i===null&&h("[71] Verb");y[b]={nextPos:a,result:i};return i}function Ja(){var c=
"VerbPath@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=kb(),e=e!==null?e:null;e===null&&(e=null,a=f);(j=b)&&e===null&&h("[75]");y[c]={nextPos:a,result:e};return e}function kb(){var b="PathAlternative@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=Ka();if(e!==null){var d=[],q=a;if(c.substr(a,1)==="|"){var m="|";a+=1}else m=null,j&&h('"|"');if(m!==null){var n=Ka();n!==null?m=[m,n]:(m=null,a=q)}else m=null,a=q;for(;m!==null;)d.push(m),q=a,c.substr(a,1)==="|"?(m="|",
a+=1):(m=null,j&&h('"|"')),m!==null?(n=Ka(),n!==null?m=[m,n]:(m=null,a=q)):(m=null,a=q);d!==null?e=[e,d]:(e=null,a=i)}else e=null,a=i;(j=f)&&e===null&&h("[78] PathAlternative");y[b]={nextPos:a,result:e};return e}function Ka(){var b="PathSequence@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=La();if(e!==null){var d=[],q=a;if(c.substr(a,1)==="/"){var m="/";a+=1}else m=null,j&&h('"/"');if(m!==null){var n=La();n!==null?m=[m,n]:(m=null,a=q)}else m=null,a=q;for(;m!==null;)d.push(m),q=a,
c.substr(a,1)==="/"?(m="/",a+=1):(m=null,j&&h('"/"')),m!==null?(n=La(),n!==null?m=[m,n]:(m=null,a=q)):(m=null,a=q);d!==null?e=[e,d]:(e=null,a=i)}else e=null,a=i;(j=f)&&e===null&&h("[79] PathSequence");y[b]={nextPos:a,result:e};return e}function lb(){var c="PathElt@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=Pb();if(e!==null){var d=Qb(),d=d!==null?d:"";d!==null?e=[e,d]:(e=null,a=f)}else e=null,a=f;(j=b)&&e===null&&h("[88] PathElt");y[c]={nextPos:a,result:e};return e}function La(){var b=
"PathEltOrInverse@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=lb();if(i===null){i=a;if(c.substr(a,1)==="^"){var e="^";a+=1}else e=null,j&&h('"^"');if(e!==null){var d=lb();d!==null?e=[e,d]:(e=null,a=i)}else e=null,a=i;i=e!==null?e:null}(j=f)&&i===null&&h("[81] PathEltOrInverse");y[b]={nextPos:a,result:i};return i}function Qb(){var b="PathMod@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;if(c.substr(a,1)==="*"){var i="*";a+=1}else i=null,j&&h('"*"');if(i===null&&(c.substr(a,1)===
"?"?(i="?",a+=1):(i=null,j&&h('"?"')),i===null&&(c.substr(a,1)==="+"?(i="+",a+=1):(i=null,j&&h('"+"')),i===null))){i=a;if(c.substr(a,1)==="{"){var e="{";a+=1}else e=null,j&&h('"{"');if(e!==null){var d=a,q=aa();if(q!==null){var m=a;if(c.substr(a,1)===","){var n=",";a+=1}else n=null,j&&h('","');if(n!==null){if(c.substr(a,1)==="}"){var k="}";a+=1}else k=null,j&&h('"}"');if(k===null){var k=a,g=aa();if(g!==null){if(c.substr(a,1)==="}"){var s="}";a+=1}else s=null,j&&h('"}"');s!==null?g=[g,s]:(g=null,a=
k)}else g=null,a=k;k=g!==null?g:null}k!==null?n=[n,k]:(n=null,a=m)}else n=null,a=m;n!==null?m=n:(c.substr(a,1)==="}"?(m="}",a+=1):(m=null,j&&h('"}"')),m=m!==null?m:null);m!==null?q=[q,m]:(q=null,a=d)}else q=null,a=d;q!==null?d=q:(d=a,c.substr(a,1)===","?(q=",",a+=1):(q=null,j&&h('","')),q!==null?(m=aa(),m!==null?(c.substr(a,1)==="}"?(n="}",a+=1):(n=null,j&&h('"}"')),n!==null?q=[q,m,n]:(q=null,a=d)):(q=null,a=d)):(q=null,a=d),d=q!==null?q:null);d!==null?e=[e,d]:(e=null,a=i)}else e=null,a=i;i=e!==null?
e:null}(j=f)&&i===null&&h("[82] PathMod");y[b]={nextPos:a,result:i};return i}function Pb(){var b="PathPrimary@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=R();if(i===null&&(c.substr(a,1)==="a"?(i="a",a+=1):(i=null,j&&h('"a"')),i===null)){i=a;if(c.substr(a,1)==="!"){var e="!";a+=1}else e=null,j&&h('"!"');if(e!==null){var d=Rb();d!==null?e=[e,d]:(e=null,a=i)}else e=null,a=i;if(e!==null)i=e;else{i=a;c.substr(a,1)==="("?(e="(",a+=1):(e=null,j&&h('"("'));if(e!==null)if(d=kb(),d!==null){if(c.substr(a,
1)===")"){var q=")";a+=1}else q=null,j&&h('")"');q!==null?e=[e,d,q]:(e=null,a=i)}else e=null,a=i;else e=null,a=i;i=e!==null?e:null}}(j=f)&&i===null&&h("[83] PathPrimary");y[b]={nextPos:a,result:i};return i}function Rb(){var b="PathNegatedPropertySet@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=xa();if(f===null){f=a;if(c.substr(a,1)==="("){var i="(";a+=1}else i=null,j&&h('"("');if(i!==null){var e=a,d=xa();if(d!==null){var q=[],m=a;if(c.substr(a,1)==="|"){var n="|";a+=1}else n=null,j&&h('"|"');if(n!==
null){var k=xa();k!==null?n=[n,k]:(n=null,a=m)}else n=null,a=m;for(;n!==null;)q.push(n),m=a,c.substr(a,1)==="|"?(n="|",a+=1):(n=null,j&&h('"|"')),n!==null?(k=xa(),k!==null?n=[n,k]:(n=null,a=m)):(n=null,a=m);q!==null?d=[d,q]:(d=null,a=e)}else d=null,a=e;e=d!==null?d:"";e!==null?(c.substr(a,1)===")"?(d=")",a+=1):(d=null,j&&h('")"')),d!==null?i=[i,e,d]:(i=null,a=f)):(i=null,a=f)}else i=null,a=f;f=i!==null?i:null}y[b]={nextPos:a,result:f};return f}function xa(){var b="PathOneInPropertySet@"+a,f=y[b];
if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=R();if(i===null&&(c.substr(a,1)==="a"?(i="a",a+=1):(i=null,j&&h('"a"')),i===null)){i=a;if(c.substr(a,1)==="^"){var e="^";a+=1}else e=null,j&&h('"^"');if(e!==null){var d=R();d===null&&(c.substr(a,1)==="a"?(d="a",a+=1):(d=null,j&&h('"a"')),d=d!==null?d:null);d!==null?e=[e,d]:(e=null,a=i)}else e=null,a=i;i=e!==null?e:null}(j=f)&&i===null&&h("[85] PathOneInPropertySet");y[b]={nextPos:a,result:i};return i}function jb(){var c="TriplesNode@"+a,b=y[c];if(b)return a=
b.nextPos,b.result;b=j;j=!1;var f=a,e=Sb(),e=e!==null?function(a){triplesContext=[];chainSubject=[];for(var c=null,b=0;b<a.length;b++)ba++,c=null,a[b].chainSubject==null&&a[b].triplesContext==null?c=a[b]:(c=a[b].chainSubject,triplesContext=triplesContext.concat(nextSubject.triplesContext)),c={subject:{token:"blank",label:"_:"+ba},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:c},b==0&&chainSubject.push(c.subject),triplesContext.push(c),
c=b===a.length-1?{subject:{token:"blank",label:"_:"+ba},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",label:"_:"+ba},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",label:"_:"+(ba+1)}},triplesContext.push(c);return{token:"triplesnodecollection",
triplesContext:triplesContext,chainSubject:chainSubject}}(e):null;e===null&&(e=null,a=f);e!==null?f=e:(f=Tb(),f=f!==null?f:null);(j=b)&&f===null&&h("[87] TriplesNode");y[c]={nextPos:a,result:f};return f}function Tb(){var b="BlankNodePropertyList@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var i=a,e=a,d=[],q=s();q!==null;)d.push(q),q=s();if(d!==null)if(c.substr(a,1)==="["?(q="[",a+=1):(q=null,j&&h('"["')),q!==null){for(var m=[],n=s();n!==null;)m.push(n),n=s();if(m!==null)if(n=wa(),n!==
null){for(var k=[],g=s();g!==null;)k.push(g),g=s();if(k!==null)if(c.substr(a,1)==="]"?(g="]",a+=1):(g=null,j&&h('"]"')),g!==null){for(var t=[],o=s();o!==null;)t.push(o),o=s();t!==null?d=[d,q,m,n,k,g,t]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?function(a){ba++;for(var c={token:"blank",label:""+ba},b=[],d=0;d<a.pairs.length;d++){var e=a.pairs[d],h={};h.subject=c;h.predicate=e[0];h.object=e[1];b.push(h)}return{token:"triplesnode",
kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(b),chainSubject:c}}(d[3]):null;e===null&&(e=null,a=i);(j=f)&&e===null&&h("[88] BlankNodePropertyList");y[b]={nextPos:a,result:e};return e}function Sb(){var b="Collection@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;for(var i=a,e=a,d=[],q=s();q!==null;)d.push(q),q=s();if(d!==null)if(c.substr(a,1)==="("?(q="(",a+=1):(q=null,j&&h('"("')),q!==null){for(var m=[],n=s();n!==null;)m.push(n),n=s();if(m!==null){var k=oa();if(k!==null)for(n=
[];k!==null;)n.push(k),k=oa();else n=null;if(n!==null){for(var k=[],g=s();g!==null;)k.push(g),g=s();if(k!==null)if(c.substr(a,1)===")"?(g=")",a+=1):(g=null,j&&h('")"')),g!==null){for(var t=[],o=s();o!==null;)t.push(o),o=s();t!==null?d=[d,q,m,n,k,g,t]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e;e=d!==null?d[3]:null;e===null&&(e=null,a=i);(j=f)&&e===null&&h("[89] Collection");y[b]={nextPos:a,result:e};return e}function oa(){var c="GraphNode@"+
a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;for(var f=a,e=a,d=[],q=s();q!==null;)d.push(q),q=s();if(d!==null)if(q=ib(),q!==null){for(var m=[],n=s();n!==null;)m.push(n),n=s();m!==null?d=[d,q,m]:(d=null,a=e)}else d=null,a=e;else d=null,a=e;if(d!==null)e=d;else{e=a;d=[];for(q=s();q!==null;)d.push(q),q=s();if(d!==null)if(q=jb(),q!==null){m=[];for(n=s();n!==null;)m.push(n),n=s();m!==null?d=[d,q,m]:(d=null,a=e)}else d=null,a=e;else d=null,a=e;e=d!==null?d:null}e=e!==null?e[1]:null;e===null&&(e=null,
a=f);(j=b)&&e===null&&h("[90] GraphNode");y[c]={nextPos:a,result:e};return e}function ib(){var c="VarOrTerm@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=Q();f===null&&(f=Ub(),f=f!==null?f:null);(j=b)&&f===null&&h("[91] VarOrTerm");y[c]={nextPos:a,result:f};return f}function ia(){var c="VarOrIRIref@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=Q();f===null&&(f=R(),f=f!==null?f:null);(j=b)&&f===null&&h("[92] VarOrIRIref");y[c]={nextPos:a,result:f};return f}function Q(){var c=
"Var@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=Vb();e===null&&(e=Wb(),e=e!==null?e:null);e=e!==null?function(a){var c={token:"var"};c.value=a;return c}(e):null;e===null&&(e=null,a=f);(j=b)&&e===null&&h("[93] Var");y[c]={nextPos:a,result:e};return e}function Ub(){var c="GraphTerm@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=R();f===null&&(f=Da(),f===null&&(f=Ea(),f===null&&(f=Fa(),f===null&&(f=Xb(),f===null&&(f=ja(),f=f!==null?f:null)))));(j=b)&&f===null&&h("[94] GraphTerm");
y[c]={nextPos:a,result:f};return f}function M(){var b="ConditionalOrExpression@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a,d=Ma();if(d!==null){for(var q=[],m=a,n=[],k=s();k!==null;)n.push(k),k=s();if(n!==null)if(c.substr(a,2)==="||"?(k="||",a+=2):(k=null,j&&h('"||"')),k!==null){for(var g=[],t=s();t!==null;)g.push(t),t=s();g!==null?(t=Ma(),t!==null?n=[n,k,g,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;for(;n!==null;){q.push(n);m=a;n=[];for(k=s();k!==null;)n.push(k),
k=s();if(n!==null)if(c.substr(a,2)==="||"?(k="||",a+=2):(k=null,j&&h('"||"')),k!==null){g=[];for(t=s();t!==null;)g.push(t),t=s();g!==null?(t=Ma(),t!==null?n=[n,k,g,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m}q!==null?d=[d,q]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){if(c.length===0)return a;for(var b={token:"expression",expressionType:"conditionalor"},d=[a],e=0;e<c.length;e++)d.push(c[e][3]);b.operands=d;return b}(d[0],d[1]):null;e===null&&(e=null,a=i);(j=f)&&e===null&&
h("[96] ConditionalOrExpression");y[b]={nextPos:a,result:e};return e}function Ma(){var b="ConditionalAndExpression@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a,d=Na();if(d!==null){for(var q=[],m=a,n=[],k=s();k!==null;)n.push(k),k=s();if(n!==null)if(c.substr(a,2)==="&&"?(k="&&",a+=2):(k=null,j&&h('"&&"')),k!==null){for(var g=[],t=s();t!==null;)g.push(t),t=s();g!==null?(t=Na(),t!==null?n=[n,k,g,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;for(;n!==null;){q.push(n);
m=a;n=[];for(k=s();k!==null;)n.push(k),k=s();if(n!==null)if(c.substr(a,2)==="&&"?(k="&&",a+=2):(k=null,j&&h('"&&"')),k!==null){g=[];for(t=s();t!==null;)g.push(t),t=s();g!==null?(t=Na(),t!==null?n=[n,k,g,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m}q!==null?d=[d,q]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){if(c.length===0)return a;for(var b={token:"expression",expressionType:"conditionaland"},d=[a],e=0;e<c.length;e++)d.push(c[e][3]);b.operands=d;return b}(d[0],d[1]):null;
e===null&&(e=null,a=i);(j=f)&&e===null&&h("[97] ConditionalAndExpression");y[b]={nextPos:a,result:e};return e}function Na(){var b="RelationalExpression@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var i=a,e=a,d=S();if(d!==null){for(var q=[],m=a,n=[],k=s();k!==null;)n.push(k),k=s();if(n!==null)if(c.substr(a,1)==="="?(k="=",a+=1):(k=null,j&&h('"="')),k!==null){for(var g=[],t=s();t!==null;)g.push(t),t=s();g!==null?(t=S(),t!==null?n=[n,k,g,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=
null,a=m;if(n!==null)m=n;else{m=a;n=[];for(k=s();k!==null;)n.push(k),k=s();if(n!==null)if(c.substr(a,2)==="!="?(k="!=",a+=2):(k=null,j&&h('"!="')),k!==null){g=[];for(t=s();t!==null;)g.push(t),t=s();g!==null?(t=S(),t!==null?n=[n,k,g,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;if(n!==null)m=n;else{m=a;n=[];for(k=s();k!==null;)n.push(k),k=s();if(n!==null)if(c.substr(a,1)==="<"?(k="<",a+=1):(k=null,j&&h('"<"')),k!==null){g=[];for(t=s();t!==null;)g.push(t),t=s();g!==null?(t=S(),t!==null?
n=[n,k,g,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;if(n!==null)m=n;else{m=a;n=[];for(k=s();k!==null;)n.push(k),k=s();if(n!==null)if(c.substr(a,1)===">"?(k=">",a+=1):(k=null,j&&h('">"')),k!==null){g=[];for(t=s();t!==null;)g.push(t),t=s();g!==null?(t=S(),t!==null?n=[n,k,g,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;if(n!==null)m=n;else{m=a;n=[];for(k=s();k!==null;)n.push(k),k=s();if(n!==null)if(c.substr(a,2)==="<="?(k="<=",a+=2):(k=null,j&&h('"<="')),k!==null){g=
[];for(t=s();t!==null;)g.push(t),t=s();g!==null?(t=S(),t!==null?n=[n,k,g,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;if(n!==null)m=n;else{m=a;n=[];for(k=s();k!==null;)n.push(k),k=s();if(n!==null)if(c.substr(a,2)===">="?(k=">=",a+=2):(k=null,j&&h('">="')),k!==null){g=[];for(t=s();t!==null;)g.push(t),t=s();g!==null?(t=S(),t!==null?n=[n,k,g,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;m=n!==null?n:null}}}}}for(;m!==null;){q.push(m);m=a;n=[];for(k=s();k!==null;)n.push(k),
k=s();if(n!==null)if(c.substr(a,1)==="="?(k="=",a+=1):(k=null,j&&h('"="')),k!==null){g=[];for(t=s();t!==null;)g.push(t),t=s();g!==null?(t=S(),t!==null?n=[n,k,g,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;if(n!==null)m=n;else{m=a;n=[];for(k=s();k!==null;)n.push(k),k=s();if(n!==null)if(c.substr(a,2)==="!="?(k="!=",a+=2):(k=null,j&&h('"!="')),k!==null){g=[];for(t=s();t!==null;)g.push(t),t=s();g!==null?(t=S(),t!==null?n=[n,k,g,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,
a=m;if(n!==null)m=n;else{m=a;n=[];for(k=s();k!==null;)n.push(k),k=s();if(n!==null)if(c.substr(a,1)==="<"?(k="<",a+=1):(k=null,j&&h('"<"')),k!==null){g=[];for(t=s();t!==null;)g.push(t),t=s();g!==null?(t=S(),t!==null?n=[n,k,g,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;if(n!==null)m=n;else{m=a;n=[];for(k=s();k!==null;)n.push(k),k=s();if(n!==null)if(c.substr(a,1)===">"?(k=">",a+=1):(k=null,j&&h('">"')),k!==null){g=[];for(t=s();t!==null;)g.push(t),t=s();g!==null?(t=S(),t!==null?n=[n,
k,g,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;if(n!==null)m=n;else{m=a;n=[];for(k=s();k!==null;)n.push(k),k=s();if(n!==null)if(c.substr(a,2)==="<="?(k="<=",a+=2):(k=null,j&&h('"<="')),k!==null){g=[];for(t=s();t!==null;)g.push(t),t=s();g!==null?(t=S(),t!==null?n=[n,k,g,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;if(n!==null)m=n;else{m=a;n=[];for(k=s();k!==null;)n.push(k),k=s();if(n!==null)if(c.substr(a,2)===">="?(k=">=",a+=2):(k=null,j&&h('">="')),k!==null){g=
[];for(t=s();t!==null;)g.push(t),t=s();g!==null?(t=S(),t!==null?n=[n,k,g,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;m=n!==null?n:null}}}}}}q!==null?d=[d,q]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){if(c.length===0)return a;else{var b={expressionType:"relationalexpression"};b.operator=c[0][1];b.op1=a;b.op2=c[0][3];b.token="expression";return b}}(d[0],d[1]):null;e===null&&(e=null,a=i);(j=f)&&e===null&&h("[99] RelationalExpression");y[b]={nextPos:a,result:e};return e}function S(){var b=
"AdditiveExpression@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=pa();if(d!==null){for(var i=[],m=a,n=[],g=s();g!==null;)n.push(g),g=s();if(n!==null)if(c.substr(a,1)==="+"?(g="+",a+=1):(g=null,j&&h('"+"')),g!==null){for(var o=[],t=s();t!==null;)o.push(t),t=s();o!==null?(t=pa(),t!==null?n=[n,g,o,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;if(n!==null)m=n;else{m=a;n=[];for(g=s();g!==null;)n.push(g),g=s();if(n!==null)if(c.substr(a,1)==="-"?(g="-",a+=1):(g=null,
j&&h('"-"')),g!==null){o=[];for(t=s();t!==null;)o.push(t),t=s();o!==null?(t=pa(),t!==null?n=[n,g,o,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;if(n!==null)m=n;else{m=a;n=qa();n===null&&(n=qa(),n=n!==null?n:null);if(n!==null){g=a;o=[];for(t=s();t!==null;)o.push(t),t=s();if(o!==null)if(c.substr(a,1)==="*"?(t="*",a+=1):(t=null,j&&h('"*"')),t!==null){for(var r=[],v=s();v!==null;)r.push(v),v=s();r!==null?(v=$(),v!==null?o=[o,t,r,v]:(o=null,a=g)):(o=null,a=g)}else o=null,a=g;else o=null,
a=g;if(o!==null)g=o;else{g=a;o=[];for(t=s();t!==null;)o.push(t),t=s();if(o!==null)if(c.substr(a,1)==="/"?(t="/",a+=1):(t=null,j&&h('"/"')),t!==null){r=[];for(v=s();v!==null;)r.push(v),v=s();r!==null?(v=$(),v!==null?o=[o,t,r,v]:(o=null,a=g)):(o=null,a=g)}else o=null,a=g;else o=null,a=g;g=o!==null?o:null}g=g!==null?g:"";g!==null?n=[n,g]:(n=null,a=m)}else n=null,a=m;m=n!==null?n:null}}for(;m!==null;){i.push(m);m=a;n=[];for(g=s();g!==null;)n.push(g),g=s();if(n!==null)if(c.substr(a,1)==="+"?(g="+",a+=
1):(g=null,j&&h('"+"')),g!==null){o=[];for(t=s();t!==null;)o.push(t),t=s();o!==null?(t=pa(),t!==null?n=[n,g,o,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;if(n!==null)m=n;else{m=a;n=[];for(g=s();g!==null;)n.push(g),g=s();if(n!==null)if(c.substr(a,1)==="-"?(g="-",a+=1):(g=null,j&&h('"-"')),g!==null){o=[];for(t=s();t!==null;)o.push(t),t=s();o!==null?(t=pa(),t!==null?n=[n,g,o,t]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;if(n!==null)m=n;else{m=a;n=qa();n===null&&(n=qa(),
n=n!==null?n:null);if(n!==null){g=a;o=[];for(t=s();t!==null;)o.push(t),t=s();if(o!==null)if(c.substr(a,1)==="*"?(t="*",a+=1):(t=null,j&&h('"*"')),t!==null){r=[];for(v=s();v!==null;)r.push(v),v=s();r!==null?(v=$(),v!==null?o=[o,t,r,v]:(o=null,a=g)):(o=null,a=g)}else o=null,a=g;else o=null,a=g;if(o!==null)g=o;else{g=a;o=[];for(t=s();t!==null;)o.push(t),t=s();if(o!==null)if(c.substr(a,1)==="/"?(t="/",a+=1):(t=null,j&&h('"/"')),t!==null){r=[];for(v=s();v!==null;)r.push(v),v=s();r!==null?(v=$(),v!==null?
o=[o,t,r,v]:(o=null,a=g)):(o=null,a=g)}else o=null,a=g;else o=null,a=g;g=o!==null?o:null}g=g!==null?g:"";g!==null?n=[n,g]:(n=null,a=m)}else n=null,a=m;m=n!==null?n:null}}}i!==null?d=[d,i]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){if(c.length===0)return a;var b={token:"expression",expressionType:"additiveexpression"};b.summand=a;b.summands=[];for(var d=0;d<c.length;d++){var e=c[d],h={};if(e.length==4&&typeof e[1]==="string")h.operator=e[1],h.expression=e[3];else{var e={},f=h[0],j=h[1][1],
m=h[1][3],j=null;f.value<0?(h.operator="-",f.value=-f.value):h.operator="+";e.token="expression";e.expressionType="multiplicativeexpression";e.operator=f;e.factors=[{operator:j,expression:m}];h.expression=e}b.summands.push(h)}return b}(d[0],d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[101] AdditiveExpression");y[b]={nextPos:a,result:e};return e}function pa(){var b="MultiplicativeExpression@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=$();if(d!==null){for(var i=[],m=
a,g=[],u=s();u!==null;)g.push(u),u=s();if(g!==null)if(c.substr(a,1)==="*"?(u="*",a+=1):(u=null,j&&h('"*"')),u!==null){for(var o=[],t=s();t!==null;)o.push(t),t=s();o!==null?(t=$(),t!==null?g=[g,u,o,t]:(g=null,a=m)):(g=null,a=m)}else g=null,a=m;else g=null,a=m;if(g!==null)m=g;else{m=a;g=[];for(u=s();u!==null;)g.push(u),u=s();if(g!==null)if(c.substr(a,1)==="/"?(u="/",a+=1):(u=null,j&&h('"/"')),u!==null){o=[];for(t=s();t!==null;)o.push(t),t=s();o!==null?(t=$(),t!==null?g=[g,u,o,t]:(g=null,a=m)):(g=null,
a=m)}else g=null,a=m;else g=null,a=m;m=g!==null?g:null}for(;m!==null;){i.push(m);m=a;g=[];for(u=s();u!==null;)g.push(u),u=s();if(g!==null)if(c.substr(a,1)==="*"?(u="*",a+=1):(u=null,j&&h('"*"')),u!==null){o=[];for(t=s();t!==null;)o.push(t),t=s();o!==null?(t=$(),t!==null?g=[g,u,o,t]:(g=null,a=m)):(g=null,a=m)}else g=null,a=m;else g=null,a=m;if(g!==null)m=g;else{m=a;g=[];for(u=s();u!==null;)g.push(u),u=s();if(g!==null)if(c.substr(a,1)==="/"?(u="/",a+=1):(u=null,j&&h('"/"')),u!==null){o=[];for(t=s();t!==
null;)o.push(t),t=s();o!==null?(t=$(),t!==null?g=[g,u,o,t]:(g=null,a=m)):(g=null,a=m)}else g=null,a=m;else g=null,a=m;m=g!==null?g:null}}i!==null?d=[d,i]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){if(c.length===0)return a;var b={token:"expression",expressionType:"multiplicativeexpression"};b.factor=a;b.factors=[];for(var d=0;d<c.length;d++){var e=c[d],h={};h.operator=e[1];h.expression=e[3];b.factors.push(h)}return b}(d[0],d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[102] MultiplicativeExpression");
y[b]={nextPos:a,result:e};return e}function $(){var b="UnaryExpression@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="!"){var d="!";a+=1}else d=null,j&&h('"!"');if(d!==null){for(var g=[],m=s();m!==null;)g.push(m),m=s();g!==null?(m=ya(),m!==null?d=[d,g,m]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"unaryexpression",unaryexpression:"!"};c.expression=a;return c}(d[2]):null;e===null&&(e=null,a=k);if(e!==
null)k=e;else{e=k=a;c.substr(a,1)==="+"?(d="+",a+=1):(d=null,j&&h('"+"'));if(d!==null){g=[];for(m=s();m!==null;)g.push(m),m=s();g!==null?(m=ya(),m!==null?d=[d,g,m]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"unaryexpression",unaryexpression:"+"};c.expression=a;return c}(d[2]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,1)==="-"?(d="-",a+=1):(d=null,j&&h('"-"'));if(d!==null){g=[];for(m=s();m!==null;)g.push(m),m=s();
g!==null?(m=ya(),m!==null?d=[d,g,m]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"unaryexpression",unaryexpression:"-"};c.expression=a;return c}(d[2]):null;e===null&&(e=null,a=k);e!==null?k=e:(k=ya(),k=k!==null?k:null)}}(j=f)&&k===null&&h("[103] UnaryExpression");y[b]={nextPos:a,result:k};return k}function ya(){var c="PrimaryExpression@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=Ca();if(f===null&&(f=Ba(),f===null&&(f=Yb(),
f===null))){var f=a,e=Da(),e=e!==null?function(a){var c={token:"expression",expressionType:"atomic",primaryexpression:"rdfliteral"};c.value=a;return c}(e):null;e===null&&(e=null,a=f);e!==null?f=e:(f=a,e=Ea(),e=e!==null?function(a){var c={token:"expression",expressionType:"atomic",primaryexpression:"numericliteral"};c.value=a;return c}(e):null,e===null&&(e=null,a=f),e!==null?f=e:(f=a,e=Fa(),e=e!==null?function(a){var c={token:"expression",expressionType:"atomic",primaryexpression:"booleanliteral"};
c.value=a;return c}(e):null,e===null&&(e=null,a=f),e!==null?f=e:(f=Zb(),f===null&&(f=a,e=Q(),e=e!==null?function(a){var c={token:"expression",expressionType:"atomic",primaryexpression:"var"};c.value=a;return c}(e):null,e===null&&(e=null,a=f),f=e!==null?e:null))))}(j=b)&&f===null&&h("[104] PrimaryExpression");y[c]={nextPos:a,result:f};return f}function Ca(){var b="BrackettedExpression@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="("){var d="(";a+=1}else d=null,
j&&h('"("');if(d!==null){for(var g=[],m=s();m!==null;)g.push(m),m=s();if(g!==null)if(m=M(),m!==null){for(var i=[],u=s();u!==null;)i.push(u),u=s();i!==null?(c.substr(a,1)===")"?(u=")",a+=1):(u=null,j&&h('")"')),u!==null?d=[d,g,m,i,u]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?d[2]:null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[105] BrackettedExpression");y[b]={nextPos:a,result:e};return e}function Ba(){var b="BuiltInCall@"+a,f=y[b];if(f)return a=f.nextPos,
f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="S"){var d="S";a+=1}else d=null,j&&h('"S"');d===null&&(c.substr(a,1)==="s"?(d="s",a+=1):(d=null,j&&h('"s"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="T"){var g="T";a+=1}else g=null,j&&h('"T"');g===null&&(c.substr(a,1)==="t"?(g="t",a+=1):(g=null,j&&h('"t"')),g=g!==null?g:null);if(g!==null){if(c.substr(a,1)==="R"){var m="R";a+=1}else m=null,j&&h('"R"');m===null&&(c.substr(a,1)==="r"?(m="r",a+=1):(m=null,j&&h('"r"')),m=m!==null?m:null);if(m!==
null){for(var i=[],u=s();u!==null;)i.push(u),u=s();if(i!==null)if(c.substr(a,1)==="("?(u="(",a+=1):(u=null,j&&h('"("')),u!==null){for(var o=[],t=s();t!==null;)o.push(t),t=s();if(o!==null)if(t=M(),t!==null){for(var r=[],v=s();v!==null;)r.push(v),v=s();r!==null?(c.substr(a,1)===")"?(v=")",a+=1):(v=null,j&&h('")"')),v!==null?d=[d,g,m,i,u,o,t,r,v]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c=
{token:"expression",expressionType:"builtincall",builtincall:"str"};c.args=[a];return c}(d[6]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,1)==="L"?(d="L",a+=1):(d=null,j&&h('"L"'));d===null&&(c.substr(a,1)==="l"?(d="l",a+=1):(d=null,j&&h('"l"')),d=d!==null?d:null);if(d!==null)if(c.substr(a,1)==="A"?(g="A",a+=1):(g=null,j&&h('"A"')),g===null&&(c.substr(a,1)==="a"?(g="a",a+=1):(g=null,j&&h('"a"')),g=g!==null?g:null),g!==null)if(c.substr(a,1)==="N"?(m="N",a+=1):(m=null,j&&h('"N"')),
m===null&&(c.substr(a,1)==="n"?(m="n",a+=1):(m=null,j&&h('"n"')),m=m!==null?m:null),m!==null)if(c.substr(a,1)==="G"?(i="G",a+=1):(i=null,j&&h('"G"')),i===null&&(c.substr(a,1)==="g"?(i="g",a+=1):(i=null,j&&h('"g"')),i=i!==null?i:null),i!==null){u=[];for(o=s();o!==null;)u.push(o),o=s();if(u!==null)if(c.substr(a,1)==="("?(o="(",a+=1):(o=null,j&&h('"("')),o!==null){t=[];for(r=s();r!==null;)t.push(r),r=s();if(t!==null)if(r=M(),r!==null){for(var v=[],w=s();w!==null;)v.push(w),w=s();v!==null?(c.substr(a,
1)===")"?(w=")",a+=1):(w=null,j&&h('")"')),w!==null?d=[d,g,m,i,u,o,t,r,v,w]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"lang"};c.args=[a];return c}(d[7]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,11)==="LANGMATCHES"?(d="LANGMATCHES",a+=11):(d=null,j&&h('"LANGMATCHES"'));if(d!==
null){g=[];for(m=s();m!==null;)g.push(m),m=s();if(g!==null)if(c.substr(a,1)==="("?(m="(",a+=1):(m=null,j&&h('"("')),m!==null){i=[];for(u=s();u!==null;)i.push(u),u=s();if(i!==null)if(u=M(),u!==null){o=[];for(t=s();t!==null;)o.push(t),t=s();if(o!==null)if(c.substr(a,1)===","?(t=",",a+=1):(t=null,j&&h('","')),t!==null){r=[];for(v=s();v!==null;)r.push(v),v=s();if(r!==null)if(v=M(),v!==null){for(var w=[],z=s();z!==null;)w.push(z),z=s();w!==null?(c.substr(a,1)===")"?(z=")",a+=1):(z=null,j&&h('")"')),z!==
null?d=[d,g,m,i,u,o,t,r,v,w,z]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c){var b={token:"expression",expressionType:"builtincall",builtincall:"langmatches"};b.args=[a,c];return b}(d[4],d[8]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,1)==="D"?(d="D",a+=1):(d=null,j&&h('"D"'));d===null&&(c.substr(a,1)==="d"?(d="d",a+=1):(d=null,
j&&h('"d"')),d=d!==null?d:null);if(d!==null)if(c.substr(a,1)==="A"?(g="A",a+=1):(g=null,j&&h('"A"')),g===null&&(c.substr(a,1)==="a"?(g="a",a+=1):(g=null,j&&h('"a"')),g=g!==null?g:null),g!==null)if(c.substr(a,1)==="T"?(m="T",a+=1):(m=null,j&&h('"T"')),m===null&&(c.substr(a,1)==="t"?(m="t",a+=1):(m=null,j&&h('"t"')),m=m!==null?m:null),m!==null)if(c.substr(a,1)==="A"?(i="A",a+=1):(i=null,j&&h('"A"')),i===null&&(c.substr(a,1)==="a"?(i="a",a+=1):(i=null,j&&h('"a"')),i=i!==null?i:null),i!==null)if(c.substr(a,
1)==="T"?(u="T",a+=1):(u=null,j&&h('"T"')),u===null&&(c.substr(a,1)==="t"?(u="t",a+=1):(u=null,j&&h('"t"')),u=u!==null?u:null),u!==null)if(c.substr(a,1)==="Y"?(o="Y",a+=1):(o=null,j&&h('"Y"')),o===null&&(c.substr(a,1)==="y"?(o="y",a+=1):(o=null,j&&h('"y"')),o=o!==null?o:null),o!==null)if(c.substr(a,1)==="P"?(t="P",a+=1):(t=null,j&&h('"P"')),t===null&&(c.substr(a,1)==="p"?(t="p",a+=1):(t=null,j&&h('"p"')),t=t!==null?t:null),t!==null)if(c.substr(a,1)==="E"?(r="E",a+=1):(r=null,j&&h('"E"')),r===null&&
(c.substr(a,1)==="e"?(r="e",a+=1):(r=null,j&&h('"e"')),r=r!==null?r:null),r!==null){v=[];for(w=s();w!==null;)v.push(w),w=s();if(v!==null)if(c.substr(a,1)==="("?(w="(",a+=1):(w=null,j&&h('"("')),w!==null){for(var z=[],B=s();B!==null;)z.push(B),B=s();if(z!==null)if(B=M(),B!==null){for(var x=[],C=s();C!==null;)x.push(C),C=s();x!==null?(c.substr(a,1)===")"?(C=")",a+=1):(C=null,j&&h('")"')),C!==null?d=[d,g,m,i,u,o,t,r,v,w,z,B,x,C]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,
a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"datatype"};c.args=[a];return c}(d[11]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,5)==="BOUND"?(d="BOUND",a+=5):(d=null,j&&h('"BOUND"'));if(d!==null){g=[];for(m=s();m!==null;)g.push(m),m=s();if(g!==null)if(c.substr(a,1)==="("?(m="(",a+=1):
(m=null,j&&h('"("')),m!==null){i=[];for(u=s();u!==null;)i.push(u),u=s();if(i!==null)if(u=Q(),u!==null){o=[];for(t=s();t!==null;)o.push(t),t=s();o!==null?(c.substr(a,1)===")"?(t=")",a+=1):(t=null,j&&h('")"')),t!==null?d=[d,g,m,i,u,o,t]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"bound"};c.args=[a];return c}(d[4]):null;e===null&&(e=null,a=k);if(e!==
null)k=e;else{e=k=a;c.substr(a,3)==="IRI"?(d="IRI",a+=3):(d=null,j&&h('"IRI"'));if(d!==null){g=[];for(m=s();m!==null;)g.push(m),m=s();if(g!==null)if(c.substr(a,1)==="("?(m="(",a+=1):(m=null,j&&h('"("')),m!==null){i=[];for(u=s();u!==null;)i.push(u),u=s();if(i!==null)if(u=M(),u!==null){o=[];for(t=s();t!==null;)o.push(t),t=s();o!==null?(c.substr(a,1)===")"?(t=")",a+=1):(t=null,j&&h('")"')),t!==null?d=[d,g,m,i,u,o,t]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,
a=e}else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"iri"};c.args=[a];return c}(d[4]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,3)==="URI"?(d="URI",a+=3):(d=null,j&&h('"URI"'));if(d!==null){g=[];for(m=s();m!==null;)g.push(m),m=s();if(g!==null)if(c.substr(a,1)==="("?(m="(",a+=1):(m=null,j&&h('"("')),m!==null){i=[];for(u=s();u!==null;)i.push(u),u=s();if(i!==null)if(u=M(),u!==null){o=[];for(t=s();t!==null;)o.push(t),t=
s();o!==null?(c.substr(a,1)===")"?(t=")",a+=1):(t=null,j&&h('")"')),t!==null?d=[d,g,m,i,u,o,t]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"uri"};c.args=[a];return c}(d[4]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,5)==="BNODE"?(d="BNODE",a+=5):(d=null,j&&h('"BNODE"'));if(d!==null){g=[];for(m=s();m!==null;)g.push(m),m=s();
if(g!==null){m=a;c.substr(a,1)==="("?(i="(",a+=1):(i=null,j&&h('"("'));if(i!==null){u=[];for(o=s();o!==null;)u.push(o),o=s();if(u!==null)if(o=M(),o!==null){t=[];for(r=s();r!==null;)t.push(r),r=s();t!==null?(c.substr(a,1)===")"?(r=")",a+=1):(r=null,j&&h('")"')),r!==null?i=[i,u,o,t,r]:(i=null,a=m)):(i=null,a=m)}else i=null,a=m;else i=null,a=m}else i=null,a=m;i!==null?m=i:(m=ja(),m=m!==null?m:null);m!==null?d=[d,g,m]:(d=null,a=e)}else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={token:"expression",
expressionType:"builtincall",builtincall:"bnode"};c.args=a.length===5?[a[2]]:null;return c}(d[2]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,8)==="COALESCE"?(d="COALESCE",a+=8):(d=null,j&&h('"COALESCE"'));if(d!==null){g=[];for(m=s();m!==null;)g.push(m),m=s();g!==null?(m=Nb(),m!==null?d=[d,g,m]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"coalesce"};c.args=a;return c}(d[2]):null;e===null&&
(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,2)==="IF"?(d="IF",a+=2):(d=null,j&&h('"IF"'));if(d!==null){g=[];for(m=s();m!==null;)g.push(m),m=s();if(g!==null)if(c.substr(a,1)==="("?(m="(",a+=1):(m=null,j&&h('"("')),m!==null){i=[];for(u=s();u!==null;)i.push(u),u=s();if(i!==null)if(u=M(),u!==null){o=[];for(t=s();t!==null;)o.push(t),t=s();if(o!==null)if(c.substr(a,1)===","?(t=",",a+=1):(t=null,j&&h('","')),t!==null){r=[];for(v=s();v!==null;)r.push(v),v=s();if(r!==null)if(v=M(),v!==null){w=[];for(z=
s();z!==null;)w.push(z),z=s();if(w!==null)if(c.substr(a,1)===","?(z=",",a+=1):(z=null,j&&h('","')),z!==null){B=[];for(x=s();x!==null;)B.push(x),x=s();if(B!==null)if(x=M(),x!==null){for(var C=[],A=s();A!==null;)C.push(A),A=s();C!==null?(c.substr(a,1)===")"?(A=")",a+=1):(A=null,j&&h('")"')),A!==null?d=[d,g,m,i,u,o,t,r,v,w,z,B,x,C,A]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=
e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c,b){var d={token:"expression",expressionType:"builtincall",builtincall:"if"};d.args=[a,c,b];return d}(d[4],d[8],d[12]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,9)==="ISLITERAL"?(d="ISLITERAL",a+=9):(d=null,j&&h('"ISLITERAL"'));if(d!==null){g=[];for(m=s();m!==null;)g.push(m),m=s();if(g!==null)if(c.substr(a,1)==="("?(m="(",a+=1):(m=null,j&&h('"("')),m!==null){i=[];for(u=s();u!==null;)i.push(u),
u=s();if(i!==null)if(u=M(),u!==null){o=[];for(t=s();t!==null;)o.push(t),t=s();o!==null?(c.substr(a,1)===")"?(t=")",a+=1):(t=null,j&&h('")"')),t!==null?d=[d,g,m,i,u,o,t]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"isliteral"};c.args=[a];return c}(d[4]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,7)==="ISBLANK"?(d="ISBLANK",a+=
7):(d=null,j&&h('"ISBLANK"'));if(d!==null){g=[];for(m=s();m!==null;)g.push(m),m=s();if(g!==null)if(c.substr(a,1)==="("?(m="(",a+=1):(m=null,j&&h('"("')),m!==null){i=[];for(u=s();u!==null;)i.push(u),u=s();if(i!==null)if(u=M(),u!==null){o=[];for(t=s();t!==null;)o.push(t),t=s();o!==null?(c.substr(a,1)===")"?(t=")",a+=1):(t=null,j&&h('")"')),t!==null?d=[d,g,m,i,u,o,t]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?function(a){var c=
{token:"expression",expressionType:"builtincall",builtincall:"isblank"};c.args=[a];return c}(d[4]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,8)==="SAMETERM"?(d="SAMETERM",a+=8):(d=null,j&&h('"SAMETERM"'));if(d!==null){g=[];for(m=s();m!==null;)g.push(m),m=s();if(g!==null)if(c.substr(a,1)==="("?(m="(",a+=1):(m=null,j&&h('"("')),m!==null){i=[];for(u=s();u!==null;)i.push(u),u=s();if(i!==null)if(u=M(),u!==null){o=[];for(t=s();t!==null;)o.push(t),t=s();if(o!==null)if(c.substr(a,
1)===","?(t=",",a+=1):(t=null,j&&h('","')),t!==null){r=[];for(v=s();v!==null;)r.push(v),v=s();if(r!==null)if(v=M(),v!==null){w=[];for(z=s();z!==null;)w.push(z),z=s();w!==null?(c.substr(a,1)===")"?(z=")",a+=1):(z=null,j&&h('")"')),z!==null?d=[d,g,m,i,u,o,t,r,v,w,z]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c){var b={token:"expression",expressionType:"builtincall",
builtincall:"sameterm"};b.args=[a,c];return b}(d[4],d[8]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,1)==="I"?(d="I",a+=1):(d=null,j&&h('"I"'));d===null&&(c.substr(a,1)==="i"?(d="i",a+=1):(d=null,j&&h('"i"')),d=d!==null?d:null);if(d!==null)if(c.substr(a,1)==="S"?(g="S",a+=1):(g=null,j&&h('"S"')),g===null&&(c.substr(a,1)==="s"?(g="s",a+=1):(g=null,j&&h('"s"')),g=g!==null?g:null),g!==null)if(c.substr(a,1)==="U"?(m="U",a+=1):(m=null,j&&h('"U"')),m===null&&(c.substr(a,1)==="u"?
(m="u",a+=1):(m=null,j&&h('"u"')),m=m!==null?m:null),m!==null)if(c.substr(a,1)==="R"?(i="R",a+=1):(i=null,j&&h('"R"')),i===null&&(c.substr(a,1)==="r"?(i="r",a+=1):(i=null,j&&h('"r"')),i=i!==null?i:null),i!==null)if(c.substr(a,1)==="I"?(u="I",a+=1):(u=null,j&&h('"I"')),u===null&&(c.substr(a,1)==="i"?(u="i",a+=1):(u=null,j&&h('"i"')),u=u!==null?u:null),u!==null){o=[];for(t=s();t!==null;)o.push(t),t=s();if(o!==null)if(c.substr(a,1)==="("?(t="(",a+=1):(t=null,j&&h('"("')),t!==null){r=[];for(v=s();v!==
null;)r.push(v),v=s();if(r!==null)if(v=M(),v!==null){w=[];for(z=s();z!==null;)w.push(z),z=s();w!==null?(c.substr(a,1)===")"?(z=")",a+=1):(z=null,j&&h('")"')),z!==null?d=[d,g,m,i,u,o,t,r,v,w,z]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"isuri"};c.args=[a];return c}(d[8]):null;e===null&&
(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,1)==="I"?(d="I",a+=1):(d=null,j&&h('"I"'));d===null&&(c.substr(a,1)==="i"?(d="i",a+=1):(d=null,j&&h('"i"')),d=d!==null?d:null);if(d!==null)if(c.substr(a,1)==="S"?(g="S",a+=1):(g=null,j&&h('"S"')),g===null&&(c.substr(a,1)==="s"?(g="s",a+=1):(g=null,j&&h('"s"')),g=g!==null?g:null),g!==null)if(c.substr(a,1)==="I"?(m="I",a+=1):(m=null,j&&h('"I"')),m===null&&(c.substr(a,1)==="i"?(m="i",a+=1):(m=null,j&&h('"i"')),m=m!==null?m:null),m!==null)if(c.substr(a,
1)==="R"?(i="R",a+=1):(i=null,j&&h('"R"')),i===null&&(c.substr(a,1)==="r"?(i="r",a+=1):(i=null,j&&h('"r"')),i=i!==null?i:null),i!==null)if(c.substr(a,1)==="I"?(u="I",a+=1):(u=null,j&&h('"I"')),u===null&&(c.substr(a,1)==="i"?(u="i",a+=1):(u=null,j&&h('"i"')),u=u!==null?u:null),u!==null){o=[];for(t=s();t!==null;)o.push(t),t=s();if(o!==null)if(c.substr(a,1)==="("?(t="(",a+=1):(t=null,j&&h('"("')),t!==null){r=[];for(v=s();v!==null;)r.push(v),v=s();if(r!==null)if(v=M(),v!==null){w=[];for(z=s();z!==null;)w.push(z),
z=s();w!==null?(c.substr(a,1)===")"?(z=")",a+=1):(z=null,j&&h('")"')),z!==null?d=[d,g,m,i,u,o,t,r,v,w,z]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;e=d!==null?function(a){var c={token:"expression",expressionType:"builtincall",builtincall:"isuri"};c.args=[a];return c}(d[8]):null;e===null&&(e=null,a=k);e!==null?k=e:(k=$b(),k=k!==null?k:null)}}}}}}}}}}}}}}(j=f)&&k===null&&h("[106] BuiltInCall");
y[b]={nextPos:a,result:k};return k}function $b(){var b="RegexExpression@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a,e=a;if(c.substr(a,1)==="R"){var d="R";a+=1}else d=null,j&&h('"R"');d===null&&(c.substr(a,1)==="r"?(d="r",a+=1):(d=null,j&&h('"r"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="E"){var k="E";a+=1}else k=null,j&&h('"E"');k===null&&(c.substr(a,1)==="e"?(k="e",a+=1):(k=null,j&&h('"e"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="G"){var m="G";a+=1}else m=
null,j&&h('"G"');m===null&&(c.substr(a,1)==="g"?(m="g",a+=1):(m=null,j&&h('"g"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var i="E";a+=1}else i=null,j&&h('"E"');i===null&&(c.substr(a,1)==="e"?(i="e",a+=1):(i=null,j&&h('"e"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="X"){var o="X";a+=1}else o=null,j&&h('"X"');o===null&&(c.substr(a,1)==="x"?(o="x",a+=1):(o=null,j&&h('"x"')),o=o!==null?o:null);if(o!==null){for(var r=[],t=s();t!==null;)r.push(t),t=s();if(r!==null)if(c.substr(a,
1)==="("?(t="(",a+=1):(t=null,j&&h('"("')),t!==null){for(var v=[],w=s();w!==null;)v.push(w),w=s();if(v!==null)if(w=M(),w!==null){for(var B=[],z=s();z!==null;)B.push(z),z=s();if(B!==null)if(c.substr(a,1)===","?(z=",",a+=1):(z=null,j&&h('","')),z!==null){for(var x=[],A=s();A!==null;)x.push(A),A=s();if(x!==null)if(A=M(),A!==null){for(var C=[],E=s();E!==null;)C.push(E),E=s();if(C!==null){E=a;if(c.substr(a,1)===","){var G=",";a+=1}else G=null,j&&h('","');if(G!==null){for(var F=[],H=s();H!==null;)F.push(H),
H=s();F!==null?(H=M(),H!==null?G=[G,F,H]:(G=null,a=E)):(G=null,a=E)}else G=null,a=E;E=G!==null?G:"";if(E!==null){G=[];for(F=s();F!==null;)G.push(F),F=s();G!==null?(c.substr(a,1)===")"?(F=")",a+=1):(F=null,j&&h('")"')),F!==null?d=[d,k,m,i,o,r,t,v,w,B,z,x,A,C,E,G,F]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=
null,a=e}else d=null,a=e;e=d!==null?function(a,c,b){var d={token:"expression",expressionType:"regex"};d.text=a;d.pattern=c;d.flags=b[2];return d}(d[8],d[12],d[14]):null;e===null&&(e=null,a=g);(j=f)&&e===null&&h("[107] RegexExpression");y[b]={nextPos:a,result:e};return e}function Zb(){var b="Aggregate@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a,e=a;if(c.substr(a,1)==="C"){var d="C";a+=1}else d=null,j&&h('"C"');d===null&&(c.substr(a,1)==="c"?(d="c",a+=1):(d=null,j&&h('"c"')),d=d!==
null?d:null);if(d!==null){if(c.substr(a,1)==="O"){var k="O";a+=1}else k=null,j&&h('"O"');k===null&&(c.substr(a,1)==="o"?(k="o",a+=1):(k=null,j&&h('"o"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="U"){var m="U";a+=1}else m=null,j&&h('"U"');m===null&&(c.substr(a,1)==="u"?(m="u",a+=1):(m=null,j&&h('"u"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="N"){var i="N";a+=1}else i=null,j&&h('"N"');i===null&&(c.substr(a,1)==="n"?(i="n",a+=1):(i=null,j&&h('"n"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,
1)==="T"){var o="T";a+=1}else o=null,j&&h('"T"');o===null&&(c.substr(a,1)==="t"?(o="t",a+=1):(o=null,j&&h('"t"')),o=o!==null?o:null);if(o!==null){for(var r=[],t=s();t!==null;)r.push(t),t=s();if(r!==null)if(c.substr(a,1)==="("?(t="(",a+=1):(t=null,j&&h('"("')),t!==null){for(var v=[],w=s();w!==null;)v.push(w),w=s();if(v!==null){w=a;if(c.substr(a,1)==="D"){var B="D";a+=1}else B=null,j&&h('"D"');B===null&&(c.substr(a,1)==="d"?(B="d",a+=1):(B=null,j&&h('"d"')),B=B!==null?B:null);if(B!==null){if(c.substr(a,
1)==="I"){var z="I";a+=1}else z=null,j&&h('"I"');z===null&&(c.substr(a,1)==="i"?(z="i",a+=1):(z=null,j&&h('"i"')),z=z!==null?z:null);if(z!==null){if(c.substr(a,1)==="S"){var x="S";a+=1}else x=null,j&&h('"S"');x===null&&(c.substr(a,1)==="s"?(x="s",a+=1):(x=null,j&&h('"s"')),x=x!==null?x:null);if(x!==null){if(c.substr(a,1)==="T"){var A="T";a+=1}else A=null,j&&h('"T"');A===null&&(c.substr(a,1)==="t"?(A="t",a+=1):(A=null,j&&h('"t"')),A=A!==null?A:null);if(A!==null){if(c.substr(a,1)==="I"){var C="I";a+=
1}else C=null,j&&h('"I"');C===null&&(c.substr(a,1)==="i"?(C="i",a+=1):(C=null,j&&h('"i"')),C=C!==null?C:null);if(C!==null){if(c.substr(a,1)==="N"){var G="N";a+=1}else G=null,j&&h('"N"');G===null&&(c.substr(a,1)==="n"?(G="n",a+=1):(G=null,j&&h('"n"')),G=G!==null?G:null);if(G!==null){if(c.substr(a,1)==="C"){var E="C";a+=1}else E=null,j&&h('"C"');E===null&&(c.substr(a,1)==="c"?(E="c",a+=1):(E=null,j&&h('"c"')),E=E!==null?E:null);if(E!==null){if(c.substr(a,1)==="T"){var F="T";a+=1}else F=null,j&&h('"T"');
F===null&&(c.substr(a,1)==="t"?(F="t",a+=1):(F=null,j&&h('"t"')),F=F!==null?F:null);F!==null?B=[B,z,x,A,C,G,E,F]:(B=null,a=w)}else B=null,a=w}else B=null,a=w}else B=null,a=w}else B=null,a=w}else B=null,a=w}else B=null,a=w}else B=null,a=w;w=B!==null?B:"";if(w!==null){B=[];for(z=s();z!==null;)B.push(z),z=s();if(B!==null)if(c.substr(a,1)==="*"?(z="*",a+=1):(z=null,j&&h('"*"')),z===null&&(z=M(),z=z!==null?z:null),z!==null){x=[];for(A=s();A!==null;)x.push(A),A=s();if(x!==null)if(c.substr(a,1)===")"?(A=
")",a+=1):(A=null,j&&h('")"')),A!==null){C=[];for(G=s();G!==null;)C.push(G),G=s();C!==null?d=[d,k,m,i,o,r,t,v,w,B,z,x,A,C]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?function(a,c){exp={token:"expression",expressionType:"aggregate",aggregateType:"count"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=c;return exp}(d[8],
d[10]):null;e===null&&(e=null,a=g);if(e!==null)g=e;else{e=g=a;c.substr(a,1)==="S"?(d="S",a+=1):(d=null,j&&h('"S"'));d===null&&(c.substr(a,1)==="s"?(d="s",a+=1):(d=null,j&&h('"s"')),d=d!==null?d:null);if(d!==null)if(c.substr(a,1)==="U"?(k="U",a+=1):(k=null,j&&h('"U"')),k===null&&(c.substr(a,1)==="u"?(k="u",a+=1):(k=null,j&&h('"u"')),k=k!==null?k:null),k!==null)if(c.substr(a,1)==="M"?(m="M",a+=1):(m=null,j&&h('"M"')),m===null&&(c.substr(a,1)==="m"?(m="m",a+=1):(m=null,j&&h('"m"')),m=m!==null?m:null),
m!==null){i=[];for(o=s();o!==null;)i.push(o),o=s();if(i!==null)if(c.substr(a,1)==="("?(o="(",a+=1):(o=null,j&&h('"("')),o!==null){r=[];for(t=s();t!==null;)r.push(t),t=s();if(r!==null)if(t=a,c.substr(a,1)==="D"?(v="D",a+=1):(v=null,j&&h('"D"')),v===null&&(c.substr(a,1)==="d"?(v="d",a+=1):(v=null,j&&h('"d"')),v=v!==null?v:null),v!==null?(c.substr(a,1)==="I"?(w="I",a+=1):(w=null,j&&h('"I"')),w===null&&(c.substr(a,1)==="i"?(w="i",a+=1):(w=null,j&&h('"i"')),w=w!==null?w:null),w!==null?(c.substr(a,1)===
"S"?(B="S",a+=1):(B=null,j&&h('"S"')),B===null&&(c.substr(a,1)==="s"?(B="s",a+=1):(B=null,j&&h('"s"')),B=B!==null?B:null),B!==null?(c.substr(a,1)==="T"?(z="T",a+=1):(z=null,j&&h('"T"')),z===null&&(c.substr(a,1)==="t"?(z="t",a+=1):(z=null,j&&h('"t"')),z=z!==null?z:null),z!==null?(c.substr(a,1)==="I"?(x="I",a+=1):(x=null,j&&h('"I"')),x===null&&(c.substr(a,1)==="i"?(x="i",a+=1):(x=null,j&&h('"i"')),x=x!==null?x:null),x!==null?(c.substr(a,1)==="N"?(A="N",a+=1):(A=null,j&&h('"N"')),A===null&&(c.substr(a,
1)==="n"?(A="n",a+=1):(A=null,j&&h('"n"')),A=A!==null?A:null),A!==null?(c.substr(a,1)==="C"?(C="C",a+=1):(C=null,j&&h('"C"')),C===null&&(c.substr(a,1)==="c"?(C="c",a+=1):(C=null,j&&h('"c"')),C=C!==null?C:null),C!==null?(c.substr(a,1)==="T"?(G="T",a+=1):(G=null,j&&h('"T"')),G===null&&(c.substr(a,1)==="t"?(G="t",a+=1):(G=null,j&&h('"t"')),G=G!==null?G:null),G!==null?v=[v,w,B,z,x,A,C,G]:(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t),t=v!==
null?v:"",t!==null){v=[];for(w=s();w!==null;)v.push(w),w=s();if(v!==null)if(w=M(),w!==null){B=[];for(z=s();z!==null;)B.push(z),z=s();if(B!==null)if(c.substr(a,1)===")"?(z=")",a+=1):(z=null,j&&h('")"')),z!==null){x=[];for(A=s();A!==null;)x.push(A),A=s();x!==null?d=[d,k,m,i,o,r,t,v,w,B,z,x]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;else d=null,a=e;e=d!==null?function(a,
c){exp={token:"expression",expressionType:"aggregate",aggregateType:"sum"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=c;return exp}(d[6],d[8]):null;e===null&&(e=null,a=g);if(e!==null)g=e;else{e=g=a;c.substr(a,1)==="M"?(d="M",a+=1):(d=null,j&&h('"M"'));d===null&&(c.substr(a,1)==="m"?(d="m",a+=1):(d=null,j&&h('"m"')),d=d!==null?d:null);if(d!==null)if(c.substr(a,1)==="I"?(k="I",a+=1):(k=null,j&&h('"I"')),k===null&&(c.substr(a,1)==="i"?(k="i",a+=1):(k=null,j&&h('"i"')),k=k!==null?k:null),k!==null)if(c.substr(a,
1)==="N"?(m="N",a+=1):(m=null,j&&h('"N"')),m===null&&(c.substr(a,1)==="n"?(m="n",a+=1):(m=null,j&&h('"n"')),m=m!==null?m:null),m!==null){i=[];for(o=s();o!==null;)i.push(o),o=s();if(i!==null)if(c.substr(a,1)==="("?(o="(",a+=1):(o=null,j&&h('"("')),o!==null){r=[];for(t=s();t!==null;)r.push(t),t=s();if(r!==null)if(t=a,c.substr(a,1)==="D"?(v="D",a+=1):(v=null,j&&h('"D"')),v===null&&(c.substr(a,1)==="d"?(v="d",a+=1):(v=null,j&&h('"d"')),v=v!==null?v:null),v!==null?(c.substr(a,1)==="I"?(w="I",a+=1):(w=
null,j&&h('"I"')),w===null&&(c.substr(a,1)==="i"?(w="i",a+=1):(w=null,j&&h('"i"')),w=w!==null?w:null),w!==null?(c.substr(a,1)==="S"?(B="S",a+=1):(B=null,j&&h('"S"')),B===null&&(c.substr(a,1)==="s"?(B="s",a+=1):(B=null,j&&h('"s"')),B=B!==null?B:null),B!==null?(c.substr(a,1)==="T"?(z="T",a+=1):(z=null,j&&h('"T"')),z===null&&(c.substr(a,1)==="t"?(z="t",a+=1):(z=null,j&&h('"t"')),z=z!==null?z:null),z!==null?(c.substr(a,1)==="I"?(x="I",a+=1):(x=null,j&&h('"I"')),x===null&&(c.substr(a,1)==="i"?(x="i",a+=
1):(x=null,j&&h('"i"')),x=x!==null?x:null),x!==null?(c.substr(a,1)==="N"?(A="N",a+=1):(A=null,j&&h('"N"')),A===null&&(c.substr(a,1)==="n"?(A="n",a+=1):(A=null,j&&h('"n"')),A=A!==null?A:null),A!==null?(c.substr(a,1)==="C"?(C="C",a+=1):(C=null,j&&h('"C"')),C===null&&(c.substr(a,1)==="c"?(C="c",a+=1):(C=null,j&&h('"c"')),C=C!==null?C:null),C!==null?(c.substr(a,1)==="T"?(G="T",a+=1):(G=null,j&&h('"T"')),G===null&&(c.substr(a,1)==="t"?(G="t",a+=1):(G=null,j&&h('"t"')),G=G!==null?G:null),G!==null?v=[v,
w,B,z,x,A,C,G]:(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t),t=v!==null?v:"",t!==null){v=[];for(w=s();w!==null;)v.push(w),w=s();if(v!==null)if(w=M(),w!==null){B=[];for(z=s();z!==null;)B.push(z),z=s();if(B!==null)if(c.substr(a,1)===")"?(z=")",a+=1):(z=null,j&&h('")"')),z!==null){x=[];for(A=s();A!==null;)x.push(A),A=s();x!==null?d=[d,k,m,i,o,r,t,v,w,B,z,x]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=
null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){exp={token:"expression",expressionType:"aggregate",aggregateType:"min"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=c;return exp}(d[6],d[8]):null;e===null&&(e=null,a=g);if(e!==null)g=e;else{e=g=a;c.substr(a,1)==="M"?(d="M",a+=1):(d=null,j&&h('"M"'));d===null&&(c.substr(a,1)==="m"?(d="m",a+=1):(d=null,j&&h('"m"')),d=d!==null?d:null);if(d!==null)if(c.substr(a,1)==="A"?
(k="A",a+=1):(k=null,j&&h('"A"')),k===null&&(c.substr(a,1)==="a"?(k="a",a+=1):(k=null,j&&h('"a"')),k=k!==null?k:null),k!==null)if(c.substr(a,1)==="X"?(m="X",a+=1):(m=null,j&&h('"X"')),m===null&&(c.substr(a,1)==="x"?(m="x",a+=1):(m=null,j&&h('"x"')),m=m!==null?m:null),m!==null){i=[];for(o=s();o!==null;)i.push(o),o=s();if(i!==null)if(c.substr(a,1)==="("?(o="(",a+=1):(o=null,j&&h('"("')),o!==null){r=[];for(t=s();t!==null;)r.push(t),t=s();if(r!==null)if(t=a,c.substr(a,1)==="D"?(v="D",a+=1):(v=null,j&&
h('"D"')),v===null&&(c.substr(a,1)==="d"?(v="d",a+=1):(v=null,j&&h('"d"')),v=v!==null?v:null),v!==null?(c.substr(a,1)==="I"?(w="I",a+=1):(w=null,j&&h('"I"')),w===null&&(c.substr(a,1)==="i"?(w="i",a+=1):(w=null,j&&h('"i"')),w=w!==null?w:null),w!==null?(c.substr(a,1)==="S"?(B="S",a+=1):(B=null,j&&h('"S"')),B===null&&(c.substr(a,1)==="s"?(B="s",a+=1):(B=null,j&&h('"s"')),B=B!==null?B:null),B!==null?(c.substr(a,1)==="T"?(z="T",a+=1):(z=null,j&&h('"T"')),z===null&&(c.substr(a,1)==="t"?(z="t",a+=1):(z=
null,j&&h('"t"')),z=z!==null?z:null),z!==null?(c.substr(a,1)==="I"?(x="I",a+=1):(x=null,j&&h('"I"')),x===null&&(c.substr(a,1)==="i"?(x="i",a+=1):(x=null,j&&h('"i"')),x=x!==null?x:null),x!==null?(c.substr(a,1)==="N"?(A="N",a+=1):(A=null,j&&h('"N"')),A===null&&(c.substr(a,1)==="n"?(A="n",a+=1):(A=null,j&&h('"n"')),A=A!==null?A:null),A!==null?(c.substr(a,1)==="C"?(C="C",a+=1):(C=null,j&&h('"C"')),C===null&&(c.substr(a,1)==="c"?(C="c",a+=1):(C=null,j&&h('"c"')),C=C!==null?C:null),C!==null?(c.substr(a,
1)==="T"?(G="T",a+=1):(G=null,j&&h('"T"')),G===null&&(c.substr(a,1)==="t"?(G="t",a+=1):(G=null,j&&h('"t"')),G=G!==null?G:null),G!==null?v=[v,w,B,z,x,A,C,G]:(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t),t=v!==null?v:"",t!==null){v=[];for(w=s();w!==null;)v.push(w),w=s();if(v!==null)if(w=M(),w!==null){B=[];for(z=s();z!==null;)B.push(z),z=s();if(B!==null)if(c.substr(a,1)===")"?(z=")",a+=1):(z=null,j&&h('")"')),z!==null){x=[];for(A=s();A!==
null;)x.push(A),A=s();x!==null?d=[d,k,m,i,o,r,t,v,w,B,z,x]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){exp={token:"expression",expressionType:"aggregate",aggregateType:"max"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=c;return exp}(d[6],d[8]):null;e===null&&(e=null,a=g);if(e!==null)g=e;else{e=g=a;c.substr(a,1)==="A"?(d="A",a+=
1):(d=null,j&&h('"A"'));d===null&&(c.substr(a,1)==="a"?(d="a",a+=1):(d=null,j&&h('"a"')),d=d!==null?d:null);if(d!==null)if(c.substr(a,1)==="V"?(k="V",a+=1):(k=null,j&&h('"V"')),k===null&&(c.substr(a,1)==="v"?(k="v",a+=1):(k=null,j&&h('"v"')),k=k!==null?k:null),k!==null)if(c.substr(a,1)==="G"?(m="G",a+=1):(m=null,j&&h('"G"')),m===null&&(c.substr(a,1)==="g"?(m="g",a+=1):(m=null,j&&h('"g"')),m=m!==null?m:null),m!==null){i=[];for(o=s();o!==null;)i.push(o),o=s();if(i!==null)if(c.substr(a,1)==="("?(o="(",
a+=1):(o=null,j&&h('"("')),o!==null){r=[];for(t=s();t!==null;)r.push(t),t=s();if(r!==null)if(t=a,c.substr(a,1)==="D"?(v="D",a+=1):(v=null,j&&h('"D"')),v===null&&(c.substr(a,1)==="d"?(v="d",a+=1):(v=null,j&&h('"d"')),v=v!==null?v:null),v!==null?(c.substr(a,1)==="I"?(w="I",a+=1):(w=null,j&&h('"I"')),w===null&&(c.substr(a,1)==="i"?(w="i",a+=1):(w=null,j&&h('"i"')),w=w!==null?w:null),w!==null?(c.substr(a,1)==="S"?(B="S",a+=1):(B=null,j&&h('"S"')),B===null&&(c.substr(a,1)==="s"?(B="s",a+=1):(B=null,j&&
h('"s"')),B=B!==null?B:null),B!==null?(c.substr(a,1)==="T"?(z="T",a+=1):(z=null,j&&h('"T"')),z===null&&(c.substr(a,1)==="t"?(z="t",a+=1):(z=null,j&&h('"t"')),z=z!==null?z:null),z!==null?(c.substr(a,1)==="I"?(x="I",a+=1):(x=null,j&&h('"I"')),x===null&&(c.substr(a,1)==="i"?(x="i",a+=1):(x=null,j&&h('"i"')),x=x!==null?x:null),x!==null?(c.substr(a,1)==="N"?(A="N",a+=1):(A=null,j&&h('"N"')),A===null&&(c.substr(a,1)==="n"?(A="n",a+=1):(A=null,j&&h('"n"')),A=A!==null?A:null),A!==null?(c.substr(a,1)==="C"?
(C="C",a+=1):(C=null,j&&h('"C"')),C===null&&(c.substr(a,1)==="c"?(C="c",a+=1):(C=null,j&&h('"c"')),C=C!==null?C:null),C!==null?(c.substr(a,1)==="T"?(G="T",a+=1):(G=null,j&&h('"T"')),G===null&&(c.substr(a,1)==="t"?(G="t",a+=1):(G=null,j&&h('"t"')),G=G!==null?G:null),G!==null?v=[v,w,B,z,x,A,C,G]:(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t)):(v=null,a=t),t=v!==null?v:"",t!==null){v=[];for(w=s();w!==null;)v.push(w),w=s();if(v!==null)if(w=M(),w!==null){B=
[];for(z=s();z!==null;)B.push(z),z=s();if(B!==null)if(c.substr(a,1)===")"?(z=")",a+=1):(z=null,j&&h('")"')),z!==null){x=[];for(A=s();A!==null;)x.push(A),A=s();x!==null?d=[d,k,m,i,o,r,t,v,w,B,z,x]:(d=null,a=e)}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e}else d=null,a=e;else d=null,a=e;else d=null,a=e;e=d!==null?function(a,c){exp={token:"expression",expressionType:"aggregate",aggregateType:"avg"};exp.distinct=a!=""?
"DISTINCT":a;exp.expression=c;return exp}(d[6],d[8]):null;e===null&&(e=null,a=g);g=e!==null?e:null}}}}(j=f)&&g===null&&h("[110] Aggregate");y[b]={nextPos:a,result:g};return g}function Yb(){var c="IRIrefOrFunction@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=a,d=R();if(d!==null){var k=gb(),k=k!==null?k:"";k!==null?d=[d,k]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){var b={token:"expression",expressionType:"irireforfunction"};b.iriref=a;b.args=c.value;return b}(d[0],d[1]):
null;e===null&&(e=null,a=f);(j=b)&&e===null&&h("[117] IRIrefOrFunction");y[c]={nextPos:a,result:e};return e}function Da(){var b="RDFLiteral@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=ac();if(d!==null){var g=bc();if(g===null){g=a;if(c.substr(a,2)==="^^"){var m="^^";a+=2}else m=null,j&&h('"^^"');if(m!==null){var i=R();i!==null?m=[m,i]:(m=null,a=g)}else m=null,a=g;g=m!==null?m:null}g=g!==null?g:"";g!==null?d=[d,g]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){return typeof c===
"string"&&c.length>0?{token:"literal",value:a.value,lang:c.slice(1),type:null}:typeof c==="object"?(c.shift(),{token:"literal",value:a.value,lang:null,type:c[0]}):{token:"literal",value:a.value,lang:null,type:null}}(d[0],d[1]):null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[112] RDFLiteral");y[b]={nextPos:a,result:e};return e}function Ea(){var c="NumericLiteral@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=cc();f===null&&(f=dc(),f===null&&(f=qa(),f=f!==null?f:null));(j=b)&&f===null&&
h("[113] NumericLiteral");y[c]={nextPos:a,result:f};return f}function cc(){var c="NumericLiteralUnsigned@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=Oa();f===null&&(f=Pa(),f===null&&(f=aa(),f=f!==null?f:null));(j=b)&&f===null&&h("[114] NumericLiteralUnsigned");y[c]={nextPos:a,result:f};return f}function dc(){var c="NumericLiteralPositive@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=ec();f===null&&(f=fc(),f===null&&(f=gc(),f=f!==null?f:null));(j=b)&&f===null&&h("[115] NumericLiteralPositive");
y[c]={nextPos:a,result:f};return f}function qa(){var c="NumericLiteralNegative@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=hc();f===null&&(f=ic(),f===null&&(f=jc(),f=f!==null?f:null));(j=b)&&f===null&&h("[116] NumericLiteralNegative");y[c]={nextPos:a,result:f};return f}function Fa(){var b="BooleanLiteral@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="T"){var d="T";a+=1}else d=null,j&&h('"T"');d===null&&(c.substr(a,1)==="t"?(d="t",a+=1):(d=null,
j&&h('"t"')),d=d!==null?d:null);if(d!==null){if(c.substr(a,1)==="R"){var g="R";a+=1}else g=null,j&&h('"R"');g===null&&(c.substr(a,1)==="r"?(g="r",a+=1):(g=null,j&&h('"r"')),g=g!==null?g:null);if(g!==null){if(c.substr(a,1)==="U"){var m="U";a+=1}else m=null,j&&h('"U"');m===null&&(c.substr(a,1)==="u"?(m="u",a+=1):(m=null,j&&h('"u"')),m=m!==null?m:null);if(m!==null){if(c.substr(a,1)==="E"){var i="E";a+=1}else i=null,j&&h('"E"');i===null&&(c.substr(a,1)==="e"?(i="e",a+=1):(i=null,j&&h('"e"')),i=i!==null?
i:null);i!==null?d=[d,g,m,i]:(d=null,a=e)}else d=null,a=e}else d=null,a=e}else d=null,a=e;e=d!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}:null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,1)==="F"?(d="F",a+=1):(d=null,j&&h('"F"'));d===null&&(c.substr(a,1)==="f"?(d="f",a+=1):(d=null,j&&h('"f"')),d=d!==null?d:null);if(d!==null)if(c.substr(a,1)==="A"?(g="A",a+=1):(g=null,j&&h('"A"')),g===null&&(c.substr(a,1)==="a"?(g="a",a+=1):(g=null,
j&&h('"a"')),g=g!==null?g:null),g!==null)if(c.substr(a,1)==="L"?(m="L",a+=1):(m=null,j&&h('"L"')),m===null&&(c.substr(a,1)==="l"?(m="l",a+=1):(m=null,j&&h('"l"')),m=m!==null?m:null),m!==null)if(c.substr(a,1)==="S"?(i="S",a+=1):(i=null,j&&h('"S"')),i===null&&(c.substr(a,1)==="s"?(i="s",a+=1):(i=null,j&&h('"s"')),i=i!==null?i:null),i!==null){if(c.substr(a,1)==="E"){var o="E";a+=1}else o=null,j&&h('"E"');o===null&&(c.substr(a,1)==="e"?(o="e",a+=1):(o=null,j&&h('"e"')),o=o!==null?o:null);o!==null?d=[d,
g,m,i,o]:(d=null,a=e)}else d=null,a=e;else d=null,a=e;else d=null,a=e;else d=null,a=e;e=d!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}:null;e===null&&(e=null,a=k);k=e!==null?e:null}(j=f)&&k===null&&h("[117] BooleanLiteral");y[b]={nextPos:a,result:k};return k}function ac(){var c="String@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=kc(),e=e!==null?{token:"string",value:e}:null;e===null&&(e=null,a=f);e!==null?f=e:(f=a,e=lc(),e=e!==
null?{token:"string",value:e}:null,e===null&&(e=null,a=f),e!==null?f=e:(f=a,e=mc(),e=e!==null?{token:"string",value:e}:null,e===null&&(e=null,a=f),e!==null?f=e:(f=a,e=nc(),e=e!==null?{token:"string",value:e}:null,e===null&&(e=null,a=f),f=e!==null?e:null)));(j=b)&&f===null&&h("[118] String");y[c]={nextPos:a,result:f};return f}function R(){var c="IRIref@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=la(),e=e!==null?{token:"uri",prefix:null,suffix:null,value:e}:null;e===null&&(e=null,
a=f);e!==null?f=e:(f=a,e=oc(),e=e!==null?e:null,e===null&&(e=null,a=f),f=e!==null?e:null);(j=b)&&f===null&&h("[119] IRIref");y[c]={nextPos:a,result:f};return f}function oc(){var c="PrefixedName@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=pc(),e=e!==null?{token:"uri",prefix:e[0],suffix:e[1],value:null}:null;e===null&&(e=null,a=f);e!==null?f=e:(f=a,e=Aa(),e=e!==null?{token:"uri",prefix:e,suffix:"",value:null}:null,e===null&&(e=null,a=f),f=e!==null?e:null);(j=b)&&f===null&&h("[120] PrefixedName");
y[c]={nextPos:a,result:f};return f}function Xb(){var c="BlankNode@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=qc(),e=e!==null?{token:"blank",label:e}:null;e===null&&(e=null,a=f);e!==null?f=e:(f=a,rc()!==null?(ba++,e={token:"blank",label:""+ba}):e=null,e===null&&(e=null,a=f),f=e!==null?e:null);(j=b)&&f===null&&h("[121] BlankNode");y[c]={nextPos:a,result:f};return f}function la(){var b="IRI_REF@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="<"){var d=
"<";a+=1}else d=null,j&&h('"<"');if(d!==null){var g=[];if(c.substr(a).match(/^[^<>"{} | ^\\]/)!==null){var m=c.charAt(a);a++}else m=null,j&&h('[^<>"{} | ^\\\\]');for(;m!==null;)g.push(m),c.substr(a).match(/^[^<>"{} | ^\\]/)!==null?(m=c.charAt(a),a++):(m=null,j&&h('[^<>"{} | ^\\\\]'));g!==null?(c.substr(a,1)===">"?(m=">",a+=1):(m=null,j&&h('">"')),m!==null?d=[d,g,m]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;e=d!==null?d[1].join(""):null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[122] IRI_REF");y[b]=
{nextPos:a,result:e};return e}function Aa(){var b="PNAME_NS@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a,d=Ta(),d=d!==null?d:"";if(d!==null){if(c.substr(a,1)===":"){var g=":";a+=1}else g=null,j&&h('":"');g!==null?d=[d,g]:(d=null,a=e)}else d=null,a=e;e=d!==null?d[0]:null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[123] PNAME_NS");y[b]={nextPos:a,result:e};return e}function pc(){var c="PNAME_LN@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=j;j=!1;var f=a,e=a,d=Aa();if(d!==null){var k=
mb();k!==null?d=[d,k]:(d=null,a=e)}else d=null,a=e;e=d!==null?[d[0],d[1]]:null;e===null&&(e=null,a=f);(j=b)&&e===null&&h("[124] PNAME_LN");y[c]={nextPos:a,result:e};return e}function qc(){var b="BLANK_NODE_LABEL@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,2)==="_:"){var d="_:";a+=2}else d=null,j&&h('"_:"');if(d!==null){var g=mb();g!==null?d=[d,g]:(d=null,a=e)}else d=null,a=e;e=d!==null?d[1]:null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[125] BLANK_NODE_LABEL");
y[b]={nextPos:a,result:e};return e}function Vb(){var b="VAR1@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="?"){var d="?";a+=1}else d=null,j&&h('"?"');if(d!==null){var g=nb();g!==null?d=[d,g]:(d=null,a=e)}else d=null,a=e;e=d!==null?d[1]:null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[126] VAR1");y[b]={nextPos:a,result:e};return e}function Wb(){var b="VAR2@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="$"){var d="$";a+=1}else d=
null,j&&h('"$"');if(d!==null){var g=nb();g!==null?d=[d,g]:(d=null,a=e)}else d=null,a=e;e=d!==null?d[1]:null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[127] VAR2");y[b]={nextPos:a,result:e};return e}function bc(){var b="LANGTAG@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a,1)==="@"){var d="@";a+=1}else d=null,j&&h('"@"');if(d!==null){if(c.substr(a).match(/^[a-zA-Z]/)!==null){var g=c.charAt(a);a++}else g=null,j&&h("[a-zA-Z]");if(g!==null)for(var m=[];g!==null;)m.push(g),
c.substr(a).match(/^[a-zA-Z]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[a-zA-Z]"));else m=null;if(m!==null){var g=[],i=a;if(c.substr(a,1)==="-"){var o="-";a+=1}else o=null,j&&h('"-"');if(o!==null){if(c.substr(a).match(/^[a-zA-Z0-9]/)!==null){var r=c.charAt(a);a++}else r=null,j&&h("[a-zA-Z0-9]");if(r!==null)for(var s=[];r!==null;)s.push(r),c.substr(a).match(/^[a-zA-Z0-9]/)!==null?(r=c.charAt(a),a++):(r=null,j&&h("[a-zA-Z0-9]"));else s=null;s!==null?o=[o,s]:(o=null,a=i)}else o=null,a=i;for(;o!==null;)if(g.push(o),
i=a,c.substr(a,1)==="-"?(o="-",a+=1):(o=null,j&&h('"-"')),o!==null){c.substr(a).match(/^[a-zA-Z0-9]/)!==null?(r=c.charAt(a),a++):(r=null,j&&h("[a-zA-Z0-9]"));if(r!==null)for(s=[];r!==null;)s.push(r),c.substr(a).match(/^[a-zA-Z0-9]/)!==null?(r=c.charAt(a),a++):(r=null,j&&h("[a-zA-Z0-9]"));else s=null;s!==null?o=[o,s]:(o=null,a=i)}else o=null,a=i;g!==null?d=[d,m,g]:(d=null,a=e)}else d=null,a=e}else d=null,a=e;e=d!==null?d[2].length===0?("@"+d[1].join("")).toLowerCase():("@"+d[1].join("")+"-"+d[2][0][1].join("")).toLowerCase():
null;e===null&&(e=null,a=k);(j=f)&&e===null&&h("[128] LANGTAG");y[b]={nextPos:a,result:e};return e}function aa(){var b="INTEGER@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a;if(c.substr(a).match(/^[0-9]/)!==null){var e=c.charAt(a);a++}else e=null,j&&h("[0-9]");if(e!==null)for(var d=[];e!==null;)d.push(e),c.substr(a).match(/^[0-9]/)!==null?(e=c.charAt(a),a++):(e=null,j&&h("[0-9]"));else d=null;e=d!==null?function(a){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#integer"};
lit.value=X(a);return lit}(d):null;e===null&&(e=null,a=g);(j=f)&&e===null&&h("[129] INTEGER");y[b]={nextPos:a,result:e};return e}function Pa(){var b="DECIMAL@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a,e=a;if(c.substr(a).match(/^[0-9]/)!==null){var d=c.charAt(a);a++}else d=null,j&&h("[0-9]");if(d!==null)for(var k=[];d!==null;)k.push(d),c.substr(a).match(/^[0-9]/)!==null?(d=c.charAt(a),a++):(d=null,j&&h("[0-9]"));else k=null;if(k!==null)if(c.substr(a,1)==="."?(d=".",a+=1):(d=null,
j&&h('"."')),d!==null){var i=[];if(c.substr(a).match(/^[0-9]/)!==null){var n=c.charAt(a);a++}else n=null,j&&h("[0-9]");for(;n!==null;)i.push(n),c.substr(a).match(/^[0-9]/)!==null?(n=c.charAt(a),a++):(n=null,j&&h("[0-9]"));i!==null?k=[k,d,i]:(k=null,a=e)}else k=null,a=e;else k=null,a=e;e=k!==null?function(a,c,b){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};lit.value=X([a,c,b]);return lit}(k[0],k[1],k[2]):null;e===null&&(e=null,a=g);if(e!==null)g=e;else{e=g=a;c.substr(a,
1)==="."?(k=".",a+=1):(k=null,j&&h('"."'));if(k!==null){c.substr(a).match(/^[0-9]/)!==null?(d=c.charAt(a),a++):(d=null,j&&h("[0-9]"));if(d!==null)for(i=[];d!==null;)i.push(d),c.substr(a).match(/^[0-9]/)!==null?(d=c.charAt(a),a++):(d=null,j&&h("[0-9]"));else i=null;i!==null?k=[k,i]:(k=null,a=e)}else k=null,a=e;e=k!==null?function(a,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};lit.value=X([a,c]);return lit}(k[0],k[1]):null;e===null&&(e=null,a=g);g=e!==null?e:null}(j=
f)&&g===null&&h("[130] DECIMAL");y[b]={nextPos:a,result:g};return g}function Oa(){var b="DOUBLE@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var k=a,e=a;if(c.substr(a).match(/^[0-9]/)!==null){var d=c.charAt(a);a++}else d=null,j&&h("[0-9]");if(d!==null)for(var g=[];d!==null;)g.push(d),c.substr(a).match(/^[0-9]/)!==null?(d=c.charAt(a),a++):(d=null,j&&h("[0-9]"));else g=null;if(g!==null)if(c.substr(a,1)==="."?(d=".",a+=1):(d=null,j&&h('"."')),d!==null){var i=[];if(c.substr(a).match(/^[0-9]/)!==
null){var n=c.charAt(a);a++}else n=null,j&&h("[0-9]");for(;n!==null;)i.push(n),c.substr(a).match(/^[0-9]/)!==null?(n=c.charAt(a),a++):(n=null,j&&h("[0-9]"));i!==null?(n=Qa(),n!==null?g=[g,d,i,n]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;else g=null,a=e;e=g!==null?function(a,c,b,d){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=X([a,c,b,d]);return lit}(g[0],g[1],g[2],g[3]):null;e===null&&(e=null,a=k);if(e!==null)k=e;else{e=k=a;c.substr(a,1)==="."?(g=".",a+=
1):(g=null,j&&h('"."'));if(g!==null){c.substr(a).match(/^[0-9]/)!==null?(i=c.charAt(a),a++):(i=null,j&&h("[0-9]"));if(i!==null)for(d=[];i!==null;)d.push(i),c.substr(a).match(/^[0-9]/)!==null?(i=c.charAt(a),a++):(i=null,j&&h("[0-9]"));else d=null;d!==null?(i=Qa(),i!==null?g=[g,d,i]:(g=null,a=e)):(g=null,a=e)}else g=null,a=e;e=g!==null?function(a,c,b){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=X([a,c,b]);return lit}(g[0],g[1],g[2]):null;e===null&&(e=null,
a=k);if(e!==null)k=e;else{e=k=a;c.substr(a).match(/^[0-9]/)!==null?(d=c.charAt(a),a++):(d=null,j&&h("[0-9]"));if(d!==null)for(g=[];d!==null;)g.push(d),c.substr(a).match(/^[0-9]/)!==null?(d=c.charAt(a),a++):(d=null,j&&h("[0-9]"));else g=null;g!==null?(d=Qa(),d!==null?g=[g,d]:(g=null,a=e)):(g=null,a=e);e=g!==null?function(a,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=X([a,c]);return lit}(g[0],g[1]):null;e===null&&(e=null,a=k);k=e!==null?e:null}}(j=f)&&
k===null&&h("[131] DOUBLE");y[b]={nextPos:a,result:k};return k}function gc(){var b="INTEGER_POSITIVE@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a,e=a;if(c.substr(a,1)==="+"){var d="+";a+=1}else d=null,j&&h('"+"');if(d!==null){var k=aa();k!==null?d=[d,k]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){a.value="+"+a.value;return a}(d[1]):null;e===null&&(e=null,a=g);(j=f)&&e===null&&h("[132] INTEGER_POSITIVE");y[b]={nextPos:a,result:e};return e}function fc(){var b="DECIMAL_POSITIVE@"+
a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a,e=a;if(c.substr(a,1)==="+"){var d="+";a+=1}else d=null,j&&h('"+"');if(d!==null){var k=Pa();k!==null?d=[d,k]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){a.value="+"+a.value;return a}(d[1]):null;e===null&&(e=null,a=g);(j=f)&&e===null&&h("[133] DECIMAL_POSITIVE");y[b]={nextPos:a,result:e};return e}function ec(){var b="DOUBLE_POSITIVE@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a,e=a;if(c.substr(a,1)==="+"){var d="+";a+=
1}else d=null,j&&h('"+"');if(d!==null){var k=Oa();k!==null?d=[d,k]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){a.value="+"+a.value;return a}(d[1]):null;e===null&&(e=null,a=g);(j=f)&&e===null&&h("[134] DOUBLE_POSITIVE");y[b]={nextPos:a,result:e};return e}function jc(){var b="INTEGER_NEGATIVE@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a,e=a;if(c.substr(a,1)==="-"){var d="-";a+=1}else d=null,j&&h('"-"');if(d!==null){var k=aa();k!==null?d=[d,k]:(d=null,a=e)}else d=null,a=e;e=d!==
null?function(a){a.value="-"+a.value;return a}(d[1]):null;e===null&&(e=null,a=g);(j=f)&&e===null&&h("[135] INTEGER_NEGATIVE");y[b]={nextPos:a,result:e};return e}function ic(){var b="DECIMAL_NEGATIVE@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a,e=a;if(c.substr(a,1)==="-"){var d="-";a+=1}else d=null,j&&h('"-"');if(d!==null){var k=Pa();k!==null?d=[d,k]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){a.value="-"+a.value;return a}(d[1]):null;e===null&&(e=null,a=g);(j=f)&&e===null&&
h("[136] DECIMAL_NEGATIVE");y[b]={nextPos:a,result:e};return e}function hc(){var b="DOUBLE_NEGATIVE@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a,e=a;if(c.substr(a,1)==="-"){var d="-";a+=1}else d=null,j&&h('"-"');if(d!==null){var k=Oa();k!==null?d=[d,k]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a){a.value="-"+a.value;return a}(d[1]):null;e===null&&(e=null,a=g);(j=f)&&e===null&&h("[137] DOUBLE_NEGATIVE");y[b]={nextPos:a,result:e};return e}function Qa(){var b="EXPONENT@"+a,f=y[b];
if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a,e=a;if(c.substr(a).match(/^[eE]/)!==null){var d=c.charAt(a);a++}else d=null,j&&h("[eE]");if(d!==null){if(c.substr(a).match(/^[+\-]/)!==null){var k=c.charAt(a);a++}else k=null,j&&h("[+\\-]");k=k!==null?k:"";if(k!==null){if(c.substr(a).match(/^[0-9]/)!==null){var i=c.charAt(a);a++}else i=null,j&&h("[0-9]");if(i!==null)for(var n=[];i!==null;)n.push(i),c.substr(a).match(/^[0-9]/)!==null?(i=c.charAt(a),a++):(i=null,j&&h("[0-9]"));else n=null;n!==null?d=
[d,k,n]:(d=null,a=e)}else d=null,a=e}else d=null,a=e;e=d!==null?X([d[0],d[1],d[2]]):null;e===null&&(e=null,a=g);(j=f)&&e===null&&h("[138] EXPONENT");y[b]={nextPos:a,result:e};return e}function mc(){var b="STRING_LITERAL1@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a,e=a;if(c.substr(a,1)==="'"){var d="'";a+=1}else d=null,j&&h('"\'"');if(d!==null){var k=[];if(c.substr(a).match(/^[^'\\\n\r]/)!==null){var i=c.charAt(a);a++}else i=null,j&&h("[^'\\\\\\n\\r]");i===null&&(i=ca(),i=i!==null?
i:null);for(;i!==null;)k.push(i),c.substr(a).match(/^[^'\\\n\r]/)!==null?(i=c.charAt(a),a++):(i=null,j&&h("[^'\\\\\\n\\r]")),i===null&&(i=ca(),i=i!==null?i:null);k!==null?(c.substr(a,1)==="'"?(i="'",a+=1):(i=null,j&&h('"\'"')),i!==null?d=[d,k,i]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;e=d!==null?X(d[1]):null;e===null&&(e=null,a=g);(j=f)&&e===null&&h("[139] STRING_LITERAL1");y[b]={nextPos:a,result:e};return e}function nc(){var b="STRING_LITERAL2@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=
!1;var g=a,e=a;if(c.substr(a,1)==='"'){var d='"';a+=1}else d=null,j&&h('"\\""');if(d!==null){var k=[];if(c.substr(a).match(/^[^"\\\n\r]/)!==null){var i=c.charAt(a);a++}else i=null,j&&h('[^"\\\\\\n\\r]');i===null&&(i=ca(),i=i!==null?i:null);for(;i!==null;)k.push(i),c.substr(a).match(/^[^"\\\n\r]/)!==null?(i=c.charAt(a),a++):(i=null,j&&h('[^"\\\\\\n\\r]')),i===null&&(i=ca(),i=i!==null?i:null);k!==null?(c.substr(a,1)==='"'?(i='"',a+=1):(i=null,j&&h('"\\""')),i!==null?d=[d,k,i]:(d=null,a=e)):(d=null,
a=e)}else d=null,a=e;e=d!==null?X(d[1]):null;e===null&&(e=null,a=g);(j=f)&&e===null&&h("[140] STRING_LITERAL2");y[b]={nextPos:a,result:e};return e}function kc(){var b="STRING_LITERAL_LONG1@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a,e=a;if(c.substr(a,3)==="'''"){var d="'''";a+=3}else d=null,j&&h("\"'''\"");if(d!==null){var k=[];if(c.substr(a).match(/^[^'\\]/)!==null){var i=c.charAt(a);a++}else i=null,j&&h("[^'\\\\]");i===null&&(i=ca(),i=i!==null?i:null);for(;i!==null;)k.push(i),c.substr(a).match(/^[^'\\]/)!==
null?(i=c.charAt(a),a++):(i=null,j&&h("[^'\\\\]")),i===null&&(i=ca(),i=i!==null?i:null);k!==null?(c.substr(a,3)==="'''"?(i="'''",a+=3):(i=null,j&&h("\"'''\"")),i!==null?d=[d,k,i]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;e=d!==null?X(d[1]):null;e===null&&(e=null,a=g);(j=f)&&e===null&&h("[141] STRING_LITERAL_LONG1");y[b]={nextPos:a,result:e};return e}function lc(){var b="STRING_LITERAL_LONG2@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a,e=a;if(c.substr(a,3)==='"""'){var d='"""';a+=
3}else d=null,j&&h('"\\"\\"\\""');if(d!==null){var k=[];if(c.substr(a).match(/^[^"\\]/)!==null){var i=c.charAt(a);a++}else i=null,j&&h('[^"\\\\]');i===null&&(i=ca(),i=i!==null?i:null);for(;i!==null;)k.push(i),c.substr(a).match(/^[^"\\]/)!==null?(i=c.charAt(a),a++):(i=null,j&&h('[^"\\\\]')),i===null&&(i=ca(),i=i!==null?i:null);k!==null?(c.substr(a,3)==='"""'?(i='"""',a+=3):(i=null,j&&h('"\\"\\"\\""')),i!==null?d=[d,k,i]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;e=d!==null?X(d[1]):null;e===null&&(e=
null,a=g);(j=f)&&e===null&&h("[142] STRING_LITERAL_LONG2");y[b]={nextPos:a,result:e};return e}function ca(){var b="ECHAR@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a;if(c.substr(a,1)==="\\"){var e="\\";a+=1}else e=null,j&&h('"\\\\"');if(e!==null){if(c.substr(a).match(/^[tbnrf"']/)!==null){var d=c.charAt(a);a++}else d=null,j&&h("[tbnrf\"']");d!==null?e=[e,d]:(e=null,a=g)}else e=null,a=g;(j=f)&&e===null&&h("[143] ECHAR");y[b]={nextPos:a,result:e};return e}function ja(){var b="NIL@"+
a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a,e=a;if(c.substr(a,1)==="("){var d="(";a+=1}else d=null,j&&h('"("');if(d!==null){for(var k=[],i=s();i!==null;)k.push(i),i=s();k!==null?(c.substr(a,1)===")"?(i=")",a+=1):(i=null,j&&h('")"')),i!==null?d=[d,k,i]:(d=null,a=e)):(d=null,a=e)}else d=null,a=e;e=d!==null?{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}:null;e===null&&(e=null,a=g);(j=f)&&e===null&&h("[144] NIL");
y[b]={nextPos:a,result:e};return e}function s(){var b="WS@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;if(c.substr(a).match(/^[ ]/)!==null){var g=c.charAt(a);a++}else g=null,j&&h("[ ]");g===null&&(c.substr(a).match(/^[\t]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[\t]")),g===null&&(c.substr(a).match(/^[\r]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[\\r]")),g===null&&(c.substr(a).match(/^[\n]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[\\n]")),g===null&&(g=sc(),g=g!==null?g:null))));(j=f)&&
g===null&&h("[145] WS");y[b]={nextPos:a,result:g};return g}function sc(){var b="COMMENT@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a;if(c.substr(a,1)==="#"){var e="#";a+=1}else e=null,j&&h('"#"');if(e!==null){var d=[];if(c.substr(a).match(/^[^\n\r]/)!==null){var k=c.charAt(a);a++}else k=null,j&&h("[^\\n\\r]");for(;k!==null;)d.push(k),c.substr(a).match(/^[^\n\r]/)!==null?(k=c.charAt(a),a++):(k=null,j&&h("[^\\n\\r]"));d!==null?e=[e,d]:(e=null,a=g)}else e=null,a=g;(j=f)&&e===null&&h(" COMMENT");
y[b]={nextPos:a,result:e};return e}function rc(){var b="ANON@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a;if(c.substr(a,1)==="["){var e="[";a+=1}else e=null,j&&h('"["');if(e!==null){for(var d=[],k=s();k!==null;)d.push(k),k=s();d!==null?(c.substr(a,1)==="]"?(k="]",a+=1):(k=null,j&&h('"]"')),k!==null?e=[e,d,k]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;(j=f)&&e===null&&h("[146] ANON");y[b]={nextPos:a,result:e};return e}function ob(){var b="PN_CHARS_BASE@"+a,f=y[b];if(f)return a=f.nextPos,
f.result;f=j;j=!1;if(c.substr(a).match(/^[A-Z]/)!==null){var g=c.charAt(a);a++}else g=null,j&&h("[A-Z]");g===null&&(c.substr(a).match(/^[a-z]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[a-z]")),g===null&&(c.substr(a).match(/^[\xC0-\xD6]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[\\xC0-\\xD6]")),g===null&&(c.substr(a).match(/^[\xD8-\xF6]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[\\xD8-\\xF6]")),g===null&&(c.substr(a).match(/^[\xF8-\u02FF]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[\\xF8-\\u02FF]")),
g===null&&(c.substr(a).match(/^[\u0370-\u037D]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[\\u0370-\\u037D]")),g===null&&(c.substr(a).match(/^[\u037F-\u1FFF]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[\\u037F-\\u1FFF]")),g===null&&(c.substr(a).match(/^[\u200C-\u200D]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[\\u200C-\\u200D]")),g===null&&(c.substr(a).match(/^[\u2070-\u218F]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[\\u2070-\\u218F]")),g===null&&(c.substr(a).match(/^[\u2C00-\u2FEF]/)!==null?(g=
c.charAt(a),a++):(g=null,j&&h("[\\u2C00-\\u2FEF]")),g===null&&(c.substr(a).match(/^[\u3001-\uD7FF]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[\\u3001-\\uD7FF]")),g===null&&(c.substr(a).match(/^[\uF900-\uFDCF]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[\\uF900-\\uFDCF]")),g===null&&(c.substr(a).match(/^[\uFDF0-\uFFFD]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[\\uFDF0-\\uFFFD]")),g===null&&(c.substr(a).match(/^[\u1000-\uEFFF]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[\\u1000-\\uEFFF]")),g=g!==
null?g:null)))))))))))));(j=f)&&g===null&&h("[147] PN_CHARS_BASE");y[b]={nextPos:a,result:g};return g}function ra(){var b="PN_CHARS_U@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=ob();g===null&&(c.substr(a,1)==="_"?(g="_",a+=1):(g=null,j&&h('"_"')),g=g!==null?g:null);(j=f)&&g===null&&h("[148] PN_CHARS_U");y[b]={nextPos:a,result:g};return g}function nb(){var b="VARNAME@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a,e=a,d=ra();d===null&&(c.substr(a).match(/^[0-9]/)!==null?
(d=c.charAt(a),a++):(d=null,j&&h("[0-9]")),d=d!==null?d:null);if(d!==null){var k=[],i=ra();i===null&&(c.substr(a).match(/^[0-9]/)!==null?(i=c.charAt(a),a++):(i=null,j&&h("[0-9]")),i===null&&(c.substr(a).match(/^[\xB7]/)!==null?(i=c.charAt(a),a++):(i=null,j&&h("[\\xB7]")),i===null&&(c.substr(a).match(/^[\u0300-\u036F]/)!==null?(i=c.charAt(a),a++):(i=null,j&&h("[\\u0300-\\u036F]")),i===null&&(c.substr(a).match(/^[\u203F-\u2040]/)!==null?(i=c.charAt(a),a++):(i=null,j&&h("[\\u203F-\\u2040]")),i=i!==null?
i:null))));for(;i!==null;)k.push(i),i=ra(),i===null&&(c.substr(a).match(/^[0-9]/)!==null?(i=c.charAt(a),a++):(i=null,j&&h("[0-9]")),i===null&&(c.substr(a).match(/^[\xB7]/)!==null?(i=c.charAt(a),a++):(i=null,j&&h("[\\xB7]")),i===null&&(c.substr(a).match(/^[\u0300-\u036F]/)!==null?(i=c.charAt(a),a++):(i=null,j&&h("[\\u0300-\\u036F]")),i===null&&(c.substr(a).match(/^[\u203F-\u2040]/)!==null?(i=c.charAt(a),a++):(i=null,j&&h("[\\u203F-\\u2040]")),i=i!==null?i:null))));k!==null?d=[d,k]:(d=null,a=e)}else d=
null,a=e;e=d!==null?d[0]+d[1].join(""):null;e===null&&(e=null,a=g);(j=f)&&e===null&&h("[149] VARNAME");y[b]={nextPos:a,result:e};return e}function za(){var b="PN_CHARS@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=ra();g===null&&(c.substr(a,1)==="-"?(g="-",a+=1):(g=null,j&&h('"-"')),g===null&&(c.substr(a).match(/^[0-9]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[0-9]")),g===null&&(c.substr(a).match(/^[\xB7]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[\\xB7]")),g===null&&(c.substr(a).match(/^[\u0300-\u036F]/)!==
null?(g=c.charAt(a),a++):(g=null,j&&h("[\\u0300-\\u036F]")),g===null&&(c.substr(a).match(/^[\u203F-\u2040]/)!==null?(g=c.charAt(a),a++):(g=null,j&&h("[\\u203F-\\u2040]")),g=g!==null?g:null)))));(j=f)&&g===null&&h("[150] PN_CHARS");y[b]={nextPos:a,result:g};return g}function Ta(){var b="PN_PREFIX@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a,e=a,d=ob();if(d!==null){var k=[],i=za();i===null&&(c.substr(a,1)==="."?(i=".",a+=1):(i=null,j&&h('"."')),i=i!==null?i:null);for(;i!==null;)k.push(i),
i=za(),i===null&&(c.substr(a,1)==="."?(i=".",a+=1):(i=null,j&&h('"."')),i=i!==null?i:null);k!==null?d=[d,k]:(d=null,a=e)}else d=null,a=e;e=d!==null?function(a,c){if(c[c.length-1]==".")throw Error("Wrong PN_PREFIX, cannot finish with '.'");else return a+c.join("")}(d[0],d[1]):null;e===null&&(e=null,a=g);(j=f)&&e===null&&h("[151] PN_PREFIX");y[b]={nextPos:a,result:e};return e}function mb(){var b="PN_LOCAL@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a,e=a,d=ra();d===null&&(c.substr(a).match(/^[0-9]/)!==
null?(d=c.charAt(a),a++):(d=null,j&&h("[0-9]")),d=d!==null?d:null);if(d!==null){for(var i=[],k=za();k!==null;)i.push(k),k=za();i!==null?d=[d,i]:(d=null,a=e)}else d=null,a=e;e=d!==null?d[0]+d[1].join(""):null;e===null&&(e=null,a=g);(j=f)&&e===null&&h("[152] PN_LOCAL");y[b]={nextPos:a,result:e};return e}function tc(){var b=function(a){a.sort();for(var c=null,b=[],f=0;f<a.length;f++)a[f]!==c&&(b.push(a[f]),c=a[f]);switch(b.length){case 0:return"end of input";case 1:return b[0];default:return b.slice(0,
b.length-1).join(", ")+" or "+b[b.length-1]}}(Ra),f=Math.max(a,sa),f=f<c.length?i(c.charAt(f)):"end of input";return"Expected "+b+" but "+f+" found."}function uc(){for(var a=1,b=1,f=!1,e=0;e<sa;e++){var d=c.charAt(e);d==="\n"?(f||a++,b=1,f=!1):d==="\r"|d==="\u2028"||d==="\u2029"?(a++,b=1,f=!0):(b++,f=!1)}return{line:a,column:b}}var fa={ANON:rc,AdditiveExpression:S,Aggregate:Zb,ArgList:gb,AskQuery:V,BLANK_NODE_LABEL:qc,BaseDecl:B,BindingValue:va,BindingsClause:pb,BlankNode:Xb,BlankNodePropertyList:Tb,
BooleanLiteral:Fa,BrackettedExpression:Ca,BuiltInCall:Ba,COMMENT:sc,Clear:yb,Collection:Sb,ConditionalAndExpression:Ma,ConditionalOrExpression:M,Constraint:ua,ConstructQuery:N,ConstructTemplate:rb,ConstructTriples:hb,Create:Ab,DECIMAL:Pa,DECIMAL_NEGATIVE:ic,DECIMAL_POSITIVE:fc,DOCUMENT:function(){var c="DOCUMENT@"+a,b=y[c];if(b)return a=b.nextPos,b.result;b=g();b===null&&(b=x(),b=b!==null?b:null);y[c]={nextPos:a,result:b};return b},DOUBLE:Oa,DOUBLE_NEGATIVE:hc,DOUBLE_POSITIVE:ec,DatasetClause:O,DefaultGraphClause:Y,
DeleteClause:Fb,DeleteData:Cb,DeleteWhere:Db,DescribeQuery:P,Drop:zb,ECHAR:ca,EXPONENT:Qa,ExistsFunc:function(){var b="ExistsFunc@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a;if(c.substr(a,6)==="EXISTS"){var e="EXISTS";a+=6}else e=null,j&&h('"EXISTS"');if(e!==null){var d=U();d!==null?e=[e,d]:(e=null,a=g)}else e=null,a=g;(j=f)&&e===null&&h("[108] ExistsFunc");y[b]={nextPos:a,result:e};return e},ExpressionList:Nb,Filter:Mb,FunctionCall:Ua,GraphGraphPattern:Kb,GraphNode:oa,GraphPatternNotTriples:fb,
GraphRef:Ga,GraphRefAll:Ya,GraphTerm:Ub,GroupClause:ea,GroupCondition:ga,GroupGraphPattern:U,GroupGraphPatternSub:Gb,GroupOrUnionGraphPattern:Hb,HavingClause:sb,INTEGER:aa,INTEGER_NEGATIVE:jc,INTEGER_POSITIVE:gc,IRI_REF:la,IRIref:R,IRIrefOrFunction:Yb,InsertClause:$a,InsertData:Bb,LANGTAG:bc,LimitClause:Wa,LimitOffsetClauses:vb,Load:xb,MinusGraphPattern:Jb,Modify:Eb,MultiplicativeExpression:pa,NIL:ja,NamedGraphClause:Z,NotExistsFunc:function(){var b="NotExistsFunc@"+a,f=y[b];if(f)return a=f.nextPos,
f.result;f=j;j=!1;var g=a;if(c.substr(a,10)==="NOT EXISTS"){var e="NOT EXISTS";a+=10}else e=null,j&&h('"NOT EXISTS"');if(e!==null){var d=U();d!==null?e=[e,d]:(e=null,a=g)}else e=null,a=g;(j=f)&&e===null&&h("[109] NotExistsFunc");y[b]={nextPos:a,result:e};return e},NumericLiteral:Ea,NumericLiteralNegative:qa,NumericLiteralPositive:dc,NumericLiteralUnsigned:cc,ObjectList:ka,OffsetClause:Xa,OptionalGraphPattern:Ib,OrderClause:ub,OrderCondition:Va,PNAME_LN:pc,PNAME_NS:Aa,PN_CHARS:za,PN_CHARS_BASE:ob,
PN_CHARS_U:ra,PN_LOCAL:mb,PN_PREFIX:Ta,PathAlternative:kb,PathElt:lb,PathEltOrInverse:La,PathMod:Qb,PathNegatedPropertySet:Rb,PathOneInPropertySet:xa,PathPrimary:Pb,PathSequence:Ka,PrefixDecl:w,PrefixedName:oc,PrimaryExpression:ya,Prologue:v,PropertyList:Ob,PropertyListNotEmpty:wa,PropertyListNotEmptyPath:function(){var b="PropertyListNotEmptyPath@"+a,f=y[b];if(f)return a=f.nextPos,f.result;f=j;j=!1;var g=a,e=Ja();e===null&&(e=Q(),e=e!==null?e:null);if(e!==null){var d=ka();if(d!==null){var i=[],k=
a;if(c.substr(a,1)===";"){var n=";";a+=1}else n=null,j&&h('";"');if(n!==null){var o=a,r=Ja();r===null&&(r=Q(),r=r!==null?r:null);if(r!==null){var s=ka();s!==null?r=[r,s]:(r=null,a=o)}else r=null,a=o;o=r!==null?r:"";o!==null?n=[n,o]:(n=null,a=k)}else n=null,a=k;for(;n!==null;)i.push(n),k=a,c.substr(a,1)===";"?(n=";",a+=1):(n=null,j&&h('";"')),n!==null?(o=a,r=Ja(),r===null&&(r=Q(),r=r!==null?r:null),r!==null?(s=ka(),s!==null?r=[r,s]:(r=null,a=o)):(r=null,a=o),o=r!==null?r:"",o!==null?n=[n,o]:(n=null,
a=k)):(n=null,a=k);i!==null?e=[e,d,i]:(e=null,a=g)}else e=null,a=g}else e=null,a=g;(j=f)&&e===null&&h("[73] PropertyListNotEmptyPath");y[b]={nextPos:a,result:e};return e},PropertyListPath:function(){var b="PropertyListPath@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var f=wa(),f=f!==null?f:"";(j=c)&&f===null&&h("[74] PropertyListPath");y[b]={nextPos:a,result:f};return f},QuadData:Za,QuadPattern:bb,Quads:cb,QuadsNotTriples:eb,Query:r,RDFLiteral:Da,RegexExpression:$b,RelationalExpression:Na,
SPARQL:g,STRING_LITERAL1:mc,STRING_LITERAL2:nc,STRING_LITERAL_LONG1:kc,STRING_LITERAL_LONG2:lc,SelectClause:J,SelectQuery:I,ServiceGraphPattern:Lb,SolutionModifier:W,String:ac,SubSelect:L,TURTLE:x,TriplesBlock:ma,TriplesNode:jb,TriplesSameSubject:Ha,TriplesTemplate:na,UnaryExpression:$,Update:Sa,Update1:wb,UsingClause:ab,VAR1:Vb,VAR2:Wb,VARNAME:nb,Var:Q,VarOrIRIref:ia,VarOrTerm:ib,Verb:Ia,VerbPath:Ja,WS:s,WhereClause:T,base:H,directive:E,prefixID:F,statement:A};if(b!==void 0){if(fa[b]===void 0)throw Error("Invalid rule name: "+
i(b)+".");}else b="DOCUMENT";var a=0,j=!0,sa=0,Ra=[],y={},X=function(a){for(var b="",c=0;c<a.length;c++)b+=typeof a[c]==="string"?a[c]:a[c].join("");return b},ba=0,qb=function(a){for(var b="",c=0;c<a.length;c++)b+=a[c];return b.toUpperCase()},fa=fa[b]();if(fa===null||a!==c.length)throw fa=uc(),new this.SyntaxError(tc(),fa.line,fa.column);return fa},toSource:function(){return this._source},SyntaxError:function(b,f,g){this.name="SyntaxError";this.message=b;this.line=f;this.column=g}};b.SyntaxError.prototype=
Error.prototype;return b}();var W={};(new Date).getTime();W.combined_parser=ga.parser;W.parser={};W.parser.parse=function(b,c){for(var f=[],g=W.combined_parser.parse(b),i={},h={namespaces:i,base:"",blankCounter:0},o=0;o<g.length;o++){var r=g[o];if(r.token==="base")h.base=r.value;else if(r.token==="prefix")i[r.prefix]=r.local;else if(r.token==="triples"||r.token==="triplespattern")for(var v=0;v<r.triplesContext.length;v++){var B=r.triplesContext[v],B={subject:A.lexicalFormTerm(B.subject,h),predicate:A.lexicalFormTerm(B.predicate,
h),object:A.lexicalFormTerm(B.object,h),graph:c};f.push(B)}}return f};var x={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",
sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#"},UrisMap:function(){this.defaultNs="";this.interfaceProperties=["get","remove","set","setDefault","addAll","resolve","shrink"]}};x.UrisMap.prototype.values=function(){var b={},c;for(c in this)A.include(this.interfaceProperties,c)||(b[c]=this[c]);return b};
x.UrisMap.prototype.get=function(b){if(b.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";return this[b]};x.UrisMap.prototype.remove=function(b){if(b.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";delete this[b];return null};x.UrisMap.prototype.set=function(b,c){if(b.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";this[b]=c};x.UrisMap.prototype.setDefault=function(b){this.defaultNs=b};x.UrisMap.prototype.addAll=function(b,c){for(var f in b)A.include(this.interfaceProperties,
f)||(this[f]!=null?c===!0&&(this[f]=b[f]):this[f]=b[f]);return this};x.UrisMap.prototype.resolve=function(b){var c=b.split(":"),b=c[0],c=c[1];return b===""?this.defaultNs+c:this[b]!=null?this[b]+c:null};x.UrisMap.prototype.shrink=function(b){for(var c in this){var f=this[c];if(b.indexOf(f)===0&&f!=="")return b=b.split(f)[1],c+":"+b}return b};x.Profile=function(){this.prefixes=new x.UrisMap;this.terms=new x.UrisMap};x.Profile.prototype.importProfile=function(b,c){this.prefixes.addAll(b.prefixes,c);
this.terms.addAll(b.terms,c)};x.Profile.prototype.resolve=function(b){return b.indexOf(":")!=-1?this.prefixes.resolve(b):this.terms[b]!=null?this.terms.resolve(b):null};x.Profile.prototype.setDefaultPrefix=function(b){this.prefixes.setDefault(b)};x.Profile.prototype.setDefaultVocabulary=function(b){this.terms.setDefault(b)};x.Profile.prototype.setPrefix=function(b,c){this.prefixes.set(b,c)};x.Profile.prototype.setTerm=function(b,c){this.terms.set(b,c)};x.RDFEnvironment=function(){this.blankNodeCounter=
0;var b=this;this.filters={s:function(b){return function(c){return c.subject.equals(b)}},p:function(b){return function(c){return c.predicate.equals(b)}},o:function(b){return function(c){return c.object.equals(b)}},sp:function(b,c){return function(g){return g.subject.equals(b)&&g.predicate.equals(c)}},so:function(b,c){return function(g){return g.subject.equals(b)&&g.object.equals(c)}},po:function(b,c){return function(g){return g.predicate.equals(b)&&g.object.equals(c)}},spo:function(b,c,g){return function(h){return h.subject.equals(b)&&
h.predicate.equals(c)&&h.object.equals(g)}},describes:function(b){return function(c){return c.subject.equals(b)||c.object.equals(b)}},type:function(c){var g=b.resolve("rdf:type");return function(b){return b.predicate.equals(g)&&b.object.equals(c)}}};for(var c in x.defaultContext)this.prefixes.set(c,x.defaultContext[c])};A["extends"](x.Profile,x.RDFEnvironment);x.RDFEnvironment.prototype.createBlankNode=function(){var b=x.BlankNode(this.blankNodeCounter);this.blankNodeCounter++;return b};x.RDFEnvironment.prototype.createNamedNode=
function(b){var c=this.resolve(b);return c!=null?new x.NamedNode(c):new x.NamedNode(b)};x.RDFEnvironment.prototype.createLiteral=function(b,c,f){return f!=null?new x.Literal(b,c,f.toString()):new x.Literal(b,c,f)};x.RDFEnvironment.prototype.createTriple=function(b,c,f){return new x.Triple(b,c,f)};x.RDFEnvironment.prototype.createGraph=function(b){var c=new x.Graph;if(b!=null)for(var f=0;f<b.length;f++)c.add(b[f]);return c};x.RDFEnvironment.prototype.createAction=function(b,c){return function(f){return b(f)?
c(f):f}};x.RDFEnvironment.prototype.createProfile=function(b){return b===!0?new x.RDFEnvironment.Profile:(b=new x.RDFEnvironment.Profile,b.importProfile(this),b)};x.RDFEnvironment.prototype.createTermMap=function(b){if(b===!0)return new x.UrisMap;else{var b=this.terms.values(),c=new x.UrisMap,f;for(f in b)c[f]=b[f];return c}};x.RDFEnvironment.prototype.createPrefixMap=function(b){if(b===!0)return new x.UrisMap;else{var b=this.prefixes.values(),c=new x.UrisMap,f;for(f in b)c[f]=b[f];return c}};x.RDFNode=
function(b){this.interfaceName=b;this.attributes=["interfaceName","nominalValue"]};x.RDFNode.prototype.equals=function(b){if(b.interfaceName==null)return this.valueOf()==b;else{for(var c in this.attributes){var f=this.attributes[c];if(this[f]!=b[f])return!1}return!0}};x.BlankNode=function(b){x.RDFNode.call(this,"BlankNode");this.nominalValue="_:"+b;this.bnodeId=b};A["extends"](x.RDFNode,x.BlankNode);x.BlankNode.prototype.toString=function(){return this.nominalValue};x.BlankNode.prototype.toNT=function(){return this.nominalValue};
x.BlankNode.prototype.valueOf=function(){return this.nominalValue};x.Literal=function(b,c,f){x.RDFNode.call(this,"Literal");this.nominalValue=b;if(c!=null)this.language=c;else if(f!=null)this.datatype=f};A["extends"](x.RDFNode,x.Literal);x.Literal.prototype.toString=function(){var b='"'+this.nominalValue+'"';this.language!=null?b=b+"@"+this.language:this.type!=null&&(b=b+"^^"+this.datatype);return b};x.Literal.prototype.toNT=function(){return this.toString()};x.Literal.prototype.valueOf=function(){return g.effectiveTypeValue({token:"literal",
type:this.type,value:this.nominalValue,language:this.language})};x.NamedNode=function(b){x.RDFNode.call(this,"NamedNode");this.nominalValue=b.value!=null?b.value:b};A["extends"](x.RDFNode,x.NamedNode);x.NamedNode.prototype.toString=function(){return this.nominalValue};x.NamedNode.prototype.toNT=function(){return"<"+this.toString()+">"};x.NamedNode.prototype.valueOf=function(){return this.nominalValue};x.Triple=function(b,c,f){this.subject=b;this.predicate=c;this.object=f};x.Triple.prototype.equals=
function(b){return this.subject.equals(b.subject)&&this.predicate.equals(b.predicate)&&this.object.equals(b.object)};x.Triple.prototype.toString=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+" . \r\n"};x.Graph=function(){this.triples=[];this.duplicates={};this.actions=[]};x.Graph.prototype.add=function(b){for(var c=0;c<this.actions.length;c++)b=this.actions[c](b);c=b.subject.toString()+b.predicate.toString()+b.object.toString();this.duplicates[c]||(this.duplicates[c]=
!0,this.triples.push(b));return this};x.Graph.prototype.addAction=function(b,c){this.actions.push(b);if(c==!0)for(var f=0;f<this.triples.length;f++)this.triples[f]=b(this.triples[f]);return this};x.Graph.prototype.addAll=function(b){for(var b=b.toArray(),c=0;c<b.length;c++)this.add(b[c]);return this};x.Graph.prototype.remove=function(b){for(var c=null,f=0;f<this.triples.length;f++)if(this.triples[f].equals(b)){delete this.duplicates[b.subject.toString()+b.predicate.toString()+b.object.toString()];
c=f;break}c!=null&&this.triples.splice(c,1);return this};x.Graph.prototype.toArray=function(){return this.triples};x.Graph.prototype.some=function(b){for(var c=0;c<this.triples.length;c++)if(b(this.triples[c],this)===!0)return!0;return!1};x.Graph.prototype.every=function(b){for(var c=0;c<this.triples.length;c++)if(b(this.triples[c],this)===!1)return!1;return!0};x.Graph.prototype.filter=function(b){for(var c=new x.Graph,f=0;f<this.triples.length;f++)b(this.triples[f],this)===!0&&c.add(this.triples[f]);
return c};x.Graph.prototype.forEach=function(b){for(var c=0;c<this.triples.length;c++)b(this.triples[c],this)};x.Graph.prototype.merge=function(){for(var b=new x.Graph,c=0;c<this.triples;c++){var f=this.triples[c];b.add(f)}for(c=0;c<triples.length;c++)f=triples[c],this.add(f);return b};x.Graph.prototype.match=function(b,c,f,g){for(var i=new x.Graph,h=0,o=0;o<this.triples.length;o++){var r=this.triples[o];if(b==null||r.subject.equals(b))if(c==null||r.predicate.equals(c))if(f==null||r.object.equals(f))if(g==
null||h<g)h++,i.add(r);else break}return i};x.Graph.prototype.removeMatches=function(b,c,f){for(var g=[],i=0;i<this.triples.length;i++){var h=this.triples[i];if(b==null||h.subject.equals(b))if(c==null||h.predicate.equals(c))(f==null||h.object.equals(f))&&g.push(h)}for(i=0;i<g.length;i++)this.remove(g[i]);return this};x.Graph.prototype.toNT=function(){var b="";this.forEach(function(c){b+=c.toString()});return b};x.buildRDFResource=function(b,c,f,g){return b.token==="blank"?x.buildBlankNode(b,c,f,g):
b.token==="literal"?x.buildLiteral(b,c,f,g):b.token==="uri"?x.buildNamedNode(b,c,f,g):b.token==="var"?(b=c[b.value],b!=null?x.buildRDFResource(b,c,f,g):null):null};x.buildBlankNode=function(b){if(b.value==null&&b.label)b.value=b.label;if(b.value.indexOf("_:")===0)b.value=b.value.split("_:")[1];return new x.BlankNode(b.value)};x.buildLiteral=function(b){return new x.Literal(b.value,b.lang,b.type)};x.buildNamedNode=function(b,c,f,g){if(b.value==null&&b.prefix!=null)c=f.resolveNsInEnvironment(b.prefix,
g),b.value=c+b.suffix;return new x.NamedNode(b)};x.rdf=new x.RDFEnvironment;var g={checkFilters:function(b,c,f,k,i){var h=b.filter,o=[];if(h==null||b.length!=null)return c;for(b=0;b<h.length;b++){for(var c=g.run(h[b].value,c,f,k,i),r=[],v=0;v<c.length;v++)c[v].__nullify__!=null?o.push(c[v]):r.push(c[v]);c=r}return c.concat(o)}};g.boundVars=function(b){if(b.expressionType!=null){var c=b.expressionType;if(c=="relationalexpression")return c=b.op2,g.boundVars(b.op1)+g.boundVars(c);else if(c=="conditionalor"||
c=="conditionaland"){for(var f=[],c=0;c<b.operands;c++)f=f.concat(g.boundVars(b.operands[c]));return f}else if(c=="builtincall")if(b.args==null)return[];else{f=[];for(c=0;c<b.args.length;c++)f=f.concat(g.boundVars(b.args[c]));return f}else if(c=="multiplicativeexpression"){f=g.boundVars(b.factor);for(c=0;c<b.factors.length;c++)f=f.concat(g.boundVars(b.factors[c].expression));return f}else if(c=="additiveexpression"){f=g.boundVars(b.summand);for(c=0;c<b.summands.length;c++)f=f.concat(g.boundVars(b.summands[c].expression));
return f}else if(c=="regex")return f=g.boundVars(b.expression1),f.concat(g.boundVars(b.expression2));else if(c=="unaryexpression")return g.boundVars(b.expression);else if(c=="atomic")return b.primaryexpression=="var"?[b.value]:[]}else throw console.log("ERROR"),console.log(b),"Cannot find bound expressions in a no expression token";};g.run=function(b,c,f,k,i){for(var h=i.copyDenormalizedBindings(c,k.outCache),o=[],r=0;r<c.length;r++){var v=g.runFilter(b,h[r],i,k),v=g.ebv(v);g.isEbvError(v)?f&&(v=
{__nullify__:!0,bindings:c[r]},o.push(v)):v===!0?o.push(c[r]):f&&(v={__nullify__:!0,bindings:c[r]},o.push(v))}return o};g.collect=function(b,c,f,k){for(var i=k.copyDenormalizedBindings(c,f.outCache),h=[],o=0;o<i.length;o++){var r=g.runFilter(b,i[o],k,f);h.push({binding:c[o],value:r})}return h};g.runDistinct=function(){};g.runAggregator=function(b,c,f,k){if(c==null||c.length===0)return g.ebvError();else if(b.token==="variable"&&b.kind=="var")return c[0][b.value.value];else if(b.token==="variable"&&
b.kind==="aliased")if(b.expression.expressionType==="atomic"&&b.expression.primaryexpression==="var")return c[0][b.expression.value.value];else if(b.expression.expressionType==="aggregate")if(b.expression.aggregateType==="max"){for(var i=null,h=0;h<c.length;h++){var o=c[h],o=g.runFilter(b.expression.expression,o,f,k);g.isEbvError(o)||(i===null?i=o:g.runLtFunction(i,o).value===!0&&(i=o))}return i===null?g.ebvError():i}else if(b.expression.aggregateType==="min"){i=null;for(h=0;h<c.length;h++)o=c[h],
o=g.runFilter(b.expression.expression,o,f,k),g.isEbvError(o)||(i===null?i=o:g.runGtFunction(i,o).value===!0&&(i=o));return i===null?g.ebvError():i}else if(b.expression.aggregateType==="count"){var i={},r=0;if(b.expression.expression==="*")if(b.expression.distinct!=null&&b.expression.distinct!="")for(h=0;h<c.length;h++){var o=c[h],v=A.hashTerm(o);i[v]==null&&(i[v]=!0,r++)}else r=c.length;else for(h=0;h<c.length;h++)o=c[h],o=g.runFilter(b.expression.expression,o,f,k),g.isEbvError(o)||(b.expression.distinct!=
null&&b.expression.distinct!=""?(v=A.hashTerm(o),i[v]==null&&(i[v]=!0,r++)):r++);return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+r}}else if(b.expression.aggregateType==="avg"){for(var i={},B={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"},h=r=0;h<c.length;h++)o=c[h],o=g.runFilter(b.expression.expression,o,f,k),g.isEbvError(o)||(b.expression.distinct!=null&&b.expression.distinct!=""?(v=A.hashTerm(o),i[v]==null&&(i[v]=!0,g.isNumeric(o)&&(B=
g.runSumFunction(B,o),r++))):g.isNumeric(o)&&(B=g.runSumFunction(B,o),r++));b=g.runDivFunction(B,{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+r});b.value=""+b.value;return b}else if(b.expression.aggregateType==="sum"){i={};B={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"};for(h=0;h<c.length;h++)o=c[h],o=g.runFilter(b.expression.expression,o,f,k),g.isEbvError(o)||(b.expression.distinct!=null&&b.expression.distinct!=""?(v=A.hashTerm(o),i[v]==
null&&(i[v]=!0,g.isNumeric(o)&&(B=g.runSumFunction(B,o)))):g.isNumeric(o)&&(B=g.runSumFunction(B,o)));B.value=""+B.value;return B}else return o=g.runFilter(aggregate.expression,c[0],{blanks:{},outCache:{}})};g.runFilter=function(b,c,f,k){if(b.expressionType!=null){var i=b.expressionType;if(i=="relationalexpression"){var i=g.runFilter(b.op1,c,f,k),h=g.runFilter(b.op2,c,f,k);return g.runRelationalFilter(b,i,h,c,f,k)}else if(i=="conditionalor")return g.runOrFunction(b,c,f,k);else if(i=="conditionaland")return g.runAndFunction(b,
c,f,k);else if(i=="additiveexpression")return g.runAddition(b.summand,b.summands,c,f,k);else if(i=="builtincall")return g.runBuiltInCall(b.builtincall,b.args,c,f,k);else if(i=="multiplicativeexpression")return g.runMultiplication(b.factor,b.factors,c,f,k);else if(i=="unaryexpression")return g.runUnaryExpression(b.unaryexpression,b.expression,c,f,k);else if(i=="irireforfunction")return g.runIriRefOrFunction(b.iriref,b.args,c,f,k);else if(i=="regex")return g.runRegex(b.text,b.pattern,b.flags,c,f,k);
else if(i=="atomic")if(b.primaryexpression=="var")return c[b.value.value];else{if(typeof b.value=="object"&&!(b.value.type==null||typeof b.value.type!="object"))b.value.type=A.lexicalFormBaseUri(b.value.type,k);return b.value}else throw"Unknown filter expression type";}else throw"Cannot find bound expressions in a no expression token";};g.isRDFTerm=function(b){return b==null?!1:b.token&&b.token=="literal"||b.token&&b.token=="uri"||b.token&&b.token=="blank"?!0:!1};g.RDFTermEquality=function(b,c,f,
k){return b.token==="literal"&&c.token==="literal"?b.lang==c.lang&&b.type==c.type&&b.value==c.value?!0:b.type!=null&&c.type!=null?g.ebvError():g.isSimpleLiteral(b)&&c.type!=null?g.ebvError():g.isSimpleLiteral(c)&&b.type!=null?g.ebvError():!1:b.token==="uri"&&c.token==="uri"?A.lexicalFormBaseUri(b,k)==A.lexicalFormBaseUri(c,k):b.token==="blank"&&c.token==="blank"?b.value==c.value:!1};g.isInteger=function(b){return b==null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#integer"||b.type==
"http://www.w3.org/2001/XMLSchema#decimal"||b.type=="http://www.w3.org/2001/XMLSchema#double"||b.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||b.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#long"||b.type=="http://www.w3.org/2001/XMLSchema#int"||b.type=="http://www.w3.org/2001/XMLSchema#short"||b.type=="http://www.w3.org/2001/XMLSchema#byte"||b.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||
b.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||b.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"?!0:!1:!1};g.isFloat=function(b){return b==null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#float"?!0:!1:!1};g.isDecimal=function(b){return b==null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#decimal"?!0:!1:!1};g.isDouble=function(b){return b==
null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#double"?!0:!1:!1};g.isNumeric=function(b){return b==null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#integer"||b.type=="http://www.w3.org/2001/XMLSchema#decimal"||b.type=="http://www.w3.org/2001/XMLSchema#float"||b.type=="http://www.w3.org/2001/XMLSchema#double"||b.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||b.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#long"||
b.type=="http://www.w3.org/2001/XMLSchema#int"||b.type=="http://www.w3.org/2001/XMLSchema#short"||b.type=="http://www.w3.org/2001/XMLSchema#byte"||b.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||b.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"?!0:!1:
!1};g.isSimpleLiteral=function(b){return b&&b.token=="literal"?b.type==null&&b.lang==null?!0:!1:!1};g.isXsdType=function(b,c){return c&&c.token=="literal"?c.type=="http://www.w3.org/2001/XMLSchema#"+b:!1};g.ebv=function(b){if(b==null||g.isEbvError(b))return g.ebvError();else if(b.token&&b.token==="literal")if(b.type=="http://www.w3.org/2001/XMLSchema#integer"||b.type=="http://www.w3.org/2001/XMLSchema#decimal"||b.type=="http://www.w3.org/2001/XMLSchema#double"||b.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||
b.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#long"||b.type=="http://www.w3.org/2001/XMLSchema#int"||b.type=="http://www.w3.org/2001/XMLSchema#short"||b.type=="http://www.w3.org/2001/XMLSchema#byte"||b.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||
b.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"){var c=parseFloat(b.value);return isNaN(c)?!1:parseFloat(b.value)!=0}else return b.type==="http://www.w3.org/2001/XMLSchema#boolean"?b.value==="true"||b.value===!0||b.value==="True":b.type==="http://www.w3.org/2001/XMLSchema#string"?b.value!="":b.type==="http://www.w3.org/2001/XMLSchema#dateTime"?new Date(b.value)!=null:g.isEbvError(b)?b:b.type==null?b.value!=""?!0:!1:g.ebvError();else return b.value===!0};g.ebvTrue=function(){return val=
{token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}};g.ebvFalse=function(){return val={token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}};g.ebvError=function(){return val={token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null}};g.isEbvError=function(b){return typeof b=="object"&&b!=null?b.type==="https://github.com/antoniogarrote/js-tools/types#error":!1};g.ebvBoolean=function(b){return g.isEbvError(b)?b:b===!0?g.ebvTrue():
g.ebvFalse()};g.runRelationalFilter=function(b,c,f,k,i,h){b=b.operator;if(b==="=")return g.runEqualityFunction(c,f,k,i,h);else if(b==="!="){c=g.runEqualityFunction(c,f,k,i,h);if(!g.isEbvError(c))c.value=!c.value;return c}else if(b==="<")return g.runLtFunction(c,f,k);else if(b===">")return g.runGtFunction(c,f,k);else if(b==="<=")return g.runLtEqFunction(c,f,k);else if(b===">=")return g.runGtEqFunction(c,f,k);else throw"Error applying relational filter, unknown operator";};g.effectiveTypeValue=function(b){if(b.token==
"literal")if(b.type=="http://www.w3.org/2001/XMLSchema#integer")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#decimal")return b=parseFloat(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#float")return b=parseFloat(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#double")return b=parseFloat(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger")return b=parseFloat(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#negativeInteger")return b=
parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#long")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#int")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#short")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#byte")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#unsignedLong")return b=
parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#unsignedInt")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#unsignedShort")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#unsignedByte")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#positiveInteger")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#date"||b.type=="http://www.w3.org/2001/XMLSchema#dateTime")try{return A.parseISO8601(b.value)}catch(c){return null}else return b.type==
"http://www.w3.org/2001/XMLSchema#boolean"?b.value===!0||b.value==="true"||b.value==="1"||b.value===1||b.value===!0?!0:b.value===!1||b.value==="false"||b.value==="0"||b.value===0||b.value===!1?!1:void 0:b.type=="http://www.w3.org/2001/XMLSchema#string"?b.value===null||b.value===void 0?void 0:""+b.value:b.value;else throw console.log("not implemented yet"),"value not supported in operations yet";};g.runOrFunction=function(b,c,f,k){for(var i=null,h=0;h<b.operands.length;h++){var o=g.runFilter(b.operands[h],
c,f,k);g.isEbvError(o)==!1&&(o=g.ebv(o));i==null?i=o:g.isEbvError(o)?i=g.isEbvError(i)?g.ebvError():i===!0?!0:g.ebvError():o===!0?i=!0:g.isEbvError(i)&&(i=g.ebvError())}return g.ebvBoolean(i)};g.runAndFunction=function(b,c,f,k){for(var i=null,h=0;h<b.operands.length;h++){var o=g.runFilter(b.operands[h],c,f,k);g.isEbvError(o)==!1&&(o=g.ebv(o));i==null?i=o:g.isEbvError(o)?i=g.isEbvError(i)?g.ebvError():i===!0?g.ebvError():!1:o===!0?g.isEbvError(i)&&(i=g.ebvError()):i=!1}return g.ebvBoolean(i)};g.runEqualityFunction=
function(b,c,f,k,i){if(g.isEbvError(b)||g.isEbvError(c))return g.ebvError();if(g.isNumeric(b)&&g.isNumeric(c)){var f=g.effectiveTypeValue(b),h=g.effectiveTypeValue(c);return isNaN(f)||isNaN(h)?g.ebvBoolean(g.RDFTermEquality(b,c,k,i)):g.ebvBoolean(f==h)}else if((g.isSimpleLiteral(b)||g.isXsdType("string",b))&&(g.isSimpleLiteral(c)||g.isXsdType("string",c)))return g.ebvBoolean(g.effectiveTypeValue(b)==g.effectiveTypeValue(c));else if(g.isXsdType("boolean",b)&&g.isXsdType("boolean",c))return g.ebvBoolean(g.effectiveTypeValue(b)==
g.effectiveTypeValue(c));else if((g.isXsdType("dateTime",b)||g.isXsdType("date",b))&&(g.isXsdType("dateTime",c)||g.isXsdType("date",c))){if(g.isXsdType("dateTime",b)&&g.isXsdType("date",c))return g.ebvFalse();if(g.isXsdType("date",b)&&g.isXsdType("dateTime",c))return g.ebvFalse();b=A.compareDateComponents(b.value,c.value);return b!=null?b==0?g.ebvTrue():g.ebvFalse():g.ebvError()}else return g.isRDFTerm(b)&&g.isRDFTerm(c)?g.ebvBoolean(g.RDFTermEquality(b,c,k,i)):g.ebvFalse()};g.runGtFunction=function(b,
c){if(g.isEbvError(b)||g.isEbvError(c))return g.ebvError();if(g.isNumeric(b)&&g.isNumeric(c))return g.ebvBoolean(g.effectiveTypeValue(b)>g.effectiveTypeValue(c));else if(g.isSimpleLiteral(b)&&g.isSimpleLiteral(c))return g.ebvBoolean(g.effectiveTypeValue(b)>g.effectiveTypeValue(c));else if(g.isXsdType("string",b)&&g.isXsdType("string",c))return g.ebvBoolean(g.effectiveTypeValue(b)>g.effectiveTypeValue(c));else if(g.isXsdType("boolean",b)&&g.isXsdType("boolean",c))return g.ebvBoolean(g.effectiveTypeValue(b)>
g.effectiveTypeValue(c));else if((g.isXsdType("dateTime",b)||g.isXsdType("date",b))&&(g.isXsdType("dateTime",c)||g.isXsdType("date",c))){if(g.isXsdType("dateTime",b)&&g.isXsdType("date",c))return g.ebvFalse();if(g.isXsdType("date",b)&&g.isXsdType("dateTime",c))return g.ebvFalse();var f=A.compareDateComponents(b.value,c.value);return f!=null?f==1?g.ebvTrue():g.ebvFalse():g.ebvError()}else return g.ebvFalse()};g.runTotalGtFunction=function(b,c){return g.isEbvError(b)||g.isEbvError(c)?g.ebvError():g.isNumeric(b)&&
g.isNumeric(c)||g.isSimpleLiteral(b)&&g.isSimpleLiteral(c)||g.isXsdType("string",b)&&g.isSimpleLiteral("string",c)||g.isXsdType("boolean",b)&&g.isSimpleLiteral("boolean",c)||g.isXsdType("dateTime",b)&&g.isSimpleLiteral("dateTime",c)?g.runGtFunction(b,c,[]):b.token&&b.token==="uri"&&c.token&&c.token==="uri"?g.ebvBoolean(b.value>c.value):b.token&&b.token==="literal"&&c.token&&c.token==="literal"?g.ebvBoolean(""+b.value+b.type+b.lang>""+c.value+c.type+c.lang):b.token&&b.token==="blank"&&c.token&&c.token===
"blank"?g.ebvBoolean(b.value>c.value):b.value&&c.value?g.ebvBoolean(b.value>c.value):g.ebvTrue()};g.runLtFunction=function(b,c){if(g.isEbvError(b)||g.isEbvError(c))return g.ebvError();if(g.isNumeric(b)&&g.isNumeric(c))return g.ebvBoolean(g.effectiveTypeValue(b)<g.effectiveTypeValue(c));else if(g.isSimpleLiteral(b)&&g.isSimpleLiteral(c))return g.ebvBoolean(g.effectiveTypeValue(b)<g.effectiveTypeValue(c));else if(g.isXsdType("string",b)&&g.isXsdType("string",c))return g.ebvBoolean(g.effectiveTypeValue(b)<
g.effectiveTypeValue(c));else if(g.isXsdType("boolean",b)&&g.isXsdType("boolean",c))return g.ebvBoolean(g.effectiveTypeValue(b)<g.effectiveTypeValue(c));else if((g.isXsdType("dateTime",b)||g.isXsdType("date",b))&&(g.isXsdType("dateTime",c)||g.isXsdType("date",c))){if(g.isXsdType("dateTime",b)&&g.isXsdType("date",c))return g.ebvFalse();if(g.isXsdType("date",b)&&g.isXsdType("dateTime",c))return g.ebvFalse();var f=A.compareDateComponents(b.value,c.value);return f!=null?f==-1?g.ebvTrue():g.ebvFalse():
g.ebvError()}else return g.ebvFalse()};g.runGtEqFunction=function(b,c){if(g.isEbvError(b)||g.isEbvError(c))return g.ebvError();if(g.isNumeric(b)&&g.isNumeric(c))return g.ebvBoolean(g.effectiveTypeValue(b)>=g.effectiveTypeValue(c));else if(g.isSimpleLiteral(b)&&g.isSimpleLiteral(c))return g.ebvBoolean(g.effectiveTypeValue(b)>=g.effectiveTypeValue(c));else if(g.isXsdType("string",b)&&g.isXsdType("string",c))return g.ebvBoolean(g.effectiveTypeValue(b)>=g.effectiveTypeValue(c));else if(g.isXsdType("boolean",
b)&&g.isXsdType("boolean",c))return g.ebvBoolean(g.effectiveTypeValue(b)>=g.effectiveTypeValue(c));else if((g.isXsdType("dateTime",b)||g.isXsdType("date",b))&&(g.isXsdType("dateTime",c)||g.isXsdType("date",c))){if(g.isXsdType("dateTime",b)&&g.isXsdType("date",c))return g.ebvFalse();if(g.isXsdType("date",b)&&g.isXsdType("dateTime",c))return g.ebvFalse();var f=A.compareDateComponents(b.value,c.value);return f!=null?f!=-1?g.ebvTrue():g.ebvFalse():g.ebvError()}else return g.ebvFalse()};g.runLtEqFunction=
function(b,c){if(g.isEbvError(b)||g.isEbvError(c))return g.ebvError();if(g.isNumeric(b)&&g.isNumeric(c))return g.ebvBoolean(g.effectiveTypeValue(b)<=g.effectiveTypeValue(c));else if(g.isSimpleLiteral(b)&&g.isSimpleLiteral(c))return g.ebvBoolean(g.effectiveTypeValue(b)<=g.effectiveTypeValue(c));else if(g.isXsdType("string",b)&&g.isXsdType("string",c))return g.ebvBoolean(g.effectiveTypeValue(b)<=g.effectiveTypeValue(c));else if(g.isXsdType("boolean",b)&&g.isXsdType("boolean",c))return g.ebvBoolean(g.effectiveTypeValue(b)<=
g.effectiveTypeValue(c));else if((g.isXsdType("dateTime",b)||g.isXsdType("date",b))&&(g.isXsdType("dateTime",c)||g.isXsdType("date",c))){if(g.isXsdType("dateTime",b)&&g.isXsdType("date",c))return g.ebvFalse();if(g.isXsdType("date",b)&&g.isXsdType("dateTime",c))return g.ebvFalse();var f=A.compareDateComponents(b.value,c.value);return f!=null?f!=1?g.ebvTrue():g.ebvFalse():g.ebvError()}else return g.ebvFalse()};g.runAddition=function(b,c,f,k,i){var h=g.runFilter(b,f,k,i);if(g.isEbvError(h))return g.ebvError();
b=h;if(g.isNumeric(h)){for(h=0;h<c.length;h++){var o=g.runFilter(c[h].expression,f,k,i);if(g.isNumeric(o))c[h].operator==="+"?b=g.runSumFunction(b,o):c[h].operator==="-"&&(b=g.runSubFunction(b,o));else return g.ebvFalse()}return b}else return g.ebvFalse()};g.runSumFunction=function(b,c){if(g.isEbvError(b)||g.isEbvError(c))return g.ebvError();var f=g.effectiveTypeValue(b)+g.effectiveTypeValue(c);return g.isDouble(b)||g.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:f}:
g.isFloat(b)||g.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:f}:g.isDecimal(b)||g.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:f}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:f}};g.runSubFunction=function(b,c){if(g.isEbvError(b)||g.isEbvError(c))return g.ebvError();var f=g.effectiveTypeValue(b)-g.effectiveTypeValue(c);return g.isDouble(b)||g.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",
value:f}:g.isFloat(b)||g.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:f}:g.isDecimal(b)||g.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:f}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:f}};g.runMultiplication=function(b,c,f,k,i){b=g.runFilter(b,f,k,i);if(g.isEbvError(b))return b;var h=b;if(g.isNumeric(b)){for(var o=0;o<c.length;o++){var r=g.runFilter(c[o].expression,f,k,i);if(g.isEbvError(r))return b;
if(g.isNumeric(r))c[o].operator==="*"?h=g.runMulFunction(h,r):c[o].operator==="/"&&(h=g.runDivFunction(h,r));else return g.ebvFalse()}return h}else return g.ebvFalse()};g.runMulFunction=function(b,c){if(g.isEbvError(b)||g.isEbvError(c))return g.ebvError();var f=g.effectiveTypeValue(b)*g.effectiveTypeValue(c);return g.isDouble(b)||g.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:f}:g.isFloat(b)||g.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",
value:f}:g.isDecimal(b)||g.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:f}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:f}};g.runDivFunction=function(b,c){if(g.isEbvError(b)||g.isEbvError(c))return g.ebvError();var f=g.effectiveTypeValue(b)/g.effectiveTypeValue(c);return g.isDouble(b)||g.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:f}:g.isFloat(b)||g.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",
value:f}:g.isDecimal(b)||g.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:f}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:f}};g.runBuiltInCall=function(b,c,f,k,i){for(var h=[],o=0;o<c.length;o++)if(c[o].token==="var")h.push(c[o]);else{var r=g.runFilter(c[o],f,k,i);if(g.isEbvError(r))return r;h.push(r)}if(b==="str")return h[0].token==="literal"?{token:"literal",type:null,value:""+h[0].value}:h[0].token==="uri"?{token:"literal",type:null,
value:h[0].value}:g.ebvFalse();else if(b==="lang")return h[0].token==="literal"?h[0].lang!=null?{token:"literal",value:""+h[0].lang}:{token:"literal",value:""}:g.ebvError();else if(b==="datatype")return h[0].token==="literal"?(f=h[0],f.type!=null?typeof f.type==="string"?{token:"uri",value:f.type,prefix:null,suffix:null}:f.type:f.lang==null?{token:"uri",value:"http://www.w3.org/2001/XMLSchema#string",prefix:null,suffix:null}:g.ebvError()):g.ebvError();else if(b==="isliteral")return h[0].token==="literal"?
g.ebvTrue():g.ebvFalse();else if(b==="isblank")return h[0].token==="blank"?g.ebvTrue():g.ebvFalse();else if(b==="isuri"||b==="isiri")return h[0].token==="uri"?g.ebvTrue():g.ebvFalse();else if(b==="sameterm")return f=g.RDFTermEquality(h[0],h[1],k,i),g.isEbvError(f)&&(f=!1),g.ebvBoolean(f);else if(b==="langmatches")return f=h[0],h=h[1],f.token==="literal"&&h.token==="literal"?h.value==="*"&&f.value!=""?g.ebvTrue():g.ebvBoolean(f.value.toLowerCase().indexOf(h.value.toLowerCase())===0):g.ebvError();else if(b===
"bound")return h=h[0].value,h==null?g.ebvError():f[h]!=null?g.ebvTrue():g.ebvFalse();else throw"Builtin call "+b+" not implemented yet";};g.runUnaryExpression=function(b,c,f,k,i){c=g.runFilter(c,f,k,i);if(g.isEbvError(c))return c;if(b==="!"){var h=g.ebv(c);return g.isEbvError(h)?g.ebvFalse():g.ebvBoolean(!h)}else if(b==="+")return g.isNumeric(c)?c:g.ebvError();else if(b==="-")if(g.isNumeric(c)){b={};for(h in c)b[h]=c[h];b.value=-b.value;return b}else return g.ebvError()};g.runRegex=function(b,c,f,
k,i,h){if(b!=null)b=g.runFilter(b,k,i,h);else return g.ebvError();if(c!=null)c=g.runFilter(c,k,i,h);else return g.ebvError();f!=null&&(f=g.runFilter(f,k,i,h));if(c!=null&&c.token==="literal"&&(f==null||f.token==="literal"))c=c.value,f=f==null?null:f.value;else return g.ebvError();if(b!=null&&b.token=="var")if(k[b.value]!=null)b=k[b.value];else return g.ebvError();else if(b!=null&&b.token==="literal")if(b.type==null||g.isXsdType("string",b))b=b.value;else return g.ebvError();else return g.ebvError();
return(f==null?RegExp(c):RegExp(c,f.toLowerCase())).exec(b)?g.ebvTrue():g.ebvFalse()};g.normalizeLiteralDatatype=function(b,c,f){if(!(b.value.type==null||typeof b.value.type!="object"))b.value.type=A.lexicalFormBaseUri(b.value.type,f);return b};g.runIriRefOrFunction=function(b,c,f,k,i){if(c==null)return b;else{for(var h=[],o=0;o<c.length;o++)h.push(g.runFilter(c[o],f,k,i));b=A.lexicalFormBaseUri(b,i);if(b=="http://www.w3.org/2001/XMLSchema#integer"||b=="http://www.w3.org/2001/XMLSchema#decimal"||
b=="http://www.w3.org/2001/XMLSchema#double"||b=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||b=="http://www.w3.org/2001/XMLSchema#negativeInteger"||b=="http://www.w3.org/2001/XMLSchema#long"||b=="http://www.w3.org/2001/XMLSchema#int"||b=="http://www.w3.org/2001/XMLSchema#short"||b=="http://www.w3.org/2001/XMLSchema#byte"||b=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||b=="http://www.w3.org/2001/XMLSchema#unsignedLong"||b=="http://www.w3.org/2001/XMLSchema#unsignedInt"||b=="http://www.w3.org/2001/XMLSchema#unsignedShort"||
b=="http://www.w3.org/2001/XMLSchema#unsignedByte"||b=="http://www.w3.org/2001/XMLSchema#positiveInteger")if(h=h[0],h.token==="literal")if(h=g.normalizeLiteralDatatype(h,k,i),h.type=="http://www.w3.org/2001/XMLSchema#integer"||h.type=="http://www.w3.org/2001/XMLSchema#decimal"||h.type=="http://www.w3.org/2001/XMLSchema#double"||h.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||h.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||h.type=="http://www.w3.org/2001/XMLSchema#long"||
h.type=="http://www.w3.org/2001/XMLSchema#int"||h.type=="http://www.w3.org/2001/XMLSchema#short"||h.type=="http://www.w3.org/2001/XMLSchema#byte"||h.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||h.type=="http://www.w3.org/2001/XMLSchema#positiveInteger")return h.type=
b,h;else if(h.type=="http://www.w3.org/2001/XMLSchema#boolean")return g.ebv(h)==!0?(h.type=b,h.value=1):(h.type=b,h.value=0),h;else if(h.type=="http://www.w3.org/2001/XMLSchema#float"||h.type=="http://www.w3.org/2001/XMLSchema#double")return h.type=b,h.value=parseInt(h.value),h;else if(h.type=="http://www.w3.org/2001/XMLSchema#string"||h.type==null){if(h.value.split(".").length>2)return g.ebvError();else if(h.value.split("-").length>2)return g.ebvError();else if(h.value.split("/").length>2)return g.ebvError();
else if(h.value.split("+").length>2)return g.ebvError();if(b=="http://www.w3.org/2001/XMLSchema#decimal"&&(h.value.indexOf("e")!=-1||h.value.indexOf("E")!=-1))return g.ebvError();if(b=="http://www.w3.org/2001/XMLSchema#int"||b=="http://www.w3.org/2001/XMLSchema#integer")if(h.value.indexOf("e")!=-1||h.value.indexOf("E")!=-1||h.value.indexOf(".")!=-1)return g.ebvError();try{return h.value=parseInt(parseFloat(h.value)),isNaN(h.value)?g.ebvError():(h.type=b,h)}catch(r){return g.ebvError()}}else return g.ebvError();
else return g.ebvError();else if(b=="http://www.w3.org/2001/XMLSchema#boolean")return h=h[0],h.token==="literal"&&h.type==null?h.value==="true"||h.value==="1"?g.ebvTrue():h.value==="false"||h.value==="0"?g.ebvFalse():g.ebvError():h.token==="literal"?g.isEbvError(h)?h:g.ebvBoolean(h):g.ebvError();else if(b=="http://www.w3.org/2001/XMLSchema#string")if(h=h[0],h.token==="literal")if(h=g.normalizeLiteralDatatype(h,k,i),h.type=="http://www.w3.org/2001/XMLSchema#integer"||h.type=="http://www.w3.org/2001/XMLSchema#decimal"||
h.type=="http://www.w3.org/2001/XMLSchema#double"||h.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||h.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||h.type=="http://www.w3.org/2001/XMLSchema#long"||h.type=="http://www.w3.org/2001/XMLSchema#int"||h.type=="http://www.w3.org/2001/XMLSchema#short"||h.type=="http://www.w3.org/2001/XMLSchema#byte"||h.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||
h.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||h.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"||h.type=="http://www.w3.org/2001/XMLSchema#float")return h.type=b,h.value=""+h.value,h;else if(h.type=="http://www.w3.org/2001/XMLSchema#string")return h;else if(h.type=="http://www.w3.org/2001/XMLSchema#boolean")return g.ebv(h)?(h.type=b,h.value="true"):(h.type=b,h.value="false"),h;else if(h.type=="http://www.w3.org/2001/XMLSchema#dateTime"||
h.type=="http://www.w3.org/2001/XMLSchema#date"){h.type=b;if(typeof h.value!="string")h.value=A.iso8601(h.value);return h}else return h.type==null?(h.value=""+h.value,h.type=b,h):g.ebvError();else return h.token==="uri"?{token:"literal",value:A.lexicalFormBaseUri(h,i),type:b,lang:null}:g.ebvError();else if(b=="http://www.w3.org/2001/XMLSchema#dateTime"||b=="http://www.w3.org/2001/XMLSchema#date")if(h=h[0],h.type=="http://www.w3.org/2001/XMLSchema#dateTime"||h.type=="http://www.w3.org/2001/XMLSchema#date")return h;
else if(h.type=="http://www.w3.org/2001/XMLSchema#string"||h.type==null)try{return h.value=A.iso8601(A.parseStrictISO8601(h.value)),h.type=b,h}catch(v){return g.ebvError()}else return g.ebvError();else if(b=="http://www.w3.org/2001/XMLSchema#float")if(h=h[0],h.token==="literal")if(h=g.normalizeLiteralDatatype(h,k,i),h.type=="http://www.w3.org/2001/XMLSchema#decimal"||h.type=="http://www.w3.org/2001/XMLSchema#int")return h.type=b,h.value=parseFloat(h.value),h;else if(h.type=="http://www.w3.org/2001/XMLSchema#boolean")return g.ebv(h)==
!0?(h.type=b,h.value=1):(h.type=b,h.value=0),h;else if(h.type=="http://www.w3.org/2001/XMLSchema#float"||h.type=="http://www.w3.org/2001/XMLSchema#double")return h.type=b,h.value=parseFloat(h.value),h;else if(h.type=="http://www.w3.org/2001/XMLSchema#string")try{return h.value=parseFloat(h.value),isNaN(h.value)?g.ebvError():(h.type=b,h)}catch(B){return g.ebvError()}else if(h.type==null){if(h.value.split(".").length>2)return g.ebvError();else if(h.value.split("-").length>2)return g.ebvError();else if(h.value.split("/").length>
2)return g.ebvError();else if(h.value.split("+").length>2)return g.ebvError();try{return h.value=parseFloat(h.value),isNaN(h.value)?g.ebvError():(h.type=b,h)}catch(w){return g.ebvError()}}else return g.ebvError();else return g.ebvError();else return g.ebvError()}};var E={orderJoins:function(b){return b},variablesInBGP:function(b){var c=b.variables;if(c)return c;var f=b.value||b,c=[];for(comp in f)f[comp]&&f[comp].token==="var"?c.push(f[comp].value):f[comp]&&f[comp].token==="blank"&&c.push("blank:"+
f[comp].label);return b.variables=c},variablesIntersectionBGP:function(b,c){for(var f=E.variablesInBGP(b).sort(),g=E.variablesInBGP(c).sort(),i=0,h=0,o=[];i<f.length&&h<g.length;)f[i]===g[h]?(o.push(f[i]),i++,h++):f[i]<g[h]?i++:h++;return o}};E.executeAndBGPs=function(b,c,f,g){b=A.partition(b,2);return E.buildBushyJoinTreeBase(b,c,f,g)};E.buildBushyJoinTreeBase=function(b,c,f,g){for(var i=[],h=0;h<b.length;h++){var o=b[h];results=E.executeAndBGP(o[0],o[1],c,f,g);if(results!=null)i.push(results);else return null}return E.buildBushyJoinTreeBranches(i)};
E.buildBushyJoinTreeBranches=function(b){if(b.length===1)return b[0];else{for(var b=A.partition(b,2),c=[],f=0;f<b.length;f++){var g=b[f],g=E.executeAndBindings(g[0],g[1]);c.push(g)}return E.buildBushyJoinTreeBranches(c)}};E.executeAndBindings=function(b,c){return b==null?c:c==null?b:b==[]||c==[]?[]:E.variablesIntersectionBindings(b[0],c[0]).length==0?E.crossProductBindings(b,c):E.joinBindings(b,c)};E.executeAndBGP=function(b,c,f,g,i){if(b==null)return E.executeEmptyJoinBGP(c,f,g,i);else if(c==null)return E.executeEmptyJoinBGP(b,
f,g,i);else{var h=E.variablesIntersectionBGP(b,c);return h.length===0?E.executeCrossProductBGP(h,b,c,f,g,i):E.executeJoinBGP(h,b,c,f,g,i)}};E.executeEmptyJoinBGP=function(b,c,f,g){return E.executeBGPDatasets(b,c,f,g)};E.executeJoinBGP=function(b,c,f,g,i,h){b=E.executeBGPDatasets(c,g,i,h);return b!=null?(f=E.executeBGPDatasets(f,g,i,h),f!=null?E.joinBindings(b,f):null):null};E.executeBGPDatasets=function(b,c,f,g){var i={};if(b.graph==null){for(var h=[],o=0;o<c["default"].length;o++)if(i[c["default"][o].oid]==
null){i[c["default"][o].oid]=!0;b.graph=c["default"][o];var r=f.rangeQuery(b,g),r=E.buildBindingsFromRange(r,b);h.push(r)}return b=E.unionManyBindings(h)}else if(b.graph.token==="var"){for(var v=b.graph.value,h=[],o=0;o<c.named.length;o++)if(i[c.named[o].oid]==null)if(i[c.named[o].oid]=!0,b.graph=c.named[o],r=f.rangeQuery(b,g),r!=null){for(var r=E.buildBindingsFromRange(r,b),B=0;B<r.length;B++)r[B][v]=c.named[o].oid;h.push(r)}else return null;return b=E.unionManyBindings(h||[])}else return r=f.rangeQuery(b,
g),r!=null?r=E.buildBindingsFromRange(r,b):null};E.executeCrossProductBGP=function(b,c,f,g,i,h){b=E.executeBGPDatasets(c,g,i,h);return b!=null?(f=E.executeBGPDatasets(f,g,i,h),f!=null?E.crossProductBindings(b,f):null):null};E.buildBindingsFromRange=function(b,c){E.variablesInBGP(c);var f={},g=c.value||c,f={};for(r in g)g[r]&&g[r].token==="var"?f[r]=g[r].value:g[r]&&g[r].token==="blank"&&(f[r]="blank:"+g[r].label);for(var g=[],i=0;i<b.length;i++){var h={},o=b[i],r;for(r in f)h[f[r]]=o[r];g.push(h)}return g};
E.variablesIntersectionBindings=function(b,c){var f=0,g=0,i=[],h=[],o;for(o in b)i.push(o);for(o in c)h.push(o);i.sort();h.sort();for(o=[];f<i.length&&g<h.length;)i[f]===h[g]?(o.push(i[f]),f++,g++):i[f]<h[g]?f++:g++;return o};E.areCompatibleBindings=function(b,c){for(var f in b)if(c[f]!=null&&c[f]!=b[f])return!1;return!0};E.mergeBindings=function(b,c){var f={},g;for(g in b)f[g]=b[g];for(g in c)f[g]=c[g];return f};E.joinBindings=function(b,c){for(var f=[],g=0;g<b.length;g++)for(var i=b[g],h=0;h<c.length;h++){var o=
c[h];E.areCompatibleBindings(i,o)&&f.push(E.mergeBindings(i,o))}return f};E.augmentMissingBindings=function(b,c){for(var f in c)b[f]==null&&(b[f]=null);return b};E.leftOuterJoinBindings=function(b,c){for(var f=[],g=0;g<b.length;g++){for(var i=b[g],h=!1,o=0;o<c.length;o++){var r=c[o];E.areCompatibleBindings(i,r)&&(h=!0,f.push(E.mergeBindings(i,r)))}h===!1&&(E.augmentMissingBindings(i,r),f.push(i))}return f};E.crossProductBindings=function(b,c){for(var f=[],g=0;g<b.length;g++)for(var i=b[g],h=0;h<c.length;h++)f.push(E.mergeBindings(i,
c[h]));return f};E.unionBindings=function(b,c){return b.concat(c)};E.unionManyBindings=function(b){for(var c=[],f=0;f<b.length;f++)c=E.unionBindings(c,b[f]);return c};var F={QueryEngine:function(b){if(arguments.length!=0)this.backend=b.backend,this.lexicon=b.lexicon,this.abstractQueryTree=new O.AbstractQueryTree,this.rdfLoader=new Z.RDFLoader(b.communication),this.callbacksBackend=new H.CallbacksBackend(this)}};F.QueryEngine.prototype.registerNsInEnvironment=function(b,c){for(var f=b.prefixes,g={},
i=0;i<f.length;i++){var h=f[i];if(h.token==="prefix")g[h.prefix]=h.local}c.namespaces=g;c.base=b.base&&typeof b.base==="object"?b.base.value:null};F.QueryEngine.prototype.applyModifier=function(b,c){if(b=="DISTINCT"){for(var f={},g=[],i=0;i<c.length;i++){var h=c[i],o="",r;for(r in h){var v=h[r];v==null?o=o+r+"null":v.token=="literal"?(v.value!=null&&(o+=v.value),v.lang!=null&&(o+=v.lang),v.type!=null&&(o+=v.type)):o=v.value?o+r+v.value:o+r+v}f[o]==null&&(g.push(h),f[o]=!0)}return g}else return c};
F.QueryEngine.prototype.applyLimitOffset=function(b,c,f){if(c==null&&b==null)return f;b==null&&(b=0);c=c==null?f.length:b+c;return f.slice(b,c)};F.QueryEngine.prototype.applySingleOrderBy=function(b,c,f){for(var k=[],i=0;i<b.length;i++){var h=g.collect(b[i].expression,[c],f,this);k.push(h[0].value)}return{binding:c,value:k}};F.QueryEngine.prototype.applyOrderBy=function(b,c,f){var g=this,i=[];if(b!=null&&b.length>0){for(var h=0;h<c.length;h++){var o=g.applySingleOrderBy(b,c[h],f);i.push(o)}i.sort(function(c,
h){return g.compareFilteredBindings(c,h,b,f)});c=[];for(h=0;h<i.length;h++)c.push(i[h].binding)}return c};F.QueryEngine.prototype.compareFilteredBindings=function(b,c,f,k){for(var i=0;;){if(i==b.value.length)return 0;var h=f[i].direction;if(b.value[i]==null&&c.value[i]==null)i++;else{if(b.value[i]==null)b={value:!1};else if(c.value[i]==null)b={value:!0};else if(b.value[i].token==="blank"&&c.value[i].token==="blank"){i++;continue}else if(b.value[i].token==="blank")b={value:!1};else if(c.value[i].token===
"blank")b={value:!0};else if(b.value[i].token==="uri"&&c.value[i].token==="uri")if(g.runEqualityFunction(b.value[i],c.value[i],[],this,k).value==!0){i++;continue}else b=g.runTotalGtFunction(b.value[i],c.value[i],[]);else if(b.value[i].token==="uri")b={value:!1};else if(c.value[i].token==="uri")b={value:!0};else if(b.value[i].token==="literal"&&c.value[i].token==="literal"&&b.value[i].type==null&&c.value[i].type==null)if(g.runEqualityFunction(b.value[i],c.value[i],[],this,k).value==!0){i++;continue}else b=
g.runTotalGtFunction(b.value[i],c.value[i],[]);else if(b.value[i].token==="literal"&&b.value[i].type==null)b={value:!1};else if(c.value[i].token==="literal"&&c.value[i].type==null)b={value:!0};else if(g.runEqualityFunction(b.value[i],c.value[i],[],this,k).value==!0){i++;continue}else b=g.runTotalGtFunction(b.value[i],c.value[i],[]);return b.value==!0?h==="ASC"?1:-1:h==="ASC"?-1:1}}};F.QueryEngine.prototype.removeDefaultGraphBindings=function(b,c){for(var f=[],g={},i=0;i<c.named.length;i++)g[c.named[i].oid]=
!0;for(i=0;i<c["default"].length;i++)g[c["default"][i].oid]==null&&f.push(c["default"][i].oid);f=[];for(i=0;i<b.length;i++){var h=b[i],o=!1,r;for(r in h){for(var v=0;v<g.length;v++)if(h[r]===g[v]){o=!0;break}if(o)break}o||f.push(h)}return f};F.QueryEngine.prototype.aggregateBindings=function(b,c,f){for(var c=this.copyDenormalizedBindings(c,f.outCache),k={},i=0;i<b.length;i++){var h=g.runAggregator(b[i],c,this,f);b[i].alias?k[b[i].alias.value]=h:k[b[i].value.value]=h}return k};F.QueryEngine.prototype.projectBindings=
function(b,c){if(b[0].kind==="*")return c;else{for(var f=[],k=0;k<c.length;k++){for(var i=c[k],h={},o=!0,r=0;r<b.length;r++)if(b[r].token=="variable"&&b[r].kind!="aliased")h[b[r].value.value]=i[b[r].value.value];else if(b[r].token=="variable"&&b[r].kind=="aliased"){var v=g.runFilter(b[r].expression,i,this,{blanks:{},outCache:{}});if(g.isEbvError(v)){o=!1;break}else h[b[r].alias.value]=v}o===!0&&f.push(h)}return f}};F.QueryEngine.prototype.resolveNsInEnvironment=function(b,c){return c.namespaces[b]};
F.QueryEngine.prototype.normalizeTerm=function(b,c,f){if(b.token==="uri")return c=A.lexicalFormBaseUri(b,c),c==null?null:f?this.lexicon.registerUri(c):this.lexicon.resolveUri(c);else if(b.token==="literal")return c=A.lexicalFormLiteral(b,c),b=f?this.lexicon.registerLiteral(c):this.lexicon.resolveLiteral(c);else if(b.token==="blank"){var g=b.label,b=c.blanks[g];b==null&&(b=f?this.lexicon.registerBlank(g):this.lexicon.resolveBlank(g),c.blanks[g]=b);return b}else return b.token==="var"?b.value:null};
F.QueryEngine.prototype.normalizeDatasets=function(b,c){for(var f=0;f<b.length;f++){var g=b[f];if(g.value===this.lexicon.defaultGraphUri)g.oid=this.lexicon.defaultGraphOid;else{var i=this.normalizeTerm(g,c,!1);if(i!=null)g.oid=i;else return null}}return!0};F.QueryEngine.prototype.normalizeQuad=function(b,c,f){var g=null,i=null,h=g=null,o;if(b.graph==null)h=0;else if(o=this.normalizeTerm(b.graph,c,f),o!=null)h=o,f===!0&&b.graph.token!="var"&&this.lexicon.registerGraph(o);else return null;o=this.normalizeTerm(b.subject,
c,f);if(o!=null)g=o;else return null;o=this.normalizeTerm(b.predicate,c,f);if(o!=null)i=o;else return null;o=this.normalizeTerm(b.object,c,f);return o==null?null:{subject:g,predicate:i,object:o,graph:h}};F.QueryEngine.prototype.denormalizeBindingsList=function(b,c){for(var f=[],g=0;g<b.length;g++)result=this.denormalizeBindings(b[g],c),f.push(result);return f};F.QueryEngine.prototype.copyDenormalizedBindings=function(b,c){for(var f=[],g=0;g<b.length;g++){for(var i={},h=b[g],o=A.keys(h),r=0;r<o.length;r++){var v=
h[o[r]];if(v==null)i[o[r]]=null;else if(typeof v==="object")i[o[r]]=v;else{var B=c[v];B==null&&(B=this.lexicon.retrieve(v),c[v]=B);i[o[r]]=B}}f.push(i)}return f};F.QueryEngine.prototype.denormalizeBindings=function(b,c){for(var f=A.keys(b),g=0;g<f.length;g++){var i=b[f[g]];i==null?b[f[g]]=null:c[i]!=null?b[f[g]]=c[i]:(i=this.lexicon.retrieve(i),b[f[g]]=i)}return b};F.QueryEngine.prototype.execute=function(b,c,f,g){b=A.normalizeUnicodeLiterals(b);b=this.abstractQueryTree.parseQueryString(b);if(b==
null)c(!1,"Error parsing query string");else if(b.token==="query"&&b.kind=="update"){this.callbacksBackend.startGraphModification();var i=this;this.executeUpdate(b,function(b,f){b?i.callbacksBackend.endGraphModification(function(){c(b,f)}):(i.callbacksBackend.cancelGraphModification(),c(b,f))})}else b.token==="query"&&b.kind=="query"&&this.executeQuery(b,c,f,g)};F.QueryEngine.prototype.executeQuery=function(b,c,f,g){var i=b.units,h=this,o={blanks:{},outCache:{}};this.registerNsInEnvironment(b.prologue,
o);var r=h.abstractQueryTree.parseExecutableUnit(i[0]);if(r.kind==="select")this.executeSelect(r,o,f,g,function(b,f){b?typeof f==="object"&&f.denorm===!0?c(!0,f.bindings):(f=h.denormalizeBindingsList(f,o.outCache),f!=null?c(!0,f):c(!1,f)):c(!1,f)});else if(r.kind==="ask")r.projection=[{token:"variable",kind:"*"}],this.executeSelect(r,o,f,g,function(b,f){b?b?f.length>0?c(!0,!0):c(!0,!1):c(!1,f):c(!1,f)});else if(r.kind==="construct")r.projection=[{token:"variable",kind:"*"}],h=this,this.executeSelect(r,
o,f,g,function(b,f){if(b)if(b)if(f=h.denormalizeBindingsList(f,o.outCache),f!=null){var g=new x.Graph;if(r.template==null)r.template={triplesContext:r.pattern};for(var i=1,k=0;k<f.length;k++)for(var A=f[k],E={},F=0;F<r.template.triplesContext.length;F++){for(var H=["subject","predicate","object"],I=r.template.triplesContext[F],J=0;J<H.length;J++){var L=H[J];if(I[L].token==="blank")if(E[I[L].value]!=null)I[L].value=E[I[L].value];else{var N="_:b"+i;i++;E[I[L].value]=N;I[L].value=N}}H=x.buildRDFResource(I.subject,
A,h,o);J=x.buildRDFResource(I.predicate,A,h,o);I=x.buildRDFResource(I.object,A,h,o);H!=null&&J!=null&&I!=null&&(J=new x.Triple(H,J,I),g.add(J))}c(!0,g)}else c(!1,f);else c(!1,f);else c(!1,f)})};F.QueryEngine.prototype.executeSelect=function(b,c,f,g,i){if(b.kind==="select"||b.kind==="ask"||b.kind==="construct"||b.kind==="modify"){var h=b.projection,o=b.dataset,r=b.modifier,v=b.limit,x=b.offset,w=b.order;if(f!=null||g!=null)o["default"]=f||[],o.named=g||[];o["default"]!=null&&o["default"].length===
0&&o.named!=null&&o.named.length===0&&o["default"].push(this.lexicon.defaultGraphUriTerm);if(this.normalizeDatasets(o["default"].concat(o.named),c)!=null)if(g=this.executeSelectUnit(h,o,b.pattern,c),g!=null){if(b.group!=null&&b.group===""){for(var A=!1,f=0;f<b.projection.length;f++)if(b.projection[f].expression!=null&&b.projection[f].expression.expressionType==="aggregate"){A=!0;break}if(A===!0)b.group="singleGroup"}if(b.group&&b.group!="")if(this.checkGroupSemantics(b.group,h)){o=this.groupSolution(g,
b.group,c);r=[];for(f=0;f<o.length;f++)v=this.aggregateBindings(h,o[f],c),r.push(v);i(!0,{bindings:r,denorm:!0})}else i(!1,"Incompatible Group and Projection variables");else c=this.applyOrderBy(w,g,c),h=this.projectBindings(h,c),modifiedBindings=this.applyModifier(r,h),filteredBindings=this.removeDefaultGraphBindings(this.applyLimitOffset(x,v,modifiedBindings),o),i(!0,filteredBindings)}else console.log("ERROR selectUnit"),i(!1,g);else console.log("ERROR normalizing"),i(!1,results)}else i(!1,"Cannot execute "+
b.kind+" query as a select query")};F.QueryEngine.prototype.groupSolution=function(b,c,f){var k=[],i=[],h=!1;if(c==="singleGroup")return[b];else{for(var o=0;o<b.length;o++){for(var r=b[o],v=!0,x=0;x<c.length;x++){var w=c[x],A=null;if(w.token==="var")A=w.value,h==!1&&k.push(A);else if(w.token==="aliased_expression")if(A=w.alias.value,h==!1&&k.push(A),w.expression.primaryexpression==="var")r[w.alias.value]=r[w.expression.value.value];else if(A=this.copyDenormalizedBindings([r],f.outCache),A=g.runFilter(w.expression,
A[0],this,f),g.isEbvError(A))v=!1;else{if(A.value!=null)A.value=""+A.value;r[w.alias.value]=A}else A=this.copyDenormalizedBindings([r],f.outCache),A=g.runFilter(w,A[0],this,f),g.isEbvError(A)?v=!1:(r["groupCondition"+env._i]=A,A="groupCondition"+env._i,h==!1&&k.push(A))}h==!1&&(h=!0);v===!0&&i.push(r)}b={};for(o=0;o<i.length;o++){c=i[o];f="";for(x=0;x<k.length;x++)h=c[k[x]],f+=typeof h==="object"?h.value:h;b[f]==null?b[f]=[c]:b[f].push(c)}var k=[],E;for(E in b)k.push(b[E]);return k}};F.QueryEngine.prototype.executeSelectUnit=
function(b,c,f,k){return f.kind==="BGP"?this.executeAndBGP(b,c,f,k):f.kind==="UNION"?this.executeUNION(b,c,f.value,k):f.kind==="JOIN"?this.executeJOIN(b,c,f,k):f.kind==="LEFT_JOIN"?this.executeLEFT_JOIN(b,c,f,k):f.kind==="FILTER"?(b=this.executeSelectUnit(b,c,f.value,k),b!=null?b=g.checkFilters(f,b,!1,k,this):[]):f.kind==="EMPTY_PATTERN"?[]:(console.log("Cannot execute query pattern "+f.kind+". Not implemented yet."),null)};F.QueryEngine.prototype.executeUNION=function(b,c,f,k){var i=f[0],h=f[1],
o=null,r=null;if(f.length!=2)throw"SPARQL algebra UNION with more than two components";o=this.executeSelectUnit(b,c,i,k);if(o==null)return null;r=this.executeSelectUnit(b,c,h,k);if(r==null)return null;b=E.unionBindings(o,r);return b=g.checkFilters(f,b,!1,k,this)};F.QueryEngine.prototype.executeAndBGP=function(b,c,f,k){b=E.executeAndBGPs(f.value,c,this,k);return b!=null?g.checkFilters(f,b,!1,k,this):null};F.QueryEngine.prototype.executeLEFT_JOIN=function(b,c,f,k){var i=f.rvalue,h=null,o=null,h=this.executeSelectUnit(b,
c,f.lvalue,k);if(h==null)return null;o=this.executeSelectUnit(b,c,i,k);if(o==null)return null;b=E.leftOuterJoinBindings(h,o);f=g.checkFilters(f,b,!0,k,this);if(h.length>1&&o.length>1){var k=[],b={},r;for(r in h[0])b[r]=!0;for(r in o[0])b[r]!=!0&&k.push(r);acum=[];duplicates={};for(h=0;h<f.length;h++)if(f[h].__nullify__===!0){for(b=0;b<k.length;b++)f[h].bindings[k[b]]=null;b=[];o=[];for(r in f[h].bindings)f[h].bindings[r]!=null&&(b.push(r+f[h].bindings[r]),b.sort(),o.push(b.join("")));if(duplicates[b.join("")]==
null){for(b=0;b<o.length;b++)duplicates[o[b]]=!0;acum.push(f[h].bindings)}}else for(r in acum.push(f[h]),b=[],f[h])b.push(r+f[h][r]),b.sort(),duplicates[b.join("")]=!0;return acum}else return f};F.QueryEngine.prototype.executeJOIN=function(b,c,f,k){var i=f.rvalue,h=null,o=null,h=this.executeSelectUnit(b,c,f.lvalue,k);if(h==null)return null;o=this.executeSelectUnit(b,c,i,k);if(o==null)return null;b=E.joinBindings(h,o);return b=g.checkFilters(f,b,!1,k,this)};F.QueryEngine.prototype.rangeQuery=function(b,
c){var f=this.normalizeQuad(b,c,!1);return f!=null?(f=this.backend.range(new V.Pattern(f)),f==null||f.length==0?[]:f):(console.log("ERROR normalizing quad"),null)};F.QueryEngine.prototype.executeUpdate=function(b,c){var f=b.units,g=this,i={blanks:{},outCache:{}};this.registerNsInEnvironment(b.prologue,i);for(var h=0;h<f.length;h++){var o=g.abstractQueryTree.parseExecutableUnit(f[h]);if(o.kind==="insertdata"){for(var r=0;r<o.quads.length;r++){var v=o.quads[r];if(g._executeQuadInsert(v,i)!==!0)return c(!1,
error)}c(!0)}else if(o.kind==="deletedata"){for(r=0;r<o.quads.length;r++)v=o.quads[r],this._executeQuadDelete(v,i);c(!0)}else if(o.kind==="modify")this._executeModifyQuery(o,i,c);else if(o.kind==="create")c(!0);else if(o.kind==="load")r={uri:A.lexicalFormBaseUri(o.sourceGraph,i)},o.destinyGraph!=null&&(r={uri:A.lexicalFormBaseUri(o.destinyGraph,i)}),g=this,this.rdfLoader.load(o.sourceGraph.value,r,function(b,f){b==!1?(console.log("Error loading graph"),console.log(f)):(f=g.batchLoad(f),c(f!=null,
f||"error batch loading quads"))});else if(o.kind==="drop")this._executeClearGraph(o.destinyGraph,i,c);else if(o.kind==="clear")this._executeClearGraph(o.destinyGraph,i,c);else throw Error("not supported execution unit");}};F.QueryEngine.prototype.batchLoad=function(b,c){for(var f=null,g=null,i=null,h=null,o=0,r=!0,v={},x,w,A=0;A<b.length;A++)if(w=b[A],w.subject.uri||w.subject.token==="uri"?f=x=this.lexicon.registerUri(w.subject.uri||w.subject.value):w.subject.literal||w.subject.token==="literal"?
f=x=this.lexicon.registerLiteral(w.subject.literal||w.subject.value):(h=v[w.subject.blank||w.subject.value],h==null&&(h=this.lexicon.registerBlank(w.subject.blank||w.subject.value),v[w.subject.blank||w.subject.value]=h),f=h),w.predicate.uri||w.predicate.token==="uri"?x=this.lexicon.registerUri(w.predicate.uri||w.predicate.value):w.predicate.literal||w.predicate.token==="literal"?x=this.lexicon.registerLiteral(w.predicate.literal||w.predicate.value):(h=v[w.predicate.blank||w.predicate.value],h==null&&
(h=this.lexicon.registerBlank(w.predicate.blank||w.predicate.value),v[w.predicate.blank||w.predicate.value]=h)),g=x,w.object.uri||w.object.token==="uri"?x=this.lexicon.registerUri(w.object.uri||w.object.value):w.object.literal||w.object.token==="literal"?x=this.lexicon.registerLiteral(w.object.literal||w.object.value):(h=v[w.object.blank||w.object.value],h==null&&(h=this.lexicon.registerBlank(w.object.blank||w.object.value),v[w.object.blank||w.object.value]=h)),i=x,w.graph.uri||w.graph.token==="uri"?
(x=this.lexicon.registerUri(w.graph.uri||w.graph.value),this.lexicon.registerGraph(x)):w.graph.literal||w.graph.token==="literal"?x=this.lexicon.registerLiteral(w.graph.literal||w.graph.value):(h=v[w.graph.blank||w.graph.value],h==null&&(h=this.lexicon.registerBlank(w.graph.blank||w.graph.value),v[w.graph.blank||w.graph.value]=h)),h=x,w={subject:f,predicate:g,object:i,graph:h},f=new V.NodeKey(w),this.backend.index(f)==!0)o+=1;else{r=!1;break}return r?(c&&c(!0,o),o):(c&&c(!1,null),null)};F.QueryEngine.prototype._executeModifyQuery=
function(b,c,f){var g=this,i=!0,h=null,o=["subject","predicate","object","graph"];b.insert=b.insert==null?[]:b.insert;b["delete"]=b["delete"]==null?[]:b["delete"];A.seq(function(f){var o=[],x=[];b["with"]!=null&&o.push(b["with"]);if(b.using!=null)for(var x=[],w=0;w<b.using.length;w++){var A=b.using[w];A.kind==="named"?x.push(A.uri):o.push(A.uri)}b.dataset={};b.projection=[{token:"variable",kind:"*"}];g.executeSelect(b,c,o,x,function(b,o){b?(o=g.denormalizeBindingsList(o,c.outCache),o!=null?h=o:i=
!1):i=!1;return f()})},function(f){var v=b["with"];if(i){for(var x=[],w=0;w<b["delete"].length;w++)for(var A=b["delete"][w],E=0;E<h.length;E++){for(var F={},H=h[E],I=0;I<o.length;I++){var J=o[I];J=="graph"&&A[J]==null?F.graph=v:F[J]=A[J].token==="var"?H[A[J].value]:A[J]}x.push(F)}for(E=0;E<x.length;E++)F=x[E],g._executeQuadDelete(F,c)}f()},function(f){var v=b["with"];if(i){for(var x=[],w=0;w<b.insert.length;w++)for(var A=b.insert[w],E=0;E<h.length;E++){for(var F={},H=h[E],I=0;I<o.length;I++){var J=
o[I];J=="graph"&&A[J]==null?F.graph=v:F[J]=A[J].token==="var"?H[A[J].value]:A[J]}x.push(F)}for(w=0;w<x.length;w++)F=x[w],g._executeQuadInsert(F,c)}f()})(function(){f(i)})};F.QueryEngine.prototype._executeQuadInsert=function(b,c){var f=this.normalizeQuad(b,c,!0);if(f!=null){var g=new V.NodeKey(f),i=this.backend.search(g);return i?i:(i=this.backend.index(g),i==!0?(this.callbacksBackend.nextGraphModification(H.added,[b,f]),!0):(console.log("ERROR inserting quad"),!1))}else return console.log("ERROR normalizing quad"),
!1};F.QueryEngine.prototype._executeQuadDelete=function(b,c){var f=this.normalizeQuad(b,c,!1);if(f!=null){var g=new V.NodeKey(f);this.backend["delete"](g);return this.lexicon.unregister(b,g)==!0?(this.callbacksBackend.nextGraphModification(H.deleted,[b,f]),!0):(console.log("ERROR unregistering quad"),!1)}else return console.log("ERROR normalizing quad"),!1};F.QueryEngine.prototype._executeClearGraph=function(b,c,f){if(b==="default")this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",f);else if(b===
"named"){var g=this,i=this.lexicon.registeredGraphs(!0);if(i!=null){var h=!1;A.repeat(0,i.length,function(b,c){var f=i[c._i],x=arguments.callee;h?b(x,c):g.execute("DELETE { GRAPH <"+f+"> { ?s ?p ?o } } WHERE { GRAPH <"+f+"> { ?s ?p ?o } }",function(f){h=!f;b(x,c)})},function(){f(!h)})}else f(!1,"Error deleting named graphs")}else b==="all"?(g=this,this.execute("CLEAR DEFAULT",function(b,c){b?g.execute("CLEAR NAMED",f):f(!1,c)})):b.token=="uri"?(b=A.lexicalFormBaseUri(b,c),b!=null?this.execute("DELETE { GRAPH <"+
b+"> { ?s ?p ?o } } WHERE { GRAPH <"+b+"> { ?s ?p ?o } }",f):f(!1,"wrong graph URI")):f(!1,"wrong graph URI")};F.QueryEngine.prototype.checkGroupSemantics=function(b,c){if(b==="singleGroup")return!0;for(var f={},g=0;g<b.length;g++){var i=b[g];i.token==="var"?f[i.value]=!0:i.token==="aliased_expression"&&(f[i.alias.value]=!0)}for(g=0;g<c.length;g++)if(i=c[g],i.kind==="var"){if(f[i.value.value]==null)return!1}else if(i.kind==="aliased"&&i.expression&&i.expression.primaryexpression==="var"&&f[i.expression.value.value]==
null)return!1;return!0};var H={ANYTHING:{token:"var",value:"_"},added:"added",deleted:"deleted",eventsFlushed:"eventsFlushed",CallbacksBackend:function(b){this.aqt=new O.AbstractQueryTree;this.engine=b;this.indexMap={};this.observersMap={};this.queriesIndexMap={};this.emptyNotificationsMap={};this.queriesList=[];this.pendingQueries=[];this.matchedQueries=[];this.updateInProgress=null;this.indices=["SPOG","GP","OGS","POG","GSP","OS"];this.componentOrders={SPOG:["subject","predicate","object","graph"],
GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};this.callbackCounter=0;this.callbacksMap={};this.callbacksInverseMap={};this.queryCounter=0;this.queriesMap={};this.queriesCallbacksMap={};this.queriesInverseMap={};for(b=0;b<this.indices.length;b++){var c=this.indices[b];this.indexMap[c]={};this.queriesIndexMap[c]={}}}};H.CallbacksBackend.prototype.startGraphModification=
function(){this.pendingQueries=[].concat(this.queriesList);this.matchedQueries=[];if(this.updateInProgress==null)this.updateInProgress={added:[],deleted:[]}};H.CallbacksBackend.prototype.nextGraphModification=function(b,c){this.updateInProgress[b].push(c)};H.CallbacksBackend.prototype.endGraphModification=function(b){var c=this;if(this.updateInProgress!=null){var f=c.updateInProgress;c.updateInProgress=null;this.sendNotification(H.deleted,f[H.deleted],function(){c.sendNotification(H.added,f[H.added],
function(){c.sendEmptyNotification(H.eventsFlushed,null,function(){c.dispatchQueries(function(){b(!0)})})})})}else b(!0)};H.CallbacksBackend.prototype.cancelGraphModification=function(){this.updateInProgress=null};H.CallbacksBackend.prototype.sendNotification=function(b,c,f){for(var g={},i=0;i<c.length;i++){var h=c[i],o;for(o in this.indexMap){var r=this.indexMap[o],v=this.componentOrders[o];this._searchCallbacksInIndex(r,v,b,h,g);this.pendingQueries.length!=0&&(r=this.queriesIndexMap[o],this._searchQueriesInIndex(r,
v,h))}}this.dispatchNotifications(g);f!=null&&f(!0)};H.CallbacksBackend.prototype.sendEmptyNotification=function(b,c,f){for(var g=this.emptyNotificationsMap[b]||[],i=0;i<g.length;i++)g[i](b,c);f()};H.CallbacksBackend.prototype.dispatchNotifications=function(b){for(var c in b){var f=this.callbacksMap[c],g=b[c][H.deleted];g!=null&&f(H.deleted,g);for(var i in b[c])i!=H.deleted&&f(i,b[c][i])}};H.CallbacksBackend.prototype._searchCallbacksInIndex=function(b,c,f,g,i){for(var h=g[1],g=g[0],o=0;o<c.length+
1;o++){for(var r=b._||[],v=[],x=0;x<r.length;x++){var w=r[x];this.callbacksMap[w]!=null&&(i[w]=i[w]||{},i[w][f]=i[w][f]||[],i[w][f].push(g),v.push(w))}b._=v;r=c[o];if(b[""+h[r]]!=null)b=b[""+h[r]];else break}};H.CallbacksBackend.prototype.subscribeEmpty=function(b,c){var f=this.emptyNotificationsMap[b]||[];f.push(c);this.emptyNotificationsMap[b]=f};H.CallbacksBackend.prototype.unsubscribeEmpty=function(b,c){var f=this.emptyNotificationsMap[b];f!=null&&(f=A.remove(f,c));this.emptyNotificationsMap[b]=
f};H.CallbacksBackend.prototype.subscribe=function(b,c,f,g,i,h){b=this.engine.normalizeQuad(this._tokenizeComponents(b,c,f,g),{blanks:{},outCache:{}},!0);f=this._indexForPattern(new V.Pattern(b));c=this.componentOrders[f];f=this.indexMap[f];for(g=0;g<c.length;g++){var o=b[c[g]];if(o==="_"){f._==null&&(f._=[]);this.callbackCounter++;f._.push(this.callbackCounter);this.callbacksMap[this.callbackCounter]=i;this.callbacksInverseMap[i]=this.callbackCounter;break}else g===c.length-1?(f[o]=f[o]||{_:[]},
this.callbackCounter++,f[o]._.push(this.callbackCounter),this.callbacksMap[this.callbackCounter]=i,this.callbacksInverseMap[i]=this.callbackCounter):(f[o]=f[o]||{},f=f[o])}h!=null&&h(!0)};H.CallbacksBackend.prototype.unsubscribe=function(b){var c=this.callbacksInverseMap[b];c!=null&&(delete this.callbacksInverseMap[b],delete this.callbacksMap[c])};H.CallbacksBackend.prototype._tokenizeComponents=function(b,c,f,g){var i={};b==null?i.subject=H.ANYTHING:b.indexOf("_:")==0?(console.log("BLANK!!"),i.subject=
{token:"blank",value:b}):i.subject={token:"uri",value:b};i.predicate=c==null?H.ANYTHING:{token:"uri",value:c};i.object=f==null?H.ANYTHING:{token:"uri",value:f};i.graph=g==null?H.ANYTHING:{token:"uri",value:g};return i};H.CallbacksBackend.prototype._indexForPattern=function(b){for(var b=b.indexKey,c=this.indices,f=0;f<c.length;f++)for(var g=c[f],i=this.componentOrders[g],h=0;h<i.length;h++){if(A.include(b,i[h])===!1)break;if(h==b.length-1)return g}return"SPOG"};H.CallbacksBackend.prototype.observeNode=
function(){var b,c,f,g;arguments.length===4?(b=arguments[0],c=arguments[1],f=arguments[2],g=arguments[3]):(b=arguments[0],c=this.engine.lexicon.defaultGraphUri,f=arguments[1],g=arguments[2]);var i=this,h={blanks:{},outCache:{}},o=[];this.engine.execute("CONSTRUCT { <"+b+"> ?p ?o } WHERE { GRAPH <"+c+"> { <"+b+"> ?p ?o } }",function(c,v){if(c){var A=!1,w=function(b,c){if(b==="eventsFlushed"&&A)A=!1,f(v);else if(b!=="eventsFlushed"){A=!0;for(var g=0;g<c.length;g++){var k=c[g],r=x.buildRDFResource(k.subject,
o,i.engine,h),w=x.buildRDFResource(k.predicate,o,i.engine,h),k=x.buildRDFResource(k.object,o,i.engine,h);r!=null&&w!=null&&k!=null&&(k=new x.Triple(r,w,k),b===H.added?v.add(k):b===H.deleted&&v.remove(k))}}};i.observersMap[f]=w;i.subscribeEmpty(H.eventsFlushed,w);i.subscribe(b,null,null,null,w,function(){f(v);g&&g(!0)})}else g&&g(!1)})};H.CallbacksBackend.prototype.stopObservingNode=function(b){return(b=this.observersMap[b])?(this.unsubscribe(b),this.unsubscribeEmpty(H.eventsFlushed,b),!0):!1};H.CallbacksBackend.prototype.observeQuery=
function(b,c,f){var g=this.aqt.collectBasicTriples(this.aqt.parseSelect(this.aqt.parseQueryString(b).units[0])),i={blanks:{},outCache:{}},h,o,r,v=this.queryCounter;this.queryCounter++;this.queriesMap[v]=b;this.queriesInverseMap[b]=v;this.queriesList.push(v);this.queriesCallbacksMap[v]=c;for(var x=0;x<g.length;x++){o=g[x];if(o.graph==null)o.graph=this.engine.lexicon.defaultGraphUriTerm;o=this.engine.normalizeQuad(o,i,!0);h=new V.Pattern(o);r=this._indexForPattern(h);h=this.componentOrders[r];r=this.queriesIndexMap[r];
for(x=0;x<h.length;x++){var w=o[h[x]];if(typeof w==="string"){r._==null&&(r._=[]);r._.push(v);break}else x===h.length-1?(r[w]=r[w]||{_:[]},r[w]._.push(v)):(r[w]=r[w]||{},r=r[w])}}this.engine.execute(b,function(b,f){b?c(f):console.log("ERROR in query callback "+f)});f!=null&&f()};H.CallbacksBackend.prototype.stopObservingQuery=function(b){var c=this.queriesInverseMap[b];if(c!=null)delete this.queriesInverseMap[b],delete this.queriesMap[c],this.queriesList=A.remove(this.queriesList,c)};H.CallbacksBackend.prototype._searchQueriesInIndex=
function(b,c,f){for(var f=f[1],g=0;g<c.length+1;g++){for(var i=b._||[],h=[],o=0;o<i.length;o++){var r=i[o];A.include(this.pendingQueries,r)&&(A.remove(this.pendingQueries,r),this.matchedQueries.push(r));this.queriesMap[r]!=null&&h.push(r)}b._=h;i=c[g];if(b[""+f[i]]!=null)b=b[""+f[i]];else break}};H.CallbacksBackend.prototype.dispatchQueries=function(b){var c=this,f,g,i,h;A.repeat(0,this.matchedQueries.length,function(b,r){f=arguments.callee;i=c.matchedQueries[r._i];g=c.queriesMap[i];h=c.queriesCallbacksMap[i];
A.recur(function(){c.engine.execute(g,function(c,g){c?h(g):console.log("ERROR executing query callback "+g);b(f,r)})})},function(){b()})};var N={};try{console.log("*** Checking if web workers are available"),console.log("*** Web workers available")}catch(wc){Worker=null}if(Worker)N.RDFStoreClient=function(b,c,f){this.connection=Worker.Worker?new Worker.Worker(b):new Worker(b);this.callbacksCounter=1;var g=this;this.rdf=x.rdf;g=this;this.connection.onmessage=function(b){g.receive(b)};this.observingCallbacks=
{};this.callbacks={0:{cb:function(b,c){b===!0?f(!0,g):f(!1,c)},fn:"create"}};this.connection.postMessage({fn:"create",args:c,callback:"0"})},N.RDFStoreClient.prototype.receive=function(b){event=b.data||b;if(b=this.callbacks[event.callback])b.fn==="create"||b.fn==="execute"||b.fn==="insert"||b.fn=="graph"||b.fn==="node"||b.fn==="insert"||b.fn==="delete"||b.fn==="clear"||b.fn==="load"||b.fn==="startObservingQueryEndCb"||b.fn==="registeredGraphs"?(delete this.callbacks[event.callback],b.cb(event.success,
event.result)):b.fn==="startObservingNode"?b.cb(event.result):b.fn==="subscribe"&&b.cb(event.event,event.result)},N.RDFStoreClient.prototype.registerCallback=function(b,c){var f=""+this.callbacksCounter;this.callbacks[f]={fn:b,cb:c};this.callbacksCounter++;return f},N.RDFStoreClient.prototype.execute=function(){if(arguments.length===3)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(arguments.length===4)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],
arguments[3]);else{var b,c;arguments.length===1?(b=arguments[0],c=function(){}):arguments.length===2&&(b=arguments[0],c=arguments[1]);c=this.registerCallback("execute",c);this.connection.postMessage({fn:"execute",args:[b],callback:c})}},N.RDFStoreClient.prototype.insert=function(){var b,c,f;if(arguments.length===1)c=arguments[0],this.connection.postMessage({fn:"insert",args:[c]});else if(arguments.length===2)c=arguments[0],f=arguments[1]||function(){},f=this.registerCallback("insert",f),this.connection.postMessage({fn:"insert",
args:[c],callback:f});else if(arguments.length===3)c=arguments[0],b=arguments[1],f=arguments[2]||function(){},f=this.registerCallback("insert",f),this.connection.postMessage({fn:"insert",args:[c,b],callback:f});else throw"The triples to insert, an optional graph and callback must be provided";},N.RDFStoreClient.prototype.graph=function(){var b=null,c=null;if(arguments.length===1)c=arguments[0]||function(){};else if(arguments.length===2)c=arguments[1]||function(){},b=arguments[0];else throw"An optional graph URI and a callback function must be provided";
var f=this,g=this.registerCallback("insert",function(b,h){if(b){for(var g,k=0;k<h.triples.length;k++)g=h.triples[k],h.triples[k]=new x.Triple(f.adaptJSInterface(g.subject),f.adaptJSInterface(g.predicate),f.adaptJSInterface(g.object));c(b,f.rdf.createGraph(h.triples))}else c(b,h)});b==null?this.connection.postMessage({fn:"graph",args:[],callback:g}):this.connection.postMessage({fn:"graph",args:[b],callback:g})},N.RDFStoreClient.prototype.node=function(){var b=null,c=null,f=null;if(arguments.length===
2)f=arguments[0],c=arguments[1]||function(){};else if(arguments.length===3)f=arguments[0],b=arguments[1],c=arguments[2]||function(){};else throw"An optional graph URI and a callback function must be provided";var g=this,i=this.registerCallback("insert",function(b,f){if(b){for(var i,v=0;v<f.triples.length;v++)i=f.triples[v],f.triples[v]=new x.Triple(g.adaptJSInterface(i.subject),g.adaptJSInterface(i.predicate),g.adaptJSInterface(i.object));c(b,g.rdf.createGraph(f.triples))}else c(b,f)});b==null?this.connection.postMessage({fn:"node",
args:[f],callback:i}):this.connection.postMessage({fn:"node",args:[f,b],callback:i})},N.RDFStoreClient.prototype.setPrefix=function(b,c){this.rdf.setPrefix(b,c);this.connection.postMessage({fn:"rdf/setPrefix",args:[b,c],callback:null})},N.RDFStoreClient.prototype.setDefaultPrefix=function(b){this.rdf.setDefaultPrefix(b);this.connection.postMessage({fn:"rdf/setDefaultPrefix",args:[b],callback:null})},N.RDFStoreClient.prototype["delete"]=function(){var b,c,f;if(arguments.length===1)c=arguments[0],this.connection.postMessage({fn:"delete",
args:[c]});else if(arguments.length===2)c=arguments[0],f=arguments[1]||function(){},f=this.registerCallback("delete",f),this.connection.postMessage({fn:"delete",args:[c],callback:f});else if(arguments.length===3)c=arguments[0],b=arguments[1],f=arguments[2]||function(){},f=this.registerCallback("delete",f),this.connection.postMessage({fn:"delete",args:[c,b],callback:f});else throw"The triples to delete, an optional graph and callback must be provided";},N.RDFStoreClient.prototype.clear=function(){var b,
c;if(arguments.length===1)c=arguments[0]||function(){},c=this.registerCallback("clear",c),this.connection.postMessage({fn:"clear",args:[],callback:c});else if(arguments.length===2)b=arguments[0],c=arguments[1]||function(){},c=this.registerCallback("clear",c),this.connection.postMessage({fn:"clear",args:[b],callback:c});else throw"The optional graph and a callback must be provided";},N.RDFStoreClient.prototype.load=function(){var b,c,f,g;if(arguments.length===3)b=arguments[0],c=arguments[1],g=arguments[2]||
function(){},g=this.registerCallback("load",g),this.connection.postMessage({fn:"load",args:[b,c],callback:g});else if(arguments.length===4)b=arguments[0],c=arguments[1],f=arguments[2],g=arguments[3]||function(){},g=this.registerCallback("load",g),this.connection.postMessage({fn:"load",args:[b,c,f],callback:g});else if(arguments.length===2)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";},N.RDFStoreClient.prototype.startObservingQuery=function(b,c,f){f!=
null?(c=this.registerCallback("startObservingQuery",c),this.observingCallbacks[b]=c,f=this.registerCallback("startObservingQueryEndCb",f),this.connection.postMessage({fn:"startObservingQuery",args:[b],callback:[c,f]})):(c=this.registerCallback("startObservingQuery",c),this.observingCallbacks[b]=c,this.connection.postMessage({fn:"startObservingQuery",args:[b],callback:[c]}))},N.RDFStoreClient.prototype.stopObservingQuery=function(b){var c=this.observingCallbacks[b];delete this.observingCallbacks[b];
delete this.callbacks[c];this.connection.postMessage({fn:"stopObservingQuery",args:[b],callback:[]})},N.RDFStoreClient.prototype.startObservingNode=function(){var b,c,f;if(arguments.length===2){b=arguments[0];f=arguments[1];var g=this,i=this.registerCallback("startObservingNode",function(b){for(var c,i=0;i<b.triples.length;i++)c=b.triples[i],b.triples[i]=new x.Triple(g.adaptJSInterface(c.subject),g.adaptJSInterface(c.predicate),g.adaptJSInterface(c.object));f(g.rdf.createGraph(b.triples))});this.observingCallbacks[f]=
i;this.connection.postMessage({fn:"startObservingNode",args:[b],callback:i})}else arguments.length===3&&(b=arguments[0],c=arguments[1],f=arguments[2],g=this,i=this.registerCallback("startObservingNode",function(b){for(var c,i=0;i<b.triples.length;i++)c=b.triples[i],b.triples[i]=new x.Triple(g.adaptJSInterface(c.subject),g.adaptJSInterface(c.predicate),g.adaptJSInterface(c.object));f(g.rdf.createGraph(b.triples))}),this.observingCallbacks[f]=i,this.connection.postMessage({fn:"startObservingNode",args:[b,
c],callback:i}))},N.RDFStoreClient.prototype.stopObservingNode=function(b){var c=this.observingCallbacks[b];delete this.observingCallbacks[b];delete this.callbacks[c];this.connection.postMessage({fn:"stopObservingNode",args:[c],callback:[]})},N.RDFStoreClient.prototype.subscribe=function(b,c,f,g,i){var h=this,o=this.registerCallback("subscribe",function(b,c){for(var f,g=0;g<c.length;g++)f=c[g],c[g]=new x.Triple(h.adaptJSInterface(f.subject),h.adaptJSInterface(f.predicate),h.adaptJSInterface(f.object));
i(b,c)});this.observingCallbacks[i]=o;this.connection.postMessage({fn:"subscribe",args:[b,c,f,g],callback:o})},N.RDFStoreClient.prototype.unsubscribe=function(b){var c=this.observingCallbacks[b];delete this.observingCallbacks[b];delete this.callbacks[c];this.connection.postMessage({fn:"unsubscribe",args:[c],callback:[]})},N.RDFStoreClient.prototype.registeredGraphs=function(b){var c=this;this.connection.postMessage({fn:"registeredGraphs",args:[],callback:this.registerCallback("registeredGraphs",function(f,
g){if(f)for(var i=0;i<g.length;i++)graph=g[i],g[i]=c.adaptJSInterface(graph);b(f,g)})})},N.RDFStoreClient.prototype.adaptJSInterface=function(b){if(b.interfaceName==="BlankNode")return new x.BlankNode(b.bnodeId);else if(b.interfaceName==="Literal")return new x.Literal(b.nominalValue,b.language,b.datatype);else if(b.interfaceName==="NamedNode")return new x.NamedNode(b.nominalValue)},N.RDFStoreClient.prototype.isWebWorkerConnection=!0;var I={VERSION:"0.4.3"};I.connect=function(){var b,c,f;arguments.length==
1&&(b=__dirname,c={},f=arguments[0]);arguments.length==2?(typeof arguments[0]==="string"?(b=arguments[0],c={}):(b=__dirname+"/index.js",c=arguments[0]),f=arguments[1]):(b=arguments[0],c=arguments[1],f=arguments[2]);try{Worker?new N.RDFStoreClient(b,c,function(b,c){f(b,c)}):I.create(c,function(b){f(!1,b)})}catch(g){console.log(g),I.create(c,function(b){f(!1,b)})}};I.create=function(){return arguments.length==1?new I.Store(arguments[0]):arguments.length==2?new I.Store(arguments[0],arguments[1]):new I.Store};
I.Store=function(b,c){var f=null,g=null;if(arguments.length==0)g={};else if(arguments.length==1)g={},f=b;else if(arguments.length>1)g=b,f=c;else throw"An optional argument map and a callback must be provided";g.treeOrder==null&&(g.treeOrder=15);this.rdf=x.rdf;this.functionMap={};var i=this;new P.Lexicon(function(b){g.overwrite===!0&&b.clear();new Y.QuadBackend(g,function(c){g.overwrite===!0&&c.clear();g.backend=c;g.lexicon=b;i.engine=new F.QueryEngine(g);f&&f(i)})},g.name)};I.Store.prototype.execute=
function(){if(arguments.length===3)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(arguments.length===4)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var b,c;arguments.length===1?(b=arguments[0],c=function(){}):arguments.length===2&&(b=arguments[0],c=arguments[1]);this.engine.execute(b,c)}};I.Store.prototype.executeWithEnvironment=function(){var b,c,f,g;arguments.length===3?(b=arguments[0],c=function(){},f=arguments[1],g=arguments[2]):
arguments.length===4&&(b=arguments[0],c=arguments[3],f=arguments[1],g=arguments[2]);this.engine.execute(b,c,f,g)};I.Store.prototype.graph=function(){var b=null,c=null;if(arguments.length===1)c=arguments[0]||function(){},b=this.engine.lexicon.defaultGraphUri;else if(arguments.length===2)c=arguments[1]||function(){},b=arguments[0];else throw"An optional graph URI and a callback function must be provided";this.rdf.resolve(b)!=null&&(b=this.rdf.resolve(b));this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+
b+"> { ?s ?p ?o } }",c)};I.Store.prototype.node=function(){var b=null,c=null,f=null;if(arguments.length===2)f=arguments[0],c=arguments[1]||function(){},b=this.engine.lexicon.defaultGraphUri;else if(arguments.length===3)f=arguments[0],b=arguments[1],c=arguments[2]||function(){};else throw"An optional graph URI and a callback function must be provided";this.rdf.resolve(b)!=null&&(b=this.rdf.resolve(b));this.rdf.resolve(f)!=null&&(f=this.rdf.resolve(f));this.engine.execute("CONSTRUCT { <"+f+"> ?p ?o } WHERE { GRAPH <"+
b+"> { <"+f+"> ?p ?o } }",c)};I.Store.prototype.startObservingNode=function(){var b,c,f;arguments.length===2?(b=arguments[0],f=arguments[1],this.engine.callbacksBackend.observeNode(b,f,function(){})):arguments.length===3&&(b=arguments[0],c=arguments[1],f=arguments[2],this.engine.callbacksBackend.observeNode(b,c,f,function(){}))};I.Store.prototype.stopObservingNode=function(b){this.engine.callbacksBackend.stopObservingNode(b)};I.Store.prototype.startObservingQuery=function(b,c,f){f!=null?this.engine.callbacksBackend.observeQuery(b,
c,f):this.engine.callbacksBackend.observeQuery(b,c,function(){})};I.Store.prototype.stopObservingQuery=function(b){this.engine.callbacksBackend.stopObservingQuery(b)};I.Store.prototype.subscribe=function(b,c,f,g,i){var h=function(b,c){for(var f=[],g={blanks:{},outCache:{}},h=[],k=0;k<c.length;k++){var A=c[k],E=x.buildRDFResource(A.subject,h,this.engine,g),F=x.buildRDFResource(A.predicate,h,this.engine,g),A=x.buildRDFResource(A.object,h,this.engine,g);E!=null&&F!=null&&A!=null&&(A=new x.Triple(E,F,
A),f.push(A))}i(b,f)};this.functionMap[i]=h;this.engine.callbacksBackend.subscribe(b,c,f,g,h,function(){})};I.Store.prototype.unsubscribe=function(b){this.engine.callbacksBackend.unsubscribe(this.functionMap[b]);delete this.functionMap[b]};I.Store.prototype.setPrefix=function(b,c){this.rdf.setPrefix(b,c)};I.Store.prototype.setDefaultPrefix=function(b){this.rdf.setDefaultPrefix(b)};I.Store.prototype.insert=function(){var b,c,f;if(arguments.length===1)c=arguments[0];else if(arguments.length===2)b=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),
c=arguments[0],f=arguments[1]||function(){};else if(arguments.length===3)c=arguments[0],b=this.rdf.createNamedNode(arguments[1]),f=arguments[2]||function(){};else throw"The triples to insert, an optional graph and callback must be provided";var g="",i=this;c.forEach(function(b){g=g+i._nodeToQuery(b.subject)+i._nodeToQuery(b.predicate)+i._nodeToQuery(b.object)+"."});g=b!=null?"INSERT DATA { GRAPH "+this._nodeToQuery(b)+" { "+g+" } }":"INSERT DATA { "+this._nodeToQuery(b)+" { "+g+" }";this.engine.execute(g,
f)};I.Store.prototype._nodeToQuery=function(b){if(b.interfaceName==="NamedNode"){var c=this.rdf.resolve(b.valueOf());return c!=null?"<"+c+">":"<"+b.valueOf()+">"}else return b.toString()};I.Store.prototype["delete"]=function(){var b,c,f;if(arguments.length===1)c=arguments[0];else if(arguments.length===2)b=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),c=arguments[0],f=arguments[1]||function(){};else if(arguments.length===3)c=arguments[0],b=this.rdf.createNamedNode(arguments[1]),f=arguments[2]||
function(){};else throw"The triples to delete, an optional graph and callback must be provided";var g="",i=this;c.forEach(function(b){g=g+i._nodeToQuery(b.subject)+i._nodeToQuery(b.predicate)+i._nodeToQuery(b.object)+"."});g=b!=null?"DELETE DATA { GRAPH "+this._nodeToQuery(b)+" { "+g+" } }":"DELETE DATA { "+this._nodeToQuery(b)+" { "+g+" }";this.engine.execute(g,f)};I.Store.prototype.clear=function(){var b,c;if(arguments.length===1)b=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),c=
arguments[0]||function(){};else if(arguments.length===2)b=this.rdf.createNamedNode(arguments[0]),c=arguments[1]||function(){};else throw"The optional graph and a callback must be provided";this.engine.execute("CLEAR GRAPH "+this._nodeToQuery(b),c)};I.Store.prototype.load=function(){var b,c,f,g;if(arguments.length===3)f=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0],c=arguments[1],g=arguments[2]||function(){};else if(arguments.length===4)b=arguments[0],c=arguments[1],
f=this.rdf.createNamedNode(arguments[2]),g=arguments[3]||function(){};else if(arguments.length===2)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";if(b==="remote")c=this.rdf.createNamedNode(c),this.engine.execute("LOAD <"+c.valueOf()+"> INTO GRAPH <"+f.valueOf()+">",g);else if(c&&typeof c==="string"&&c.indexOf("file://")===0){b=this.engine.rdfLoader.parsers[b];var i=this;this.engine.rdfLoader.loadFromFile(b,{token:"uri",value:f.valueOf()},c,function(b,
c){b?i.engine.batchLoad(c,g):g(b,c)})}else b=this.engine.rdfLoader.parsers[b],i=this,this.engine.rdfLoader.tryToParse(b,{token:"uri",value:f.valueOf()},c,function(b,c){b?i.engine.batchLoad(c,g):g(b,c)})};I.Store.prototype.registerParser=function(b,c){this.engine.rdfLoader.registerParser(b,c)};I.Store.prototype.registeredGraphs=function(b){for(var c=this.engine.lexicon.registeredGraphs(!0),f=[],g=0;g<c.length;g++){var i=new x.NamedNode(c[g]);f.push(i)}return b(!0,f)};I.Store.prototype._nodeToQuery=
function(b){if(b.interfaceName==="NamedNode"){var c=this.rdf.resolve(b.valueOf());return c!=null?"<"+c+">":"<"+b.valueOf()+">"}else return b.toString()};I.Store.prototype.getNetworkTransport=function(){return ea};I.Store.prototype.setNetworkTransport=function(b){ea=b};RDFStoreWorker={observingCallbacks:{}};RDFStoreWorker.handleCreate=function(b,c){args=[b];args.push(function(b){RDFStoreWorker.store=b;postMessage({callback:c,result:"created",success:!0})});I.create.apply(I,args)};RDFStoreWorker.receive=
function(b){var c=b.data||b;if(c.fn==="create"&&c.args!=null)RDFStoreWorker.handleCreate(c.args,c.callback);else if((c.fn==="execute"||c.fn==="executeWithEnvironment"||c.fn==="graph"||c.fn==="node"||c.fn==="clear"||c.fn==="load")&&c.args!=null){c.args.push(function(b,f){c.callback!=null&&postMessage({callback:c.callback,result:f,success:b})});try{RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args)}catch(f){console.log("Error executing method through connection"),console.log(f)}}else if((c.fn===
"insert"||c.fn==="delete")&&c.args!=null)try{c.args.push(function(b,f){c.callback!=null&&postMessage({callback:c.callback,result:f,success:b})});for(var g,i=c.args[0],b=0;b<i.triples.length;b++)g=i.triples[b],i.triples[b]=new x.Triple(RDFStoreWorker.adaptJSInterface(g.subject),RDFStoreWorker.adaptJSInterface(g.predicate),RDFStoreWorker.adaptJSInterface(g.object));c.args[1].interfaceName!=null&&(c.args[1]=RDFStoreWorker.adaptJSInterface(c.args[1]));c.args[0]=RDFStoreWorker.store.rdf.createGraph(i.triples);
RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args)}catch(h){console.log("Error executing method through connection"),console.log(h)}else c.fn==="rdf/setPrefix"&&c.args!=null?RDFStoreWorker.store.rdf.setPrefix(c.args[0],c.args[1]):c.fn==="rdf/setDefaultPrefix"&&c.args!=null?RDFStoreWorker.store.rdf.setDefaultPrefix(c.args[0]):c.fn==="startObservingQuery"&&c.args!=null?(g=function(b,f){postMessage({callback:c.callback[0],result:f,success:b})},RDFStoreWorker.observingCallbacks[c.args[0]]=
g,c.args.push(g),c.args.push(function(b,f){c.callback&&c.callback[1]!=null&&postMessage({callback:c.callback[1],result:f,success:b})}),RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args)):c.fn==="stopObservingQuery"?((g=RDFStoreWorker.observingCallbacks[c.args[0]])&&RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,[g]),delete RDFStoreWorker.observingCallbacks[c.args[0]]):c.fn==="startObservingNode"&&c.args!=null?(g=function(b){postMessage({callback:c.callback,result:b})},RDFStoreWorker.observingCallbacks[c.callback]=
g,c.args.push(g),RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args)):c.fn==="stopObservingNode"&&c.args!=null?((g=RDFStoreWorker.observingCallbacks[c.args[0]])&&RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,[g]),delete RDFStoreWorker.observingCallbacks[c.args[0]]):c.fn==="subscribe"&&c.args!=null?(g=function(b,f){postMessage({callback:c.callback,event:b,result:f})},RDFStoreWorker.observingCallbacks[c.callback]=g,c.args.push(g),RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,
c.args)):c.fn==="stopObservingNode"&&c.args!=null?((g=RDFStoreWorker.observingCallbacks[c.args[0]])&&RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,[g]),delete RDFStoreWorker.observingCallbacks[c.args[0]]):c.fn==="registeredGraphs"&&c.args!=null&&RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,[function(b,f){c.callback!=null&&postMessage({callback:c.callback,result:f,success:b})}])};RDFStoreWorker.adaptJSInterface=function(b){if(b.interfaceName==="BlankNode")return new x.BlankNode(b.bnodeId);
else if(b.interfaceName==="Literal")return new x.Literal(b.nominalValue,b.language,b.datatype);else if(b.interfaceName==="NamedNode")return new x.NamedNode(b.nominalValue)};onmessage=RDFStoreWorker.receive;try{window.rdfstore=I}catch(xc){}})();
