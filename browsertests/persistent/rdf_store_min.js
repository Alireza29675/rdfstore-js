(function(){try{console=console||{}}catch(xc){console=console||{},console.log=function(){}}var y={"extends":function(c,b){b.prototype=new c},stackCounterLimit:1E3,stackCounter:0};y.recur=function(c){y.stackCounter===y.stackCounterLimit?(y.stackCounter=0,setTimeout(c,0)):(y.stackCounter++,c())};y.shuffle=function(c){for(var b,d,j=c.length;j;b=parseInt(Math.random()*j),d=c[--j],c[j]=c[b],c[b]=d);return c};y.include=function(c,b,d){for(var j=c.length-1;j>=0;j--){var i=!1,i=d==null?c[j]===b:d(c[j],b)===
0;if(i===!0)return!0}return!1};y.remove=function(c,b){for(var d=[],j=0;j<c.length;j++)c[j]!==b&&d.push(c[j]);return d};y.repeat=function(c,b,d,j,i){arguments.length===4&&(i={});c<b?(i._i=c,d(function(f,d){y.recur(function(){y.repeat(c+1,b,f,j,d)})},i)):j(i)};Utilsmeanwhile=function(c,b,d,j){arguments.length===3&&(j={});j._stack_counter==null&&(j._stack_counter=0);c===!0?b(function(b,c,j){j._stack_counter%40==39?(j._stack_counter+=1,setTimeout(function(){Utilsmeanwhile(b,c,d,j)},0)):(j._stack_counter+=
1,Utilsmeanwhile(b,c,d,j))},j):d(j)};y.seq=function(){var c=arguments;return function(b){y.repeat(0,c.length,function(b,j){var i=arguments.callee;c[j._i](function(){b(i,j)})},function(){b()})}};y.partition=function(c,b){for(var d=c.length%b,j=[],i=0;i<d;i++)j.push(null);d=[];for(i=0;i<c.length;i++)j.push(c[i]),j.length%b==0&&(d.push(j),j=[]);return d};y.keys=function(c){var b=[],d;for(d in c)b.push(d);return b};y.iso8601=function(c){function b(b){return b<10?"0"+b:b}return c.getUTCFullYear()+"-"+
b(c.getUTCMonth()+1)+"-"+b(c.getUTCDate())+"T"+b(c.getUTCHours())+":"+b(c.getUTCMinutes())+":"+b(c.getUTCSeconds())+"Z"};y.parseStrictISO8601=function(c){var c=c.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),b=0,d=new Date(c[1],0,1);if(c[3])d.setMonth(c[3]-1);else throw"missing ISO8061 component";if(c[5])d.setDate(c[5]);else throw"missing ISO8061 component";if(c[7])d.setHours(c[7]);else throw"missing ISO8061 component";
if(c[8])d.setMinutes(c[8]);else throw"missing ISO8061 component";if(c[10])d.setSeconds(c[10]);else throw"missing ISO8061 component";c[12]&&d.setMilliseconds(Number("0."+c[12])*1E3);c[14]&&(b=Number(c[16])*60+Number(c[17]),b*=c[15]=="-"?1:-1);b-=d.getTimezoneOffset();time=Number(d)+b*6E4;c=new Date;c.setTime(Number(time));return c};y.parseISO8601=function(c){var c=c.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),
b=0,d=new Date(c[1],0,1);c[3]&&d.setMonth(c[3]-1);c[5]&&d.setDate(c[5]);c[7]&&d.setHours(c[7]);c[8]&&d.setMinutes(c[8]);c[10]&&d.setSeconds(c[10]);c[12]&&d.setMilliseconds(Number("0."+c[12])*1E3);c[14]&&(b=Number(c[16])*60+Number(c[17]),b*=c[15]=="-"?1:-1);b-=d.getTimezoneOffset();time=Number(d)+b*6E4;c=new Date;c.setTime(Number(time));return c};y.parseISO8601Components=function(c){var c=c.match(RegExp("([0-9]{4})(-([0-9]{2}))(-([0-9]{2}))(T([0-9]{2}):([0-9]{2})(:([0-9]{2}))?(.([0-9]+))?)?(Z|([-+])([0-9]{2})(:([0-9]{2}))?)?")),
b,d,j,i,f,h,m,r;b=Number(c[1]);d=c[3]-1;j=Number(c[5]);i=Number(c[7]);f=Number(c[8]);h=Number(c[10]);c[12]&&(m=Number("0."+c[12])*1E3);c[13]==="Z"?r=0:c[14]?(r=0,c[17]&&(r=Number(c[17])),r+=Number(c[15])*60,r*=c[14]=="-"?-1:1):c[14]==null&&c[11]&&(r=Number(c[12])*60);return{year:isNaN(b)?null:b,month:isNaN(d)?null:d,date:isNaN(j)?null:j,hours:isNaN(i)?null:i,minutes:isNaN(f)?null:f,seconds:isNaN(h)?null:h,millisecs:isNaN(m)?null:m,timezone:isNaN(r)?null:r}};y.compareDateComponents=function(c,b){var d=
y.parseISO8601Components(c),j=y.parseISO8601Components(b);return d.timezone==null&&j.timezone==null||d.timezone!=null&&j.timezone!=null?(da=y.parseISO8601(c),db=y.parseISO8601(b),da.getTime()==db.getTime()?0:da.getTime()<db.getTime()?-1:1):d.timezone!=null&&j.timezone==null?(da=y.parseISO8601(c),db=y.parseISO8601(b),ta=da.getTime(),tb=db.getTime(),d=50400,ta<tb&&ta<tb+d?-1:ta>tb&&ta>tb-d?1:null):(da=y.parseISO8601(c),db=y.parseISO8601(b),ta=da.getTime(),tb=db.getTime(),d=50400,ta<tb&&ta+d<tb?-1:ta>
tb&&ta+d>tb?1:null)};y.lexicalFormLiteral=function(c,b){var d=c.value,j=c.lang,i=c.type,f=null;d!=null&&i!=null&&typeof i!="string"?(d=i.value,d!=null?f='"'+c.value+'"^^<'+d+">":(d=i.suffix,i=b.namespaces[i.prefix],c.type=i+d,f='"'+c.value+'"^^<'+i+d+">")):f=j==null&&i==null?'"'+d+'"':i==null?'"'+d+'"@'+j:'"'+c.value+'"^^<'+i+">";return f};y.lexicalFormBaseUri=function(c,b){var d=null;if(c.value==null){var j=c.suffix,i=b.namespaces[c.prefix];i!=null&&(d=i+j)}else d=c.value;if(d===null)return null;
else d.indexOf(":")==-1&&(d=(b.base||"")+d);return d};y.lexicalFormTerm=function(c,b){if(c.token==="uri")return{uri:y.lexicalFormBaseUri(c,b)};else if(c.token==="literal")return{literal:y.lexicalFormLiteral(c,b)};else if(c.token==="blank")return{blank:"_:"+c.label};else callback(!1,"Token of kind "+c.token+" cannot transformed into its lexical form")};y.normalizeUnicodeLiterals=function(c){for(var b=c.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||[],d={},j=0;j<b.length;j++)d[b[j]]==null&&(d[b[j]]=!0,c=c.replace(RegExp("\\"+
b[j],"g"),eval("'"+b[j]+"'")));return c};y.hashTerm=function(c){try{if(c==null)return"";if(c.token==="uri")return"u"+c.value;else if(c.token==="blank")return"b"+c.value;else if(c.token==="literal")return l="l"+c.value,l+=c.type||"",l+=c.lang||"",l}catch(b){if(typeof c==="object"){var d="";for(p in c)d=d+p+c[p];return d}return c}};var ua={PriorityQueue:function(c){var b=[],d={},j=!1,i,f=c.maxSize||10;i=function(b,c){return d[c].priority-d[b].priority};var h=function(){b.sort(i);j=!0};return{debugContents:b,
debugStore:d,debugSort:h,push:function(c,i){b.length===f?(j||h(),d[c]==null?(delete d[b[0]],b[0]=c,priority=d[b[b.length-1]].priority-1,d[c]={object:i,priority:priority}):(priority=d[b[b.length-1]].priority-1,d[c].priority=priority),j=!1):b.length===0?(b.push(c),d[c]={object:i,priority:1E3}):(priority=d[b[b.length-1]].priority-1,d[c]==null?(d[c]={object:i,priority:priority},b.push(c)):(d[c].priority=priority,j=!1))},remove:function(c){if(d[c]!=null){delete d[c];for(var f=null,j=0;j<b.length;j++)if(b[j]===
c){f=j;break}f!=null&&b.splice(f,1)}},fetch:function(c){var f=d[c];return d[c]!=null?(j||h(),priority=d[b[b.length-1]].priority-1,d[c].priority=priority,j=!1,f.object):null}}}},D={};D.Tree=function(c,b,d,j){if(arguments.length!=0){var i=null;if(d===!0)try{if(i=window.localStorage,i==null)throw"not found";}catch(f){throw"Local storage is not present, cannot create persistent storage";}i==null&&(i=function(){var b={};return{setItem:function(c,f){b[c]=f},getItem:function(c){return b[c]||null},removeItem:function(c){delete b[c]},
get:function(c){var f=0,d;for(d in b){if(c===f)return d;f++}return""},length:b.length}}());this.storage=i;this.order=c;this.name=b;this.diskManager=new D.LocalStorageManager(b,i,j);this.root=this.diskManager._readRootNode();this.root==null?(this.root=this._allocateNode(),this.root.isLeaf=!0,this.root.level=0,this._diskWrite(this.root),this._updateRootNode(this.root),this.root=this.root.pointer):this.root=this.diskManager._diskRead(this.root).pointer;this.comparator=function(b,c){return b<c?-1:b>c?
1:0};this.merger=null}};D.Tree.prototype._allocateNode=function(){return new D.Node};D.Tree.prototype._diskWrite=function(c){this.diskManager._diskWrite(c)};D.Tree.prototype._diskRead=function(c){return this.diskManager._diskRead(c)};D.Tree.prototype._diskDelete=function(c){this.diskManager._diskDelete(c)};D.Tree.prototype._updateRootNode=function(c){this.diskManager._updateRootNode(c);return c};D.Tree.prototype.search=function(c,b){for(var d=!0,j=this._diskRead(this.root);d;){for(var i=0;i<j.numberActives&&
this.comparator(c,j.keys[i].key)===1;)i++;if(i<j.numberActives&&this.comparator(j.keys[i].key,c)===0)return b!=null&&b==!0?!0:j.keys[i].data;else j.isLeaf===!0?d=!1:j=this._diskRead(j.children[i])}return null};D.Tree.prototype.walk=function(c){this._walk(c,this._diskRead(this.root))};D.Tree.prototype._walk=function(c,b){if(b.isLeaf)for(var d=0;d<b.numberActives;d++)c(b.keys[d]);else{for(d=0;d<b.numberActives;d++)this._walk(c,this._diskRead(b.children[d])),c(b.keys[d]);this._walk(c,this._diskRead(b.children[b.numberActives]))}};
D.Tree.prototype.walkNodes=function(c){this._walkNodes(c,this._diskRead(this.root))};D.Tree.prototype._walkNodes=function(c,b){if(b.isLeaf)c(b);else{c(b);for(var d=0;d<b.numberActives;d++)this._walkNodes(c,this._diskRead(b.children[d]));this._walkNodes(c,this._diskRead(b.children[b.numberActives]))}};D.Tree.prototype._splitChild=function(c,b,d){var j=this._allocateNode();j.isLeaf=d.isLeaf;j.level=d.level;j.numberActives=this.order-1;var i=d.keys[this.order-1];d.keys[this.order-1]=null;for(var f=0;f<
this.order-1;f++)j.keys[f]=d.keys[f+this.order],d.keys[f+this.order]=null,d.isLeaf||(j.children[f]=d.children[f+this.order],d.children[f+this.order]=null);d.isLeaf||(j.children[f]=d.children[f+this.order],d.children[f+this.order]=null);d.numberActives=this.order-1;for(f=c.numberActives+1;f>b+1;f--)c.children[f]=c.children[f-1];this._diskWrite(j);c.children[b+1]=j.pointer;for(f=c.numberActives;f>b;f--)c.keys[f]=c.keys[f-1];c.keys[b]=i;c.numberActives++;this._diskWrite(c);this._diskWrite(d)};D.Tree.prototype.insert=
function(c,b){var d=this._diskRead(this.root);if(d.numberActives===2*this.order-1){var j=this._allocateNode();j.isLeaf=!1;j.level=d.level+1;j.numberActives=0;j.children[0]=d.pointer;this._diskWrite(j);this._splitChild(j,0,d);this.root=j.pointer;this._updateRootNode(j);this._insertNonFull(j,c,b)}else this._insertNonFull(d,c,b)};D.Tree.prototype._insertNonFull=function(c,b,d){for(var j=c.numberActives-1;!c.isLeaf;){for(;j>=0&&this.comparator(b,c.keys[j].key)===-1;)j--;j++;var i=this._diskRead(c.children[j]);
i.numberActives===2*this.order-1&&(this._splitChild(c,j,i),this.comparator(b,c.keys[j].key)===1&&j++);c=this._diskRead(c.children[j]);j=c.numberActives-1}for(;j>=0&&this.comparator(b,c.keys[j].key)===-1;)c.keys[j+1]=c.keys[j],j--;c.keys[j+1]={key:b,data:d};c.numberActives++;this._diskWrite(c)};D.Tree.prototype["delete"]=function(c){for(var b=this._diskRead(this.root),d=null,j=!0,i=null,f=null,h=null,m=!0;m===!0;){for(m=!1;j===!0;){t=0;if(b.numberActives===0)return!1;for(;t<b.numberActives&&this.comparator(c,
b.keys[t].key)===1;)t++;i=t;t<b.numberActives&&this.comparator(c,b.keys[t].key)===0&&(j=!1);if(j===!0){if(b.isLeaf===!0)return!1;d=b;b=this._diskRead(b.children[t]);if(b===null)return!1;i===d.numberActives?(f=this._diskRead(d.children[i-1]),h=null):i===0?(f=null,h=this._diskRead(d.children[1])):(f=this._diskRead(d.children[i-1]),h=this._diskRead(d.children[i+1]));b.numberActives===this.order-1&&d!=null&&(h!=null&&h.numberActives>this.order-1?(this._moveKey(d,t,-1),b=this._diskRead(b.pointer)):f!=
null&&f.numberActives>this.order-1?(this._moveKey(d,t,1),b=this._diskRead(b.pointer)):f!=null&&f.numberActives===this.order-1?b=this._mergeSiblings(d,t,-1):h!=null&&h.numberActives===this.order-1&&(b=this._mergeSiblings(d,t,1)))}}if(b.isLeaf&&b.numberActives>this.order-1)return this._deleteKeyFromNode(b,i),!0;if(b.isLeaf&&b.pointer===this.root)return this._deleteKeyFromNode(b,i),!0;try{if(b.isLeaf===!1)if(f=d=null,(d=this._diskRead(b.children[i])).numberActives>this.order-1){var r=this._getMaxKeyPos(d),
c=r.node.keys[r.index];b.keys[i]=c;this._diskWrite(b);b=d;c=c.key;j=m=!0}else if((d=this._diskRead(b.children[i+1])).numberActives>this.order-1)r=this._getMinKeyPos(d),c=r.node.keys[r.index],b.keys[i]=c,this._diskWrite(b),b=d,c=c.key,j=m=!0;else if((d=this._diskRead(b.children[i])).numberActives===this.order-1&&(f=this._diskRead(b.children[i+1])).numberActives===this.order-1){var w=this._mergeNodes(d,b.keys[i],f);b.children[i]=w.pointer;i++;for(var t=i;t<b.numberActives;t++)b.children[t]=b.children[t+
1],b.keys[t-1]=b.keys[t];b.children[t]=null;b.keys[t-1]=null;b.numberActives--;if(b.numberActives===0&&this.root===b.pointer)this.root=w.pointer,this._updateRootNode(w);this._diskWrite(b);b=w;j=m=!0}}catch(x){console.log("!!!"),console.log(x)}b.isLeaf&&b.numberActives>this.order-1&&j===!1&&this._deleteKeyFromNode(b,i);if(m===!1)return!0}};D.Tree.prototype._moveKey=function(c,b,d){d===1&&b--;var j=this._diskRead(c.children[b]),i=this._diskRead(c.children[b+1]);if(d==-1){j.keys[j.numberActives]=c.keys[b];
j.children[j.numberActives+1]=i.children[0];i.children[0]=null;j.numberActives++;c.keys[b]=i.keys[0];for(d=1;d<i.numberActives;d++)i.keys[d-1]=i.keys[d],i.children[d-1]=i.children[d];i.children[i.numberActives-1]=i.children[i.numberActives];i.numberActives--}else{i.children[i.numberActives+1]=i.children[i.numberActives];for(d=i.numberActives;d>0;d--)i.children[d]=i.children[d-1],i.keys[d]=i.keys[d-1];i.keys[0]=null;i.children[0]=null;i.children[0]=j.children[j.numberActives];i.keys[0]=c.keys[b];i.numberActives++;
j.children[j.numberActives]=null;c.keys[b]=j.keys[j.numberActives-1];j.keys[j.numberActives-1]=null;j.numberActives--}this._diskWrite(j);this._diskWrite(i);this._diskWrite(c)};D.Tree.prototype._mergeSiblings=function(c,b){var d,j,i;b===c.numberActives?(b--,j=this._diskRead(c.children[c.numberActives-1]),i=this._diskRead(c.children[c.numberActives])):(j=this._diskRead(c.children[b]),i=this._diskRead(c.children[b+1]));var f=this._allocateNode();f.isLeaf=j.isLeaf;f.level=j.level;for(d=0;d<this.order-
1;d++)f.keys[d]=j.keys[d],f.children[d]=j.children[d];f.keys[this.order-1]=c.keys[b];f.children[this.order-1]=j.children[this.order-1];for(d=0;d<this.order-1;d++)f.keys[d+this.order]=i.keys[d],f.children[d+this.order]=i.children[d];f.children[2*this.order-1]=i.children[this.order-1];this._diskWrite(f);c.children[b]=f.pointer;for(d=b;d<c.numberActives;d++)c.keys[d]=c.keys[d+1],c.children[d+1]=c.children[d+2];f.numberActives=j.numberActives+i.numberActives+1;c.numberActives--;for(d=c.numberActives;d<
2*this.order-1;d++)c.keys[d]=null;if(c.numberActives===0&&this.root===c.pointer)this.root=f.pointer,f.isLeaf=f.level?!1:!0;this._diskWrite(f);this.root===f.pointer&&this._updateRootNode(f);this._diskWrite(c);this._diskDelete(j);this._diskDelete(i);return f};D.Tree.prototype._deleteKeyFromNode=function(c,b){var d=2*this.order-1;if(c.numberActives<d)d=c.numberActives;var j;if(c.isLeaf===!1)return!1;for(j=b;j<d-1;j++)c.keys[j]=c.keys[j+1];c.keys.splice(d-1,c.keys.length-(d-1));c.numberActives--;this._diskWrite(c);
return!0};D.Tree.prototype._mergeNodes=function(c,b,d){var j,i;j=this._allocateNode();j.isLeaf=!0;for(i=0;i<c.numberActives;i++)j.keys[i]=c.keys[i],j.children[i]=c.children[i];j.children[c.numberActives]=c.children[c.numberActives];j.keys[c.numberActives]=b;for(i=0;i<d.numberActives;i++)j.keys[i+c.numberActives+1]=d.keys[i],j.children[i+c.numberActives+1]=d.children[i];j.children[2*this.order-1]=d.children[d.numberActives];j.numberActives=c.numberActives+d.numberActives+1;j.isLeaf=c.isLeaf;j.level=
c.level;this._diskWrite(j);this._diskDelete(c);this._diskDelete(d);return j};D.Tree.prototype.audit=function(c){var b=[],d=[],j=this,i=function(f){for(var i=0;i<d.length;i++)if(j.comparator(d[i],f)===0){var h=" !!! duplicated key "+f;c===!0&&console.log(h);b.push(h)}},f=null,j=this;this.walkNodes(function(h){c===!0&&(console.log("--- Node at "+h.level+" level"),console.log(" - pointer: "+h.pointer),console.log(" - leaf? "+h.isLeaf),console.log(" - num actives? "+h.numberActives),console.log(" - keys: "));
for(var m=h.numberActives;m<h.keys.length;m++)h.keys[m]!=null&&c===!0&&(console.log(" * warning : redundant key data"),b.push(" * warning : redundant key data"));for(m=h.numberActives+1;m<h.children.length;m++)h.children[m]!=null&&c===!0&&(console.log(" * warning : redundant children data"),b.push(" * warning : redundant key data"));if(h.isLeaf===!1)for(m=0;m<h.numberActives;m++){var r=j._diskRead(h.children[m]).keys[j._diskRead(h.children[m]).numberActives-1].key,w=j._diskRead(h.children[m+1]).keys[0].key;
c===!0&&console.log("   "+h.keys[m].key+"("+r+","+w+")");if(j.comparator(h.keys[m].key,r)===-1){var t=" !!! value max left "+r+" > key "+h.keys[m].key;c===!0&&console.log(t);b.push(t)}j.comparator(h.keys[m].key,w)===1&&(t=" !!! value min right "+w+" < key "+h.keys[m].key,c===!0&&console.log(t),b.push(t));i(h.keys[m].key);d.push(h.keys[m].key)}else{f===null?f=h.level:f!=h.level&&(t=" !!! Leaf node with wrong level value",c===!0&&console.log(t),b.push(t));for(m=0;m<h.numberActives;m++)c===!0&&console.log(" "+
h.keys[m].key),i(h.keys[m].key),d.push(h.keys[m].key)}h.pointer!=j.root&&(h.numberActives>2*j.order-1&&(c===!0&&(t=" !!!! MAX num keys restriction violated "),console.log(t),b.push(t)),h.numberActives<j.order-1&&(c===!0&&(t=" !!!! MIN num keys restriction violated "),console.log(t),b.push(t)))});return b};D.Tree.prototype.clear=function(){this.diskManager.clear();this.root=this._allocateNode();this.root.isLeaf=!0;this.root.level=0;this._diskWrite(this.root);this._updateRootNode(this.root);this.root=
this.root.pointer};D.Tree.prototype._getMaxKeyPos=function(c){for(var b={};;){if(c===null)break;if(c.isLeaf===!0){b.node=c;b.index=c.numberActives-1;break}else b.node=c,b.index=c.numberActives-1,c=this._diskRead(c.children[c.numberActives])}return b};D.Tree.prototype._getMinKeyPos=function(c){for(var b={};;){if(c===null)break;if(c.isLeaf===!0){b.node=c;b.index=0;break}else b.node=c,b.index=0,c=this._diskRead(c.children[0])}return b};D.Node=function(){this.numberActives=0;this.isLeaf=null;this.keys=
[];this.children=[];this.level=0};D.LocalStorageManager=function(c,b,d){this.name=c;this.storage=b;this.maxSize=d;this.bufferCache=new ua.PriorityQueue({maxSize:d});this.counter=this.storage.getItem("__"+this.name+"__ID_COUNTER__")||0};D.LocalStorageManager.prototype.clear=function(){for(var c=this.storage.length,b=[],d=0;d<c;d++){var j=this.storage.key(d);(j.indexOf(this.name)==0||j.indexOf("__"+this.name)==0)&&b.push(j)}for(d=0;d<b.length;d++)this.storage.removeItem(b[d]);this.bufferCache=new ua.PriorityQueue({maxSize:this.maxSize})};
D.LocalStorageManager.prototype._genIndex=function(){var c=this.name+this.counter;this.counter++;this.storage.setItem("__"+this.name+"__ID_COUNTER__",this.counter);return c};D.LocalStorageManager.prototype._diskRead=function(c){if(typeof c==="object")c=c.pointer;var b=this.bufferCache.fetch(c);if(b==null&&(b=this.storage.getItem(c),b!=null))b=this._decode(b),b.pointer=c,this.bufferCache.push(c,b);return b};D.LocalStorageManager.prototype._diskWrite=function(c){if(c.pointer==null)c.pointer=this._genIndex();
var b=c.children,d=[];if(c.isLeaf===!1)for(var j=0;j<b.length;j++)b[j]==null?d.push(null):typeof b[j]==="object"?d.push(b[j].pointer):d.push(b[j]);c.children=d;this.storage.setItem(c.pointer,this._encode(c));c.children=b;this.bufferCache.push(c.pointer,c)};D.LocalStorageManager.prototype._diskDelete=function(c){this.storage.removeItem(c.pointer);this.bufferCache.remove(c.pointer)};D.LocalStorageManager.prototype._updateRootNode=function(c){if(c.pointer)this.storage.setItem("__"+this.name+"__ROOT_NODE__",
c.pointer);else throw"Cannot set as root of the b-tree a node without pointer";};D.LocalStorageManager.prototype._readRootNode=function(){var c=this.storage.getItem("__"+this.name+"__ROOT_NODE__");return c==null?null:this._diskRead(c)};D.LocalStorageManager.prototype._encode=function(c){encoded=""+c.numberActives;encoded=encoded+":"+c.pointer;encoded=encoded+":"+c.level;encoded=encoded+":"+(c.isLeaf?1:0);for(var b=0,d="",j=0;j<c.keys.length;j++)c.keys[j]!=null&&(d=typeof c.keys[j].key==="number"?
d+":"+c.keys[j].key:d+":"+("_"+(c.keys[j].key.subject||"")+"_"+(c.keys[j].key.predicate||"")+"_"+(c.keys[j].key.object||"")+"_"+(c.keys[j].key.graph||"")),c.keys[j].data==null?d+=":n:":d=typeof c.keys[j].data=="string"?d+":s:"+c.keys[j].data:typeof c.keys[j].data=="number"?c.keys[j]%1==0?d+":i:"+c.keys[j].data:d+":f:"+c.keys[j].data:d+":o:"+JSON.stringify(c.keys[j].data).replace(":","&colon;"),b++);encoded=encoded+":"+b+d;if(c.isLeaf===!1){b="";for(j=d=0;j<c.children.length;j++)c.children[j]!=null&&
(b=b+":"+c.children[j],d++);encoded=encoded+":"+d+b}return encoded};D.LocalStorageManager.prototype._decode=function(c){var b=new D.Node,c=c.split(":");b.numberActives=parseInt(c[0]);b.pointer=c[1];b.level=parseInt(c[2]);b.isLeaf=c[3]==="1"?!0:!1;for(var d=parseInt(c[4]),j=5,i,f,h,m=0;m<d;m++)i=c[j],i[0]=="_"?(i=i.split("_"),i={subject:parseInt(i[1])||null,predicate:parseInt(i[2])||null,object:parseInt(i[3])||null,graph:parseInt(i[4]||null)}):i=parseInt(c[j]),f=c[j+1],h=c[j+2],f==="n"?h=void 0:f===
"i"?h=parseInt(h):f==="f"?h=parseFloat(h):f==="o"&&(h=JSON.parse(h.replace("&colon;",":"))),b.keys.push({key:i,data:h}),j+=3;if(b.isLeaf===!1){d=parseInt(c[j]);j++;for(m=0;m<d;m++)b.children[m]=c[j],j++}return b};var S={NodeKey:function(c,b){this.subject=c.subject;this.predicate=c.predicate;this.object=c.object;this.graph=c.graph;this.order=b}};S.NodeKey.prototype.comparator=function(c){for(var b=0;b<this.order.length;b++){var d=this.order[b];if(c[d]==null)break;else if(this[d]<c[d])return-1;else if(this[d]>
c[d])return 1}return 0};S.Pattern=function(c){this.subject=c.subject;this.predicate=c.predicate;this.object=c.object;this.graph=c.graph;this.indexKey=[];this.keyComponents={};for(var b=[],d=[],c=["subject","predicate","object","graph"],j=0;j<c.length;j++)typeof this[c[j]]==="string"?(d.push(c[j]),this.keyComponents[c[j]]=null):(b.push(c[j]),this.keyComponents[c[j]]=this[c[j]],this.indexKey.push(c[j]));this.order=b.concat(d);this.key=new S.NodeKey(this.keyComponents,this.order)};var U={Tree:function(c,
b){if(arguments!=0)this.componentOrder=c.componentOrder,D.Tree.call(this,c.order,c.name,c.persistent,c.cacheMaxSize),this.comparator=function(b,c){for(var i=0;i<this.componentOrder.length;i++){var f=this.componentOrder[i],h=b[f],f=c[f];if(h<f)return-1;else if(h>f)return 1}return 0},this.rangeComparator=function(b,c){for(var i=0;i<this.componentOrder.length;i++){var f=this.componentOrder[i];if(c[f]==null||b[f]==null)break;else if(b[f]<c[f])return-1;else if(b[f]>c[f])return 1}return 0},b!=null&&b(this)}};
y["extends"](D.Tree,U.Tree);U.Tree.prototype.insert=function(c,b){D.Tree.prototype.insert.call(this,c,null);b&&b(!0);return!0};U.Tree.prototype.search=function(c,b){var d=D.Tree.prototype.search.call(this,c,!0);b&&b(d);return d};U.Tree.prototype.range=function(c,b){var d=null,d=typeof this.root==="string"?this._rangeTraverse(this,this._diskRead(this.root),c):this._rangeTraverse(this,this.root,c);b&&b(d);return d};U.Tree.prototype._rangeTraverse=function(c,b,d){for(var d=d.key,j=[],i=[b],f;i.length>
0;){b=i.shift();for(f=0;f<b.numberActives&&c.rangeComparator(b.keys[f].key,d)===-1;)f++;if(b.isLeaf===!0)for(;f<b.numberActives&&c.rangeComparator(b.keys[f].key,d)===0;)j.push(b.keys[f].key),f++;else{var h=c._diskRead(b.children[f]);for(i.push(h);;)if(f<b.numberActives&&c.rangeComparator(b.keys[f].key,d)===0)j.push(b.keys[f].key),f++,h=c._diskRead(b.children[f]),i.push(h);else break}}return j};var Y={QuadBackend:function(c,b){if(arguments!=0){this.indexMap={};this.treeOrder=c.treeOrder;this.indices=
["SPOG","GP","OGS","POG","GSP","OS"];this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};for(var d=0;d<this.indices.length;d++){var j=this.indices[d],i=new U.Tree({order:this.treeOrder,componentOrder:this.componentOrders[j],persistent:c.persistent,name:(c.name||
"")+j,cacheMaxSize:c.cacheMaxSize});this.indexMap[j]=i}b&&b(this)}}};Y.QuadBackend.prototype.clear=function(){for(var c=0;c<this.indices.length;c++)this.indexMap[this.indices[c]].clear()};Y.QuadBackend.prototype._indexForPattern=function(c){for(var c=c.indexKey,b=this.indices,d=0;d<b.length;d++)for(var j=b[d],i=this.componentOrders[j],f=0;f<i.length;f++){if(y.include(c,i[f])===!1)break;if(f==c.length-1)return j}return"SPOG"};Y.QuadBackend.prototype.index=function(c,b){for(var d=0;d<this.indices.length;d++)this.indexMap[this.indices[d]].insert(c);
b&&b(!0);return!0};Y.QuadBackend.prototype.range=function(c,b){var d=this.indexMap[this._indexForPattern(c)].range(c);b&&b(d);return d};Y.QuadBackend.prototype.search=function(c,b){var d=this.indexMap[this.indices[0]].search(c);b&&b(d!=null);return d!=null};Y.QuadBackend.prototype["delete"]=function(c,b){for(var d,j=0;j<this.indices.length;j++)d=this.indices[j],d=this.indexMap[d],d["delete"](c);b&&b(!0);return!0};var N={Lexicon:function(c,b){this.name=b||"";this.storage=null;try{this.storage=window.localStorage}catch(d){}if(this.storage==
null)this.storage={setItem:function(){},getItem:function(){return null},removeItem:function(){},key:function(){return""},length:0};this.uriToOID={};this.OIDToUri={};this.literalToOID={};this.OIDToLiteral={};this.blankToOID={};this.OIDToBlank={};this.defaultGraphOid=(this.defaultGraphOid=this.storage.getItem(this.pointer("oidCounter")))==null?0:parseInt(this.defaultGraphOid);this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,
suffix:null,value:this.defaultGraphUri,oid:this.defaultGraphOid};this.oidCounter=1;this.storage.getItem(this.pointer("knownGraphs"))==null?(this.knownGraphs={},this.storage.setItem(this.pointer("knownGraphs"),JSON.stringify(this.knownGraphs))):this.knownGraphs=JSON.parse(this.storage.getItem(this.pointer("knownGraphs")));c!=null&&c(this)}};N.Lexicon.prototype.pointer=function(c,b){c=="uriToOID"?c="uo":c=="OIDToUri"?c="ou":c=="literalToOID"?c="lo":c=="OIDToLiteral"?c="ok":c=="blankToOID"?c="bo":c==
"OIDToBlank"&&(c="ob");return b==null?this.name+"_l_"+c:this.name+"_l_"+c+"_"+b};N.Lexicon.prototype.clear=function(){this.uriToOID={};this.OIDToUri={};this.literalToOID={};this.OIDToLiteral={};this.blankToOID={};this.OIDToBlank={};for(var c=this.storage.length,b=this.name+"_l_",d=[],j=0;j<c;j++){var i=this.storage.key(j);i.indexOf(b)==0&&d.push(i)}for(j=0;j<d.length;j++)this.storage.removeItem(d[j])};N.Lexicon.prototype.registerGraph=function(c){c!=this.defaultGraphOid&&(this.knownGraphs[c]=!0,this.storage.setItem(this.pointer("knownGraphs"),
JSON.stringify(this.knownGraphs)));return!0};N.Lexicon.prototype.registeredGraphs=function(c){var b=[],d;for(d in this.knownGraphs)c===!0?b.push(this.retrieve(d)):b.push(d);return b};N.Lexicon.prototype.registerUri=function(c){if(c===this.defaultGraphUri)return this.defaultGraphOid;else{if(this.uriToOID[c]==null){var b=this.storage.getItem(this.pointer("uriToOID",c));if(b==null){var b=this.oidCounter,d="u"+b;this.oidCounter++;this.uriToOID[c]=[b,0];this.OIDToUri[d]=c;this.storage.setItem(this.pointer("uriToOID",
c),b+":0");this.storage.setItem(this.pointer("OIDToUri",d),c)}else{var j=b.split(":"),b=parseInt(j[0]),d="u"+b,j=parseInt(j[1])+1;this.uriToOID[c]=[b,j];this.OIDToUri[d]=c;this.storage.setItem(this.pointer("uriToOID",c),b+":0")}}else d=this.uriToOID[c],b=d[0],j=d[1]+1,this.uriToOID[c]=[b,j],this.storage.setItem(this.pointer("uriToOID",c),b+":"+j);return b}};N.Lexicon.prototype.resolveUri=function(c){if(c===this.defaultGraphUri)return this.defaultGraphOid;else{var b=this.uriToOID[c];if(b!=null)return b[0];
else if(b=this.storage.getItem(this.pointer("uriToOID",c)),b==null)return-1;else{var d=b.split(":"),b=parseInt(d[0]),j="u"+b,d=parseInt(d[1]);this.uriToOID[c]=[b,d];this.OIDToUri[j]=c;return b}}};N.Lexicon.prototype.registerBlank=function(){var c=this.oidCounter;this.oidCounter++;c=""+c;this.storage.setItem(this.pointer("OIDToBlank",c),!0);this.OIDToBlank[c]=!0;return c};N.Lexicon.prototype.resolveBlank=function(){var c=this.oidCounter;this.oidCounter++;return""+c};N.Lexicon.prototype.registerLiteral=
function(c){if(this.literalToOID[c]==null){var b=this.storage.getItem(this.pointer("literalToOID",c));if(b==null){var b=this.oidCounter,d="l"+b;this.oidCounter++;this.literalToOID[c]=[b,0];this.OIDToLiteral[d]=c;this.storage.setItem(this.pointer("literalToOID",c),b+":0");this.storage.setItem(this.pointer("OIDToLiteral",d),c)}else d=b.split(":"),b=parseInt(d[0]),d=parseInt(d[1])+1,this.literalToOID[c]=[b,d],this.storage.setItem(this.pointer("literalToOID",c),b+":"+d)}else d=this.literalToOID[c],b=
d[0],d=d[1]+1,this.storage.setItem(this.pointer("literalToOID",c),b+":"+d),this.literalToOID[c]=[b,d];return b};N.Lexicon.prototype.resolveLiteral=function(c){var b=this.literalToOID[c];if(b!=null)return b[0];else if(fromStorage=this.storage.getItem(this.pointer("literalToOID",c)),fromStorage!=null){var b=fromStorage.split(":"),d=parseInt(b[0]),b=parseInt(b[1]);this.literalToOID[c]=[d,b];this.OIDToLiteral["l"+d]=c;return d}else return-1};N.Lexicon.prototype.parseLiteral=function(c){var b=c.lastIndexOf("@");
if(b!=-1&&c[b-1]==='"'){var d=c.substring(1,b-1),c=c.substring(b+1,c.length);return{token:"literal",value:d,lang:c}}b=c.lastIndexOf("^^");if(b!=-1&&c[b-1]==='"'&&c[b+2]==="<"&&c[c.length-1]===">")return d=c.substring(1,b-1),c=c.substring(b+3,c.length-1),{token:"literal",value:d,type:c};d=c.substring(1,c.length-1);return{token:"literal",value:d}};N.Lexicon.prototype.parseUri=function(c){return{token:"uri",value:c}};N.Lexicon.prototype.retrieve=function(c){var b;try{if(c===this.defaultGraphOid)return{token:"uri",
value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0};else{var d=this.OIDToUri["u"+c];if(d)return this.parseUri(d);else{var j=this.OIDToLiteral["l"+c];if(j)return this.parseLiteral(j);else{var i=this.OIDToBlank[""+c];if(i)return{token:"blank",value:"_:"+c};else if(d=this.storage.getItem(this.pointer("OIDToUri","u"+c)),d!=null){this.OIDToUri["u"+c]=d;b=this.storage.getItem(this.pointer("uriToOID",d));var f=b.split(":"),h=parseInt(f[1]);this.uriToOID[d]=[c,h];return this.parseUri(d)}else if(j=
this.storage.getItem(this.pointer("OIDToLiteral","l"+c)),j!=null){this.OIDToLiteral["l"+c]=j;b=this.storage.getItem(this.pointer("literalToOID",j));var m=b.split(":"),c=parseInt(m[0]),h=parseInt(m[1]);this.literalToOID[j]=[c,h];return this.parseLiteral(j)}else if(i=this.storage.getItem(this.pointer("OIDToBlank",""+c)),i!=null)return this.OIDToBlank[""+c]=!0,{token:"blank",value:"_:"+c};else throw"Null value for OID";}}}}catch(r){throw console.log("error in lexicon retrieving OID:"),console.log(c),
r.message&&console.log(r.message),r.stack&&console.log(r.stack),Error("Unknown retrieving OID in lexicon:"+c);}};N.Lexicon.prototype.unregister=function(c,b){try{return this.unregisterTerm(c.subject.token,b.subject),this.unregisterTerm(c.predicate.token,b.predicate),this.unregisterTerm(c.object.token,b.object),c.graph!=null&&this.unregisterTerm(c.graph.token,b.graph),!0}catch(d){return console.log("Error unregistering quad"),console.log(d.message),!1}};N.Lexicon.prototype.unregisterTerm=function(c,
b){if(c==="uri"){if(b!=this.defaultGraphOid){var d="u"+b,j=this.OIDToUri[d],i=this.uriToOID[j],f=i[1];if(""+i[0]===""+b)f===0?(delete this.OIDToUri[d],delete this.uriToOID[j],delete this.knownGraphs[b]):this.uriToOID[j]=[b,f-1];else throw"Not matching OID : "+b+" vs "+i[0];}}else if(c==="literal")if(this.oidCounter++,d="l"+b,j=this.OIDToLiteral[d],i=this.literalToOID[j],f=i[1],""+i[0]===""+b)f===0?(delete this.OIDToLiteral[d],delete this.literalToOID[j]):this.literalToOID[j]=[b,f-1];else throw"Not matching OID : "+
b+" vs "+i[0];else c==="blank"&&delete this.OIDToBlank[""+b]};var fa={};fa.load=function(c,b,d){jQuery.ajax({url:c,headers:{Accepts:b},success:function(b,c,f){if((""+f.status)[0]=="2"){for(var c=f.getAllResponseHeaders().split("\n"),f={},h=0;h<c.length;h++){var m=c[h].split(":");f[m[0]]=m[1]}d(!0,{headers:f,data:b})}},error:function(c){(""+c.status)[0]=="3"?redirection==0?d(!1,500):(c=c.getAllResponseHeaders().Location||c.getAllResponseHeaders().location,c!=null?fa.load(c,b,d,redirection-1):d(!1,
500)):d(!1,c.statusCode())}})};var va=null;(function(){var c=function(b,c){b.stack="";for(var f in c)b[f]=c[f]};if(typeof window!=="undefined"){var b=window.jsonld=window.jsonld||{};Exception=function(b){c(this,b)}}else typeof module!=="undefined"&&module.exports&&(b={},Exception=function(b){c(this,b);this.stack=Error().stack});va=b;var d={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",
dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#"},j={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",
xsd:"http://www.w3.org/2001/XMLSchema#"},i={"boolean":j.xsd+"boolean","double":j.xsd+"double",integer:j.xsd+"integer"},f=function(b,c,f){c in b?b[c].constructor===Array?b[c].push(f):b[c]=[b[c],f]:b[c]=f},h=function(b){var c;if(b.constructor===Object){c={};var f=Object.keys(b).sort(),d;for(d in f){var j=f[d];c[j]=h(b[j])}}else if(b.constructor===Array)for(d in c=[],b)c[d]=h(b[d]);else c=b;return c},m=function(b){var c={"@datatype":"@datatype","@iri":"@iri","@language":"@language","@literal":"@literal",
"@subject":"@subject","@type":"@type"};if(b){var f={},d;for(d in b)b[d].constructor===String&&b[d]in c&&(f[b[d]]=d);for(d in f)c[d]=f[d]}return c},r=function(b,c,f){var d=null,i;for(i in b)if(i.length>0&&i[0]!=="@"&&c===b[i]){d=i;f!==null&&(f[i]=b[i]);break}d===null&&c===j.rdf+"type"&&(d=m(b)["@type"]);if(d===null)for(i in b)if(i.length>0&&i[0]!=="@"){var h=b[i];if(c.indexOf(h)===0&&c.length>h.length){d=i+":"+c.substr(h.length);f!==null&&(f[i]=h);break}}d===null&&(d=c);return d},w=function(b,c,f){var d,
i=m(b);d=c.indexOf(":");d!=-1?(i=c.substr(0,d),i in b?(d=b[i]+c.substr(d+1),f!==null&&(f[i]=b[i])):d=c):c in b?(d=b[c],f!==null&&(f[c]=d)):c===i["@subject"]?d=i["@subject"]:c===i["@type"]?d=j.rdf+"type":(d=c,"@vocab"in b&&(d=b["@vocab"]+d,f!==null&&(f["@vocab"]=b["@vocab"])));return d};b.normalize=function(b){return(new t).normalize(b)};b.expand=function(b){return(new t).expand({},null,b,!1)};b.compact=function(c,f){var d=null;if(f!==null){var f=b.expand(f),j;f.constructor===Array?(d=[],j=f):j=[f];
for(var i in j){var m={},r=(new t).compact(h(c),null,j[i],m);Object.keys(m).length>0&&(r["@context"]=m);d===null?d=r:d.push(r)}}return d};b.mergeContexts=function(b,c){var f=h(b),d=h(c),j;for(j in d)if(j.indexOf("@")!==0)for(var i in f)if(f[i]===d[j]){delete f[i];break}if(i="@coerce"in f||"@coerce"in d){var m="@coerce"in f?f["@coerce"]:{},t="@coerce"in d?d["@coerce"]:{};delete f["@coerce"];delete d["@coerce"]}for(j in d)f[j]=d[j];if(i){for(var r in m)if(r in t){j=m[r];i=t[r];i.constructor!==Array&&
(i=[i]);for(var w in i)if(d=i[w],j.constructor!==Array&&j!==d||j.constructor===Array&&j.indexOf(d)==-1)j.constructor===Array?j.push(d):j=m[r]=[j,d]}for(r in t)r in m||(m[r]=t[r]);t={};j=[];for(r in m)for(w in d=m[r],d.constructor===String&&(d=[d]),d)d[w]in t?j.indexOf(d[w])==-1&&j.push(d[w]):t[d[w]]=!0;if(j.length>0)throw{message:"Invalid type coercion specification. More than one type specified for at least one property.",duplicates:j};f["@coerce"]=m}return f};b.expandTerm=w;b.compactIri=function(b,
c){return r(b,c,null)};b.frame=function(b,c,f){return(new t).frame(b,c,f)};b.toTriples=function(c,f,d){var j=null;normalized=b.normalize(c);d=d||null;d===null&&(j=[],d=function(b,c,d){j.push({subject:b,predicate:c,object:d,graph:f})});var i=!1,h;for(h in normalized){var c=normalized[h],n={token:"uri",value:c["@subject"]["@iri"]};n.value[0]==="_"&&(n.token="blank");for(var m in c)if(m!=="@subject"){var t=c[m];t.constructor!==Array&&(t=[t]);for(var r in t)if(i=t[r],typeof i==="string"?i={token:"literal",
value:i}:i["@iri"]!=null?i=i["@iri"][0]=="_"?{token:"blank",value:i["@iri"]}:{token:"uri",value:i["@iri"]}:i["@datatype"]!=null?i={token:"literal",value:i["@literal"],type:i["@datatype"]}:i["@language"]!=null&&(i={token:"literal",value:i["@literal"],lang:i["@language"]}),i=d(n,{token:"uri",value:m},i)===!1)break;if(i)break}if(i)break}return j};var t=function(){};t.prototype.compact=function(b,c,f,d){var j,t=m(b);if(f===null)j=null,this.getCoerceType(b,c,d);else if(f.constructor===Array){j=[];for(var w in f)j.push(this.compact(b,
c,f[w],d))}else if(f.constructor===Object&&"@subject"in f&&f["@subject"].constructor===Array)j={},j[t["@subject"]]=this.compact(b,c,f["@subject"],d);else if(f.constructor===Object&&!("@literal"in f)&&!("@iri"in f)){j={};for(var x in f)if(f[x]!=="@context"&&(t=r(b,x,d),t!==x||!(t in j)))j[t]=this.compact(b,x,f[x],d)}else{c=this.getCoerceType(b,c,d);w=null;f.constructor===Object?"@language"in f||(w="@datatype"in f?f["@datatype"]:"@iri"in f?"@iri":c):f.constructor===String&&(w=c);if(c===null&&(w===i["boolean"]||
w===i.integer||w===i["double"]))c=w;if(c!==null)if(w===null)throw{message:"Cannot coerce type when a language is specified. The language information would be lost."};else if(w!==c)throw new Exception({message:"Cannot coerce type because the datatype does not match.",type:w,expected:c});else f.constructor===Object?"@iri"in f?j=f["@iri"]:"@literal"in f&&(j=f["@literal"]):j=f,c===i["boolean"]?j=j==="true"||j!=0:c===i["double"]?j=parseFloat(j):c===i.integer&&(j=parseInt(j));else if(f.constructor===Object)for(x in j=
{},f)j[t[x]]=f[x];else j=h(f);w==="@iri"&&(j.constructor===Object?j[t["@iri"]]=r(b,j[t["@iri"]],d):j=r(b,j,d))}return j};t.prototype.expand=function(c,d,j,t){var r;if(j===null)r=null;else if(d===null&&j.constructor===String)r=w(c,j,null);else if(j.constructor===Array){r=[];for(var x in j)r.push(this.expand(c,d,j[x],t))}else if(j.constructor===Object)if("@context"in j&&(c=b.mergeContexts(c,j["@context"])),x=m(c),x["@literal"]in j||x["@iri"]in j)r={},x["@iri"]in j?r["@iri"]=j[x["@iri"]]:(r["@literal"]=
j[x["@literal"]],x["@language"]in j?r["@language"]=j[x["@language"]]:x["@datatype"]in j&&(r["@datatype"]=j[x["@datatype"]]));else{r={};for(var O in j)O==="@embed"||O==="@explicit"||O==="@default"||O==="@omitDefault"?f(r,O,h(j[O])):O!=="@context"&&f(r,w(c,O,null),this.expand(c,O,j[O],t))}else{O=this.getCoerceType(c,d,null);x=m(c);if(O===null&&(j.constructor===Number||j.constructor===Boolean))O=j.constructor===Boolean?i["boolean"]:(""+j).indexOf(".")==-1?i.integer:i["double"];O!==null&&(d!==x["@subject"]||
t)?(r={},O==="@iri"?r["@iri"]=w(c,j,null):(r["@datatype"]=O,O===i["double"]&&(j=j.toExponential(6).replace(/(e(?:\+|-))([0-9])$/,"$10$2")),r["@literal"]=""+j)):r=""+j}return r};t.prototype.normalize=function(b){var c=[];if(b!==null){this.ng={tmp:null,c14n:null};var f=this.expand(d,null,b,!0);this.nameBlankNodes(f);b={};K(null,null,f,b);for(var j in b){var f=b[j],i={},h=Object.keys(f).sort(),n;for(n in h){var m=h[n];i[m]=f[m]}c.push(i)}this.canonicalizeBlankNodes(c);c.sort(function(b,c){return y(b["@subject"]["@iri"],
c["@subject"]["@iri"])})}return c};t.prototype.getCoerceType=function(b,c,d){var i=null,c=w(b,c,null);if(c==="@subject"||c===j.rdf+"type")i="@iri";else if("@coerce"in b){var c=r(b,c,null),h;for(h in b["@coerce"]){var n=b["@coerce"][h];n.constructor!==Array&&(n=[n]);for(var m in n)if(n[m]===c){i=w(b,h,d);d!==null&&("@coerce"in d||(d["@coerce"]={}),h in d["@coerce"]?(n=d["@coerce"][h],(n.constructor===Array&&n.indexOf(c)==-1||n.constructor===String&&n!==c)&&f(d["@coerce"],h,c)):d["@coerce"][h]=c);break}}}return i};
var x=function(b){return b.indexOf("_:")===0},y=function(b,c){var f=0;if(b.constructor===Array&&c.constructor===Array)for(var d=0;d<b.length&&f===0;++d)f=y(b[d],c[d]);else f=b<c?-1:b>c?1:0;return f},B=function(b,c,f){var d=0;f in b?d=f in c?y(b[f],c[f]):-1:f in c&&(d=1);return d},D=function(b,c){var f=0;b.constructor===String?f=c.constructor!==String?-1:y(b,c):c.constructor===String?f=1:(f=B(b,c,"@literal"),f===0&&("@literal"in b?(f=B(b,c,"@datatype"),f===0&&(f=B(b,c,"@language"))):f=y(b["@iri"],
c["@iri"])));return f},E=function(b,c){var f=0,d;for(d in b){f=y(b[d].constructor===Array?b[d].length:1,c[d].constructor===Array?c[d].length:1);if(f===0){var j=b[d],i=c[d];j.constructor!==Array&&(j=[j],i=[i]);j=j.filter(function(b){return b.constructor===String||!("@iri"in b&&x(b["@iri"]))});i=i.filter(function(b){return b.constructor===String||!("@iri"in b&&x(b["@iri"]))});f=y(j.length,i.length)}if(f===0){j.sort(D);i.sort(D);for(var h=0;h<j.length&&f===0;++h)f=D(j[h],i[h])}if(f!==0)break}return f},
J=function(b){var c=-1,f={next:function(){++c;return f.current()},current:function(){return"_:"+b+c},inNamespace:function(c){return c.indexOf("_:"+b)===0}};return f},F=function(b,c,f){if(b!==null)if(b.constructor===Array)for(var d in b)F(b[d],c,f);else if(b.constructor===Object){"@subject"in b?b["@subject"].constructor==Array?F(b["@subject"],c,f):c[b["@subject"]["@iri"]]=b:b.constructor===Object&&!("@iri"in b||"@literal"in b)&&(!("@subject"in b)||b.constructor===Object&&"@subject"in b&&"@iri"in b["@subject"]&&
x(b["@subject"]["@iri"]))&&f.push(b);for(var j in b)F(b[j],c,f)}},K=function(b,c,f,d){var j=null;if(f!==null)if(f.constructor===Array)for(var i in f)K(b,c,f[i],d);else if(f.constructor===Object)if("@subject"in f&&f["@subject"].constructor===Array){if(b!==null)throw{message:"Embedded graph literals cannot be flattened."};for(var m in f["@subject"])K(b,c,f["@subject"][m],d)}else if("@literal"in f||"@iri"in f)j=h(f);else for(m in f["@subject"]["@iri"]in d?i=d[f["@subject"]["@iri"]]:(i={},"@subject"in
f&&(d[f["@subject"]["@iri"]]=i)),j=i,f){var t=f[m];t!==null&&(m in i?i[m].constructor!==Array&&(i[m]=[i[m]]):i[m]=[],K(i[m],null,t,d),i[m].length===1&&(i[m]=i[m][0]))}else j=f;j!==null&&b!==null&&(j.constructor===Object&&"@subject"in j&&(j=j["@subject"]),b.constructor===Array?(c=!1,j.constructor===Object&&"@iri"in j&&(c=b.filter(function(b){return b.constructor===Object&&"@iri"in b&&b["@iri"]===j["@iri"]}).length>0),c||b.push(j)):b[c]=j)};t.prototype.nameBlankNodes=function(b){var c=this.ng.tmp=J("tmp"),
f={},d=[];F(b,f,d);for(var j in d)if(b=d[j],!("@subject"in b)){for(;c.next()in f;);b["@subject"]={"@iri":c.current()};f[c.current()]=b}};t.prototype.renameBlankNode=function(b,c){var f=b["@subject"]["@iri"];b["@subject"]["@iri"]=c;var d=this.subjects;d[c]=d[f];delete d[f];this.edges.refs[c]=this.edges.refs[f];this.edges.props[c]=this.edges.props[f];delete this.edges.refs[f];delete this.edges.props[f];var j=this.edges.refs[c].all,i;for(i in j){var h=j[i].s;h===f&&(h=c);var n=d[h],m=this.edges.props[h].all,
t;for(t in m)if(m[t].s===f){m[t].s=c;var h=m[t].p,h=n[h].constructor===Object?[n[h]]:n[h].constructor===Array?n[h]:[],r;for(r in h)h[r].constructor===Object&&"@iri"in h[r]&&h[r]["@iri"]===f&&(h[r]["@iri"]=c)}}m=this.edges.props[c].all;for(i in m){var h=m[i].s,j=this.edges.refs[h].all,w;for(w in j)if(j[w].s===f)j[w].s=c}};t.prototype.canonicalizeBlankNodes=function(b){this.renamed={};this.mappings={};this.serializations={};var c=this.edges={refs:{},props:{}},f=this.subjects={},d=[],j;for(j in b){var i=
b[j]["@subject"]["@iri"];f[i]=b[j];c.refs[i]={all:[],bnodes:[]};c.props[i]={all:[],bnodes:[]};x(i)&&d.push(b[j])}this.collectEdges();var b=this.ng.c14n=J("c14n"),h=this.ng.tmp;for(j in d){var n=d[j],i=n["@subject"]["@iri"];if(b.inNamespace(i)){for(;h.next()in f;);this.renameBlankNode(n,h.current());i=n["@subject"]["@iri"]}this.serializations[i]={props:null,refs:null}}for(var m=this;d.length>0;){d.sort(function(b,c){return m.deepCompareBlankNodes(b,c)});var n=d.shift(),i=n["@subject"]["@iri"],h=["props",
"refs"],t;for(t in h){n=h[t];if(this.serializations[i][n]===null){var r={};r[i]="s1"}else r=this.serializations[i][n].m;var w=Object.keys(r);w.sort(function(b,c){return y(r[b],r[c])});var B=[];for(j in w){var E=w[j];!b.inNamespace(i)&&E in f&&(this.renameBlankNode(f[E],b.next()),B.push(E))}w=d;d=[];for(j in w){var E=w[j],F=E["@subject"]["@iri"];if(!b.inNamespace(F)){for(var Fa in B)this.markSerializationDirty(F,B[Fa],n);d.push(E)}}}}for(var xa in c.props)if(c.props[xa].bnodes.length>0){var n=f[xa],
K;for(K in n)K.indexOf("@")!==0&&n[K].constructor===Array&&n[K].sort(D)}};MappingBuilder=function(){this.count=1;this.processed={};this.mapping={};this.adj={};this.keyStack=[{keys:["s1"],idx:0}];this.done={};this.s=""};MappingBuilder.prototype.copy=function(){var b=new MappingBuilder;b.count=this.count;b.processed=h(this.processed);b.mapping=h(this.mapping);b.adj=h(this.adj);b.keyStack=h(this.keyStack);b.done=h(this.done);b.s=this.s;return b};MappingBuilder.prototype.mapNode=function(b){b in this.mapping||
(this.mapping[b]=b.indexOf("_:c14n")===0?"c"+b.substr(6):"s"+this.count++);return this.mapping[b]};MappingBuilder.prototype.serialize=function(b,c){if(this.keyStack.length>0)for(var f=this.keyStack.pop();f.idx<f.keys.length;++f.idx){var d=f.keys[f.idx];if(!(d in this.adj)){this.keyStack.push(f);break}if(d in this.done)this.s+="_"+d;else{this.done[d]=!0;var j=d,d=this.adj[d],i=d.i;if(i in b){var h=b[i],n="",m=!0,t=void 0;for(t in h)if(t!=="@subject"){m?m=!1:n+="|";n+="<"+t+">";var r=h[t].constructor===
Array?h[t]:[h[t]],w;for(w in r){var y=r[w];y.constructor===Object?"@iri"in y?n+=x(y["@iri"])?"_:":"<"+y["@iri"]+">":(n+='"'+y["@literal"]+'"',"@datatype"in y?n+="^^<"+y["@datatype"]+">":"@language"in y&&(n+="@"+y["@language"])):n+='"'+y+'"'}}j+="["+n+"]";h=!0;j+="[";var i=c.refs[i].all,B;for(B in i)h?h=!1:j+="|",j+="<"+i[B].p+">",j+=x(i[B].s)?"_:":"<"+i[B].s+">";j+="]"}j+=d.k.join("");this.s+=j;this.keyStack.push({keys:d.k,idx:0});this.serialize(b,c)}}};t.prototype.markSerializationDirty=function(b,
c,f){b=this.serializations[b];b[f]!==null&&c in b[f].m&&(b[f]=null)};var N=function(b,c){var f=0;return f=b.length==c.length?y(b,c):b.length>c.length?y(b.substr(0,c.length),c):y(b,c.substr(0,b.length))};t.prototype.serializeCombos=function(b,c,f,d,j,i,m){if(m.length>0){i=h(i);i[d.mapNode(m[0].s)]=m[0].s;for(var t=d.copy(),m=m.slice(1),r=Math.max(1,m.length),w=0;w<r;++w){var x=w===0?d:t.copy();this.serializeCombos(b,c,f,x,j,i,m);m.unshift.apply(m,m.splice(1,m.length))}}else if(m=Object.keys(i).sort(),
d.adj[f]={i:c,k:m,m:i},d.serialize(this.subjects,this.edges),b[j]===null||N(d.s,b[j].s)<=0){for(t in m)this.serializeBlankNode(b,i[m[t]],d,j);d.serialize(this.subjects,this.edges);if(b[j]===null||N(d.s,b[j].s)<=0&&d.s.length>=b[j].s.length)b[j]={s:d.s,m:d.mapping}}};t.prototype.serializeBlankNode=function(b,c,f,d){if(!(c in f.processed)){f.processed[c]=!0;var j=f.mapNode(c),i=f.copy(),h=this.edges[d][c].bnodes,n={},m=[],t;for(t in h)h[t].s in f.mapping?n[f.mapping[h[t].s]]=h[t].s:m.push(h[t]);h=Math.max(1,
m.length);for(t=0;t<h;++t){var r=t===0?f:i.copy();this.serializeCombos(b,c,j,r,d,n,m)}}};t.prototype.deepCompareBlankNodes=function(b,c){var f=0,d=b["@subject"]["@iri"],j=c["@subject"]["@iri"];if(d===j)f=0;else if(f=this.shallowCompareBlankNodes(b,c),f===0)for(var i=["props","refs"],m=0;f===0&&m<i.length;++m){var f=i[m],t=this.serializations[d],r=this.serializations[j];if(t[f]===null){var w=new MappingBuilder;if(f==="refs")w.mapping=h(t.props.m),w.count=Object.keys(w.mapping).length+1;this.serializeBlankNode(t,
d,w,f)}if(r[f]===null){w=new MappingBuilder;if(f==="refs")w.mapping=h(r.props.m),w.count=Object.keys(w.mapping).length+1;this.serializeBlankNode(r,j,w,f)}f=y(t[f].s,r[f].s)}return f};t.prototype.shallowCompareBlankNodes=function(b,c){var f=0,d=Object.keys(b),j=Object.keys(c),f=y(d.length,j.length);f===0&&(f=y(d.sort(),j.sort()));f===0&&(f=E(b,c));if(f===0)var i=this.edges.refs[b["@subject"]["@iri"]].all,h=this.edges.refs[c["@subject"]["@iri"]].all,f=y(i.length,h.length);if(f===0)for(d=0;d<i.length&&
f===0;++d)f=this.compareEdges(i[d],h[d]);return f};t.prototype.compareEdges=function(b,c){var f=0,d=x(b.s),j=x(c.s),i=this.ng.c14n;d!=j?f=d?1:-1:(d||(f=y(b.s,c.s)),f===0&&(f=y(b.p,c.p)),f===0&&i!==null&&(d=i.inNamespace(b.s),i=i.inNamespace(c.s),d!=i?f=d?1:-1:d&&(f=y(b.s,c.s))));return f};t.prototype.collectEdges=function(){var b=this.edges.refs,c=this.edges.props,f;for(f in this.subjects){var d=this.subjects[f],j;for(j in d)if(j!=="@subject"){var i=d[j],i=i.constructor!==Array?[i]:i,h;for(h in i){var n=
i[h];n.constructor===Object&&"@iri"in n&&n["@iri"]in this.subjects&&(n=n["@iri"],b[n].all.push({s:f,p:j}),c[f].all.push({s:n,p:j}))}}}var m=this;for(f in b)b[f].all.sort(function(b,c){return m.compareEdges(b,c)}),b[f].bnodes=b[f].all.filter(function(b){return x(b.s)});for(f in c)c[f].all.sort(function(b,c){return m.compareEdges(b,c)}),c[f].bnodes=c[f].all.filter(function(b){return x(b.s)})};var S=function(b,c){var f=!1;if(!(j.rdf+"type"in c)){var d=Object.keys(c).filter(function(b){return b.indexOf("@")!==
0});if(d.length===0)f=!0;else if(b.constructor===Object&&"@subject"in b){var f=!0,i;for(i in d)if(!(d[i]in b)){f=!1;break}}}return f},R=function(b,c,f,d,i,h,n,m){var t=null,r=-1,w;f.constructor===Array?(t=[],w=f,w.length===0&&w.push({})):(w=[f],r=1);for(var x=[],y=0;y<w.length&&r!==0;++y){f=w[y];if(f.constructor!==Object)throw{message:"Invalid JSON-LD frame. Frame must be an object or an array.",frame:f};x[y]=[];for(var B=0;B<c.length&&r!==0;++B){var G=c[B],E=!1,D=j.rdf+"type";if(D in f&&G.constructor===
Object&&"@subject"in G&&D in G)for(var F=G[D].constructor===Array?G[D]:[G[D]],M=f[D].constructor===Array?f[D]:[f[D]],J=0;J<M.length&&!E;++J){var D=M[J]["@iri"],Fa;for(Fa in F)if(F[Fa]["@iri"]===D){E=!0;break}}if(E||S(G,f))x[y].push(G),--r}}for(var K in x)for(var uc in x[K]){f=w[K];r=x[K][uc];if(r.constructor===Object&&"@subject"in r)if(c=b,y=d,G=i,E=h,D=n,B=m,F=r["@subject"]["@iri"],M=F in y?y[F]:null,(f["@embed"]===!0||B.defaults.embedOn)&&(M===null||M.autoembed&&!G)){M===null?(M={},y[F]=M):M.parent!==
null&&(M.parent[M.key]=r["@subject"]);M.autoembed=G;M.parent=E;M.key=D;if(f["@explicit"]===!0||B.defaults.explicitOn)for(key in r)key!=="@subject"&&!(key in f)&&delete r[key];for(key in r)if(key.indexOf("@")!==0&&key!==j.rdf+"type"){key in f?(G=f[key],E=!1):(G=r[key].constructor===Array?[]:{},E=!0);var D=r[key],D=D.constructor===Array?D:[D],ka;for(ka in D)D[ka].constructor===Object&&"@iri"in D[ka]&&D[ka]["@iri"]in c&&(D[ka]=c[D[ka]["@iri"]]);r[key]=R(c,D,G,y,E,r,key,B)}for(key in f)key.indexOf("@")!==
0&&key!==j.rdf+"type"&&!(key in r)&&(G=f[key],G.constructor===Array?r[key]=[]:(G.constructor===Array&&(G=G.length>0?G[0]:{}),G["@omitDefault"]===!0||B.defaults.omitDefaultOn||(r[key]="@default"in G?G["@default"]:null)))}else r=r["@subject"];t===null?t=r:t.push(r)}return t};t.prototype.frame=function(c,f,d){var c=b.normalize(c),j=null;"@context"in f&&(j=h(f["@context"]));var f=b.expand(f),d={defaults:{embedOn:!0,explicitOn:!1,omitDefaultOn:!1}},i={},m;for(m in c)i[c[m]["@subject"]["@iri"]]=c[m];c=
R(i,c,f,{},!1,null,null,d);j!==null&&c!==null&&(c=b.compact(j,c));return c}})();var ya={parser:{}};ya.parser.parse=function(c,b){typeof c==="string"&&(c=JSON.parse(c));return va.toTriples(c,b)};var Z={RDFLoader:function(c){this.precedences=["text/turtle","text/n3","application/json"];this.parsers={"text/turtle":W.parser,"text/n3":W.parser,"application/json":ya.parser};if(c!=null)for(var b in c.parsers)this.parsers[b]=c.parsers[b];if(c&&c.precedences!=null)for(b in this.precedences=c.precedences,c.parsers)y.include(this.precedences,
b)||this.precedences.push(b);this.acceptHeaderValue="";for(c=0;c<this.precedences.length;c++)c!=0?this.acceptHeaderValue=this.acceptHeaderValue+","+this.precedences[c]:this.acceptHeaderValue+=this.precedences[c]}};Z.RDFLoader.prototype.registerParser=function(c,b){this.parsers[c]=b;this.precedences.push(c)};Z.RDFLoader.prototype.unregisterParser=function(c){delete this.parsers[c];for(var b=[],d=0;d<this.precedences.length;d++)this.precedences[d]!=c&&b.push(this.precedences[d]);this.precedences=b};
Z.RDFLoader.prototype.setAcceptHeaderPrecedence=function(c){this.precedences=c};Z.RDFLoader.prototype.load=function(c,b,d){var j=this;fa.load(c,this.acceptHeaderValue,function(i,f){if(i==!0){var h=f.headers["Content-Type"]||f.headers["content-type"],m=f.data;if(h!=null){var h=h.split(";")[0],r;for(r in j.parsers)if(r.indexOf("/")!=-1){var w=r.split("/");if(w[1]==="*"){if(h.indexOf(w[0])!=-1)return j.tryToParse(j.parsers[r],b,m,d)}else if(h.indexOf(r)!=-1)return j.tryToParse(j.parsers[r],b,m,d);else if(h.indexOf(w[1])!=
-1)return j.tryToParse(j.parsers[r],b,m,d)}else if(h.indexOf(r)!=-1)return j.tryToParse(j.parsers[r],c,b,d);d(!1,"Unknown media type : "+h)}else console.log("Unknown media type"),console.log(f.headers),d(!1,"Uknown media type")}else d(!1,"Network error: "+f)})};Z.RDFLoader.prototype.loadFromFile=function(c,b,d,j){try{var i=this;fs=require("fs");fs.readFile(d.split("file:/")[1],function(f,d){if(f)throw f;d=d.toString("utf8");i.tryToParse(c,b,d,j)})}catch(f){j(!1,f)}};Z.RDFLoader.prototype.tryToParse=
function(c,b,d,j){try{typeof d==="string"&&(d=y.normalizeUnicodeLiterals(d));var i=c.parse(d,b);i!=null?j(!0,i):j(!1,"parsing error")}catch(f){j(!1,"parsing error with mime type : "+f)}};var R={AbstractQueryTree:function(){}};R.AbstractQueryTree.prototype.parseQueryString=function(c){return la.parser.parse(c)};R.AbstractQueryTree.prototype.parseExecutableUnit=function(c){if(c.kind==="select")return this.parseSelect(c);else if(c.kind==="ask")return this.parseSelect(c);else if(c.kind==="modify")return this.parseSelect(c);
else if(c.kind==="construct")return this.parseSelect(c);else if(c.kind==="insertdata")return this.parseInsertData(c);else if(c.kind==="deletedata")return this.parseInsertData(c);else if(c.kind==="load")return c;else if(c.kind==="clear")return c;else if(c.kind==="drop")return c;else if(c.kind==="create")return c;else throw Error("unknown executable unit: "+c.kind);};R.AbstractQueryTree.prototype.parseSelect=function(c){return c==null?(console.log("error parsing query"),null):(c.pattern=this.build(c.pattern,
{}),c)};R.AbstractQueryTree.prototype.parseInsertData=function(c){return c==null?(console.log("error parsing query"),null):c};R.AbstractQueryTree.prototype.build=function(c,b){if(c.token==="groupgraphpattern")return this._buildGroupGraphPattern(c,b);else if(c.token==="basicgraphpattern")return{kind:"BGP",value:c.triplesContext};else if(c.token==="graphunionpattern"){var d=this.build(c.value[0],b),j=this.build(c.value[1],b);return{kind:"UNION",value:[d,j]}}else if(c.token==="graphgraphpattern")return{kind:"GRAPH",
value:this.build(c.value,b),graph:c.graph};else throw Error("not supported token in query:"+c.token);};R.AbstractQueryTree.prototype._buildGroupGraphPattern=function(c,b){for(var d=c.filters||[],j={kind:"EMPTY_PATTERN"},i=0;i<c.patterns.length;i++){var f=c.patterns[i];f.token==="optionalgraphpattern"?(f=this.build(f.value,b),j=f.kind==="FILTER"?{kind:"LEFT_JOIN",lvalue:j,rvalue:f.value,filter:f.filter}:{kind:"LEFT_JOIN",lvalue:j,rvalue:f,filter:!0}):(f=this.build(f,b),j=j.kind=="EMPTY_PATTERN"?f:
{kind:"JOIN",lvalue:j,rvalue:f})}if(d.length!=0)if(j.kind==="EMPTY_PATTERN")return{kind:"FILTER",filter:d,value:j};else if(j.kind==="LEFT_JOIN"&&j.filter===!0)return{kind:"FILTER",filter:d,value:j};else if(j.kind==="LEFT_JOIN")return{kind:"FILTER",filter:d,value:j};else if(j.kind==="JOIN")return{kind:"FILTER",filter:d,value:j};else if(j.kind==="UNION")return{kind:"FILTER",filter:d,value:j};else if(j.kind==="GRAPH")return{kind:"FILTER",filter:d,value:j};else if(j.kind==="BGP")return{kind:"FILTER",
filter:d,value:j};else throw Error("Unknow kind of algebra expression: "+j.kind);else return j};R.AbstractQueryTree.prototype.collectBasicTriples=function(c,b){b==null&&(b=[]);if(c.kind==="select")b=this.collectBasicTriples(c.pattern,b);else if(c.kind==="BGP")b=b.concat(c.value);else if(c.kind==="UNION")b=this.collectBasicTriples(c.value[0],b),b=this.collectBasicTriples(c.value[1],b);else if(c.kind==="GRAPH")b=this.collectBasicTriples(c.value,b);else if(c.kind==="LEFT_JOIN"||c.kind==="JOIN")b=this.collectBasicTriples(c.lvalue,
b),b=this.collectBasicTriples(c.rvalue,b);else if(c.kind==="FILTER")b=this.collectBasicTriples(c.value,b);else if(c.kind!=="EMPTY_PATTERN")throw"Unknown pattern: "+c.kind;return b};var la={};la.parser=function(){var c={parse:function(b,c){function j(a){var b=a.charCodeAt(0);if(b<=255)var a="x",c=2;else a="u",c=4;var a="\\"+a,f=b.toString(16).toUpperCase(),b=f;c-=f.length;for(f=0;f<c;f++)b="0"+b;return a+b}function i(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,
"\\n").replace(/[\x80-\uFFFF]/g,j)+'"'}function f(b){a<za||(a>za&&(za=a,ab=[]),ab.push(b))}function h(){var b="SPARQL@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=m();c===null&&(c=$a(),c=c!==null?c:null);z[b]={nextPos:a,result:c};return c}function m(){var b="Query@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=a,g=a,e=r();if(e!==null){var v=F();v===null&&(v=N(),v===null&&(v=R(),v===null&&(v=S(),v=v!==null?v:null)));v!==null?e=[e,v]:(e=null,a=g)}else e=null,a=g;g=e!==null?{token:"query",
kind:"query",prologue:e[0],units:[e[1]]}:null;g===null&&(g=null,a=d);(k=c)&&g===null&&f("[2] Query");z[b]={nextPos:a,result:g};return g}function r(){var b="Prologue@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=a,g=a,e=w(),e=e!==null?e:"";if(e!==null){for(var v=[],o=s();o!==null;)v.push(o),o=s();if(v!==null){for(var o=[],u=t();u!==null;)o.push(u),u=t();o!==null?e=[e,v,o]:(e=null,a=g)}else e=null,a=g}else e=null,a=g;g=e!==null?{token:"prologue",base:e[0],prefixes:e[2]}:null;g===null&&
(g=null,a=d);(k=c)&&g===null&&f("[3] Prologue");z[b]={nextPos:a,result:g};return g}function w(){var c="BaseDecl@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;for(var j=a,g=a,e=[],v=s();v!==null;)e.push(v),v=s();if(e!==null)if(b.substr(a,1)==="B"?(v="B",a+=1):(v=null,k&&f('"B"')),v===null&&(b.substr(a,1)==="b"?(v="b",a+=1):(v=null,k&&f('"b"')),v=v!==null?v:null),v!==null){if(b.substr(a,1)==="A"){var o="A";a+=1}else o=null,k&&f('"A"');o===null&&(b.substr(a,1)==="a"?(o="a",a+=1):(o=null,k&&f('"a"')),
o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="S"){var u="S";a+=1}else u=null,k&&f('"S"');u===null&&(b.substr(a,1)==="s"?(u="s",a+=1):(u=null,k&&f('"s"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="E"){var C="E";a+=1}else C=null,k&&f('"E"');C===null&&(b.substr(a,1)==="e"?(C="e",a+=1):(C=null,k&&f('"e"')),C=C!==null?C:null);if(C!==null){for(var i=[],q=s();q!==null;)i.push(q),q=s();i!==null?(q=ma(),q!==null?e=[e,v,o,u,C,i,q]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=
null,a=g}else e=null,a=g;else e=null,a=g;g=e!==null?function(a){base={token:"base"};base.value=a;return base}(e[6]):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[4] BaseDecl");z[c]={nextPos:a,result:g};return g}function t(){var c="PrefixDecl@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;for(var j=a,g=a,e=[],v=s();v!==null;)e.push(v),v=s();if(e!==null)if(b.substr(a,1)==="P"?(v="P",a+=1):(v=null,k&&f('"P"')),v===null&&(b.substr(a,1)==="p"?(v="p",a+=1):(v=null,k&&f('"p"')),v=v!==null?v:null),
v!==null){if(b.substr(a,1)==="R"){var o="R";a+=1}else o=null,k&&f('"R"');o===null&&(b.substr(a,1)==="r"?(o="r",a+=1):(o=null,k&&f('"r"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,k&&f('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,k&&f('"e"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="F"){var C="F";a+=1}else C=null,k&&f('"F"');C===null&&(b.substr(a,1)==="f"?(C="f",a+=1):(C=null,k&&f('"f"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,
1)==="I"){var i="I";a+=1}else i=null,k&&f('"I"');i===null&&(b.substr(a,1)==="i"?(i="i",a+=1):(i=null,k&&f('"i"')),i=i!==null?i:null);if(i!==null){if(b.substr(a,1)==="X"){var q="X";a+=1}else q=null,k&&f('"X"');q===null&&(b.substr(a,1)==="x"?(q="x",a+=1):(q=null,k&&f('"x"')),q=q!==null?q:null);if(q!==null){for(var h=[],I=s();I!==null;)h.push(I),I=s();if(h!==null)if(I=Ga(),I!==null){for(var H=[],n=s();n!==null;)H.push(n),n=s();H!==null?(n=ma(),n!==null?e=[e,v,o,u,C,i,q,h,I,H,n]:(e=null,a=g)):(e=null,
a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g;g=e!==null?function(a,b){prefix={token:"prefix"};prefix.prefix=a;prefix.local=b;return prefix}(e[8],e[10]):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[5] PrefixDecl");z[c]={nextPos:a,result:g};return g}function x(){var b="TURTLE@"+a,c=z[b];if(c)return a=c.nextPos,c.result;for(var c=a,f=[],g=y();g!==null;)f.push(g),g=y();f=f!==null?f:null;f===null&&
(f=null,a=c);z[b]={nextPos:a,result:f};return f}function y(){var c="statement@"+a,d=z[c];if(d)return a=d.nextPos,d.result;for(var j=d=a,g=[],e=s();e!==null;)g.push(e),e=s();if(g!==null)if(e=B(),e!==null){for(var v=[],o=s();o!==null;)v.push(o),o=s();if(v!==null)if(b.substr(a,1)==="."?(o=".",a+=1):(o=null,k&&f('"."')),o!==null){for(var u=[],C=s();C!==null;)u.push(C),C=s();u!==null?g=[g,e,v,o,u]:(g=null,a=j)}else g=null,a=j;else g=null,a=j}else g=null,a=j;else g=null,a=j;j=g!==null?g[1]:null;j===null&&
(j=null,a=d);if(j!==null)d=j;else{j=d=a;g=[];for(e=s();e!==null;)g.push(e),e=s();if(g!==null)if(e=na(),e!==null){v=[];for(o=s();o!==null;)v.push(o),o=s();v!==null?g=[g,e,v]:(g=null,a=j)}else g=null,a=j;else g=null,a=j;j=g!==null?g[1]:null;j===null&&(j=null,a=d);if(j!==null)d=j;else{d=s();if(d!==null)for(j=[];d!==null;)j.push(d),d=s();else j=null;d=j!==null?j:null}}z[c]={nextPos:a,result:d};return d}function B(){var b="directive@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=E();c===null&&(c=D(),c=
c!==null?c:null);z[b]={nextPos:a,result:c};return c}function D(){var c="base@"+a,d=z[c];if(d)return a=d.nextPos,d.result;for(var j=d=a,g=[],e=s();e!==null;)g.push(e),e=s();if(g!==null)if(b.substr(a,5)==="@base"?(e="@base",a+=5):(e=null,k&&f('"@base"')),e!==null){var v=s();if(v!==null)for(var o=[];v!==null;)o.push(v),v=s();else o=null;o!==null?(v=ma(),v!==null?g=[g,e,o,v]:(g=null,a=j)):(g=null,a=j)}else g=null,a=j;else g=null,a=j;j=g!==null?function(a){base={token:"base"};base.value=a;return base}(g[3]):
null;j===null&&(j=null,a=d);z[c]={nextPos:a,result:j};return j}function E(){var c="prefixID@"+a,d=z[c];if(d)return a=d.nextPos,d.result;for(var j=d=a,g=[],e=s();e!==null;)g.push(e),e=s();if(g!==null)if(b.substr(a,7)==="@prefix"?(e="@prefix",a+=7):(e=null,k&&f('"@prefix"')),e!==null){var v=s();if(v!==null)for(var o=[];v!==null;)o.push(v),v=s();else o=null;if(o!==null)if(v=bb(),v=v!==null?v:"",v!==null){if(b.substr(a,1)===":"){var u=":";a+=1}else u=null,k&&f('":"');if(u!==null){for(var C=[],i=s();i!==
null;)C.push(i),i=s();C!==null?(i=ma(),i!==null?g=[g,e,o,v,u,C,i]:(g=null,a=j)):(g=null,a=j)}else g=null,a=j}else g=null,a=j;else g=null,a=j}else g=null,a=j;else g=null,a=j;j=g!==null?function(a,b){prefix={token:"prefix"};prefix.prefix=a;prefix.local=b;return prefix}(g[3],g[6]):null;j===null&&(j=null,a=d);z[c]={nextPos:a,result:j};return j}function F(){var b="SelectQuery@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=a,g=a,e=K();if(e!==null){for(var v=[],o=s();o!==null;)v.push(o),o=s();
if(v!==null){for(var o=[],u=aa();u!==null;)o.push(u),u=aa();if(o!==null){for(var u=[],j=s();j!==null;)u.push(j),j=s();if(u!==null)if(j=U(),j!==null){for(var i=[],q=s();q!==null;)i.push(q),q=s();if(i!==null)if(q=W(),q!==null){for(var h=[],I=s();I!==null;)h.push(I),I=s();h!==null?(I=ya(),I!==null?e=[e,v,o,u,j,i,q,h,I]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?function(a,b,c,e){for(var f={named:[],
"default":[]},g=0;g<b.length;g++){var k=b[g];k.kind==="default"?f["default"].push(k.graph):f.named.push(k.graph)}f.named.length===0&&f["default"].length===0&&f["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"select",token:"executableunit"};b.dataset=f;b.projection=a.vars;b.modifier=a.modifier;b.pattern=c;if(e!=null&&e.limit!=null)b.limit=e.limit;if(e!=null&&e.offset!=null)b.offset=e.offset;if(e!=null&&e.order!=null&&
e.order!="")b.order=e.order;if(e!=null&&e.group!=null)b.group=e.group;return b}(e[0],e[2],e[4],e[6]):null;g===null&&(g=null,a=d);(k=c)&&g===null&&f("[6] SelectQuery");z[b]={nextPos:a,result:g};return g}function J(){var b="SubSelect@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=a,g=K();if(g!==null){var e=U();if(e!==null){var v=W();v!==null?g=[g,e,v]:(g=null,a=d)}else g=null,a=d}else g=null,a=d;(k=c)&&g===null&&f("[7] SubSelect");z[b]={nextPos:a,result:g};return g}function K(){var c="SelectClause@"+
a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;for(var j=a,g=a,e=[],v=s();v!==null;)e.push(v),v=s();if(e!==null)if(b.substr(a,1)==="S"?(v="S",a+=1):(v=null,k&&f('"S"')),v===null&&(b.substr(a,1)==="s"?(v="s",a+=1):(v=null,k&&f('"s"')),v=v!==null?v:null),v!==null){if(b.substr(a,1)==="E"){var o="E";a+=1}else o=null,k&&f('"E"');o===null&&(b.substr(a,1)==="e"?(o="e",a+=1):(o=null,k&&f('"e"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="L"){var u="L";a+=1}else u=null,k&&f('"L"');u===null&&(b.substr(a,
1)==="l"?(u="l",a+=1):(u=null,k&&f('"l"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="E"){var C="E";a+=1}else C=null,k&&f('"E"');C===null&&(b.substr(a,1)==="e"?(C="e",a+=1):(C=null,k&&f('"e"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="C"){var i="C";a+=1}else i=null,k&&f('"C"');i===null&&(b.substr(a,1)==="c"?(i="c",a+=1):(i=null,k&&f('"c"')),i=i!==null?i:null);if(i!==null){if(b.substr(a,1)==="T"){var q="T";a+=1}else q=null,k&&f('"T"');q===null&&(b.substr(a,1)==="t"?(q="t",a+=1):
(q=null,k&&f('"t"')),q=q!==null?q:null);if(q!==null){for(var h=[],I=s();I!==null;)h.push(I),I=s();if(h!==null){I=a;if(b.substr(a,1)==="D"){var H="D";a+=1}else H=null,k&&f('"D"');H===null&&(b.substr(a,1)==="d"?(H="d",a+=1):(H=null,k&&f('"d"')),H=H!==null?H:null);if(H!==null){if(b.substr(a,1)==="I"){var n="I";a+=1}else n=null,k&&f('"I"');n===null&&(b.substr(a,1)==="i"?(n="i",a+=1):(n=null,k&&f('"i"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="S"){var m="S";a+=1}else m=null,k&&f('"S"');m===
null&&(b.substr(a,1)==="s"?(m="s",a+=1):(m=null,k&&f('"s"')),m=m!==null?m:null);if(m!==null){if(b.substr(a,1)==="T"){var A="T";a+=1}else A=null,k&&f('"T"');A===null&&(b.substr(a,1)==="t"?(A="t",a+=1):(A=null,k&&f('"t"')),A=A!==null?A:null);if(A!==null){if(b.substr(a,1)==="I"){var r="I";a+=1}else r=null,k&&f('"I"');r===null&&(b.substr(a,1)==="i"?(r="i",a+=1):(r=null,k&&f('"i"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="N"){var t="N";a+=1}else t=null,k&&f('"N"');t===null&&(b.substr(a,1)===
"n"?(t="n",a+=1):(t=null,k&&f('"n"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="C"){var w="C";a+=1}else w=null,k&&f('"C"');w===null&&(b.substr(a,1)==="c"?(w="c",a+=1):(w=null,k&&f('"c"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="T"){var x="T";a+=1}else x=null,k&&f('"T"');x===null&&(b.substr(a,1)==="t"?(x="t",a+=1):(x=null,k&&f('"t"')),x=x!==null?x:null);x!==null?H=[H,n,m,A,r,t,w,x]:(H=null,a=I)}else H=null,a=I}else H=null,a=I}else H=null,a=I}else H=null,a=I}else H=null,a=I}else H=
null,a=I}else H=null,a=I;H!==null?I=H:(I=a,b.substr(a,1)==="R"?(H="R",a+=1):(H=null,k&&f('"R"')),H===null&&(b.substr(a,1)==="r"?(H="r",a+=1):(H=null,k&&f('"r"')),H=H!==null?H:null),H!==null?(b.substr(a,1)==="E"?(n="E",a+=1):(n=null,k&&f('"E"')),n===null&&(b.substr(a,1)==="e"?(n="e",a+=1):(n=null,k&&f('"e"')),n=n!==null?n:null),n!==null?(b.substr(a,1)==="D"?(m="D",a+=1):(m=null,k&&f('"D"')),m===null&&(b.substr(a,1)==="d"?(m="d",a+=1):(m=null,k&&f('"d"')),m=m!==null?m:null),m!==null?(b.substr(a,1)===
"U"?(A="U",a+=1):(A=null,k&&f('"U"')),A===null&&(b.substr(a,1)==="u"?(A="u",a+=1):(A=null,k&&f('"u"')),A=A!==null?A:null),A!==null?(b.substr(a,1)==="C"?(r="C",a+=1):(r=null,k&&f('"C"')),r===null&&(b.substr(a,1)==="c"?(r="c",a+=1):(r=null,k&&f('"c"')),r=r!==null?r:null),r!==null?(b.substr(a,1)==="E"?(t="E",a+=1):(t=null,k&&f('"E"')),t===null&&(b.substr(a,1)==="e"?(t="e",a+=1):(t=null,k&&f('"e"')),t=t!==null?t:null),t!==null?(b.substr(a,1)==="D"?(w="D",a+=1):(w=null,k&&f('"D"')),w===null&&(b.substr(a,
1)==="d"?(w="d",a+=1):(w=null,k&&f('"d"')),w=w!==null?w:null),w!==null?H=[H,n,m,A,r,t,w]:(H=null,a=I)):(H=null,a=I)):(H=null,a=I)):(H=null,a=I)):(H=null,a=I)):(H=null,a=I)):(H=null,a=I),I=H!==null?H:null);I=I!==null?I:"";if(I!==null){H=[];for(n=s();n!==null;)H.push(n),n=s();if(H!==null){m=a;A=[];for(r=s();r!==null;)A.push(r),r=s();if(A!==null)if(r=P(),r!==null){t=[];for(w=s();w!==null;)t.push(w),w=s();t!==null?A=[A,r,t]:(A=null,a=m)}else A=null,a=m;else A=null,a=m;if(A!==null)m=A;else{m=a;A=[];for(r=
s();r!==null;)A.push(r),r=s();if(A!==null)if(b.substr(a,1)==="("?(r="(",a+=1):(r=null,k&&f('"("')),r!==null){t=[];for(w=s();w!==null;)t.push(w),w=s();if(t!==null)if(w=L(),w!==null){for(var x=[],y=s();y!==null;)x.push(y),y=s();if(x!==null)if(b.substr(a,1)==="A"?(y="A",a+=1):(y=null,k&&f('"A"')),y===null&&(b.substr(a,1)==="a"?(y="a",a+=1):(y=null,k&&f('"a"')),y=y!==null?y:null),y!==null){if(b.substr(a,1)==="S"){var B="S";a+=1}else B=null,k&&f('"S"');B===null&&(b.substr(a,1)==="s"?(B="s",a+=1):(B=null,
k&&f('"s"')),B=B!==null?B:null);if(B!==null){for(var G=[],D=s();D!==null;)G.push(D),D=s();if(G!==null)if(D=P(),D!==null){for(var E=[],F=s();F!==null;)E.push(F),F=s();if(E!==null)if(b.substr(a,1)===")"?(F=")",a+=1):(F=null,k&&f('")"')),F!==null){for(var M=[],J=s();J!==null;)M.push(J),J=s();M!==null?A=[A,r,t,w,x,y,B,G,D,E,F,M]:(A=null,a=m)}else A=null,a=m;else A=null,a=m}else A=null,a=m;else A=null,a=m}else A=null,a=m}else A=null,a=m;else A=null,a=m}else A=null,a=m;else A=null,a=m}else A=null,a=m;else A=
null,a=m;m=A!==null?A:null}if(m!==null)for(n=[];m!==null;){n.push(m);m=a;A=[];for(r=s();r!==null;)A.push(r),r=s();if(A!==null)if(r=P(),r!==null){t=[];for(w=s();w!==null;)t.push(w),w=s();t!==null?A=[A,r,t]:(A=null,a=m)}else A=null,a=m;else A=null,a=m;if(A!==null)m=A;else{m=a;A=[];for(r=s();r!==null;)A.push(r),r=s();if(A!==null)if(b.substr(a,1)==="("?(r="(",a+=1):(r=null,k&&f('"("')),r!==null){t=[];for(w=s();w!==null;)t.push(w),w=s();if(t!==null)if(w=L(),w!==null){x=[];for(y=s();y!==null;)x.push(y),
y=s();if(x!==null)if(b.substr(a,1)==="A"?(y="A",a+=1):(y=null,k&&f('"A"')),y===null&&(b.substr(a,1)==="a"?(y="a",a+=1):(y=null,k&&f('"a"')),y=y!==null?y:null),y!==null)if(b.substr(a,1)==="S"?(B="S",a+=1):(B=null,k&&f('"S"')),B===null&&(b.substr(a,1)==="s"?(B="s",a+=1):(B=null,k&&f('"s"')),B=B!==null?B:null),B!==null){G=[];for(D=s();D!==null;)G.push(D),D=s();if(G!==null)if(D=P(),D!==null){E=[];for(F=s();F!==null;)E.push(F),F=s();if(E!==null)if(b.substr(a,1)===")"?(F=")",a+=1):(F=null,k&&f('")"')),
F!==null){M=[];for(J=s();J!==null;)M.push(J),J=s();M!==null?A=[A,r,t,w,x,y,B,G,D,E,F,M]:(A=null,a=m)}else A=null,a=m;else A=null,a=m}else A=null,a=m;else A=null,a=m}else A=null,a=m;else A=null,a=m;else A=null,a=m}else A=null,a=m;else A=null,a=m}else A=null,a=m;else A=null,a=m;m=A!==null?A:null}}else n=null;if(n===null){n=a;m=[];for(A=s();A!==null;)m.push(A),A=s();if(m!==null)if(b.substr(a,1)==="*"?(A="*",a+=1):(A=null,k&&f('"*"')),A!==null){r=[];for(t=s();t!==null;)r.push(t),t=s();r!==null?m=[m,A,
r]:(m=null,a=n)}else m=null,a=n;else m=null,a=n;n=m!==null?m:null}n!==null?e=[e,v,o,u,C,i,q,h,I,H,n]:(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g;g=e!==null?function(a,b){var c=[];if(b.length===3&&b[1]==="*")return{vars:[{token:"variable",kind:"*"}],modifier:Db(a)};for(var e=0;e<b.length;e++){var f=b[e];f.length===3?c.push({token:"variable",kind:"var",value:f[1]}):c.push({token:"variable",
kind:"aliased",expression:f[3],alias:f[8]})}return{vars:c,modifier:Db(a)}}(e[8],e[10]):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[8] SelectClause");z[c]={nextPos:a,result:g};return g}function N(){var c="ConstructQuery@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;for(var j=a,g=a,e=[],v=s();v!==null;)e.push(v),v=s();if(e!==null)if(b.substr(a,1)==="C"?(v="C",a+=1):(v=null,k&&f('"C"')),v===null&&(b.substr(a,1)==="c"?(v="c",a+=1):(v=null,k&&f('"c"')),v=v!==null?v:null),v!==null){if(b.substr(a,
1)==="O"){var o="O";a+=1}else o=null,k&&f('"O"');o===null&&(b.substr(a,1)==="o"?(o="o",a+=1):(o=null,k&&f('"o"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="N"){var u="N";a+=1}else u=null,k&&f('"N"');u===null&&(b.substr(a,1)==="n"?(u="n",a+=1):(u=null,k&&f('"n"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="S"){var C="S";a+=1}else C=null,k&&f('"S"');C===null&&(b.substr(a,1)==="s"?(C="s",a+=1):(C=null,k&&f('"s"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="T"){var i="T";a+=
1}else i=null,k&&f('"T"');i===null&&(b.substr(a,1)==="t"?(i="t",a+=1):(i=null,k&&f('"t"')),i=i!==null?i:null);if(i!==null){if(b.substr(a,1)==="R"){var q="R";a+=1}else q=null,k&&f('"R"');q===null&&(b.substr(a,1)==="r"?(q="r",a+=1):(q=null,k&&f('"r"')),q=q!==null?q:null);if(q!==null){if(b.substr(a,1)==="U"){var h="U";a+=1}else h=null,k&&f('"U"');h===null&&(b.substr(a,1)==="u"?(h="u",a+=1):(h=null,k&&f('"u"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="C"){var I="C";a+=1}else I=null,k&&f('"C"');
I===null&&(b.substr(a,1)==="c"?(I="c",a+=1):(I=null,k&&f('"c"')),I=I!==null?I:null);if(I!==null){if(b.substr(a,1)==="T"){var m="T";a+=1}else m=null,k&&f('"T"');m===null&&(b.substr(a,1)==="t"?(m="t",a+=1):(m=null,k&&f('"t"')),m=m!==null?m:null);if(m!==null){for(var n=[],r=s();r!==null;)n.push(r),r=s();if(n!==null)if(r=Eb(),r!==null){for(var t=[],w=s();w!==null;)t.push(w),w=s();if(t!==null){for(var w=[],x=aa();x!==null;)w.push(x),x=aa();if(w!==null){for(var x=[],y=s();y!==null;)x.push(y),y=s();if(x!==
null)if(y=U(),y!==null){for(var B=[],D=s();D!==null;)B.push(D),D=s();B!==null?(D=W(),D!==null?e=[e,v,o,u,C,i,q,h,I,m,n,r,t,w,x,y,B,D]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g;g=e!==null?function(a,b,c,e){for(var f={named:[],"default":[]},g=0;g<b.length;g++){var k=
b[g];k.kind==="default"?f["default"].push(k.graph):f.named.push(k.graph)}f.named.length===0&&f["default"].length===0&&f["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"construct",token:"executableunit"};b.dataset=f;b.template=a;b.pattern=c;if(e!=null&&e.limit!=null)b.limit=e.limit;if(e!=null&&e.offset!=null)b.offset=e.offset;if(e!=null&&e.order!=null&&e.order!="")b.order=e.order;return b}(e[11],e[13],e[15],e[17]):
null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[9] ConstructQuery");z[c]={nextPos:a,result:g};return g}function R(){var c="DescribeQuery@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a;if(b.substr(a,8)==="DESCRIBE"){var g="DESCRIBE";a+=8}else g=null,k&&f('"DESCRIBE"');if(g!==null){var e=ha();if(e!==null)for(var v=[];e!==null;)v.push(e),e=ha();else v=null;v!==null?e=v:(b.substr(a,1)==="*"?(e="*",a+=1):(e=null,k&&f('"*"')),e=e!==null?e:null);if(e!==null){for(var v=[],o=aa();o!==null;)v.push(o),
o=aa();if(v!==null)if(o=U(),o=o!==null?o:"",o!==null){var u=W();u!==null?g=[g,e,v,o,u]:(g=null,a=j)}else g=null,a=j;else g=null,a=j}else g=null,a=j}else g=null,a=j;(k=d)&&g===null&&f("[10] DescribeQuery");z[c]={nextPos:a,result:g};return g}function S(){var c="AskQuery@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;for(var j=a,g=a,e=[],v=s();v!==null;)e.push(v),v=s();if(e!==null)if(b.substr(a,1)==="A"?(v="A",a+=1):(v=null,k&&f('"A"')),v===null&&(b.substr(a,1)==="a"?(v="a",a+=1):(v=null,k&&f('"a"')),
v=v!==null?v:null),v!==null){if(b.substr(a,1)==="S"){var o="S";a+=1}else o=null,k&&f('"S"');o===null&&(b.substr(a,1)==="s"?(o="s",a+=1):(o=null,k&&f('"s"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="K"){var u="K";a+=1}else u=null,k&&f('"K"');u===null&&(b.substr(a,1)==="k"?(u="k",a+=1):(u=null,k&&f('"k"')),u=u!==null?u:null);if(u!==null){for(var C=[],i=s();i!==null;)C.push(i),i=s();if(C!==null){for(var i=[],q=aa();q!==null;)i.push(q),q=aa();if(i!==null){for(var q=[],h=s();h!==null;)q.push(h),
h=s();q!==null?(h=U(),h!==null?e=[e,v,o,u,C,i,q,h]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g;g=e!==null?function(a,b){for(var c={named:[],"default":[]},e=0;e<a.length;e++){var f=a[e];f.kind==="default"?c["default"].push(f.graph):c.named.push(f.graph)}c.named.length===0&&c["default"].length===0&&c["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});
e={kind:"ask",token:"executableunit"};e.dataset=c;e.pattern=b;return e}(e[5],e[7]):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[11] AskQuery");z[c]={nextPos:a,result:g};return g}function aa(){var c="DatasetClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="F"){var e="F";a+=1}else e=null,k&&f('"F"');e===null&&(b.substr(a,1)==="f"?(e="f",a+=1):(e=null,k&&f('"f"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="R"){var v="R";a+=1}else v=null,k&&f('"R"');
v===null&&(b.substr(a,1)==="r"?(v="r",a+=1):(v=null,k&&f('"r"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="O"){var o="O";a+=1}else o=null,k&&f('"O"');o===null&&(b.substr(a,1)==="o"?(o="o",a+=1):(o=null,k&&f('"o"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="M"){var u="M";a+=1}else u=null,k&&f('"M"');u===null&&(b.substr(a,1)==="m"?(u="m",a+=1):(u=null,k&&f('"m"')),u=u!==null?u:null);if(u!==null){for(var C=[],i=s();i!==null;)C.push(i),i=s();if(C!==null)if(i=Y(),i===null&&(i=Z(),i=
i!==null?i:null),i!==null){for(var q=[],h=s();h!==null;)q.push(h),h=s();q!==null?e=[e,v,o,u,C,i,q]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?e[5]:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[12] DatasetClause");z[c]={nextPos:a,result:g};return g}function Y(){var b="DefaultGraphClause@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;for(var d=a,g=a,e=[],v=s();v!==null;)e.push(v),v=s();e!==null?(v=Q(),v!==null?e=[e,
v]:(e=null,a=g)):(e=null,a=g);g=e!==null?{graph:e[1],kind:"default",token:"graphClause"}:null;g===null&&(g=null,a=d);(k=c)&&g===null&&f("[13] DefaultGraphClause");z[b]={nextPos:a,result:g};return g}function Z(){var c="NamedGraphClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="N"){var e="N";a+=1}else e=null,k&&f('"N"');e===null&&(b.substr(a,1)==="n"?(e="n",a+=1):(e=null,k&&f('"n"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="A"){var v="A";a+=1}else v=
null,k&&f('"A"');v===null&&(b.substr(a,1)==="a"?(v="a",a+=1):(v=null,k&&f('"a"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="M"){var o="M";a+=1}else o=null,k&&f('"M"');o===null&&(b.substr(a,1)==="m"?(o="m",a+=1):(o=null,k&&f('"m"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,k&&f('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,k&&f('"e"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="D"){var C="D";a+=1}else C=null,k&&f('"D"');C===
null&&(b.substr(a,1)==="d"?(C="d",a+=1):(C=null,k&&f('"d"')),C=C!==null?C:null);if(C!==null){for(var i=[],q=s();q!==null;)i.push(q),q=s();i!==null?(q=Q(),q!==null?e=[e,v,o,u,C,i,q]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?{graph:e[6],kind:"named",token:"graphCluase"}:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[14] NamedGraphClause");z[c]={nextPos:a,result:g};return g}function U(){var c="WhereClause@"+a,d=z[c];if(d)return a=
d.nextPos,d.result;d=k;k=!1;var j=a,g=a,e=a;if(b.substr(a,1)==="W"){var v="W";a+=1}else v=null,k&&f('"W"');v===null&&(b.substr(a,1)==="w"?(v="w",a+=1):(v=null,k&&f('"w"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="H"){var o="H";a+=1}else o=null,k&&f('"H"');o===null&&(b.substr(a,1)==="h"?(o="h",a+=1):(o=null,k&&f('"h"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,k&&f('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,k&&f('"e"')),u=u!==null?
u:null);if(u!==null){if(b.substr(a,1)==="R"){var C="R";a+=1}else C=null,k&&f('"R"');C===null&&(b.substr(a,1)==="r"?(C="r",a+=1):(C=null,k&&f('"r"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="E"){var i="E";a+=1}else i=null,k&&f('"E"');i===null&&(b.substr(a,1)==="e"?(i="e",a+=1):(i=null,k&&f('"e"')),i=i!==null?i:null);i!==null?v=[v,o,u,C,i]:(v=null,a=e)}else v=null,a=e}else v=null,a=e}else v=null,a=e}else v=null,a=e;e=v!==null?v:"";if(e!==null){v=[];for(o=s();o!==null;)v.push(o),o=s();if(v!==
null)if(o=V(),o!==null){u=[];for(C=s();C!==null;)u.push(C),C=s();u!==null?e=[e,v,o,u]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;g=e!==null?e[2]:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[16] WhereClause");z[c]={nextPos:a,result:g};return g}function W(){var b="SolutionModifier@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=a,g=a,e=fa(),e=e!==null?e:"";if(e!==null){var v=la(),v=v!==null?v:"";if(v!==null){var o=ua(),o=o!==null?o:"";if(o!==null){var u=va(),u=u!==null?
u:"";u!==null?e=[e,v,o,u]:(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?function(a,b,c){var e={};if(c!=null){if(c.limit!=null)e.limit=c.limit;if(c.offset!=null)e.offset=c.offset}if(a!=null)e.group=a;e.order=b;return e}(e[0],e[2],e[3]):null;g===null&&(g=null,a=d);(k=c)&&g===null&&f("[17] SolutionModifier");z[b]={nextPos:a,result:g};return g}function fa(){var c="GroupClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="G"){var e="G";a+=
1}else e=null,k&&f('"G"');e===null&&(b.substr(a,1)==="g"?(e="g",a+=1):(e=null,k&&f('"g"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="R"){var v="R";a+=1}else v=null,k&&f('"R"');v===null&&(b.substr(a,1)==="r"?(v="r",a+=1):(v=null,k&&f('"r"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="O"){var o="O";a+=1}else o=null,k&&f('"O"');o===null&&(b.substr(a,1)==="o"?(o="o",a+=1):(o=null,k&&f('"o"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="U"){var u="U";a+=1}else u=null,k&&f('"U"');
u===null&&(b.substr(a,1)==="u"?(u="u",a+=1):(u=null,k&&f('"u"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="P"){var C="P";a+=1}else C=null,k&&f('"P"');C===null&&(b.substr(a,1)==="p"?(C="p",a+=1):(C=null,k&&f('"p"')),C=C!==null?C:null);if(C!==null){for(var i=[],q=s();q!==null;)i.push(q),q=s();if(i!==null)if(b.substr(a,1)==="B"?(q="B",a+=1):(q=null,k&&f('"B"')),q===null&&(b.substr(a,1)==="b"?(q="b",a+=1):(q=null,k&&f('"b"')),q=q!==null?q:null),q!==null){if(b.substr(a,1)==="Y"){var h="Y";a+=
1}else h=null,k&&f('"Y"');h===null&&(b.substr(a,1)==="y"?(h="y",a+=1):(h=null,k&&f('"y"')),h=h!==null?h:null);if(h!==null){for(var I=[],m=s();m!==null;)I.push(m),m=s();if(I!==null){m=O();if(m!==null)for(var n=[];m!==null;)n.push(m),m=O();else n=null;n!==null?e=[e,v,o,u,C,i,q,h,I,n]:(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?e[9]:null;g===null&&(g=null,a=j);(k=d)&&g===null&&
f("[18] GroupClause");z[c]={nextPos:a,result:g};return g}function O(){var c="GroupCondition@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;for(var j=a,g=a,e=[],v=s();v!==null;)e.push(v),v=s();if(e!==null)if(v=Ha(),v!==null){for(var o=[],u=s();u!==null;)o.push(u),u=s();o!==null?e=[e,v,o]:(e=null,a=g)}else e=null,a=g;else e=null,a=g;g=e!==null?e[1]:null;g===null&&(g=null,a=j);if(g!==null)j=g;else{g=j=a;e=[];for(v=s();v!==null;)e.push(v),v=s();if(e!==null)if(v=cb(),v!==null){o=[];for(u=s();u!==
null;)o.push(u),u=s();o!==null?e=[e,v,o]:(e=null,a=g)}else e=null,a=g;else e=null,a=g;g=e!==null?e[1]:null;g===null&&(g=null,a=j);if(g!==null)j=g;else{g=j=a;e=[];for(v=s();v!==null;)e.push(v),v=s();if(e!==null)if(b.substr(a,1)==="("?(v="(",a+=1):(v=null,k&&f('"("')),v!==null){o=[];for(u=s();u!==null;)o.push(u),u=s();if(o!==null)if(u=L(),u!==null){for(var C=[],i=s();i!==null;)C.push(i),i=s();if(C!==null){i=a;if(b.substr(a,1)==="A"){var q="A";a+=1}else q=null,k&&f('"A"');q===null&&(b.substr(a,1)===
"a"?(q="a",a+=1):(q=null,k&&f('"a"')),q=q!==null?q:null);if(q!==null){if(b.substr(a,1)==="S"){var h="S";a+=1}else h=null,k&&f('"S"');h===null&&(b.substr(a,1)==="s"?(h="s",a+=1):(h=null,k&&f('"s"')),h=h!==null?h:null);if(h!==null){for(var I=[],m=s();m!==null;)I.push(m),m=s();I!==null?(m=P(),m!==null?q=[q,h,I,m]:(q=null,a=i)):(q=null,a=i)}else q=null,a=i}else q=null,a=i;i=q!==null?q:"";if(i!==null){q=[];for(h=s();h!==null;)q.push(h),h=s();if(q!==null)if(b.substr(a,1)===")"?(h=")",a+=1):(h=null,k&&f('")"')),
h!==null){I=[];for(m=s();m!==null;)I.push(m),m=s();I!==null?e=[e,v,o,u,C,i,q,h,I]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g;g=e!==null?e[5].length!=0?{token:"aliased_expression",expression:e[3],alias:e[5][3]}:e[3]:null;g===null&&(g=null,a=j);if(g!==null)j=g;else{g=j=a;e=[];for(v=s();v!==null;)e.push(v),v=s();if(e!==null)if(v=P(),v!==null){o=[];for(u=s();u!==null;)o.push(u),u=s();o!==null?e=[e,v,o]:(e=
null,a=g)}else e=null,a=g;else e=null,a=g;g=e!==null?e[1]:null;g===null&&(g=null,a=j);j=g!==null?g:null}}}(k=d)&&j===null&&f("[19] GroupCondition");z[c]={nextPos:a,result:j};return j}function la(){var c="HavingClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a;if(b.substr(a,6)==="HAVING"){var g="HAVING";a+=6}else g=null,k&&f('"HAVING"');if(g!==null){var e=Aa();if(e!==null)for(var v=[];e!==null;)v.push(e),e=Aa();else v=null;v!==null?g=[g,v]:(g=null,a=j)}else g=null,a=j;(k=d)&&g===
null&&f("[20] HavingClause");z[c]={nextPos:a,result:g};return g}function ua(){var c="OrderClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="O"){var e="O";a+=1}else e=null,k&&f('"O"');e===null&&(b.substr(a,1)==="o"?(e="o",a+=1):(e=null,k&&f('"o"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="R"){var v="R";a+=1}else v=null,k&&f('"R"');v===null&&(b.substr(a,1)==="r"?(v="r",a+=1):(v=null,k&&f('"r"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)===
"D"){var o="D";a+=1}else o=null,k&&f('"D"');o===null&&(b.substr(a,1)==="d"?(o="d",a+=1):(o=null,k&&f('"d"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,k&&f('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,k&&f('"e"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="R"){var C="R";a+=1}else C=null,k&&f('"R"');C===null&&(b.substr(a,1)==="r"?(C="r",a+=1):(C=null,k&&f('"r"')),C=C!==null?C:null);if(C!==null){for(var i=[],q=s();q!==null;)i.push(q),q=
s();if(i!==null)if(b.substr(a,1)==="B"?(q="B",a+=1):(q=null,k&&f('"B"')),q===null&&(b.substr(a,1)==="b"?(q="b",a+=1):(q=null,k&&f('"b"')),q=q!==null?q:null),q!==null){if(b.substr(a,1)==="Y"){var h="Y";a+=1}else h=null,k&&f('"Y"');h===null&&(b.substr(a,1)==="y"?(h="y",a+=1):(h=null,k&&f('"y"')),h=h!==null?h:null);if(h!==null){for(var I=[],m=s();m!==null;)I.push(m),m=s();if(I!==null){var n=Xa();if(n!==null)for(m=[];n!==null;)m.push(n),n=Xa();else m=null;if(m!==null){for(var n=[],r=s();r!==null;)n.push(r),
r=s();n!==null?e=[e,v,o,u,C,i,q,h,I,m,n]:(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?e[9]:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[22] OrderClause");z[c]={nextPos:a,result:g};return g}function Xa(){var c="OrderCondition@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,3)==="ASC"){var e="ASC";a+=3}else e=null,k&&f('"ASC"');
e===null&&(b.substr(a,4)==="DESC"?(e="DESC",a+=4):(e=null,k&&f('"DESC"')),e=e!==null?e:null);if(e!==null){for(var v=[],o=s();o!==null;)v.push(o),o=s();if(v!==null)if(o=Ia(),o!==null){for(var u=[],C=s();C!==null;)u.push(C),C=s();u!==null?e=[e,v,o,u]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;g=e!==null?{direction:e[0],expression:e[2]}:null;g===null&&(g=null,a=j);if(g!==null)j=g;else{g=j=a;e=Aa();e===null&&(e=P(),e=e!==null?e:null);if(e!==null){v=[];for(o=s();o!==null;)v.push(o),o=
s();v!==null?e=[e,v]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a){a.token==="var"&&(a={token:"expression",expressionType:"atomic",primaryexpression:"var",value:a});return{direction:"ASC",expression:a}}(e[0]):null;g===null&&(g=null,a=j);j=g!==null?g:null}(k=d)&&j===null&&f("[23] OrderCondition");z[c]={nextPos:a,result:j};return j}function va(){var b="LimitOffsetClauses@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=a,g=a,e=Ya();if(e!==null){var v=Za(),v=v!==null?v:"";v!==null?e=
[e,v]:(e=null,a=g)}else e=null,a=g;e!==null?g=e:(g=a,e=Za(),e!==null?(v=Ya(),v=v!==null?v:"",v!==null?e=[e,v]:(e=null,a=g)):(e=null,a=g),g=e!==null?e:null);g=g!==null?function(a){for(var b={},c=0;c<a.length;c++){var e=a[c];if(e.limit!=null)b.limit=e.limit;else if(e.offset!=null)b.offset=e.offset}return b}(g):null;g===null&&(g=null,a=d);(k=c)&&g===null&&f("[24] LimitOffsetClauses");z[b]={nextPos:a,result:g};return g}function Ya(){var c="LimitClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=
!1;var j=a,g=a;if(b.substr(a,1)==="L"){var e="L";a+=1}else e=null,k&&f('"L"');e===null&&(b.substr(a,1)==="l"?(e="l",a+=1):(e=null,k&&f('"l"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="I"){var v="I";a+=1}else v=null,k&&f('"I"');v===null&&(b.substr(a,1)==="i"?(v="i",a+=1):(v=null,k&&f('"i"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="M"){var o="M";a+=1}else o=null,k&&f('"M"');o===null&&(b.substr(a,1)==="m"?(o="m",a+=1):(o=null,k&&f('"m"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,
1)==="I"){var u="I";a+=1}else u=null,k&&f('"I"');u===null&&(b.substr(a,1)==="i"?(u="i",a+=1):(u=null,k&&f('"i"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="T"){var C="T";a+=1}else C=null,k&&f('"T"');C===null&&(b.substr(a,1)==="t"?(C="t",a+=1):(C=null,k&&f('"t"')),C=C!==null?C:null);if(C!==null){for(var i=[],q=s();q!==null;)i.push(q),q=s();if(i!==null)if(q=ba(),q!==null){for(var h=[],m=s();m!==null;)h.push(m),m=s();h!==null?e=[e,v,o,u,C,i,q,h]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=
null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?{limit:parseInt(e[6].value)}:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[25] LimitClause");z[c]={nextPos:a,result:g};return g}function Za(){var c="OffsetClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="O"){var e="O";a+=1}else e=null,k&&f('"O"');e===null&&(b.substr(a,1)==="o"?(e="o",a+=1):(e=null,k&&f('"o"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="F"){var v=
"F";a+=1}else v=null,k&&f('"F"');v===null&&(b.substr(a,1)==="f"?(v="f",a+=1):(v=null,k&&f('"f"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="F"){var o="F";a+=1}else o=null,k&&f('"F"');o===null&&(b.substr(a,1)==="f"?(o="f",a+=1):(o=null,k&&f('"f"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="S"){var u="S";a+=1}else u=null,k&&f('"S"');u===null&&(b.substr(a,1)==="s"?(u="s",a+=1):(u=null,k&&f('"s"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="E"){var C="E";a+=1}else C=null,
k&&f('"E"');C===null&&(b.substr(a,1)==="e"?(C="e",a+=1):(C=null,k&&f('"e"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="T"){var i="T";a+=1}else i=null,k&&f('"T"');i===null&&(b.substr(a,1)==="t"?(i="t",a+=1):(i=null,k&&f('"t"')),i=i!==null?i:null);if(i!==null){for(var q=[],h=s();h!==null;)q.push(h),h=s();if(q!==null)if(h=ba(),h!==null){for(var m=[],n=s();n!==null;)m.push(n),n=s();m!==null?e=[e,v,o,u,C,i,q,h,m]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=
null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?{offset:parseInt(e[7].value)}:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[26] OffsetClause");z[c]={nextPos:a,result:g};return g}function ya(){var c="BindingsClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a;if(b.substr(a,8)==="BINDINGS"){var g="BINDINGS";a+=8}else g=null,k&&f('"BINDINGS"');if(g!==null){for(var e=[],v=P();v!==null;)e.push(v),v=P();if(e!==null)if(b.substr(a,1)==="{"?(v="{",a+=1):(v=null,k&&f('"{"')),
v!==null){var o=[],u=a;if(b.substr(a,1)==="("){var C="(";a+=1}else C=null,k&&f('"("');if(C!==null){var i=wa();if(i!==null)for(var q=[];i!==null;)q.push(i),i=wa();else q=null;q!==null?(b.substr(a,1)===")"?(i=")",a+=1):(i=null,k&&f('")"')),i!==null?C=[C,q,i]:(C=null,a=u)):(C=null,a=u)}else C=null,a=u;C!==null?u=C:(u=ia(),u=u!==null?u:null);for(;u!==null;){o.push(u);u=a;b.substr(a,1)==="("?(C="(",a+=1):(C=null,k&&f('"("'));if(C!==null){i=wa();if(i!==null)for(q=[];i!==null;)q.push(i),i=wa();else q=null;
q!==null?(b.substr(a,1)===")"?(i=")",a+=1):(i=null,k&&f('")"')),i!==null?C=[C,q,i]:(C=null,a=u)):(C=null,a=u)}else C=null,a=u;C!==null?u=C:(u=ia(),u=u!==null?u:null)}o!==null?(b.substr(a,1)==="}"?(u="}",a+=1):(u=null,k&&f('"}"')),u!==null?g=[g,e,v,o,u]:(g=null,a=j)):(g=null,a=j)}else g=null,a=j;else g=null,a=j}else g=null,a=j;j=g!==null?g:"";(k=d)&&j===null&&f("[27] BindingsClause");z[c]={nextPos:a,result:j};return j}function wa(){var c="BindingValue@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=
k;k=!1;var j=Q();j===null&&(j=Ja(),j===null&&(j=Ka(),j===null&&(j=La(),j===null&&(b.substr(a,5)==="UNDEF"?(j="UNDEF",a+=5):(j=null,k&&f('"UNDEF"')),j=j!==null?j:null))));(k=d)&&j===null&&f("[28] BindingValue");z[c]={nextPos:a,result:j};return j}function $a(){var c="Update@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a,e=r();if(e!==null){for(var v=[],o=s();o!==null;)v.push(o),o=s();if(v!==null)if(o=xa(),o!==null){for(var u=a,C=[],i=s();i!==null;)C.push(i),i=s();if(C!==null)if(b.substr(a,
1)===";"?(i=";",a+=1):(i=null,k&&f('";"')),i!==null){for(var q=[],h=s();h!==null;)q.push(h),h=s();q!==null?(h=$a(),h=h!==null?h:"",h!==null?C=[C,i,q,h]:(C=null,a=u)):(C=null,a=u)}else C=null,a=u;else C=null,a=u;u=C!==null?C:"";u!==null?e=[e,v,o,u]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;g=e!==null?function(a,b,c){var e={token:"query",kind:"update"};e.prologue=a;a=[b];c.length!=null&&c[3]!=null&&c[3].units!=null&&(a=a.concat(c[3].units));e.units=a;return e}(e[0],e[2],e[3]):null;
g===null&&(g=null,a=j);(k=d)&&g===null&&f("[30] Update");z[c]={nextPos:a,result:g};return g}function xa(){var b="Update1@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=yb();d===null&&(d=wb(),d===null&&(d=xb(),d===null&&(d=zb(),d===null&&(d=Ab(),d===null&&(d=Bb(),d===null&&(d=Cb(),d===null&&(d=Fb(),d=d!==null?d:null)))))));(k=c)&&d===null&&f("[31] Update1");z[b]={nextPos:a,result:d};return d}function yb(){var c="Load@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,
1)==="L"){var e="L";a+=1}else e=null,k&&f('"L"');e===null&&(b.substr(a,1)==="l"?(e="l",a+=1):(e=null,k&&f('"l"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="O"){var v="O";a+=1}else v=null,k&&f('"O"');v===null&&(b.substr(a,1)==="o"?(v="o",a+=1):(v=null,k&&f('"o"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="A"){var o="A";a+=1}else o=null,k&&f('"A"');o===null&&(b.substr(a,1)==="a"?(o="a",a+=1):(o=null,k&&f('"a"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="D"){var u="D";a+=
1}else u=null,k&&f('"D"');u===null&&(b.substr(a,1)==="d"?(u="d",a+=1):(u=null,k&&f('"d"')),u=u!==null?u:null);if(u!==null){for(var C=[],i=s();i!==null;)C.push(i),i=s();if(C!==null)if(i=Q(),i!==null){for(var q=[],h=s();h!==null;)q.push(h),h=s();if(q!==null){h=a;if(b.substr(a,1)==="I"){var m="I";a+=1}else m=null,k&&f('"I"');m===null&&(b.substr(a,1)==="i"?(m="i",a+=1):(m=null,k&&f('"i"')),m=m!==null?m:null);if(m!==null){if(b.substr(a,1)==="N"){var n="N";a+=1}else n=null,k&&f('"N"');n===null&&(b.substr(a,
1)==="n"?(n="n",a+=1):(n=null,k&&f('"n"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="T"){var r="T";a+=1}else r=null,k&&f('"T"');r===null&&(b.substr(a,1)==="t"?(r="t",a+=1):(r=null,k&&f('"t"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="O"){var t="O";a+=1}else t=null,k&&f('"O"');t===null&&(b.substr(a,1)==="o"?(t="o",a+=1):(t=null,k&&f('"o"')),t=t!==null?t:null);if(t!==null){for(var A=[],w=s();w!==null;)A.push(w),w=s();A!==null?(w=Ma(),w!==null?m=[m,n,r,t,A,w]:(m=null,a=h)):(m=null,
a=h)}else m=null,a=h}else m=null,a=h}else m=null,a=h}else m=null,a=h;h=m!==null?m:"";h!==null?e=[e,v,o,u,C,i,q,h]:(e=null,a=g)}else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?function(a,b){var c={kind:"load",token:"executableunit"};c.sourceGraph=a;c.destinyGraph=b[5];return c}(e[5],e[7]):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[32] Load");z[c]={nextPos:a,result:g};return g}function wb(){var c="Clear@"+a,d=z[c];if(d)return a=
d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="C"){var e="C";a+=1}else e=null,k&&f('"C"');e===null&&(b.substr(a,1)==="c"?(e="c",a+=1):(e=null,k&&f('"c"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="L"){var v="L";a+=1}else v=null,k&&f('"L"');v===null&&(b.substr(a,1)==="l"?(v="l",a+=1):(v=null,k&&f('"l"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="E"){var o="E";a+=1}else o=null,k&&f('"E"');o===null&&(b.substr(a,1)==="e"?(o="e",a+=1):(o=null,k&&f('"e"')),o=o!==null?o:
null);if(o!==null){if(b.substr(a,1)==="A"){var u="A";a+=1}else u=null,k&&f('"A"');u===null&&(b.substr(a,1)==="a"?(u="a",a+=1):(u=null,k&&f('"a"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="R"){var C="R";a+=1}else C=null,k&&f('"R"');C===null&&(b.substr(a,1)==="r"?(C="r",a+=1):(C=null,k&&f('"r"')),C=C!==null?C:null);if(C!==null){for(var i=[],h=s();h!==null;)i.push(h),h=s();if(i!==null){h=a;if(b.substr(a,1)==="S"){var m="S";a+=1}else m=null,k&&f('"S"');m===null&&(b.substr(a,1)==="s"?(m="s",
a+=1):(m=null,k&&f('"s"')),m=m!==null?m:null);if(m!==null){if(b.substr(a,1)==="I"){var n="I";a+=1}else n=null,k&&f('"I"');n===null&&(b.substr(a,1)==="i"?(n="i",a+=1):(n=null,k&&f('"i"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="L"){var H="L";a+=1}else H=null,k&&f('"L"');H===null&&(b.substr(a,1)==="l"?(H="l",a+=1):(H=null,k&&f('"l"')),H=H!==null?H:null);if(H!==null){if(b.substr(a,1)==="E"){var r="E";a+=1}else r=null,k&&f('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,k&&f('"e"')),
r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="N"){var t="N";a+=1}else t=null,k&&f('"N"');t===null&&(b.substr(a,1)==="n"?(t="n",a+=1):(t=null,k&&f('"n"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="T"){var A="T";a+=1}else A=null,k&&f('"T"');A===null&&(b.substr(a,1)==="t"?(A="t",a+=1):(A=null,k&&f('"t"')),A=A!==null?A:null);A!==null?m=[m,n,H,r,t,A]:(m=null,a=h)}else m=null,a=h}else m=null,a=h}else m=null,a=h}else m=null,a=h}else m=null,a=h;h=m!==null?m:"";if(h!==null){m=[];for(n=s();n!==
null;)m.push(n),n=s();m!==null?(n=eb(),n!==null?e=[e,v,o,u,C,i,h,m,n]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?function(a){var b={kind:"clear",token:"executableunit"};b.destinyGraph=a;return b}(e[8]):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[33] Clear");z[c]={nextPos:a,result:g};return g}function xb(){var c="Drop@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,
1)==="D"){var e="D";a+=1}else e=null,k&&f('"D"');e===null&&(b.substr(a,1)==="d"?(e="d",a+=1):(e=null,k&&f('"d"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="R"){var v="R";a+=1}else v=null,k&&f('"R"');v===null&&(b.substr(a,1)==="r"?(v="r",a+=1):(v=null,k&&f('"r"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="O"){var o="O";a+=1}else o=null,k&&f('"O"');o===null&&(b.substr(a,1)==="o"?(o="o",a+=1):(o=null,k&&f('"o"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="P"){var u="P";a+=
1}else u=null,k&&f('"P"');u===null&&(b.substr(a,1)==="p"?(u="p",a+=1):(u=null,k&&f('"p"')),u=u!==null?u:null);if(u!==null){for(var C=[],i=s();i!==null;)C.push(i),i=s();if(C!==null){i=a;if(b.substr(a,1)==="S"){var h="S";a+=1}else h=null,k&&f('"S"');h===null&&(b.substr(a,1)==="s"?(h="s",a+=1):(h=null,k&&f('"s"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="I"){var m="I";a+=1}else m=null,k&&f('"I"');m===null&&(b.substr(a,1)==="i"?(m="i",a+=1):(m=null,k&&f('"i"')),m=m!==null?m:null);if(m!==null){if(b.substr(a,
1)==="L"){var n="L";a+=1}else n=null,k&&f('"L"');n===null&&(b.substr(a,1)==="l"?(n="l",a+=1):(n=null,k&&f('"l"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="E"){var H="E";a+=1}else H=null,k&&f('"E"');H===null&&(b.substr(a,1)==="e"?(H="e",a+=1):(H=null,k&&f('"e"')),H=H!==null?H:null);if(H!==null){if(b.substr(a,1)==="N"){var r="N";a+=1}else r=null,k&&f('"N"');r===null&&(b.substr(a,1)==="n"?(r="n",a+=1):(r=null,k&&f('"n"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="T"){var t="T";a+=
1}else t=null,k&&f('"T"');t===null&&(b.substr(a,1)==="t"?(t="t",a+=1):(t=null,k&&f('"t"')),t=t!==null?t:null);t!==null?h=[h,m,n,H,r,t]:(h=null,a=i)}else h=null,a=i}else h=null,a=i}else h=null,a=i}else h=null,a=i}else h=null,a=i;i=h!==null?h:"";if(i!==null){h=[];for(m=s();m!==null;)h.push(m),m=s();h!==null?(m=eb(),m!==null?e=[e,v,o,u,C,i,h,m]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?function(a){var b={kind:"drop",
token:"executableunit"};b.destinyGraph=a;return b}(e[7]):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[34] Drop");z[c]={nextPos:a,result:g};return g}function zb(){var c="Create@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="C"){var e="C";a+=1}else e=null,k&&f('"C"');e===null&&(b.substr(a,1)==="c"?(e="c",a+=1):(e=null,k&&f('"c"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="R"){var v="R";a+=1}else v=null,k&&f('"R"');v===null&&(b.substr(a,1)==="r"?(v=
"r",a+=1):(v=null,k&&f('"r"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="E"){var o="E";a+=1}else o=null,k&&f('"E"');o===null&&(b.substr(a,1)==="e"?(o="e",a+=1):(o=null,k&&f('"e"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="A"){var u="A";a+=1}else u=null,k&&f('"A"');u===null&&(b.substr(a,1)==="a"?(u="a",a+=1):(u=null,k&&f('"a"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="T"){var C="T";a+=1}else C=null,k&&f('"T"');C===null&&(b.substr(a,1)==="t"?(C="t",a+=1):(C=null,k&&
f('"t"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="E"){var i="E";a+=1}else i=null,k&&f('"E"');i===null&&(b.substr(a,1)==="e"?(i="e",a+=1):(i=null,k&&f('"e"')),i=i!==null?i:null);if(i!==null){for(var h=[],m=s();m!==null;)h.push(m),m=s();if(h!==null){m=a;if(b.substr(a,1)==="S"){var n="S";a+=1}else n=null,k&&f('"S"');n===null&&(b.substr(a,1)==="s"?(n="s",a+=1):(n=null,k&&f('"s"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="I"){var r="I";a+=1}else r=null,k&&f('"I"');r===null&&(b.substr(a,
1)==="i"?(r="i",a+=1):(r=null,k&&f('"i"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="L"){var t="L";a+=1}else t=null,k&&f('"L"');t===null&&(b.substr(a,1)==="l"?(t="l",a+=1):(t=null,k&&f('"l"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="E"){var w="E";a+=1}else w=null,k&&f('"E"');w===null&&(b.substr(a,1)==="e"?(w="e",a+=1):(w=null,k&&f('"e"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="N"){var A="N";a+=1}else A=null,k&&f('"N"');A===null&&(b.substr(a,1)==="n"?(A="n",a+=1):
(A=null,k&&f('"n"')),A=A!==null?A:null);if(A!==null){if(b.substr(a,1)==="T"){var x="T";a+=1}else x=null,k&&f('"T"');x===null&&(b.substr(a,1)==="t"?(x="t",a+=1):(x=null,k&&f('"t"')),x=x!==null?x:null);x!==null?n=[n,r,t,w,A,x]:(n=null,a=m)}else n=null,a=m}else n=null,a=m}else n=null,a=m}else n=null,a=m}else n=null,a=m;m=n!==null?n:"";if(m!==null){n=[];for(r=s();r!==null;)n.push(r),r=s();n!==null?(r=Ma(),r!==null?e=[e,v,o,u,C,i,h,m,n,r]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=
null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?function(a){var b={kind:"create",token:"executableunit"};b.destinyGraph=a;return b}(e[9]):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[35] Create");z[c]={nextPos:a,result:g};return g}function Ab(){var c="InsertData@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="I"){var e="I";a+=1}else e=null,k&&f('"I"');e===null&&(b.substr(a,1)==="i"?(e="i",a+=1):(e=null,k&&
f('"i"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="N"){var v="N";a+=1}else v=null,k&&f('"N"');v===null&&(b.substr(a,1)==="n"?(v="n",a+=1):(v=null,k&&f('"n"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="S"){var o="S";a+=1}else o=null,k&&f('"S"');o===null&&(b.substr(a,1)==="s"?(o="s",a+=1):(o=null,k&&f('"s"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,k&&f('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,k&&f('"e"')),u=u!==null?
u:null);if(u!==null){if(b.substr(a,1)==="R"){var C="R";a+=1}else C=null,k&&f('"R"');C===null&&(b.substr(a,1)==="r"?(C="r",a+=1):(C=null,k&&f('"r"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="T"){var i="T";a+=1}else i=null,k&&f('"T"');i===null&&(b.substr(a,1)==="t"?(i="t",a+=1):(i=null,k&&f('"t"')),i=i!==null?i:null);if(i!==null){for(var h=[],m=s();m!==null;)h.push(m),m=s();if(h!==null)if(b.substr(a,1)==="D"?(m="D",a+=1):(m=null,k&&f('"D"')),m===null&&(b.substr(a,1)==="d"?(m="d",a+=1):(m=
null,k&&f('"d"')),m=m!==null?m:null),m!==null){if(b.substr(a,1)==="A"){var n="A";a+=1}else n=null,k&&f('"A"');n===null&&(b.substr(a,1)==="a"?(n="a",a+=1):(n=null,k&&f('"a"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="T"){var r="T";a+=1}else r=null,k&&f('"T"');r===null&&(b.substr(a,1)==="t"?(r="t",a+=1):(r=null,k&&f('"t"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="A"){var t="A";a+=1}else t=null,k&&f('"A"');t===null&&(b.substr(a,1)==="a"?(t="a",a+=1):(t=null,k&&f('"a"')),t=t!==
null?t:null);if(t!==null){for(var w=[],A=s();A!==null;)w.push(A),A=s();w!==null?(A=fb(),A!==null?e=[e,v,o,u,C,i,h,m,n,r,t,w,A]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?function(a){var b={kind:"insertdata",token:"executableunit"};b.quads=a;return b}(e[12]):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[36] InsertData");z[c]={nextPos:a,
result:g};return g}function Bb(){var c="DeleteData@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="D"){var e="D";a+=1}else e=null,k&&f('"D"');e===null&&(b.substr(a,1)==="d"?(e="d",a+=1):(e=null,k&&f('"d"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="E"){var v="E";a+=1}else v=null,k&&f('"E"');v===null&&(b.substr(a,1)==="e"?(v="e",a+=1):(v=null,k&&f('"e"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="L"){var o="L";a+=1}else o=null,k&&f('"L"');o===
null&&(b.substr(a,1)==="l"?(o="l",a+=1):(o=null,k&&f('"l"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,k&&f('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,k&&f('"e"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="T"){var i="T";a+=1}else i=null,k&&f('"T"');i===null&&(b.substr(a,1)==="t"?(i="t",a+=1):(i=null,k&&f('"t"')),i=i!==null?i:null);if(i!==null){if(b.substr(a,1)==="E"){var h="E";a+=1}else h=null,k&&f('"E"');h===null&&(b.substr(a,1)===
"e"?(h="e",a+=1):(h=null,k&&f('"e"')),h=h!==null?h:null);if(h!==null){for(var q=[],m=s();m!==null;)q.push(m),m=s();if(q!==null)if(b.substr(a,1)==="D"?(m="D",a+=1):(m=null,k&&f('"D"')),m===null&&(b.substr(a,1)==="d"?(m="d",a+=1):(m=null,k&&f('"d"')),m=m!==null?m:null),m!==null){if(b.substr(a,1)==="A"){var n="A";a+=1}else n=null,k&&f('"A"');n===null&&(b.substr(a,1)==="a"?(n="a",a+=1):(n=null,k&&f('"a"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="T"){var r="T";a+=1}else r=null,k&&f('"T"');
r===null&&(b.substr(a,1)==="t"?(r="t",a+=1):(r=null,k&&f('"t"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="A"){var t="A";a+=1}else t=null,k&&f('"A"');t===null&&(b.substr(a,1)==="a"?(t="a",a+=1):(t=null,k&&f('"a"')),t=t!==null?t:null);if(t!==null){var w=fb();w!==null?e=[e,v,o,u,i,h,q,m,n,r,t,w]:(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?
function(a){var b={kind:"deletedata",token:"executableunit"};b.quads=a;return b}(e[11]):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[37] DeleteData");z[c]={nextPos:a,result:g};return g}function Cb(){var c="DeleteWhere@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="D"){var e="D";a+=1}else e=null,k&&f('"D"');e===null&&(b.substr(a,1)==="d"?(e="d",a+=1):(e=null,k&&f('"d"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="E"){var v="E";a+=1}else v=null,k&&
f('"E"');v===null&&(b.substr(a,1)==="e"?(v="e",a+=1):(v=null,k&&f('"e"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="L"){var o="L";a+=1}else o=null,k&&f('"L"');o===null&&(b.substr(a,1)==="l"?(o="l",a+=1):(o=null,k&&f('"l"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,k&&f('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,k&&f('"e"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="T"){var i="T";a+=1}else i=null,k&&f('"T"');i===null&&(b.substr(a,
1)==="t"?(i="t",a+=1):(i=null,k&&f('"t"')),i=i!==null?i:null);if(i!==null){if(b.substr(a,1)==="E"){var h="E";a+=1}else h=null,k&&f('"E"');h===null&&(b.substr(a,1)==="e"?(h="e",a+=1):(h=null,k&&f('"e"')),h=h!==null?h:null);if(h!==null){for(var q=[],m=s();m!==null;)q.push(m),m=s();if(q!==null)if(b.substr(a,1)==="W"?(m="W",a+=1):(m=null,k&&f('"W"')),m===null&&(b.substr(a,1)==="w"?(m="w",a+=1):(m=null,k&&f('"w"')),m=m!==null?m:null),m!==null){if(b.substr(a,1)==="H"){var n="H";a+=1}else n=null,k&&f('"H"');
n===null&&(b.substr(a,1)==="h"?(n="h",a+=1):(n=null,k&&f('"h"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="E"){var r="E";a+=1}else r=null,k&&f('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,k&&f('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="R"){var t="R";a+=1}else t=null,k&&f('"R"');t===null&&(b.substr(a,1)==="r"?(t="r",a+=1):(t=null,k&&f('"r"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="E"){var w="E";a+=1}else w=null,k&&f('"E"');w===null&&(b.substr(a,
1)==="e"?(w="e",a+=1):(w=null,k&&f('"e"')),w=w!==null?w:null);if(w!==null){for(var A=[],x=s();x!==null;)A.push(x),x=s();A!==null?(x=V(),x!==null?e=[e,v,o,u,i,h,q,m,n,r,t,w,A,x]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?function(a){var b={kind:"modify"};b.pattern=a;b["with"]=null;b.using=null;for(var c=[],a=a.patterns[0],
a=a.triplesContext==null&&a.patterns!=null?a.patterns[0].triplesContext:a.triplesContext,e=0;e<a.length;e++){var f={},g=a[e];f.subject=g.subject;f.predicate=g.predicate;f.object=g.object;f.graph=g.graph;c.push(f)}b["delete"]=c;return b}(e[13]):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[38] DeleteWhere");z[c]={nextPos:a,result:g};return g}function Fb(){var c="Modify@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a,e=a;if(b.substr(a,1)==="W"){var v="W";a+=1}else v=null,k&&f('"W"');
v===null&&(b.substr(a,1)==="w"?(v="w",a+=1):(v=null,k&&f('"w"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="I"){var o="I";a+=1}else o=null,k&&f('"I"');o===null&&(b.substr(a,1)==="i"?(o="i",a+=1):(o=null,k&&f('"i"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="T"){var u="T";a+=1}else u=null,k&&f('"T"');u===null&&(b.substr(a,1)==="t"?(u="t",a+=1):(u=null,k&&f('"t"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="H"){var i="H";a+=1}else i=null,k&&f('"H"');i===null&&(b.substr(a,
1)==="h"?(i="h",a+=1):(i=null,k&&f('"h"')),i=i!==null?i:null);if(i!==null){for(var h=[],q=s();q!==null;)h.push(q),q=s();h!==null?(q=Q(),q!==null?v=[v,o,u,i,h,q]:(v=null,a=e)):(v=null,a=e)}else v=null,a=e}else v=null,a=e}else v=null,a=e}else v=null,a=e;e=v!==null?v:"";if(e!==null){v=[];for(o=s();o!==null;)v.push(o),o=s();if(v!==null){o=a;u=Gb();if(u!==null){i=[];for(h=s();h!==null;)i.push(h),h=s();i!==null?(h=gb(),h=h!==null?h:"",h!==null?u=[u,i,h]:(u=null,a=o)):(u=null,a=o)}else u=null,a=o;u!==null?
o=u:(o=gb(),o=o!==null?o:null);if(o!==null){u=[];for(i=s();i!==null;)u.push(i),i=s();if(u!==null){i=[];for(h=hb();h!==null;)i.push(h),h=hb();if(i!==null){h=[];for(q=s();q!==null;)h.push(q),q=s();if(h!==null)if(b.substr(a,1)==="W"?(q="W",a+=1):(q=null,k&&f('"W"')),q===null&&(b.substr(a,1)==="w"?(q="w",a+=1):(q=null,k&&f('"w"')),q=q!==null?q:null),q!==null){if(b.substr(a,1)==="H"){var m="H";a+=1}else m=null,k&&f('"H"');m===null&&(b.substr(a,1)==="h"?(m="h",a+=1):(m=null,k&&f('"h"')),m=m!==null?m:null);
if(m!==null){if(b.substr(a,1)==="E"){var n="E";a+=1}else n=null,k&&f('"E"');n===null&&(b.substr(a,1)==="e"?(n="e",a+=1):(n=null,k&&f('"e"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="R"){var r="R";a+=1}else r=null,k&&f('"R"');r===null&&(b.substr(a,1)==="r"?(r="r",a+=1):(r=null,k&&f('"r"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="E"){var t="E";a+=1}else t=null,k&&f('"E"');t===null&&(b.substr(a,1)==="e"?(t="e",a+=1):(t=null,k&&f('"e"')),t=t!==null?t:null);if(t!==null){for(var w=
[],A=s();A!==null;)w.push(A),A=s();if(w!==null)if(A=V(),A!==null){for(var x=[],y=s();y!==null;)x.push(y),y=s();x!==null?e=[e,v,o,u,i,h,q,m,n,r,t,w,A,x]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?function(a,b,c,e){var f={kind:"modify"};f["with"]=a!=""?a[5]:null;b.length===3&&b[2]===""?(f["delete"]=b[0],f.insert=
null):b.length===3&&b[0].length!=null&&b[1].length!=null&&b[2].length!=null?(f["delete"]=b[0],f.insert=b[2]):(f.insert=b,f["delete"]=null);c!=""&&(f.using=c);f.pattern=e;return f}(e[0],e[2],e[4],e[12]):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[39] Modify");z[c]={nextPos:a,result:g};return g}function Gb(){var c="DeleteClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="D"){var e="D";a+=1}else e=null,k&&f('"D"');e===null&&(b.substr(a,1)==="d"?(e="d",a+=
1):(e=null,k&&f('"d"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="E"){var v="E";a+=1}else v=null,k&&f('"E"');v===null&&(b.substr(a,1)==="e"?(v="e",a+=1):(v=null,k&&f('"e"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="L"){var o="L";a+=1}else o=null,k&&f('"L"');o===null&&(b.substr(a,1)==="l"?(o="l",a+=1):(o=null,k&&f('"l"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,k&&f('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,k&&f('"e"')),
u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="T"){var i="T";a+=1}else i=null,k&&f('"T"');i===null&&(b.substr(a,1)==="t"?(i="t",a+=1):(i=null,k&&f('"t"')),i=i!==null?i:null);if(i!==null){if(b.substr(a,1)==="E"){var h="E";a+=1}else h=null,k&&f('"E"');h===null&&(b.substr(a,1)==="e"?(h="e",a+=1):(h=null,k&&f('"e"')),h=h!==null?h:null);if(h!==null){var q=ib();q!==null?e=[e,v,o,u,i,h,q]:(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=
e!==null?e[6]:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[40] DeleteClause");z[c]={nextPos:a,result:g};return g}function gb(){var c="InsertClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="I"){var e="I";a+=1}else e=null,k&&f('"I"');e===null&&(b.substr(a,1)==="i"?(e="i",a+=1):(e=null,k&&f('"i"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="N"){var v="N";a+=1}else v=null,k&&f('"N"');v===null&&(b.substr(a,1)==="n"?(v="n",a+=1):(v=null,k&&f('"n"')),
v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="S"){var o="S";a+=1}else o=null,k&&f('"S"');o===null&&(b.substr(a,1)==="s"?(o="s",a+=1):(o=null,k&&f('"s"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,k&&f('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,k&&f('"e"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="R"){var i="R";a+=1}else i=null,k&&f('"R"');i===null&&(b.substr(a,1)==="r"?(i="r",a+=1):(i=null,k&&f('"r"')),i=i!==null?i:null);if(i!==
null){if(b.substr(a,1)==="T"){var h="T";a+=1}else h=null,k&&f('"T"');h===null&&(b.substr(a,1)==="t"?(h="t",a+=1):(h=null,k&&f('"t"')),h=h!==null?h:null);if(h!==null){var q=ib();q!==null?e=[e,v,o,u,i,h,q]:(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?e[6]:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[41] InsertClause");z[c]={nextPos:a,result:g};return g}function hb(){var c="UsingClause@"+a,d=z[c];if(d)return a=d.nextPos,d.result;
d=k;k=!1;for(var j=a,g=a,e=[],v=s();v!==null;)e.push(v),v=s();if(e!==null)if(b.substr(a,1)==="U"?(v="U",a+=1):(v=null,k&&f('"U"')),v===null&&(b.substr(a,1)==="u"?(v="u",a+=1):(v=null,k&&f('"u"')),v=v!==null?v:null),v!==null){if(b.substr(a,1)==="S"){var o="S";a+=1}else o=null,k&&f('"S"');o===null&&(b.substr(a,1)==="s"?(o="s",a+=1):(o=null,k&&f('"s"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="I"){var u="I";a+=1}else u=null,k&&f('"I"');u===null&&(b.substr(a,1)==="i"?(u="i",a+=1):(u=null,k&&
f('"i"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="N"){var i="N";a+=1}else i=null,k&&f('"N"');i===null&&(b.substr(a,1)==="n"?(i="n",a+=1):(i=null,k&&f('"n"')),i=i!==null?i:null);if(i!==null){if(b.substr(a,1)==="G"){var h="G";a+=1}else h=null,k&&f('"G"');h===null&&(b.substr(a,1)==="g"?(h="g",a+=1):(h=null,k&&f('"g"')),h=h!==null?h:null);if(h!==null){for(var q=[],m=s();m!==null;)q.push(m),m=s();if(q!==null){m=Q();if(m===null){m=a;if(b.substr(a,1)==="N"){var n="N";a+=1}else n=null,k&&f('"N"');
n===null&&(b.substr(a,1)==="n"?(n="n",a+=1):(n=null,k&&f('"n"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="A"){var r="A";a+=1}else r=null,k&&f('"A"');r===null&&(b.substr(a,1)==="a"?(r="a",a+=1):(r=null,k&&f('"a"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="M"){var t="M";a+=1}else t=null,k&&f('"M"');t===null&&(b.substr(a,1)==="m"?(t="m",a+=1):(t=null,k&&f('"m"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="E"){var w="E";a+=1}else w=null,k&&f('"E"');w===null&&(b.substr(a,
1)==="e"?(w="e",a+=1):(w=null,k&&f('"e"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="D"){var A="D";a+=1}else A=null,k&&f('"D"');A===null&&(b.substr(a,1)==="d"?(A="d",a+=1):(A=null,k&&f('"d"')),A=A!==null?A:null);if(A!==null){for(var x=[],y=s();y!==null;)x.push(y),y=s();x!==null?(y=Q(),y!==null?n=[n,r,t,w,A,x,y]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m}else n=null,a=m}else n=null,a=m}else n=null,a=m}else n=null,a=m;m=n!==null?n:null}m!==null?e=[e,v,o,u,i,h,q,m]:(e=null,a=g)}else e=null,
a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g;g=e!==null?e[7].length!=null?{kind:"named",uri:e[7][6]}:{kind:"default",uri:e[7]}:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[42] UsingClause");z[c]={nextPos:a,result:g};return g}function Ma(){var c="GraphRef@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="G"){var e="G";a+=1}else e=null,k&&f('"G"');e===null&&(b.substr(a,1)==="g"?(e="g",a+=1):(e=null,k&&f('"g"')),
e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="R"){var v="R";a+=1}else v=null,k&&f('"R"');v===null&&(b.substr(a,1)==="r"?(v="r",a+=1):(v=null,k&&f('"r"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="A"){var o="A";a+=1}else o=null,k&&f('"A"');o===null&&(b.substr(a,1)==="a"?(o="a",a+=1):(o=null,k&&f('"a"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="P"){var u="P";a+=1}else u=null,k&&f('"P"');u===null&&(b.substr(a,1)==="p"?(u="p",a+=1):(u=null,k&&f('"p"')),u=u!==null?u:null);if(u!==
null){if(b.substr(a,1)==="H"){var i="H";a+=1}else i=null,k&&f('"H"');i===null&&(b.substr(a,1)==="h"?(i="h",a+=1):(i=null,k&&f('"h"')),i=i!==null?i:null);if(i!==null){for(var h=[],q=s();q!==null;)h.push(q),q=s();h!==null?(q=Q(),q!==null?e=[e,v,o,u,i,h,q]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?e[6]:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[43] GraphRef");z[c]={nextPos:a,result:g};return g}function eb(){var c="GraphRefAll@"+
a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=Ma(),g=g!==null?g:null;g===null&&(g=null,a=j);if(g!==null)j=g;else{g=j=a;if(b.substr(a,1)==="D"){var e="D";a+=1}else e=null,k&&f('"D"');e===null&&(b.substr(a,1)==="d"?(e="d",a+=1):(e=null,k&&f('"d"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="E"){var v="E";a+=1}else v=null,k&&f('"E"');v===null&&(b.substr(a,1)==="e"?(v="e",a+=1):(v=null,k&&f('"e"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="F"){var o="F";a+=1}else o=null,
k&&f('"F"');o===null&&(b.substr(a,1)==="f"?(o="f",a+=1):(o=null,k&&f('"f"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="A"){var u="A";a+=1}else u=null,k&&f('"A"');u===null&&(b.substr(a,1)==="a"?(u="a",a+=1):(u=null,k&&f('"a"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="U"){var i="U";a+=1}else i=null,k&&f('"U"');i===null&&(b.substr(a,1)==="u"?(i="u",a+=1):(i=null,k&&f('"u"')),i=i!==null?i:null);if(i!==null){if(b.substr(a,1)==="L"){var h="L";a+=1}else h=null,k&&f('"L"');h===null&&
(b.substr(a,1)==="l"?(h="l",a+=1):(h=null,k&&f('"l"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="T"){var q="T";a+=1}else q=null,k&&f('"T"');q===null&&(b.substr(a,1)==="t"?(q="t",a+=1):(q=null,k&&f('"t"')),q=q!==null?q:null);q!==null?e=[e,v,o,u,i,h,q]:(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?"default":null;g===null&&(g=null,a=j);g!==null?j=g:(g=j=a,b.substr(a,1)==="N"?(e="N",a+=1):(e=null,k&&f('"N"')),e===null&&
(b.substr(a,1)==="n"?(e="n",a+=1):(e=null,k&&f('"n"')),e=e!==null?e:null),e!==null?(b.substr(a,1)==="A"?(v="A",a+=1):(v=null,k&&f('"A"')),v===null&&(b.substr(a,1)==="a"?(v="a",a+=1):(v=null,k&&f('"a"')),v=v!==null?v:null),v!==null?(b.substr(a,1)==="M"?(o="M",a+=1):(o=null,k&&f('"M"')),o===null&&(b.substr(a,1)==="m"?(o="m",a+=1):(o=null,k&&f('"m"')),o=o!==null?o:null),o!==null?(b.substr(a,1)==="E"?(u="E",a+=1):(u=null,k&&f('"E"')),u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,k&&f('"e"')),u=
u!==null?u:null),u!==null?(b.substr(a,1)==="D"?(i="D",a+=1):(i=null,k&&f('"D"')),i===null&&(b.substr(a,1)==="d"?(i="d",a+=1):(i=null,k&&f('"d"')),i=i!==null?i:null),i!==null?e=[e,v,o,u,i]:(e=null,a=g)):(e=null,a=g)):(e=null,a=g)):(e=null,a=g)):(e=null,a=g),g=e!==null?"named":null,g===null&&(g=null,a=j),g!==null?j=g:(g=j=a,b.substr(a,1)==="A"?(e="A",a+=1):(e=null,k&&f('"A"')),e===null&&(b.substr(a,1)==="a"?(e="a",a+=1):(e=null,k&&f('"a"')),e=e!==null?e:null),e!==null?(b.substr(a,1)==="L"?(v="L",a+=
1):(v=null,k&&f('"L"')),v===null&&(b.substr(a,1)==="l"?(v="l",a+=1):(v=null,k&&f('"l"')),v=v!==null?v:null),v!==null?(b.substr(a,1)==="L"?(o="L",a+=1):(o=null,k&&f('"L"')),o===null&&(b.substr(a,1)==="l"?(o="l",a+=1):(o=null,k&&f('"l"')),o=o!==null?o:null),o!==null?e=[e,v,o]:(e=null,a=g)):(e=null,a=g)):(e=null,a=g),g=e!==null?"all":null,g===null&&(g=null,a=j),j=g!==null?g:null))}(k=d)&&j===null&&f("[44] GraphRefAll");z[c]={nextPos:a,result:j};return j}function ib(){var c="QuadPattern@"+a,d=z[c];if(d)return a=
d.nextPos,d.result;d=k;k=!1;for(var j=a,g=a,e=[],v=s();v!==null;)e.push(v),v=s();if(e!==null)if(b.substr(a,1)==="{"?(v="{",a+=1):(v=null,k&&f('"{"')),v!==null){for(var o=[],u=s();u!==null;)o.push(u),u=s();if(o!==null)if(u=jb(),u!==null){for(var i=[],h=s();h!==null;)i.push(h),h=s();if(i!==null)if(b.substr(a,1)==="}"?(h="}",a+=1):(h=null,k&&f('"}"')),h!==null){for(var q=[],m=s();m!==null;)q.push(m),m=s();q!==null?e=[e,v,o,u,i,h,q]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=
null,a=g}else e=null,a=g;else e=null,a=g;g=e!==null?e[3].quadsContext:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[45] QuadPattern");z[c]={nextPos:a,result:g};return g}function fb(){var c="QuadData@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;for(var j=a,g=a,e=[],v=s();v!==null;)e.push(v),v=s();if(e!==null)if(b.substr(a,1)==="{"?(v="{",a+=1):(v=null,k&&f('"{"')),v!==null){for(var o=[],i=s();i!==null;)o.push(i),i=s();if(o!==null)if(i=jb(),i!==null){for(var h=[],m=s();m!==null;)h.push(m),
m=s();if(h!==null)if(b.substr(a,1)==="}"?(m="}",a+=1):(m=null,k&&f('"}"')),m!==null){for(var q=[],n=s();n!==null;)q.push(n),n=s();q!==null?e=[e,v,o,i,h,m,q]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g;g=e!==null?e[3].quadsContext:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[46] QuadData");z[c]={nextPos:a,result:g};return g}function jb(){var c="Quads@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a,e=oa(),e=e!==null?
e:"";if(e!==null){var v=[],o=a,i=kb();if(i!==null){if(b.substr(a,1)==="."){var h=".";a+=1}else h=null,k&&f('"."');h=h!==null?h:"";if(h!==null){var m=oa(),m=m!==null?m:"";m!==null?i=[i,h,m]:(i=null,a=o)}else i=null,a=o}else i=null,a=o;for(;i!==null;)v.push(i),o=a,i=kb(),i!==null?(b.substr(a,1)==="."?(h=".",a+=1):(h=null,k&&f('"."')),h=h!==null?h:"",h!==null?(m=oa(),m=m!==null?m:"",m!==null?i=[i,h,m]:(i=null,a=o)):(i=null,a=o)):(i=null,a=o);v!==null?e=[e,v]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a,
b){var c=[];if(a.triplesContext!=null&&a.triplesContext!=null)for(var e=0;e<a.triplesContext.length;e++){var f=a.triplesContext[e];f.graph=null;c.push(f)}if(b&&b.length>0&&b[0].length>0&&(c=c.concat(b[0][0].quadsContext),b[0][2]!=null&&b[0][2].triplesContext!=null))for(e=0;e<b[0][2].triplesContext.length;e++)f=b[0][2].triplesContext[e],f.graph=null,c.push(f);return{token:"quads",quadsContext:c}}(e[0],e[1]):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[47] Quads");z[c]={nextPos:a,result:g};return g}
function kb(){var c="QuadsNotTriples@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;for(var j=a,g=a,e=[],i=s();i!==null;)e.push(i),i=s();if(e!==null)if(b.substr(a,1)==="G"?(i="G",a+=1):(i=null,k&&f('"G"')),i===null&&(b.substr(a,1)==="g"?(i="g",a+=1):(i=null,k&&f('"g"')),i=i!==null?i:null),i!==null){if(b.substr(a,1)==="R"){var o="R";a+=1}else o=null,k&&f('"R"');o===null&&(b.substr(a,1)==="r"?(o="r",a+=1):(o=null,k&&f('"r"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="A"){var u="A";a+=
1}else u=null,k&&f('"A"');u===null&&(b.substr(a,1)==="a"?(u="a",a+=1):(u=null,k&&f('"a"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="P"){var h="P";a+=1}else h=null,k&&f('"P"');h===null&&(b.substr(a,1)==="p"?(h="p",a+=1):(h=null,k&&f('"p"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="H"){var m="H";a+=1}else m=null,k&&f('"H"');m===null&&(b.substr(a,1)==="h"?(m="h",a+=1):(m=null,k&&f('"h"')),m=m!==null?m:null);if(m!==null){for(var q=[],n=s();n!==null;)q.push(n),n=s();if(q!==null)if(n=
ha(),n!==null){for(var r=[],t=s();t!==null;)r.push(t),t=s();if(r!==null)if(b.substr(a,1)==="{"?(t="{",a+=1):(t=null,k&&f('"{"')),t!==null){for(var w=[],x=s();x!==null;)w.push(x),x=s();if(w!==null)if(x=oa(),x=x!==null?x:"",x!==null){for(var A=[],y=s();y!==null;)A.push(y),y=s();if(A!==null)if(b.substr(a,1)==="}"?(y="}",a+=1):(y=null,k&&f('"}"')),y!==null){for(var B=[],D=s();D!==null;)B.push(D),D=s();B!==null?e=[e,i,o,u,h,m,q,n,r,t,w,x,A,y,B]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,
a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g;g=e!==null?function(a,b){for(var c=[],e=0;e<b.triplesContext.length;e++){var f=b.triplesContext[e];f.graph=a;c.push(f)}return{token:"quadsnottriples",quadsContext:c}}(e[7],e[11]):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[48] QuadsNotTriples");z[c]={nextPos:a,result:g};return g}function oa(){var c="TriplesTemplate@"+
a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a,e=Na();if(e!==null){for(var i=a,o=[],u=s();u!==null;)o.push(u),u=s();if(o!==null)if(b.substr(a,1)==="."?(u=".",a+=1):(u=null,k&&f('"."')),u!==null){for(var h=[],m=s();m!==null;)h.push(m),m=s();h!==null?(m=oa(),m=m!==null?m:"",m!==null?o=[o,u,h,m]:(o=null,a=i)):(o=null,a=i)}else o=null,a=i;else o=null,a=i;i=o!==null?o:"";i!==null?e=[e,i]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a,b){var c=a.triplesContext;typeof b==="object"&&b.length!=
null&&b[3].triplesContext!=null&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}}(e[0],e[1]):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[49] TriplesTemplate");z[c]={nextPos:a,result:g};return g}function V(){var c="GroupGraphPattern@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="{"){var e="{";a+=1}else e=null,k&&f('"{"');if(e!==null){for(var i=[],o=s();o!==null;)i.push(o),o=s();if(i!==null)if(o=J(),o!==null){for(var u=[],
h=s();h!==null;)u.push(h),h=s();u!==null?(b.substr(a,1)==="}"?(h="}",a+=1):(h=null,k&&f('"}"')),h!==null?e=[e,i,o,u,h]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;g=e!==null?e[2]:null;g===null&&(g=null,a=j);if(g!==null)j=g;else{g=j=a;b.substr(a,1)==="{"?(e="{",a+=1):(e=null,k&&f('"{"'));if(e!==null){i=[];for(o=s();o!==null;)i.push(o),o=s();if(i!==null)if(o=Hb(),o!==null){u=[];for(h=s();h!==null;)u.push(h),h=s();u!==null?(b.substr(a,1)==="}"?(h="}",a+=1):(h=null,k&&f('"}"')),
h!==null?e=[e,i,o,u,h]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;g=e!==null?e[2]:null;g===null&&(g=null,a=j);j=g!==null?g:null}(k=d)&&j===null&&f("[50] GroupGraphPattern");z[c]={nextPos:a,result:j};return j}function Hb(){var c="GroupGraphPatternSub@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a,e=na(),e=e!==null?e:"";if(e!==null){for(var i=[],o=s();o!==null;)i.push(o),o=s();if(i!==null){var o=[],u=a,h=lb();if(h!==null){for(var m=[],q=s();q!==null;)m.push(q),
q=s();if(m!==null)if(b.substr(a,1)==="."?(q=".",a+=1):(q=null,k&&f('"."')),q=q!==null?q:"",q!==null){for(var n=[],r=s();r!==null;)n.push(r),r=s();n!==null?(r=na(),r=r!==null?r:"",r!==null?h=[h,m,q,n,r]:(h=null,a=u)):(h=null,a=u)}else h=null,a=u;else h=null,a=u}else h=null,a=u;for(;h!==null;)if(o.push(h),u=a,h=lb(),h!==null){m=[];for(q=s();q!==null;)m.push(q),q=s();if(m!==null)if(b.substr(a,1)==="."?(q=".",a+=1):(q=null,k&&f('"."')),q=q!==null?q:"",q!==null){n=[];for(r=s();r!==null;)n.push(r),r=s();
n!==null?(r=na(),r=r!==null?r:"",r!==null?h=[h,m,q,n,r]:(h=null,a=u)):(h=null,a=u)}else h=null,a=u;else h=null,a=u}else h=null,a=u;o!==null?e=[e,i,o]:(e=null,a=g)}else e=null,a=g}else e=null,a=g;g=e!==null?function(a,b){var c=[];a!=null&&a!=[]&&c.push(a);for(var e=0;e<b.length;e++)for(var f=0;f<b[e].length;f++)b[e][f].token!=null&&c.push(b[e][f]);for(var g=[],d=[],k=[],e=0;e<c.length;e++)if(c[e].token!="triplespattern"&&c[e].token!="filter"){if(d.length!=0||k.length!=0){for(var o=[],f=0;f<d.length;f++)o=
o.concat(d[f].triplesContext);o.length>0&&g.push({token:"basicgraphpattern",triplesContext:o});d=[]}g.push(c[e])}else c[e].token==="triplespattern"?d.push(c[e]):k.push(c[e]);if(d.length!=0||k.length!=0){o=[];for(f=0;f<d.length;f++)o=o.concat(d[f].triplesContext);o.length>0&&g.push({token:"basicgraphpattern",triplesContext:o})}return{token:"groupgraphpattern",patterns:g,filters:k}}(e[0],e[2]):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[51] GroupGraphPatternSub");z[c]={nextPos:a,result:g};return g}
function na(){var c="TriplesBlock@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a,e=Na();if(e!==null){for(var i=a,o=[],u=s();u!==null;)o.push(u),u=s();if(o!==null)if(b.substr(a,1)==="."?(u=".",a+=1):(u=null,k&&f('"."')),u!==null){var h=na(),h=h!==null?h:"";h!==null?o=[o,u,h]:(o=null,a=i)}else o=null,a=i;else o=null,a=i;i=o!==null?o:"";i!==null?e=[e,i]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a,b){var c=a.triplesContext;typeof b==="object"&&b.length!=null&&b[2].triplesContext!=
null&&(c=c.concat(b[2].triplesContext));return{token:"triplespattern",triplesContext:c}}(e[0],e[1]):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[54] TriplesBlock");z[c]={nextPos:a,result:g};return g}function lb(){var b="GraphPatternNotTriples@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=Ib();d===null&&(d=Jb(),d===null&&(d=Kb(),d===null&&(d=Lb(),d===null&&(d=Mb(),d===null&&(d=Nb(),d=d!==null?d:null)))));(k=c)&&d===null&&f("[53] GraphPatternNotTriples");z[b]={nextPos:a,result:d};return d}
function Jb(){var c="OptionalGraphPattern@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;for(var j=a,g=a,e=[],i=s();i!==null;)e.push(i),i=s();if(e!==null)if(b.substr(a,8)==="OPTIONAL"?(i="OPTIONAL",a+=8):(i=null,k&&f('"OPTIONAL"')),i!==null){for(var o=[],u=s();u!==null;)o.push(u),u=s();o!==null?(u=V(),u!==null?e=[e,i,o,u]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g;g=e!==null?{token:"optionalgraphpattern",value:e[3]}:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[54] OptionalGraphPattern");
z[c]={nextPos:a,result:g};return g}function Lb(){var c="GraphGraphPattern@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;for(var j=a,g=a,e=[],i=s();i!==null;)e.push(i),i=s();if(e!==null)if(b.substr(a,1)==="G"?(i="G",a+=1):(i=null,k&&f('"G"')),i===null&&(b.substr(a,1)==="g"?(i="g",a+=1):(i=null,k&&f('"g"')),i=i!==null?i:null),i!==null){if(b.substr(a,1)==="R"){var o="R";a+=1}else o=null,k&&f('"R"');o===null&&(b.substr(a,1)==="r"?(o="r",a+=1):(o=null,k&&f('"r"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,
1)==="A"){var u="A";a+=1}else u=null,k&&f('"A"');u===null&&(b.substr(a,1)==="a"?(u="a",a+=1):(u=null,k&&f('"a"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="P"){var h="P";a+=1}else h=null,k&&f('"P"');h===null&&(b.substr(a,1)==="p"?(h="p",a+=1):(h=null,k&&f('"p"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="H"){var m="H";a+=1}else m=null,k&&f('"H"');m===null&&(b.substr(a,1)==="h"?(m="h",a+=1):(m=null,k&&f('"h"')),m=m!==null?m:null);if(m!==null){for(var q=[],n=s();n!==null;)q.push(n),
n=s();if(q!==null)if(n=ha(),n!==null){for(var r=[],t=s();t!==null;)r.push(t),t=s();r!==null?(t=V(),t!==null?e=[e,i,o,u,h,m,q,n,r,t]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g;g=e!==null?function(a,b){for(var c=0;c<b.patterns.length;c++)for(var e=b.patterns[c],f=0;f<e.triplesContext.length;f++)e.triplesContext[f].graph=a;b.token="groupgraphpattern";return b}(e[7],e[9]):null;g===null&&(g=
null,a=j);(k=d)&&g===null&&f("[55] GraphGraphPattern");z[c]={nextPos:a,result:g};return g}function Mb(){var c="ServiceGraphPattern@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,7)==="SERVICE"){var e="SERVICE";a+=7}else e=null,k&&f('"SERVICE"');if(e!==null){var i=ha();if(i!==null){var o=V();o!==null?e=[e,i,o]:(e=null,a=g)}else e=null,a=g}else e=null,a=g;g=e!==null?{token:"servicegraphpattern",status:"todo",value:[e[1],e[2]]}:null;g===null&&(g=null,a=j);(k=d)&&g===null&&
f("[56] ServiceGraphPattern");z[c]={nextPos:a,result:g};return g}function Kb(){var c="MinusGraphPattern@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,5)==="MINUS"){var e="MINUS";a+=5}else e=null,k&&f('"MINUS"');if(e!==null){var i=V();i!==null?e=[e,i]:(e=null,a=g)}else e=null,a=g;g=e!==null?{token:"minusgraphpattern",status:"todo",value:e[1]}:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[57] MinusGraphPattern");z[c]={nextPos:a,result:g};return g}function Ib(){var c=
"GroupOrUnionGraphPattern@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a,e=V();if(e!==null){for(var i=[],o=a,u=[],h=s();h!==null;)u.push(h),h=s();if(u!==null)if(b.substr(a,5)==="UNION"?(h="UNION",a+=5):(h=null,k&&f('"UNION"')),h!==null){for(var m=[],q=s();q!==null;)m.push(q),q=s();m!==null?(q=V(),q!==null?u=[u,h,m,q]:(u=null,a=o)):(u=null,a=o)}else u=null,a=o;else u=null,a=o;for(;u!==null;){i.push(u);o=a;u=[];for(h=s();h!==null;)u.push(h),h=s();if(u!==null)if(b.substr(a,5)==="UNION"?
(h="UNION",a+=5):(h=null,k&&f('"UNION"')),h!==null){m=[];for(q=s();q!==null;)m.push(q),q=s();m!==null?(q=V(),q!==null?u=[u,h,m,q]:(u=null,a=o)):(u=null,a=o)}else u=null,a=o;else u=null,a=o}i!==null?e=[e,i]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a,b){if(b.length===0)return a;else{for(var c={token:"graphunionpattern",value:[a]},e=0;e<b.length;e++)e==b.length-1?c.value.push(b[e][3]):(c.value.push(b[e][3]),c={token:"graphunionpattern",value:[c]});return c}}(e[0],e[1]):null;g===null&&(g=null,
a=j);(k=d)&&g===null&&f("[58] GroupOrUnionGraphPattern");z[c]={nextPos:a,result:g};return g}function Nb(){var c="Filter@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;for(var j=a,g=a,e=[],i=s();i!==null;)e.push(i),i=s();if(e!==null)if(b.substr(a,1)==="F"?(i="F",a+=1):(i=null,k&&f('"F"')),i===null&&(b.substr(a,1)==="f"?(i="f",a+=1):(i=null,k&&f('"f"')),i=i!==null?i:null),i!==null){if(b.substr(a,1)==="I"){var o="I";a+=1}else o=null,k&&f('"I"');o===null&&(b.substr(a,1)==="i"?(o="i",a+=1):(o=null,
k&&f('"i"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="L"){var u="L";a+=1}else u=null,k&&f('"L"');u===null&&(b.substr(a,1)==="l"?(u="l",a+=1):(u=null,k&&f('"l"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="T"){var h="T";a+=1}else h=null,k&&f('"T"');h===null&&(b.substr(a,1)==="t"?(h="t",a+=1):(h=null,k&&f('"t"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="E"){var m="E";a+=1}else m=null,k&&f('"E"');m===null&&(b.substr(a,1)==="e"?(m="e",a+=1):(m=null,k&&f('"e"')),m=m!==null?
m:null);if(m!==null){if(b.substr(a,1)==="R"){var q="R";a+=1}else q=null,k&&f('"R"');q===null&&(b.substr(a,1)==="r"?(q="r",a+=1):(q=null,k&&f('"r"')),q=q!==null?q:null);if(q!==null){for(var n=[],r=s();r!==null;)n.push(r),r=s();n!==null?(r=Aa(),r!==null?e=[e,i,o,u,h,m,q,n,r]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g;g=e!==null?{token:"filter",value:e[8]}:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[59] Filter");
z[c]={nextPos:a,result:g};return g}function Aa(){var b="Constraint@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=Ia();d===null&&(d=Ha(),d===null&&(d=cb(),d=d!==null?d:null));(k=c)&&d===null&&f("[60] Constraint");z[b]={nextPos:a,result:d};return d}function cb(){var b="FunctionCall@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=a,g=a,e=Q();if(e!==null){var i=mb();i!==null?e=[e,i]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a,b){var c={token:"expression",expressionType:"irireforfunction"};
c.iriref=a;c.args=b.value;return c}(e[0],e[1]):null;g===null&&(g=null,a=d);(k=c)&&g===null&&f("[61] FunctionCall");z[b]={nextPos:a,result:g};return g}function mb(){var c="ArgList@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=ia()!==null?{token:"args",value:[]}:null;g===null&&(g=null,a=i);if(g!==null)i=g;else{g=i=a;if(b.substr(a,1)==="("){var e="(";a+=1}else e=null,k&&f('"("');if(e!==null){if(b.substr(a,8)==="DISTINCT"){var j="DISTINCT";a+=8}else j=null,k&&f('"DISTINCT"');j=j!==null?
j:"";if(j!==null){var o=L();if(o!==null){var u=[],h=a;if(b.substr(a,1)===","){var m=",";a+=1}else m=null,k&&f('","');if(m!==null){var q=L();q!==null?m=[m,q]:(m=null,a=h)}else m=null,a=h;for(;m!==null;)u.push(m),h=a,b.substr(a,1)===","?(m=",",a+=1):(m=null,k&&f('","')),m!==null?(q=L(),q!==null?m=[m,q]:(m=null,a=h)):(m=null,a=h);u!==null?(b.substr(a,1)===")"?(h=")",a+=1):(h=null,k&&f('")"')),h!==null?e=[e,j,o,u,h]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?
function(a,b,c){cleanEx=[];for(var e=0;e<c.length;e++)cleanEx.push(c[e][1]);c={token:"args"};c.value=[b].concat(cleanEx);c.distinct=a==="DISTINCT"?!0:!1;return c}(e[1],e[2],e[3]):null;g===null&&(g=null,a=i);i=g!==null?g:null}(k=d)&&i===null&&f("[62] ArgList");z[c]={nextPos:a,result:i};return i}function Ob(){var c="ExpressionList@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=ia()!==null?{token:"args",value:[]}:null;g===null&&(g=null,a=i);if(g!==null)i=g;else{g=i=a;if(b.substr(a,1)===
"("){var e="(";a+=1}else e=null,k&&f('"("');if(e!==null){var j=L();if(j!==null){var o=[],u=a;if(b.substr(a,1)===","){var h=",";a+=1}else h=null,k&&f('","');if(h!==null){var m=L();m!==null?h=[h,m]:(h=null,a=u)}else h=null,a=u;for(;h!==null;)o.push(h),u=a,b.substr(a,1)===","?(h=",",a+=1):(h=null,k&&f('","')),h!==null?(m=L(),m!==null?h=[h,m]:(h=null,a=u)):(h=null,a=u);o!==null?(b.substr(a,1)===")"?(u=")",a+=1):(u=null,k&&f('")"')),u!==null?e=[e,j,o,u]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g}else e=
null,a=g;g=e!==null?function(a,b){cleanEx=[];for(var c=0;c<b.length;c++)cleanEx.push(b[c][1]);c={token:"args"};c.value=[a].concat(cleanEx);return c}(e[1],e[2]):null;g===null&&(g=null,a=i);i=g!==null?g:null}(k=d)&&i===null&&f("[63] ExpressionList");z[c]={nextPos:a,result:i};return i}function Eb(){var c="ConstructTemplate@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a;if(b.substr(a,1)==="{"){var e="{";a+=1}else e=null,k&&f('"{"');if(e!==null){for(var j=[],o=s();o!==null;)j.push(o),
o=s();if(j!==null)if(o=nb(),o=o!==null?o:"",o!==null){for(var u=[],h=s();h!==null;)u.push(h),h=s();u!==null?(b.substr(a,1)==="}"?(h="}",a+=1):(h=null,k&&f('"}"')),h!==null?e=[e,j,o,u,h]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;g=e!==null?e[2]:null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[64] ConstructTemplate");z[c]={nextPos:a,result:g};return g}function nb(){var c="ConstructTriples@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a,e=Na();if(e!==
null){for(var j=a,o=[],h=s();h!==null;)o.push(h),h=s();if(o!==null)if(b.substr(a,1)==="."?(h=".",a+=1):(h=null,k&&f('"."')),h!==null){for(var m=[],n=s();n!==null;)m.push(n),n=s();m!==null?(n=nb(),n=n!==null?n:"",n!==null?o=[o,h,m,n]:(o=null,a=j)):(o=null,a=j)}else o=null,a=j;else o=null,a=j;j=o!==null?o:"";j!==null?e=[e,j]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a,b){var c=a.triplesContext;typeof b==="object"&&b.length!=null&&b[3].triplesContext!=null&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",
triplesContext:c}}(e[0],e[1]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[65] ConstructTriples");z[c]={nextPos:a,result:g};return g}function Na(){var b="TriplesSameSubject@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;for(var d=a,g=a,e=[],i=s();i!==null;)e.push(i),i=s();if(e!==null)if(i=ob(),i!==null){for(var o=[],j=s();j!==null;)o.push(j),j=s();o!==null?(j=Ba(),j!==null?e=[e,i,o,j]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g;g=e!==null?function(a,b){var c=b.triplesContext;
if(b.pairs)for(var e=0;e<b.pairs.length;e++){var f=b.pairs[e],g=null;a.token&&a.token==="triplesnodecollection"?(g={subject:a.chainSubject[0],predicate:f[0],object:f[1]},c.push(g),c=c.concat(a.triplesContext)):(g={subject:a,predicate:f[0],object:f[1]},c.push(g))}e={token:"triplessamesubject"};e.triplesContext=c;e.chainSubject=a;return e}(e[1],e[3]):null;g===null&&(g=null,a=d);if(g!==null)d=g;else{g=d=a;e=[];for(i=s();i!==null;)e.push(i),i=s();if(e!==null)if(i=pb(),i!==null){o=[];for(j=s();j!==null;)o.push(j),
j=s();o!==null?(j=Pb(),j!==null?e=[e,i,o,j]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g;g=e!==null?function(a,b){var c=a.triplesContext,e=a.chainSubject;if(b.pairs)for(var f=0;f<b.pairs.length;f++){var g=b.pairs[f];if(a.token==="triplesnodecollection")for(var d=0;d<e.length;d++){var k=e[d];if(k.triplesContext!=null){var o={subject:k.chainSubject,predicate:g[0],object:g[1]};c.concat(k.triplesContext)}else o={subject:e[d],predicate:g[0],object:g[1]},c.push(o)}else o={subject:e,predicate:g[0],
object:g[1]},c.push(o)}f={token:"triplessamesubject"};f.triplesContext=c;f.chainSubject=e;return f}(e[1],e[3]):null;g===null&&(g=null,a=d);d=g!==null?g:null}(k=c)&&d===null&&f("[66] TriplesSameSubject");z[b]={nextPos:a,result:d};return d}function Ba(){var c="PropertyListNotEmpty@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a,e=Oa();if(e!==null){for(var j=[],o=s();o!==null;)j.push(o),o=s();if(j!==null)if(o=ja(),o!==null){for(var h=[],m=a,n=[],q=s();q!==null;)n.push(q),q=s();if(n!==
null)if(b.substr(a,1)===";"?(q=";",a+=1):(q=null,k&&f('";"')),q!==null){for(var r=[],t=s();t!==null;)r.push(t),t=s();if(r!==null){var t=a,w=Oa();if(w!==null){for(var x=[],y=s();y!==null;)x.push(y),y=s();x!==null?(y=ja(),y!==null?w=[w,x,y]:(w=null,a=t)):(w=null,a=t)}else w=null,a=t;t=w!==null?w:"";t!==null?n=[n,q,r,t]:(n=null,a=m)}else n=null,a=m}else n=null,a=m;else n=null,a=m;for(;n!==null;){h.push(n);m=a;n=[];for(q=s();q!==null;)n.push(q),q=s();if(n!==null)if(b.substr(a,1)===";"?(q=";",a+=1):(q=
null,k&&f('";"')),q!==null){r=[];for(t=s();t!==null;)r.push(t),t=s();if(r!==null){t=a;w=Oa();if(w!==null){x=[];for(y=s();y!==null;)x.push(y),y=s();x!==null?(y=ja(),y!==null?w=[w,x,y]:(w=null,a=t)):(w=null,a=t)}else w=null,a=t;t=w!==null?w:"";t!==null?n=[n,q,r,t]:(n=null,a=m)}else n=null,a=m}else n=null,a=m;else n=null,a=m}h!==null?e=[e,j,o,h]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;g=e!==null?function(a,b,c){token={token:"propertylist"};for(var e=[],f=[],g=0;g<b.length;g++)b[g].triplesContext!=
null?(e=e.concat(b[g].triplesContext),b[g].token==="triplesnodecollection"&&b[g].chainSubject.length!=null?f.push([a,b[g].chainSubject[0]]):f.push([a,b[g].chainSubject])):f.push([a,b[g]]);for(g=0;g<c.length;g++)for(var b=c[g][3],a=b[0],b=b[2]||[],d=0;d<b.length;d++)b[d].triplesContext!=null?(e=e.concat(b[d].triplesContext),f.push([a,b[d].chainSubject])):f.push([a,b[d]]);token.pairs=f;token.triplesContext=e;return token}(e[0],e[2],e[3]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[67] PropertyListNotEmpty");
z[c]={nextPos:a,result:g};return g}function Pb(){var b="PropertyList@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=Ba(),d=d!==null?d:"";(k=c)&&d===null&&f("[68] PropertyList");z[b]={nextPos:a,result:d};return d}function ja(){var c="ObjectList@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a,e=pa();if(e!==null){for(var j=[],o=s();o!==null;)j.push(o),o=s();if(j!==null){var o=[],h=a;if(b.substr(a,1)===","){var m=",";a+=1}else m=null,k&&f('","');if(m!==null){for(var n=[],
q=s();q!==null;)n.push(q),q=s();n!==null?(q=pa(),q!==null?m=[m,n,q]:(m=null,a=h)):(m=null,a=h)}else m=null,a=h;for(;m!==null;)if(o.push(m),h=a,b.substr(a,1)===","?(m=",",a+=1):(m=null,k&&f('","')),m!==null){n=[];for(q=s();q!==null;)n.push(q),q=s();n!==null?(q=pa(),q!==null?m=[m,n,q]:(m=null,a=h)):(m=null,a=h)}else m=null,a=h;o!==null?e=[e,j,o]:(e=null,a=g)}else e=null,a=g}else e=null,a=g;g=e!==null?function(a,b){var c=[];c.push(a);for(var e=0;e<b.length;e++)for(var f=0;f<b[e].length;f++)typeof b[e][f]==
"object"&&b[e][f].token!=null&&c.push(b[e][f]);return c}(e[0],e[2]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[69] ObjectList");z[c]={nextPos:a,result:g};return g}function Oa(){var c="Verb@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=ha();if(i===null){i=a;if(b.substr(a,1)==="a"){var g="a";a+=1}else g=null,k&&f('"a"');g=g!==null?{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}:null;g===null&&(g=null,a=i);i=g!==null?g:null}(k=d)&&i===
null&&f("[71] Verb");z[c]={nextPos:a,result:i};return i}function Pa(){var b="VerbPath@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=a,g=qb(),g=g!==null?g:null;g===null&&(g=null,a=d);(k=c)&&g===null&&f("[75]");z[b]={nextPos:a,result:g};return g}function qb(){var c="PathAlternative@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=Qa();if(g!==null){var e=[],j=a;if(b.substr(a,1)==="|"){var o="|";a+=1}else o=null,k&&f('"|"');if(o!==null){var h=Qa();h!==null?o=[o,h]:(o=null,a=
j)}else o=null,a=j;for(;o!==null;)e.push(o),j=a,b.substr(a,1)==="|"?(o="|",a+=1):(o=null,k&&f('"|"')),o!==null?(h=Qa(),h!==null?o=[o,h]:(o=null,a=j)):(o=null,a=j);e!==null?g=[g,e]:(g=null,a=i)}else g=null,a=i;(k=d)&&g===null&&f("[78] PathAlternative");z[c]={nextPos:a,result:g};return g}function Qa(){var c="PathSequence@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=Ra();if(g!==null){var e=[],j=a;if(b.substr(a,1)==="/"){var o="/";a+=1}else o=null,k&&f('"/"');if(o!==null){var h=Ra();
h!==null?o=[o,h]:(o=null,a=j)}else o=null,a=j;for(;o!==null;)e.push(o),j=a,b.substr(a,1)==="/"?(o="/",a+=1):(o=null,k&&f('"/"')),o!==null?(h=Ra(),h!==null?o=[o,h]:(o=null,a=j)):(o=null,a=j);e!==null?g=[g,e]:(g=null,a=i)}else g=null,a=i;(k=d)&&g===null&&f("[79] PathSequence");z[c]={nextPos:a,result:g};return g}function rb(){var b="PathElt@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=a,g=Qb();if(g!==null){var e=Rb(),e=e!==null?e:"";e!==null?g=[g,e]:(g=null,a=d)}else g=null,a=d;(k=c)&&
g===null&&f("[88] PathElt");z[b]={nextPos:a,result:g};return g}function Ra(){var c="PathEltOrInverse@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=rb();if(i===null){i=a;if(b.substr(a,1)==="^"){var g="^";a+=1}else g=null,k&&f('"^"');if(g!==null){var e=rb();e!==null?g=[g,e]:(g=null,a=i)}else g=null,a=i;i=g!==null?g:null}(k=d)&&i===null&&f("[81] PathEltOrInverse");z[c]={nextPos:a,result:i};return i}function Rb(){var c="PathMod@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;if(b.substr(a,
1)==="*"){var i="*";a+=1}else i=null,k&&f('"*"');if(i===null&&(b.substr(a,1)==="?"?(i="?",a+=1):(i=null,k&&f('"?"')),i===null&&(b.substr(a,1)==="+"?(i="+",a+=1):(i=null,k&&f('"+"')),i===null))){i=a;if(b.substr(a,1)==="{"){var g="{";a+=1}else g=null,k&&f('"{"');if(g!==null){var e=a,j=ba();if(j!==null){var o=a;if(b.substr(a,1)===","){var h=",";a+=1}else h=null,k&&f('","');if(h!==null){if(b.substr(a,1)==="}"){var m="}";a+=1}else m=null,k&&f('"}"');if(m===null){var m=a,n=ba();if(n!==null){if(b.substr(a,
1)==="}"){var q="}";a+=1}else q=null,k&&f('"}"');q!==null?n=[n,q]:(n=null,a=m)}else n=null,a=m;m=n!==null?n:null}m!==null?h=[h,m]:(h=null,a=o)}else h=null,a=o;h!==null?o=h:(b.substr(a,1)==="}"?(o="}",a+=1):(o=null,k&&f('"}"')),o=o!==null?o:null);o!==null?j=[j,o]:(j=null,a=e)}else j=null,a=e;j!==null?e=j:(e=a,b.substr(a,1)===","?(j=",",a+=1):(j=null,k&&f('","')),j!==null?(o=ba(),o!==null?(b.substr(a,1)==="}"?(h="}",a+=1):(h=null,k&&f('"}"')),h!==null?j=[j,o,h]:(j=null,a=e)):(j=null,a=e)):(j=null,a=
e),e=j!==null?j:null);e!==null?g=[g,e]:(g=null,a=i)}else g=null,a=i;i=g!==null?g:null}(k=d)&&i===null&&f("[82] PathMod");z[c]={nextPos:a,result:i};return i}function Qb(){var c="PathPrimary@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=Q();if(i===null&&(b.substr(a,1)==="a"?(i="a",a+=1):(i=null,k&&f('"a"')),i===null)){i=a;if(b.substr(a,1)==="!"){var g="!";a+=1}else g=null,k&&f('"!"');if(g!==null){var e=Sb();e!==null?g=[g,e]:(g=null,a=i)}else g=null,a=i;if(g!==null)i=g;else{i=a;b.substr(a,
1)==="("?(g="(",a+=1):(g=null,k&&f('"("'));if(g!==null)if(e=qb(),e!==null){if(b.substr(a,1)===")"){var j=")";a+=1}else j=null,k&&f('")"');j!==null?g=[g,e,j]:(g=null,a=i)}else g=null,a=i;else g=null,a=i;i=g!==null?g:null}}(k=d)&&i===null&&f("[83] PathPrimary");z[c]={nextPos:a,result:i};return i}function Sb(){var c="PathNegatedPropertySet@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=Ca();if(d===null){d=a;if(b.substr(a,1)==="("){var i="(";a+=1}else i=null,k&&f('"("');if(i!==null){var g=a,e=Ca();if(e!==
null){var j=[],o=a;if(b.substr(a,1)==="|"){var h="|";a+=1}else h=null,k&&f('"|"');if(h!==null){var m=Ca();m!==null?h=[h,m]:(h=null,a=o)}else h=null,a=o;for(;h!==null;)j.push(h),o=a,b.substr(a,1)==="|"?(h="|",a+=1):(h=null,k&&f('"|"')),h!==null?(m=Ca(),m!==null?h=[h,m]:(h=null,a=o)):(h=null,a=o);j!==null?e=[e,j]:(e=null,a=g)}else e=null,a=g;g=e!==null?e:"";g!==null?(b.substr(a,1)===")"?(e=")",a+=1):(e=null,k&&f('")"')),e!==null?i=[i,g,e]:(i=null,a=d)):(i=null,a=d)}else i=null,a=d;d=i!==null?i:null}z[c]=
{nextPos:a,result:d};return d}function Ca(){var c="PathOneInPropertySet@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=Q();if(i===null&&(b.substr(a,1)==="a"?(i="a",a+=1):(i=null,k&&f('"a"')),i===null)){i=a;if(b.substr(a,1)==="^"){var g="^";a+=1}else g=null,k&&f('"^"');if(g!==null){var e=Q();e===null&&(b.substr(a,1)==="a"?(e="a",a+=1):(e=null,k&&f('"a"')),e=e!==null?e:null);e!==null?g=[g,e]:(g=null,a=i)}else g=null,a=i;i=g!==null?g:null}(k=d)&&i===null&&f("[85] PathOneInPropertySet");z[c]=
{nextPos:a,result:i};return i}function pb(){var b="TriplesNode@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=a,g=Tb(),g=g!==null?function(a){triplesContext=[];chainSubject=[];for(var b=null,c=0;c<a.length;c++)ca++,b=null,a[c].chainSubject==null&&a[c].triplesContext==null?b=a[c]:(b=a[c].chainSubject,triplesContext=triplesContext.concat(nextSubject.triplesContext)),b={subject:{token:"blank",label:"_:"+ca},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},
object:b},c==0&&chainSubject.push(b.subject),triplesContext.push(b),b=c===a.length-1?{subject:{token:"blank",label:"_:"+ca},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",label:"_:"+ca},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",label:"_:"+
(ca+1)}},triplesContext.push(b);return{token:"triplesnodecollection",triplesContext:triplesContext,chainSubject:chainSubject}}(g):null;g===null&&(g=null,a=d);g!==null?d=g:(d=Ub(),d=d!==null?d:null);(k=c)&&d===null&&f("[87] TriplesNode");z[b]={nextPos:a,result:d};return d}function Ub(){var c="BlankNodePropertyList@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;for(var i=a,g=a,e=[],j=s();j!==null;)e.push(j),j=s();if(e!==null)if(b.substr(a,1)==="["?(j="[",a+=1):(j=null,k&&f('"["')),j!==null){for(var o=
[],h=s();h!==null;)o.push(h),h=s();if(o!==null)if(h=Ba(),h!==null){for(var m=[],n=s();n!==null;)m.push(n),n=s();if(m!==null)if(b.substr(a,1)==="]"?(n="]",a+=1):(n=null,k&&f('"]"')),n!==null){for(var q=[],r=s();r!==null;)q.push(r),r=s();q!==null?e=[e,j,o,h,m,n,q]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g;g=e!==null?function(a){ca++;for(var b={token:"blank",label:""+ca},c=[],e=0;e<a.pairs.length;e++){var f=a.pairs[e],g={};g.subject=
b;g.predicate=f[0];g.object=f[1];c.push(g)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(c),chainSubject:b}}(e[3]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[88] BlankNodePropertyList");z[c]={nextPos:a,result:g};return g}function Tb(){var c="Collection@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;for(var i=a,g=a,e=[],j=s();j!==null;)e.push(j),j=s();if(e!==null)if(b.substr(a,1)==="("?(j="(",a+=1):(j=null,k&&f('"("')),j!==null){for(var o=
[],h=s();h!==null;)o.push(h),h=s();if(o!==null){var m=pa();if(m!==null)for(h=[];m!==null;)h.push(m),m=pa();else h=null;if(h!==null){for(var m=[],n=s();n!==null;)m.push(n),n=s();if(m!==null)if(b.substr(a,1)===")"?(n=")",a+=1):(n=null,k&&f('")"')),n!==null){for(var q=[],r=s();r!==null;)q.push(r),r=s();q!==null?e=[e,j,o,h,m,n,q]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g;g=e!==null?e[3]:null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[89] Collection");
z[c]={nextPos:a,result:g};return g}function pa(){var b="GraphNode@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;for(var d=a,g=a,e=[],i=s();i!==null;)e.push(i),i=s();if(e!==null)if(i=ob(),i!==null){for(var j=[],h=s();h!==null;)j.push(h),h=s();j!==null?e=[e,i,j]:(e=null,a=g)}else e=null,a=g;else e=null,a=g;if(e!==null)g=e;else{g=a;e=[];for(i=s();i!==null;)e.push(i),i=s();if(e!==null)if(i=pb(),i!==null){j=[];for(h=s();h!==null;)j.push(h),h=s();j!==null?e=[e,i,j]:(e=null,a=g)}else e=null,a=g;else e=
null,a=g;g=e!==null?e:null}g=g!==null?g[1]:null;g===null&&(g=null,a=d);(k=c)&&g===null&&f("[90] GraphNode");z[b]={nextPos:a,result:g};return g}function ob(){var b="VarOrTerm@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=P();d===null&&(d=Vb(),d=d!==null?d:null);(k=c)&&d===null&&f("[91] VarOrTerm");z[b]={nextPos:a,result:d};return d}function ha(){var b="VarOrIRIref@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=P();d===null&&(d=Q(),d=d!==null?d:null);(k=c)&&d===null&&f("[92] VarOrIRIref");
z[b]={nextPos:a,result:d};return d}function P(){var b="Var@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=a,g=Wb();g===null&&(g=Xb(),g=g!==null?g:null);g=g!==null?function(a){var b={token:"var"};b.value=a;return b}(g):null;g===null&&(g=null,a=d);(k=c)&&g===null&&f("[93] Var");z[b]={nextPos:a,result:g};return g}function Vb(){var b="GraphTerm@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=Q();d===null&&(d=Ja(),d===null&&(d=Ka(),d===null&&(d=La(),d===null&&(d=Yb(),d===null&&(d=
ia(),d=d!==null?d:null)))));(k=c)&&d===null&&f("[94] GraphTerm");z[b]={nextPos:a,result:d};return d}function L(){var c="ConditionalOrExpression@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a,e=Sa();if(e!==null){for(var j=[],o=a,h=[],m=s();m!==null;)h.push(m),m=s();if(h!==null)if(b.substr(a,2)==="||"?(m="||",a+=2):(m=null,k&&f('"||"')),m!==null){for(var n=[],q=s();q!==null;)n.push(q),q=s();n!==null?(q=Sa(),q!==null?h=[h,m,n,q]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,
a=o;for(;h!==null;){j.push(h);o=a;h=[];for(m=s();m!==null;)h.push(m),m=s();if(h!==null)if(b.substr(a,2)==="||"?(m="||",a+=2):(m=null,k&&f('"||"')),m!==null){n=[];for(q=s();q!==null;)n.push(q),q=s();n!==null?(q=Sa(),q!==null?h=[h,m,n,q]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o}j!==null?e=[e,j]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a,b){if(b.length===0)return a;for(var c={token:"expression",expressionType:"conditionalor"},e=[a],f=0;f<b.length;f++)e.push(b[f][3]);c.operands=
e;return c}(e[0],e[1]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[96] ConditionalOrExpression");z[c]={nextPos:a,result:g};return g}function Sa(){var c="ConditionalAndExpression@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a,e=Ta();if(e!==null){for(var j=[],o=a,h=[],m=s();m!==null;)h.push(m),m=s();if(h!==null)if(b.substr(a,2)==="&&"?(m="&&",a+=2):(m=null,k&&f('"&&"')),m!==null){for(var n=[],q=s();q!==null;)n.push(q),q=s();n!==null?(q=Ta(),q!==null?h=[h,m,n,q]:(h=null,a=o)):
(h=null,a=o)}else h=null,a=o;else h=null,a=o;for(;h!==null;){j.push(h);o=a;h=[];for(m=s();m!==null;)h.push(m),m=s();if(h!==null)if(b.substr(a,2)==="&&"?(m="&&",a+=2):(m=null,k&&f('"&&"')),m!==null){n=[];for(q=s();q!==null;)n.push(q),q=s();n!==null?(q=Ta(),q!==null?h=[h,m,n,q]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o}j!==null?e=[e,j]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a,b){if(b.length===0)return a;for(var c={token:"expression",expressionType:"conditionaland"},e=[a],
f=0;f<b.length;f++)e.push(b[f][3]);c.operands=e;return c}(e[0],e[1]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[97] ConditionalAndExpression");z[c]={nextPos:a,result:g};return g}function Ta(){var c="RelationalExpression@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a,e=T();if(e!==null){for(var j=[],o=a,h=[],m=s();m!==null;)h.push(m),m=s();if(h!==null)if(b.substr(a,1)==="="?(m="=",a+=1):(m=null,k&&f('"="')),m!==null){for(var n=[],q=s();q!==null;)n.push(q),q=s();n!==null?(q=T(),
q!==null?h=[h,m,n,q]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=s();m!==null;)h.push(m),m=s();if(h!==null)if(b.substr(a,2)==="!="?(m="!=",a+=2):(m=null,k&&f('"!="')),m!==null){n=[];for(q=s();q!==null;)n.push(q),q=s();n!==null?(q=T(),q!==null?h=[h,m,n,q]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=s();m!==null;)h.push(m),m=s();if(h!==null)if(b.substr(a,1)==="<"?(m="<",a+=1):(m=null,k&&f('"<"')),m!==
null){n=[];for(q=s();q!==null;)n.push(q),q=s();n!==null?(q=T(),q!==null?h=[h,m,n,q]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=s();m!==null;)h.push(m),m=s();if(h!==null)if(b.substr(a,1)===">"?(m=">",a+=1):(m=null,k&&f('">"')),m!==null){n=[];for(q=s();q!==null;)n.push(q),q=s();n!==null?(q=T(),q!==null?h=[h,m,n,q]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=s();m!==null;)h.push(m),m=s();if(h!==null)if(b.substr(a,
2)==="<="?(m="<=",a+=2):(m=null,k&&f('"<="')),m!==null){n=[];for(q=s();q!==null;)n.push(q),q=s();n!==null?(q=T(),q!==null?h=[h,m,n,q]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=s();m!==null;)h.push(m),m=s();if(h!==null)if(b.substr(a,2)===">="?(m=">=",a+=2):(m=null,k&&f('">="')),m!==null){n=[];for(q=s();q!==null;)n.push(q),q=s();n!==null?(q=T(),q!==null?h=[h,m,n,q]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;o=h!==null?h:null}}}}}for(;o!==
null;){j.push(o);o=a;h=[];for(m=s();m!==null;)h.push(m),m=s();if(h!==null)if(b.substr(a,1)==="="?(m="=",a+=1):(m=null,k&&f('"="')),m!==null){n=[];for(q=s();q!==null;)n.push(q),q=s();n!==null?(q=T(),q!==null?h=[h,m,n,q]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=s();m!==null;)h.push(m),m=s();if(h!==null)if(b.substr(a,2)==="!="?(m="!=",a+=2):(m=null,k&&f('"!="')),m!==null){n=[];for(q=s();q!==null;)n.push(q),q=s();n!==null?(q=T(),q!==null?h=[h,m,n,
q]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=s();m!==null;)h.push(m),m=s();if(h!==null)if(b.substr(a,1)==="<"?(m="<",a+=1):(m=null,k&&f('"<"')),m!==null){n=[];for(q=s();q!==null;)n.push(q),q=s();n!==null?(q=T(),q!==null?h=[h,m,n,q]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=s();m!==null;)h.push(m),m=s();if(h!==null)if(b.substr(a,1)===">"?(m=">",a+=1):(m=null,k&&f('">"')),m!==null){n=[];for(q=s();q!==
null;)n.push(q),q=s();n!==null?(q=T(),q!==null?h=[h,m,n,q]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=s();m!==null;)h.push(m),m=s();if(h!==null)if(b.substr(a,2)==="<="?(m="<=",a+=2):(m=null,k&&f('"<="')),m!==null){n=[];for(q=s();q!==null;)n.push(q),q=s();n!==null?(q=T(),q!==null?h=[h,m,n,q]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=s();m!==null;)h.push(m),m=s();if(h!==null)if(b.substr(a,2)===">="?
(m=">=",a+=2):(m=null,k&&f('">="')),m!==null){n=[];for(q=s();q!==null;)n.push(q),q=s();n!==null?(q=T(),q!==null?h=[h,m,n,q]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;o=h!==null?h:null}}}}}}j!==null?e=[e,j]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a,b){if(b.length===0)return a;else{var c={expressionType:"relationalexpression"};c.operator=b[0][1];c.op1=a;c.op2=b[0][3];c.token="expression";return c}}(e[0],e[1]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[99] RelationalExpression");
z[c]={nextPos:a,result:g};return g}function T(){var c="AdditiveExpression@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a,e=qa();if(e!==null){for(var h=[],j=a,m=[],n=s();n!==null;)m.push(n),n=s();if(m!==null)if(b.substr(a,1)==="+"?(n="+",a+=1):(n=null,k&&f('"+"')),n!==null){for(var r=[],q=s();q!==null;)r.push(q),q=s();r!==null?(q=qa(),q!==null?m=[m,n,r,q]:(m=null,a=j)):(m=null,a=j)}else m=null,a=j;else m=null,a=j;if(m!==null)j=m;else{j=a;m=[];for(n=s();n!==null;)m.push(n),n=s();if(m!==
null)if(b.substr(a,1)==="-"?(n="-",a+=1):(n=null,k&&f('"-"')),n!==null){r=[];for(q=s();q!==null;)r.push(q),q=s();r!==null?(q=qa(),q!==null?m=[m,n,r,q]:(m=null,a=j)):(m=null,a=j)}else m=null,a=j;else m=null,a=j;if(m!==null)j=m;else{j=a;m=ra();m===null&&(m=ra(),m=m!==null?m:null);if(m!==null){n=a;r=[];for(q=s();q!==null;)r.push(q),q=s();if(r!==null)if(b.substr(a,1)==="*"?(q="*",a+=1):(q=null,k&&f('"*"')),q!==null){for(var t=[],w=s();w!==null;)t.push(w),w=s();t!==null?(w=$(),w!==null?r=[r,q,t,w]:(r=
null,a=n)):(r=null,a=n)}else r=null,a=n;else r=null,a=n;if(r!==null)n=r;else{n=a;r=[];for(q=s();q!==null;)r.push(q),q=s();if(r!==null)if(b.substr(a,1)==="/"?(q="/",a+=1):(q=null,k&&f('"/"')),q!==null){t=[];for(w=s();w!==null;)t.push(w),w=s();t!==null?(w=$(),w!==null?r=[r,q,t,w]:(r=null,a=n)):(r=null,a=n)}else r=null,a=n;else r=null,a=n;n=r!==null?r:null}n=n!==null?n:"";n!==null?m=[m,n]:(m=null,a=j)}else m=null,a=j;j=m!==null?m:null}}for(;j!==null;){h.push(j);j=a;m=[];for(n=s();n!==null;)m.push(n),
n=s();if(m!==null)if(b.substr(a,1)==="+"?(n="+",a+=1):(n=null,k&&f('"+"')),n!==null){r=[];for(q=s();q!==null;)r.push(q),q=s();r!==null?(q=qa(),q!==null?m=[m,n,r,q]:(m=null,a=j)):(m=null,a=j)}else m=null,a=j;else m=null,a=j;if(m!==null)j=m;else{j=a;m=[];for(n=s();n!==null;)m.push(n),n=s();if(m!==null)if(b.substr(a,1)==="-"?(n="-",a+=1):(n=null,k&&f('"-"')),n!==null){r=[];for(q=s();q!==null;)r.push(q),q=s();r!==null?(q=qa(),q!==null?m=[m,n,r,q]:(m=null,a=j)):(m=null,a=j)}else m=null,a=j;else m=null,
a=j;if(m!==null)j=m;else{j=a;m=ra();m===null&&(m=ra(),m=m!==null?m:null);if(m!==null){n=a;r=[];for(q=s();q!==null;)r.push(q),q=s();if(r!==null)if(b.substr(a,1)==="*"?(q="*",a+=1):(q=null,k&&f('"*"')),q!==null){t=[];for(w=s();w!==null;)t.push(w),w=s();t!==null?(w=$(),w!==null?r=[r,q,t,w]:(r=null,a=n)):(r=null,a=n)}else r=null,a=n;else r=null,a=n;if(r!==null)n=r;else{n=a;r=[];for(q=s();q!==null;)r.push(q),q=s();if(r!==null)if(b.substr(a,1)==="/"?(q="/",a+=1):(q=null,k&&f('"/"')),q!==null){t=[];for(w=
s();w!==null;)t.push(w),w=s();t!==null?(w=$(),w!==null?r=[r,q,t,w]:(r=null,a=n)):(r=null,a=n)}else r=null,a=n;else r=null,a=n;n=r!==null?r:null}n=n!==null?n:"";n!==null?m=[m,n]:(m=null,a=j)}else m=null,a=j;j=m!==null?m:null}}}h!==null?e=[e,h]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a,b){if(b.length===0)return a;var c={token:"expression",expressionType:"additiveexpression"};c.summand=a;c.summands=[];for(var e=0;e<b.length;e++){var f=b[e],g={};if(f.length==4&&typeof f[1]==="string")g.operator=
f[1],g.expression=f[3];else{var f={},d=g[0],k=g[1][1],i=g[1][3],k=null;d.value<0?(g.operator="-",d.value=-d.value):g.operator="+";f.token="expression";f.expressionType="multiplicativeexpression";f.operator=d;f.factors=[{operator:k,expression:i}];g.expression=f}c.summands.push(g)}return c}(e[0],e[1]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[101] AdditiveExpression");z[c]={nextPos:a,result:g};return g}function qa(){var c="MultiplicativeExpression@"+a,d=z[c];if(d)return a=d.nextPos,d.result;
d=k;k=!1;var i=a,g=a,e=$();if(e!==null){for(var j=[],h=a,m=[],n=s();n!==null;)m.push(n),n=s();if(m!==null)if(b.substr(a,1)==="*"?(n="*",a+=1):(n=null,k&&f('"*"')),n!==null){for(var r=[],q=s();q!==null;)r.push(q),q=s();r!==null?(q=$(),q!==null?m=[m,n,r,q]:(m=null,a=h)):(m=null,a=h)}else m=null,a=h;else m=null,a=h;if(m!==null)h=m;else{h=a;m=[];for(n=s();n!==null;)m.push(n),n=s();if(m!==null)if(b.substr(a,1)==="/"?(n="/",a+=1):(n=null,k&&f('"/"')),n!==null){r=[];for(q=s();q!==null;)r.push(q),q=s();r!==
null?(q=$(),q!==null?m=[m,n,r,q]:(m=null,a=h)):(m=null,a=h)}else m=null,a=h;else m=null,a=h;h=m!==null?m:null}for(;h!==null;){j.push(h);h=a;m=[];for(n=s();n!==null;)m.push(n),n=s();if(m!==null)if(b.substr(a,1)==="*"?(n="*",a+=1):(n=null,k&&f('"*"')),n!==null){r=[];for(q=s();q!==null;)r.push(q),q=s();r!==null?(q=$(),q!==null?m=[m,n,r,q]:(m=null,a=h)):(m=null,a=h)}else m=null,a=h;else m=null,a=h;if(m!==null)h=m;else{h=a;m=[];for(n=s();n!==null;)m.push(n),n=s();if(m!==null)if(b.substr(a,1)==="/"?(n=
"/",a+=1):(n=null,k&&f('"/"')),n!==null){r=[];for(q=s();q!==null;)r.push(q),q=s();r!==null?(q=$(),q!==null?m=[m,n,r,q]:(m=null,a=h)):(m=null,a=h)}else m=null,a=h;else m=null,a=h;h=m!==null?m:null}}j!==null?e=[e,j]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a,b){if(b.length===0)return a;var c={token:"expression",expressionType:"multiplicativeexpression"};c.factor=a;c.factors=[];for(var e=0;e<b.length;e++){var f=b[e],g={};g.operator=f[1];g.expression=f[3];c.factors.push(g)}return c}(e[0],e[1]):
null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[102] MultiplicativeExpression");z[c]={nextPos:a,result:g};return g}function $(){var c="UnaryExpression@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var h=a,g=a;if(b.substr(a,1)==="!"){var e="!";a+=1}else e=null,k&&f('"!"');if(e!==null){for(var i=[],j=s();j!==null;)i.push(j),j=s();i!==null?(j=Da(),j!==null?e=[e,i,j]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;g=e!==null?function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"!"};
b.expression=a;return b}(e[2]):null;g===null&&(g=null,a=h);if(g!==null)h=g;else{g=h=a;b.substr(a,1)==="+"?(e="+",a+=1):(e=null,k&&f('"+"'));if(e!==null){i=[];for(j=s();j!==null;)i.push(j),j=s();i!==null?(j=Da(),j!==null?e=[e,i,j]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;g=e!==null?function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"+"};b.expression=a;return b}(e[2]):null;g===null&&(g=null,a=h);if(g!==null)h=g;else{g=h=a;b.substr(a,1)==="-"?(e="-",a+=1):(e=null,
k&&f('"-"'));if(e!==null){i=[];for(j=s();j!==null;)i.push(j),j=s();i!==null?(j=Da(),j!==null?e=[e,i,j]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;g=e!==null?function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"-"};b.expression=a;return b}(e[2]):null;g===null&&(g=null,a=h);g!==null?h=g:(h=Da(),h=h!==null?h:null)}}(k=d)&&h===null&&f("[103] UnaryExpression");z[c]={nextPos:a,result:h};return h}function Da(){var b="PrimaryExpression@"+a,c=z[b];if(c)return a=c.nextPos,
c.result;c=k;k=!1;var d=Ia();if(d===null&&(d=Ha(),d===null&&(d=Zb(),d===null))){var d=a,g=Ja(),g=g!==null?function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"rdfliteral"};b.value=a;return b}(g):null;g===null&&(g=null,a=d);g!==null?d=g:(d=a,g=Ka(),g=g!==null?function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"numericliteral"};b.value=a;return b}(g):null,g===null&&(g=null,a=d),g!==null?d=g:(d=a,g=La(),g=g!==null?function(a){var b={token:"expression",
expressionType:"atomic",primaryexpression:"booleanliteral"};b.value=a;return b}(g):null,g===null&&(g=null,a=d),g!==null?d=g:(d=$b(),d===null&&(d=a,g=P(),g=g!==null?function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"var"};b.value=a;return b}(g):null,g===null&&(g=null,a=d),d=g!==null?g:null))))}(k=c)&&d===null&&f("[104] PrimaryExpression");z[b]={nextPos:a,result:d};return d}function Ia(){var c="BrackettedExpression@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var h=
a,g=a;if(b.substr(a,1)==="("){var e="(";a+=1}else e=null,k&&f('"("');if(e!==null){for(var j=[],i=s();i!==null;)j.push(i),i=s();if(j!==null)if(i=L(),i!==null){for(var m=[],n=s();n!==null;)m.push(n),n=s();m!==null?(b.substr(a,1)===")"?(n=")",a+=1):(n=null,k&&f('")"')),n!==null?e=[e,j,i,m,n]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;g=e!==null?e[2]:null;g===null&&(g=null,a=h);(k=d)&&g===null&&f("[105] BrackettedExpression");z[c]={nextPos:a,result:g};return g}function Ha(){var c=
"BuiltInCall@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var h=a,g=a;if(b.substr(a,1)==="S"){var e="S";a+=1}else e=null,k&&f('"S"');e===null&&(b.substr(a,1)==="s"?(e="s",a+=1):(e=null,k&&f('"s"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="T"){var j="T";a+=1}else j=null,k&&f('"T"');j===null&&(b.substr(a,1)==="t"?(j="t",a+=1):(j=null,k&&f('"t"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="R"){var i="R";a+=1}else i=null,k&&f('"R"');i===null&&(b.substr(a,1)==="r"?(i="r",a+=
1):(i=null,k&&f('"r"')),i=i!==null?i:null);if(i!==null){for(var m=[],n=s();n!==null;)m.push(n),n=s();if(m!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,k&&f('"("')),n!==null){for(var r=[],q=s();q!==null;)r.push(q),q=s();if(r!==null)if(q=L(),q!==null){for(var t=[],w=s();w!==null;)t.push(w),w=s();t!==null?(b.substr(a,1)===")"?(w=")",a+=1):(w=null,k&&f('")"')),w!==null?e=[e,j,i,m,n,r,q,t,w]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=
g}else e=null,a=g}else e=null,a=g;g=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"str"};b.args=[a];return b}(e[6]):null;g===null&&(g=null,a=h);if(g!==null)h=g;else{g=h=a;b.substr(a,1)==="L"?(e="L",a+=1):(e=null,k&&f('"L"'));e===null&&(b.substr(a,1)==="l"?(e="l",a+=1):(e=null,k&&f('"l"')),e=e!==null?e:null);if(e!==null)if(b.substr(a,1)==="A"?(j="A",a+=1):(j=null,k&&f('"A"')),j===null&&(b.substr(a,1)==="a"?(j="a",a+=1):(j=null,k&&f('"a"')),j=j!==null?j:null),
j!==null)if(b.substr(a,1)==="N"?(i="N",a+=1):(i=null,k&&f('"N"')),i===null&&(b.substr(a,1)==="n"?(i="n",a+=1):(i=null,k&&f('"n"')),i=i!==null?i:null),i!==null)if(b.substr(a,1)==="G"?(m="G",a+=1):(m=null,k&&f('"G"')),m===null&&(b.substr(a,1)==="g"?(m="g",a+=1):(m=null,k&&f('"g"')),m=m!==null?m:null),m!==null){n=[];for(r=s();r!==null;)n.push(r),r=s();if(n!==null)if(b.substr(a,1)==="("?(r="(",a+=1):(r=null,k&&f('"("')),r!==null){q=[];for(t=s();t!==null;)q.push(t),t=s();if(q!==null)if(t=L(),t!==null){for(var w=
[],x=s();x!==null;)w.push(x),x=s();w!==null?(b.substr(a,1)===")"?(x=")",a+=1):(x=null,k&&f('")"')),x!==null?e=[e,j,i,m,n,r,q,t,w,x]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g;else e=null,a=g;else e=null,a=g;g=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"lang"};b.args=[a];return b}(e[7]):null;g===null&&(g=null,a=h);if(g!==null)h=g;else{g=h=a;b.substr(a,11)==="LANGMATCHES"?(e=
"LANGMATCHES",a+=11):(e=null,k&&f('"LANGMATCHES"'));if(e!==null){j=[];for(i=s();i!==null;)j.push(i),i=s();if(j!==null)if(b.substr(a,1)==="("?(i="(",a+=1):(i=null,k&&f('"("')),i!==null){m=[];for(n=s();n!==null;)m.push(n),n=s();if(m!==null)if(n=L(),n!==null){r=[];for(q=s();q!==null;)r.push(q),q=s();if(r!==null)if(b.substr(a,1)===","?(q=",",a+=1):(q=null,k&&f('","')),q!==null){t=[];for(w=s();w!==null;)t.push(w),w=s();if(t!==null)if(w=L(),w!==null){for(var x=[],y=s();y!==null;)x.push(y),y=s();x!==null?
(b.substr(a,1)===")"?(y=")",a+=1):(y=null,k&&f('")"')),y!==null?e=[e,j,i,m,n,r,q,t,w,x,y]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;g=e!==null?function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"langmatches"};c.args=[a,b];return c}(e[4],e[8]):null;g===null&&(g=null,a=h);if(g!==null)h=g;else{g=h=a;b.substr(a,1)==="D"?(e="D",a+=1):(e=null,k&&
f('"D"'));e===null&&(b.substr(a,1)==="d"?(e="d",a+=1):(e=null,k&&f('"d"')),e=e!==null?e:null);if(e!==null)if(b.substr(a,1)==="A"?(j="A",a+=1):(j=null,k&&f('"A"')),j===null&&(b.substr(a,1)==="a"?(j="a",a+=1):(j=null,k&&f('"a"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="T"?(i="T",a+=1):(i=null,k&&f('"T"')),i===null&&(b.substr(a,1)==="t"?(i="t",a+=1):(i=null,k&&f('"t"')),i=i!==null?i:null),i!==null)if(b.substr(a,1)==="A"?(m="A",a+=1):(m=null,k&&f('"A"')),m===null&&(b.substr(a,1)==="a"?(m="a",
a+=1):(m=null,k&&f('"a"')),m=m!==null?m:null),m!==null)if(b.substr(a,1)==="T"?(n="T",a+=1):(n=null,k&&f('"T"')),n===null&&(b.substr(a,1)==="t"?(n="t",a+=1):(n=null,k&&f('"t"')),n=n!==null?n:null),n!==null)if(b.substr(a,1)==="Y"?(r="Y",a+=1):(r=null,k&&f('"Y"')),r===null&&(b.substr(a,1)==="y"?(r="y",a+=1):(r=null,k&&f('"y"')),r=r!==null?r:null),r!==null)if(b.substr(a,1)==="P"?(q="P",a+=1):(q=null,k&&f('"P"')),q===null&&(b.substr(a,1)==="p"?(q="p",a+=1):(q=null,k&&f('"p"')),q=q!==null?q:null),q!==null)if(b.substr(a,
1)==="E"?(t="E",a+=1):(t=null,k&&f('"E"')),t===null&&(b.substr(a,1)==="e"?(t="e",a+=1):(t=null,k&&f('"e"')),t=t!==null?t:null),t!==null){w=[];for(x=s();x!==null;)w.push(x),x=s();if(w!==null)if(b.substr(a,1)==="("?(x="(",a+=1):(x=null,k&&f('"("')),x!==null){for(var y=[],B=s();B!==null;)y.push(B),B=s();if(y!==null)if(B=L(),B!==null){for(var A=[],D=s();D!==null;)A.push(D),D=s();A!==null?(b.substr(a,1)===")"?(D=")",a+=1):(D=null,k&&f('")"')),D!==null?e=[e,j,i,m,n,r,q,t,w,x,y,B,A,D]:(e=null,a=g)):(e=null,
a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g;else e=null,a=g;else e=null,a=g;else e=null,a=g;else e=null,a=g;else e=null,a=g;else e=null,a=g;g=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"datatype"};b.args=[a];return b}(e[11]):null;g===null&&(g=null,a=h);if(g!==null)h=g;else{g=h=a;b.substr(a,5)==="BOUND"?(e="BOUND",a+=5):(e=null,k&&f('"BOUND"'));if(e!==null){j=[];for(i=s();i!==null;)j.push(i),i=s();
if(j!==null)if(b.substr(a,1)==="("?(i="(",a+=1):(i=null,k&&f('"("')),i!==null){m=[];for(n=s();n!==null;)m.push(n),n=s();if(m!==null)if(n=P(),n!==null){r=[];for(q=s();q!==null;)r.push(q),q=s();r!==null?(b.substr(a,1)===")"?(q=")",a+=1):(q=null,k&&f('")"')),q!==null?e=[e,j,i,m,n,r,q]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;g=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bound"};b.args=[a];return b}(e[4]):
null;g===null&&(g=null,a=h);if(g!==null)h=g;else{g=h=a;b.substr(a,3)==="IRI"?(e="IRI",a+=3):(e=null,k&&f('"IRI"'));if(e!==null){j=[];for(i=s();i!==null;)j.push(i),i=s();if(j!==null)if(b.substr(a,1)==="("?(i="(",a+=1):(i=null,k&&f('"("')),i!==null){m=[];for(n=s();n!==null;)m.push(n),n=s();if(m!==null)if(n=L(),n!==null){r=[];for(q=s();q!==null;)r.push(q),q=s();r!==null?(b.substr(a,1)===")"?(q=")",a+=1):(q=null,k&&f('")"')),q!==null?e=[e,j,i,m,n,r,q]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=
null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;g=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"iri"};b.args=[a];return b}(e[4]):null;g===null&&(g=null,a=h);if(g!==null)h=g;else{g=h=a;b.substr(a,3)==="URI"?(e="URI",a+=3):(e=null,k&&f('"URI"'));if(e!==null){j=[];for(i=s();i!==null;)j.push(i),i=s();if(j!==null)if(b.substr(a,1)==="("?(i="(",a+=1):(i=null,k&&f('"("')),i!==null){m=[];for(n=s();n!==null;)m.push(n),n=s();if(m!==null)if(n=L(),n!==null){r=
[];for(q=s();q!==null;)r.push(q),q=s();r!==null?(b.substr(a,1)===")"?(q=")",a+=1):(q=null,k&&f('")"')),q!==null?e=[e,j,i,m,n,r,q]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;g=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"uri"};b.args=[a];return b}(e[4]):null;g===null&&(g=null,a=h);if(g!==null)h=g;else{g=h=a;b.substr(a,5)==="BNODE"?(e="BNODE",a+=5):(e=null,k&&f('"BNODE"'));if(e!==null){j=[];for(i=
s();i!==null;)j.push(i),i=s();if(j!==null){i=a;b.substr(a,1)==="("?(m="(",a+=1):(m=null,k&&f('"("'));if(m!==null){n=[];for(r=s();r!==null;)n.push(r),r=s();if(n!==null)if(r=L(),r!==null){q=[];for(t=s();t!==null;)q.push(t),t=s();q!==null?(b.substr(a,1)===")"?(t=")",a+=1):(t=null,k&&f('")"')),t!==null?m=[m,n,r,q,t]:(m=null,a=i)):(m=null,a=i)}else m=null,a=i;else m=null,a=i}else m=null,a=i;m!==null?i=m:(i=ia(),i=i!==null?i:null);i!==null?e=[e,j,i]:(e=null,a=g)}else e=null,a=g}else e=null,a=g;g=e!==null?
function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bnode"};b.args=a.length===5?[a[2]]:null;return b}(e[2]):null;g===null&&(g=null,a=h);if(g!==null)h=g;else{g=h=a;b.substr(a,8)==="COALESCE"?(e="COALESCE",a+=8):(e=null,k&&f('"COALESCE"'));if(e!==null){j=[];for(i=s();i!==null;)j.push(i),i=s();j!==null?(i=Ob(),i!==null?e=[e,j,i]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;g=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"coalesce"};
b.args=a;return b}(e[2]):null;g===null&&(g=null,a=h);if(g!==null)h=g;else{g=h=a;b.substr(a,2)==="IF"?(e="IF",a+=2):(e=null,k&&f('"IF"'));if(e!==null){j=[];for(i=s();i!==null;)j.push(i),i=s();if(j!==null)if(b.substr(a,1)==="("?(i="(",a+=1):(i=null,k&&f('"("')),i!==null){m=[];for(n=s();n!==null;)m.push(n),n=s();if(m!==null)if(n=L(),n!==null){r=[];for(q=s();q!==null;)r.push(q),q=s();if(r!==null)if(b.substr(a,1)===","?(q=",",a+=1):(q=null,k&&f('","')),q!==null){t=[];for(w=s();w!==null;)t.push(w),w=s();
if(t!==null)if(w=L(),w!==null){x=[];for(y=s();y!==null;)x.push(y),y=s();if(x!==null)if(b.substr(a,1)===","?(y=",",a+=1):(y=null,k&&f('","')),y!==null){B=[];for(A=s();A!==null;)B.push(A),A=s();if(B!==null)if(A=L(),A!==null){for(var D=[],G=s();G!==null;)D.push(G),G=s();D!==null?(b.substr(a,1)===")"?(G=")",a+=1):(G=null,k&&f('")"')),G!==null?e=[e,j,i,m,n,r,q,t,w,x,y,B,A,D,G]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=
null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;g=e!==null?function(a,b,c){var e={token:"expression",expressionType:"builtincall",builtincall:"if"};e.args=[a,b,c];return e}(e[4],e[8],e[12]):null;g===null&&(g=null,a=h);if(g!==null)h=g;else{g=h=a;b.substr(a,9)==="ISLITERAL"?(e="ISLITERAL",a+=9):(e=null,k&&f('"ISLITERAL"'));if(e!==null){j=[];for(i=s();i!==null;)j.push(i),i=s();if(j!==null)if(b.substr(a,1)==="("?(i="(",a+=1):(i=null,k&&f('"("')),
i!==null){m=[];for(n=s();n!==null;)m.push(n),n=s();if(m!==null)if(n=L(),n!==null){r=[];for(q=s();q!==null;)r.push(q),q=s();r!==null?(b.substr(a,1)===")"?(q=")",a+=1):(q=null,k&&f('")"')),q!==null?e=[e,j,i,m,n,r,q]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;g=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isliteral"};b.args=[a];return b}(e[4]):null;g===null&&(g=null,a=h);if(g!==null)h=g;else{g=
h=a;b.substr(a,7)==="ISBLANK"?(e="ISBLANK",a+=7):(e=null,k&&f('"ISBLANK"'));if(e!==null){j=[];for(i=s();i!==null;)j.push(i),i=s();if(j!==null)if(b.substr(a,1)==="("?(i="(",a+=1):(i=null,k&&f('"("')),i!==null){m=[];for(n=s();n!==null;)m.push(n),n=s();if(m!==null)if(n=L(),n!==null){r=[];for(q=s();q!==null;)r.push(q),q=s();r!==null?(b.substr(a,1)===")"?(q=")",a+=1):(q=null,k&&f('")"')),q!==null?e=[e,j,i,m,n,r,q]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=
g}else e=null,a=g;g=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isblank"};b.args=[a];return b}(e[4]):null;g===null&&(g=null,a=h);if(g!==null)h=g;else{g=h=a;b.substr(a,8)==="SAMETERM"?(e="SAMETERM",a+=8):(e=null,k&&f('"SAMETERM"'));if(e!==null){j=[];for(i=s();i!==null;)j.push(i),i=s();if(j!==null)if(b.substr(a,1)==="("?(i="(",a+=1):(i=null,k&&f('"("')),i!==null){m=[];for(n=s();n!==null;)m.push(n),n=s();if(m!==null)if(n=L(),n!==null){r=[];for(q=s();q!==null;)r.push(q),
q=s();if(r!==null)if(b.substr(a,1)===","?(q=",",a+=1):(q=null,k&&f('","')),q!==null){t=[];for(w=s();w!==null;)t.push(w),w=s();if(t!==null)if(w=L(),w!==null){x=[];for(y=s();y!==null;)x.push(y),y=s();x!==null?(b.substr(a,1)===")"?(y=")",a+=1):(y=null,k&&f('")"')),y!==null?e=[e,j,i,m,n,r,q,t,w,x,y]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;g=e!==null?function(a,b){var c={token:"expression",
expressionType:"builtincall",builtincall:"sameterm"};c.args=[a,b];return c}(e[4],e[8]):null;g===null&&(g=null,a=h);if(g!==null)h=g;else{g=h=a;b.substr(a,1)==="I"?(e="I",a+=1):(e=null,k&&f('"I"'));e===null&&(b.substr(a,1)==="i"?(e="i",a+=1):(e=null,k&&f('"i"')),e=e!==null?e:null);if(e!==null)if(b.substr(a,1)==="S"?(j="S",a+=1):(j=null,k&&f('"S"')),j===null&&(b.substr(a,1)==="s"?(j="s",a+=1):(j=null,k&&f('"s"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="U"?(i="U",a+=1):(i=null,k&&f('"U"')),i===
null&&(b.substr(a,1)==="u"?(i="u",a+=1):(i=null,k&&f('"u"')),i=i!==null?i:null),i!==null)if(b.substr(a,1)==="R"?(m="R",a+=1):(m=null,k&&f('"R"')),m===null&&(b.substr(a,1)==="r"?(m="r",a+=1):(m=null,k&&f('"r"')),m=m!==null?m:null),m!==null)if(b.substr(a,1)==="I"?(n="I",a+=1):(n=null,k&&f('"I"')),n===null&&(b.substr(a,1)==="i"?(n="i",a+=1):(n=null,k&&f('"i"')),n=n!==null?n:null),n!==null){r=[];for(q=s();q!==null;)r.push(q),q=s();if(r!==null)if(b.substr(a,1)==="("?(q="(",a+=1):(q=null,k&&f('"("')),q!==
null){t=[];for(w=s();w!==null;)t.push(w),w=s();if(t!==null)if(w=L(),w!==null){x=[];for(y=s();y!==null;)x.push(y),y=s();x!==null?(b.substr(a,1)===")"?(y=")",a+=1):(y=null,k&&f('")"')),y!==null?e=[e,j,i,m,n,r,q,t,w,x,y]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g;else e=null,a=g;else e=null,a=g;else e=null,a=g;g=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isuri"};b.args=[a];return b}(e[8]):
null;g===null&&(g=null,a=h);if(g!==null)h=g;else{g=h=a;b.substr(a,1)==="I"?(e="I",a+=1):(e=null,k&&f('"I"'));e===null&&(b.substr(a,1)==="i"?(e="i",a+=1):(e=null,k&&f('"i"')),e=e!==null?e:null);if(e!==null)if(b.substr(a,1)==="S"?(j="S",a+=1):(j=null,k&&f('"S"')),j===null&&(b.substr(a,1)==="s"?(j="s",a+=1):(j=null,k&&f('"s"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="I"?(i="I",a+=1):(i=null,k&&f('"I"')),i===null&&(b.substr(a,1)==="i"?(i="i",a+=1):(i=null,k&&f('"i"')),i=i!==null?i:null),i!==null)if(b.substr(a,
1)==="R"?(m="R",a+=1):(m=null,k&&f('"R"')),m===null&&(b.substr(a,1)==="r"?(m="r",a+=1):(m=null,k&&f('"r"')),m=m!==null?m:null),m!==null)if(b.substr(a,1)==="I"?(n="I",a+=1):(n=null,k&&f('"I"')),n===null&&(b.substr(a,1)==="i"?(n="i",a+=1):(n=null,k&&f('"i"')),n=n!==null?n:null),n!==null){r=[];for(q=s();q!==null;)r.push(q),q=s();if(r!==null)if(b.substr(a,1)==="("?(q="(",a+=1):(q=null,k&&f('"("')),q!==null){t=[];for(w=s();w!==null;)t.push(w),w=s();if(t!==null)if(w=L(),w!==null){x=[];for(y=s();y!==null;)x.push(y),
y=s();x!==null?(b.substr(a,1)===")"?(y=")",a+=1):(y=null,k&&f('")"')),y!==null?e=[e,j,i,m,n,r,q,t,w,x,y]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g;else e=null,a=g;else e=null,a=g;else e=null,a=g;g=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isuri"};b.args=[a];return b}(e[8]):null;g===null&&(g=null,a=h);g!==null?h=g:(h=ac(),h=h!==null?h:null)}}}}}}}}}}}}}}(k=d)&&h===null&&f("[106] BuiltInCall");
z[c]={nextPos:a,result:h};return h}function ac(){var c="RegexExpression@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a;if(b.substr(a,1)==="R"){var e="R";a+=1}else e=null,k&&f('"R"');e===null&&(b.substr(a,1)==="r"?(e="r",a+=1):(e=null,k&&f('"r"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="E"){var j="E";a+=1}else j=null,k&&f('"E"');j===null&&(b.substr(a,1)==="e"?(j="e",a+=1):(j=null,k&&f('"e"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="G"){var h="G";a+=1}else h=
null,k&&f('"G"');h===null&&(b.substr(a,1)==="g"?(h="g",a+=1):(h=null,k&&f('"g"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="E"){var m="E";a+=1}else m=null,k&&f('"E"');m===null&&(b.substr(a,1)==="e"?(m="e",a+=1):(m=null,k&&f('"e"')),m=m!==null?m:null);if(m!==null){if(b.substr(a,1)==="X"){var n="X";a+=1}else n=null,k&&f('"X"');n===null&&(b.substr(a,1)==="x"?(n="x",a+=1):(n=null,k&&f('"x"')),n=n!==null?n:null);if(n!==null){for(var r=[],q=s();q!==null;)r.push(q),q=s();if(r!==null)if(b.substr(a,
1)==="("?(q="(",a+=1):(q=null,k&&f('"("')),q!==null){for(var t=[],w=s();w!==null;)t.push(w),w=s();if(t!==null)if(w=L(),w!==null){for(var x=[],y=s();y!==null;)x.push(y),y=s();if(x!==null)if(b.substr(a,1)===","?(y=",",a+=1):(y=null,k&&f('","')),y!==null){for(var B=[],A=s();A!==null;)B.push(A),A=s();if(B!==null)if(A=L(),A!==null){for(var D=[],G=s();G!==null;)D.push(G),G=s();if(D!==null){G=a;if(b.substr(a,1)===","){var E=",";a+=1}else E=null,k&&f('","');if(E!==null){for(var F=[],M=s();M!==null;)F.push(M),
M=s();F!==null?(M=L(),M!==null?E=[E,F,M]:(E=null,a=G)):(E=null,a=G)}else E=null,a=G;G=E!==null?E:"";if(G!==null){E=[];for(F=s();F!==null;)E.push(F),F=s();E!==null?(b.substr(a,1)===")"?(F=")",a+=1):(F=null,k&&f('")"')),F!==null?e=[e,j,h,m,n,r,q,t,w,x,y,B,A,D,G,E,F]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=
null,a=g}else e=null,a=g;g=e!==null?function(a,b,c){var e={token:"expression",expressionType:"regex"};e.text=a;e.pattern=b;e.flags=c[2];return e}(e[8],e[12],e[14]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[107] RegexExpression");z[c]={nextPos:a,result:g};return g}function $b(){var c="Aggregate@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a;if(b.substr(a,1)==="C"){var e="C";a+=1}else e=null,k&&f('"C"');e===null&&(b.substr(a,1)==="c"?(e="c",a+=1):(e=null,k&&f('"c"')),e=e!==
null?e:null);if(e!==null){if(b.substr(a,1)==="O"){var j="O";a+=1}else j=null,k&&f('"O"');j===null&&(b.substr(a,1)==="o"?(j="o",a+=1):(j=null,k&&f('"o"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="U"){var h="U";a+=1}else h=null,k&&f('"U"');h===null&&(b.substr(a,1)==="u"?(h="u",a+=1):(h=null,k&&f('"u"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="N"){var m="N";a+=1}else m=null,k&&f('"N"');m===null&&(b.substr(a,1)==="n"?(m="n",a+=1):(m=null,k&&f('"n"')),m=m!==null?m:null);if(m!==null){if(b.substr(a,
1)==="T"){var n="T";a+=1}else n=null,k&&f('"T"');n===null&&(b.substr(a,1)==="t"?(n="t",a+=1):(n=null,k&&f('"t"')),n=n!==null?n:null);if(n!==null){for(var r=[],q=s();q!==null;)r.push(q),q=s();if(r!==null)if(b.substr(a,1)==="("?(q="(",a+=1):(q=null,k&&f('"("')),q!==null){for(var t=[],w=s();w!==null;)t.push(w),w=s();if(t!==null){w=a;if(b.substr(a,1)==="D"){var x="D";a+=1}else x=null,k&&f('"D"');x===null&&(b.substr(a,1)==="d"?(x="d",a+=1):(x=null,k&&f('"d"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,
1)==="I"){var y="I";a+=1}else y=null,k&&f('"I"');y===null&&(b.substr(a,1)==="i"?(y="i",a+=1):(y=null,k&&f('"i"')),y=y!==null?y:null);if(y!==null){if(b.substr(a,1)==="S"){var B="S";a+=1}else B=null,k&&f('"S"');B===null&&(b.substr(a,1)==="s"?(B="s",a+=1):(B=null,k&&f('"s"')),B=B!==null?B:null);if(B!==null){if(b.substr(a,1)==="T"){var A="T";a+=1}else A=null,k&&f('"T"');A===null&&(b.substr(a,1)==="t"?(A="t",a+=1):(A=null,k&&f('"t"')),A=A!==null?A:null);if(A!==null){if(b.substr(a,1)==="I"){var D="I";a+=
1}else D=null,k&&f('"I"');D===null&&(b.substr(a,1)==="i"?(D="i",a+=1):(D=null,k&&f('"i"')),D=D!==null?D:null);if(D!==null){if(b.substr(a,1)==="N"){var G="N";a+=1}else G=null,k&&f('"N"');G===null&&(b.substr(a,1)==="n"?(G="n",a+=1):(G=null,k&&f('"n"')),G=G!==null?G:null);if(G!==null){if(b.substr(a,1)==="C"){var E="C";a+=1}else E=null,k&&f('"C"');E===null&&(b.substr(a,1)==="c"?(E="c",a+=1):(E=null,k&&f('"c"')),E=E!==null?E:null);if(E!==null){if(b.substr(a,1)==="T"){var F="T";a+=1}else F=null,k&&f('"T"');
F===null&&(b.substr(a,1)==="t"?(F="t",a+=1):(F=null,k&&f('"t"')),F=F!==null?F:null);F!==null?x=[x,y,B,A,D,G,E,F]:(x=null,a=w)}else x=null,a=w}else x=null,a=w}else x=null,a=w}else x=null,a=w}else x=null,a=w}else x=null,a=w}else x=null,a=w;w=x!==null?x:"";if(w!==null){x=[];for(y=s();y!==null;)x.push(y),y=s();if(x!==null)if(b.substr(a,1)==="*"?(y="*",a+=1):(y=null,k&&f('"*"')),y===null&&(y=L(),y=y!==null?y:null),y!==null){B=[];for(A=s();A!==null;)B.push(A),A=s();if(B!==null)if(b.substr(a,1)===")"?(A=
")",a+=1):(A=null,k&&f('")"')),A!==null){D=[];for(G=s();G!==null;)D.push(G),G=s();D!==null?e=[e,j,h,m,n,r,q,t,w,x,y,B,A,D]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"count"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(e[8],
e[10]):null;g===null&&(g=null,a=i);if(g!==null)i=g;else{g=i=a;b.substr(a,1)==="S"?(e="S",a+=1):(e=null,k&&f('"S"'));e===null&&(b.substr(a,1)==="s"?(e="s",a+=1):(e=null,k&&f('"s"')),e=e!==null?e:null);if(e!==null)if(b.substr(a,1)==="U"?(j="U",a+=1):(j=null,k&&f('"U"')),j===null&&(b.substr(a,1)==="u"?(j="u",a+=1):(j=null,k&&f('"u"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="M"?(h="M",a+=1):(h=null,k&&f('"M"')),h===null&&(b.substr(a,1)==="m"?(h="m",a+=1):(h=null,k&&f('"m"')),h=h!==null?h:null),
h!==null){m=[];for(n=s();n!==null;)m.push(n),n=s();if(m!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,k&&f('"("')),n!==null){r=[];for(q=s();q!==null;)r.push(q),q=s();if(r!==null)if(q=a,b.substr(a,1)==="D"?(t="D",a+=1):(t=null,k&&f('"D"')),t===null&&(b.substr(a,1)==="d"?(t="d",a+=1):(t=null,k&&f('"d"')),t=t!==null?t:null),t!==null?(b.substr(a,1)==="I"?(w="I",a+=1):(w=null,k&&f('"I"')),w===null&&(b.substr(a,1)==="i"?(w="i",a+=1):(w=null,k&&f('"i"')),w=w!==null?w:null),w!==null?(b.substr(a,1)===
"S"?(x="S",a+=1):(x=null,k&&f('"S"')),x===null&&(b.substr(a,1)==="s"?(x="s",a+=1):(x=null,k&&f('"s"')),x=x!==null?x:null),x!==null?(b.substr(a,1)==="T"?(y="T",a+=1):(y=null,k&&f('"T"')),y===null&&(b.substr(a,1)==="t"?(y="t",a+=1):(y=null,k&&f('"t"')),y=y!==null?y:null),y!==null?(b.substr(a,1)==="I"?(B="I",a+=1):(B=null,k&&f('"I"')),B===null&&(b.substr(a,1)==="i"?(B="i",a+=1):(B=null,k&&f('"i"')),B=B!==null?B:null),B!==null?(b.substr(a,1)==="N"?(A="N",a+=1):(A=null,k&&f('"N"')),A===null&&(b.substr(a,
1)==="n"?(A="n",a+=1):(A=null,k&&f('"n"')),A=A!==null?A:null),A!==null?(b.substr(a,1)==="C"?(D="C",a+=1):(D=null,k&&f('"C"')),D===null&&(b.substr(a,1)==="c"?(D="c",a+=1):(D=null,k&&f('"c"')),D=D!==null?D:null),D!==null?(b.substr(a,1)==="T"?(G="T",a+=1):(G=null,k&&f('"T"')),G===null&&(b.substr(a,1)==="t"?(G="t",a+=1):(G=null,k&&f('"t"')),G=G!==null?G:null),G!==null?t=[t,w,x,y,B,A,D,G]:(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q),q=t!==
null?t:"",q!==null){t=[];for(w=s();w!==null;)t.push(w),w=s();if(t!==null)if(w=L(),w!==null){x=[];for(y=s();y!==null;)x.push(y),y=s();if(x!==null)if(b.substr(a,1)===")"?(y=")",a+=1):(y=null,k&&f('")"')),y!==null){B=[];for(A=s();A!==null;)B.push(A),A=s();B!==null?e=[e,j,h,m,n,r,q,t,w,x,y,B]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g;else e=null,a=g;g=e!==null?function(a,
b){exp={token:"expression",expressionType:"aggregate",aggregateType:"sum"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(e[6],e[8]):null;g===null&&(g=null,a=i);if(g!==null)i=g;else{g=i=a;b.substr(a,1)==="M"?(e="M",a+=1):(e=null,k&&f('"M"'));e===null&&(b.substr(a,1)==="m"?(e="m",a+=1):(e=null,k&&f('"m"')),e=e!==null?e:null);if(e!==null)if(b.substr(a,1)==="I"?(j="I",a+=1):(j=null,k&&f('"I"')),j===null&&(b.substr(a,1)==="i"?(j="i",a+=1):(j=null,k&&f('"i"')),j=j!==null?j:null),j!==null)if(b.substr(a,
1)==="N"?(h="N",a+=1):(h=null,k&&f('"N"')),h===null&&(b.substr(a,1)==="n"?(h="n",a+=1):(h=null,k&&f('"n"')),h=h!==null?h:null),h!==null){m=[];for(n=s();n!==null;)m.push(n),n=s();if(m!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,k&&f('"("')),n!==null){r=[];for(q=s();q!==null;)r.push(q),q=s();if(r!==null)if(q=a,b.substr(a,1)==="D"?(t="D",a+=1):(t=null,k&&f('"D"')),t===null&&(b.substr(a,1)==="d"?(t="d",a+=1):(t=null,k&&f('"d"')),t=t!==null?t:null),t!==null?(b.substr(a,1)==="I"?(w="I",a+=1):(w=
null,k&&f('"I"')),w===null&&(b.substr(a,1)==="i"?(w="i",a+=1):(w=null,k&&f('"i"')),w=w!==null?w:null),w!==null?(b.substr(a,1)==="S"?(x="S",a+=1):(x=null,k&&f('"S"')),x===null&&(b.substr(a,1)==="s"?(x="s",a+=1):(x=null,k&&f('"s"')),x=x!==null?x:null),x!==null?(b.substr(a,1)==="T"?(y="T",a+=1):(y=null,k&&f('"T"')),y===null&&(b.substr(a,1)==="t"?(y="t",a+=1):(y=null,k&&f('"t"')),y=y!==null?y:null),y!==null?(b.substr(a,1)==="I"?(B="I",a+=1):(B=null,k&&f('"I"')),B===null&&(b.substr(a,1)==="i"?(B="i",a+=
1):(B=null,k&&f('"i"')),B=B!==null?B:null),B!==null?(b.substr(a,1)==="N"?(A="N",a+=1):(A=null,k&&f('"N"')),A===null&&(b.substr(a,1)==="n"?(A="n",a+=1):(A=null,k&&f('"n"')),A=A!==null?A:null),A!==null?(b.substr(a,1)==="C"?(D="C",a+=1):(D=null,k&&f('"C"')),D===null&&(b.substr(a,1)==="c"?(D="c",a+=1):(D=null,k&&f('"c"')),D=D!==null?D:null),D!==null?(b.substr(a,1)==="T"?(G="T",a+=1):(G=null,k&&f('"T"')),G===null&&(b.substr(a,1)==="t"?(G="t",a+=1):(G=null,k&&f('"t"')),G=G!==null?G:null),G!==null?t=[t,
w,x,y,B,A,D,G]:(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q),q=t!==null?t:"",q!==null){t=[];for(w=s();w!==null;)t.push(w),w=s();if(t!==null)if(w=L(),w!==null){x=[];for(y=s();y!==null;)x.push(y),y=s();if(x!==null)if(b.substr(a,1)===")"?(y=")",a+=1):(y=null,k&&f('")"')),y!==null){B=[];for(A=s();A!==null;)B.push(A),A=s();B!==null?e=[e,j,h,m,n,r,q,t,w,x,y,B]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=
null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g;else e=null,a=g;g=e!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"min"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(e[6],e[8]):null;g===null&&(g=null,a=i);if(g!==null)i=g;else{g=i=a;b.substr(a,1)==="M"?(e="M",a+=1):(e=null,k&&f('"M"'));e===null&&(b.substr(a,1)==="m"?(e="m",a+=1):(e=null,k&&f('"m"')),e=e!==null?e:null);if(e!==null)if(b.substr(a,1)==="A"?
(j="A",a+=1):(j=null,k&&f('"A"')),j===null&&(b.substr(a,1)==="a"?(j="a",a+=1):(j=null,k&&f('"a"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="X"?(h="X",a+=1):(h=null,k&&f('"X"')),h===null&&(b.substr(a,1)==="x"?(h="x",a+=1):(h=null,k&&f('"x"')),h=h!==null?h:null),h!==null){m=[];for(n=s();n!==null;)m.push(n),n=s();if(m!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,k&&f('"("')),n!==null){r=[];for(q=s();q!==null;)r.push(q),q=s();if(r!==null)if(q=a,b.substr(a,1)==="D"?(t="D",a+=1):(t=null,k&&
f('"D"')),t===null&&(b.substr(a,1)==="d"?(t="d",a+=1):(t=null,k&&f('"d"')),t=t!==null?t:null),t!==null?(b.substr(a,1)==="I"?(w="I",a+=1):(w=null,k&&f('"I"')),w===null&&(b.substr(a,1)==="i"?(w="i",a+=1):(w=null,k&&f('"i"')),w=w!==null?w:null),w!==null?(b.substr(a,1)==="S"?(x="S",a+=1):(x=null,k&&f('"S"')),x===null&&(b.substr(a,1)==="s"?(x="s",a+=1):(x=null,k&&f('"s"')),x=x!==null?x:null),x!==null?(b.substr(a,1)==="T"?(y="T",a+=1):(y=null,k&&f('"T"')),y===null&&(b.substr(a,1)==="t"?(y="t",a+=1):(y=
null,k&&f('"t"')),y=y!==null?y:null),y!==null?(b.substr(a,1)==="I"?(B="I",a+=1):(B=null,k&&f('"I"')),B===null&&(b.substr(a,1)==="i"?(B="i",a+=1):(B=null,k&&f('"i"')),B=B!==null?B:null),B!==null?(b.substr(a,1)==="N"?(A="N",a+=1):(A=null,k&&f('"N"')),A===null&&(b.substr(a,1)==="n"?(A="n",a+=1):(A=null,k&&f('"n"')),A=A!==null?A:null),A!==null?(b.substr(a,1)==="C"?(D="C",a+=1):(D=null,k&&f('"C"')),D===null&&(b.substr(a,1)==="c"?(D="c",a+=1):(D=null,k&&f('"c"')),D=D!==null?D:null),D!==null?(b.substr(a,
1)==="T"?(G="T",a+=1):(G=null,k&&f('"T"')),G===null&&(b.substr(a,1)==="t"?(G="t",a+=1):(G=null,k&&f('"t"')),G=G!==null?G:null),G!==null?t=[t,w,x,y,B,A,D,G]:(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q),q=t!==null?t:"",q!==null){t=[];for(w=s();w!==null;)t.push(w),w=s();if(t!==null)if(w=L(),w!==null){x=[];for(y=s();y!==null;)x.push(y),y=s();if(x!==null)if(b.substr(a,1)===")"?(y=")",a+=1):(y=null,k&&f('")"')),y!==null){B=[];for(A=s();A!==
null;)B.push(A),A=s();B!==null?e=[e,j,h,m,n,r,q,t,w,x,y,B]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g;else e=null,a=g;g=e!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"max"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(e[6],e[8]):null;g===null&&(g=null,a=i);if(g!==null)i=g;else{g=i=a;b.substr(a,1)==="A"?(e="A",a+=
1):(e=null,k&&f('"A"'));e===null&&(b.substr(a,1)==="a"?(e="a",a+=1):(e=null,k&&f('"a"')),e=e!==null?e:null);if(e!==null)if(b.substr(a,1)==="V"?(j="V",a+=1):(j=null,k&&f('"V"')),j===null&&(b.substr(a,1)==="v"?(j="v",a+=1):(j=null,k&&f('"v"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="G"?(h="G",a+=1):(h=null,k&&f('"G"')),h===null&&(b.substr(a,1)==="g"?(h="g",a+=1):(h=null,k&&f('"g"')),h=h!==null?h:null),h!==null){m=[];for(n=s();n!==null;)m.push(n),n=s();if(m!==null)if(b.substr(a,1)==="("?(n="(",
a+=1):(n=null,k&&f('"("')),n!==null){r=[];for(q=s();q!==null;)r.push(q),q=s();if(r!==null)if(q=a,b.substr(a,1)==="D"?(t="D",a+=1):(t=null,k&&f('"D"')),t===null&&(b.substr(a,1)==="d"?(t="d",a+=1):(t=null,k&&f('"d"')),t=t!==null?t:null),t!==null?(b.substr(a,1)==="I"?(w="I",a+=1):(w=null,k&&f('"I"')),w===null&&(b.substr(a,1)==="i"?(w="i",a+=1):(w=null,k&&f('"i"')),w=w!==null?w:null),w!==null?(b.substr(a,1)==="S"?(x="S",a+=1):(x=null,k&&f('"S"')),x===null&&(b.substr(a,1)==="s"?(x="s",a+=1):(x=null,k&&
f('"s"')),x=x!==null?x:null),x!==null?(b.substr(a,1)==="T"?(y="T",a+=1):(y=null,k&&f('"T"')),y===null&&(b.substr(a,1)==="t"?(y="t",a+=1):(y=null,k&&f('"t"')),y=y!==null?y:null),y!==null?(b.substr(a,1)==="I"?(B="I",a+=1):(B=null,k&&f('"I"')),B===null&&(b.substr(a,1)==="i"?(B="i",a+=1):(B=null,k&&f('"i"')),B=B!==null?B:null),B!==null?(b.substr(a,1)==="N"?(A="N",a+=1):(A=null,k&&f('"N"')),A===null&&(b.substr(a,1)==="n"?(A="n",a+=1):(A=null,k&&f('"n"')),A=A!==null?A:null),A!==null?(b.substr(a,1)==="C"?
(D="C",a+=1):(D=null,k&&f('"C"')),D===null&&(b.substr(a,1)==="c"?(D="c",a+=1):(D=null,k&&f('"c"')),D=D!==null?D:null),D!==null?(b.substr(a,1)==="T"?(G="T",a+=1):(G=null,k&&f('"T"')),G===null&&(b.substr(a,1)==="t"?(G="t",a+=1):(G=null,k&&f('"t"')),G=G!==null?G:null),G!==null?t=[t,w,x,y,B,A,D,G]:(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q)):(t=null,a=q),q=t!==null?t:"",q!==null){t=[];for(w=s();w!==null;)t.push(w),w=s();if(t!==null)if(w=L(),w!==null){x=
[];for(y=s();y!==null;)x.push(y),y=s();if(x!==null)if(b.substr(a,1)===")"?(y=")",a+=1):(y=null,k&&f('")"')),y!==null){B=[];for(A=s();A!==null;)B.push(A),A=s();B!==null?e=[e,j,h,m,n,r,q,t,w,x,y,B]:(e=null,a=g)}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g}else e=null,a=g;else e=null,a=g;else e=null,a=g;g=e!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"avg"};exp.distinct=a!=""?
"DISTINCT":a;exp.expression=b;return exp}(e[6],e[8]):null;g===null&&(g=null,a=i);i=g!==null?g:null}}}}(k=d)&&i===null&&f("[110] Aggregate");z[c]={nextPos:a,result:i};return i}function Zb(){var b="IRIrefOrFunction@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=a,g=a,e=Q();if(e!==null){var i=mb(),i=i!==null?i:"";i!==null?e=[e,i]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a,b){var c={token:"expression",expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c}(e[0],e[1]):
null;g===null&&(g=null,a=d);(k=c)&&g===null&&f("[117] IRIrefOrFunction");z[b]={nextPos:a,result:g};return g}function Ja(){var c="RDFLiteral@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a,e=bc();if(e!==null){var j=cc();if(j===null){j=a;if(b.substr(a,2)==="^^"){var h="^^";a+=2}else h=null,k&&f('"^^"');if(h!==null){var m=Q();m!==null?h=[h,m]:(h=null,a=j)}else h=null,a=j;j=h!==null?h:null}j=j!==null?j:"";j!==null?e=[e,j]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a,b){return typeof b===
"string"&&b.length>0?{token:"literal",value:a.value,lang:b.slice(1),type:null}:typeof b==="object"?(b.shift(),{token:"literal",value:a.value,lang:null,type:b[0]}):{token:"literal",value:a.value,lang:null,type:null}}(e[0],e[1]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[112] RDFLiteral");z[c]={nextPos:a,result:g};return g}function Ka(){var b="NumericLiteral@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=dc();d===null&&(d=ec(),d===null&&(d=ra(),d=d!==null?d:null));(k=c)&&d===null&&
f("[113] NumericLiteral");z[b]={nextPos:a,result:d};return d}function dc(){var b="NumericLiteralUnsigned@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=Ua();d===null&&(d=Va(),d===null&&(d=ba(),d=d!==null?d:null));(k=c)&&d===null&&f("[114] NumericLiteralUnsigned");z[b]={nextPos:a,result:d};return d}function ec(){var b="NumericLiteralPositive@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=fc();d===null&&(d=gc(),d===null&&(d=hc(),d=d!==null?d:null));(k=c)&&d===null&&f("[115] NumericLiteralPositive");
z[b]={nextPos:a,result:d};return d}function ra(){var b="NumericLiteralNegative@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=ic();d===null&&(d=jc(),d===null&&(d=kc(),d=d!==null?d:null));(k=c)&&d===null&&f("[116] NumericLiteralNegative");z[b]={nextPos:a,result:d};return d}function La(){var c="BooleanLiteral@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a;if(b.substr(a,1)==="T"){var e="T";a+=1}else e=null,k&&f('"T"');e===null&&(b.substr(a,1)==="t"?(e="t",a+=1):(e=null,
k&&f('"t"')),e=e!==null?e:null);if(e!==null){if(b.substr(a,1)==="R"){var j="R";a+=1}else j=null,k&&f('"R"');j===null&&(b.substr(a,1)==="r"?(j="r",a+=1):(j=null,k&&f('"r"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="U"){var h="U";a+=1}else h=null,k&&f('"U"');h===null&&(b.substr(a,1)==="u"?(h="u",a+=1):(h=null,k&&f('"u"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="E"){var m="E";a+=1}else m=null,k&&f('"E"');m===null&&(b.substr(a,1)==="e"?(m="e",a+=1):(m=null,k&&f('"e"')),m=m!==null?
m:null);m!==null?e=[e,j,h,m]:(e=null,a=g)}else e=null,a=g}else e=null,a=g}else e=null,a=g;g=e!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}:null;g===null&&(g=null,a=i);if(g!==null)i=g;else{g=i=a;b.substr(a,1)==="F"?(e="F",a+=1):(e=null,k&&f('"F"'));e===null&&(b.substr(a,1)==="f"?(e="f",a+=1):(e=null,k&&f('"f"')),e=e!==null?e:null);if(e!==null)if(b.substr(a,1)==="A"?(j="A",a+=1):(j=null,k&&f('"A"')),j===null&&(b.substr(a,1)==="a"?(j="a",a+=1):(j=null,
k&&f('"a"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="L"?(h="L",a+=1):(h=null,k&&f('"L"')),h===null&&(b.substr(a,1)==="l"?(h="l",a+=1):(h=null,k&&f('"l"')),h=h!==null?h:null),h!==null)if(b.substr(a,1)==="S"?(m="S",a+=1):(m=null,k&&f('"S"')),m===null&&(b.substr(a,1)==="s"?(m="s",a+=1):(m=null,k&&f('"s"')),m=m!==null?m:null),m!==null){if(b.substr(a,1)==="E"){var n="E";a+=1}else n=null,k&&f('"E"');n===null&&(b.substr(a,1)==="e"?(n="e",a+=1):(n=null,k&&f('"e"')),n=n!==null?n:null);n!==null?e=[e,
j,h,m,n]:(e=null,a=g)}else e=null,a=g;else e=null,a=g;else e=null,a=g;else e=null,a=g;g=e!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}:null;g===null&&(g=null,a=i);i=g!==null?g:null}(k=d)&&i===null&&f("[117] BooleanLiteral");z[c]={nextPos:a,result:i};return i}function bc(){var b="String@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=a,g=lc(),g=g!==null?{token:"string",value:g}:null;g===null&&(g=null,a=d);g!==null?d=g:(d=a,g=mc(),g=g!==
null?{token:"string",value:g}:null,g===null&&(g=null,a=d),g!==null?d=g:(d=a,g=nc(),g=g!==null?{token:"string",value:g}:null,g===null&&(g=null,a=d),g!==null?d=g:(d=a,g=oc(),g=g!==null?{token:"string",value:g}:null,g===null&&(g=null,a=d),d=g!==null?g:null)));(k=c)&&d===null&&f("[118] String");z[b]={nextPos:a,result:d};return d}function Q(){var b="IRIref@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=a,g=ma(),g=g!==null?{token:"uri",prefix:null,suffix:null,value:g}:null;g===null&&(g=null,
a=d);g!==null?d=g:(d=a,g=pc(),g=g!==null?g:null,g===null&&(g=null,a=d),d=g!==null?g:null);(k=c)&&d===null&&f("[119] IRIref");z[b]={nextPos:a,result:d};return d}function pc(){var b="PrefixedName@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=a,g=qc(),g=g!==null?{token:"uri",prefix:g[0],suffix:g[1],value:null}:null;g===null&&(g=null,a=d);g!==null?d=g:(d=a,g=Ga(),g=g!==null?{token:"uri",prefix:g,suffix:"",value:null}:null,g===null&&(g=null,a=d),d=g!==null?g:null);(k=c)&&d===null&&f("[120] PrefixedName");
z[b]={nextPos:a,result:d};return d}function Yb(){var b="BlankNode@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=a,g=rc(),g=g!==null?{token:"blank",label:g}:null;g===null&&(g=null,a=d);g!==null?d=g:(d=a,sc()!==null?(ca++,g={token:"blank",label:""+ca}):g=null,g===null&&(g=null,a=d),d=g!==null?g:null);(k=c)&&d===null&&f("[121] BlankNode");z[b]={nextPos:a,result:d};return d}function ma(){var c="IRI_REF@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="<"){var e=
"<";a+=1}else e=null,k&&f('"<"');if(e!==null){var i=[];if(b.substr(a).match(/^[^<>"{} | ^\\]/)!==null){var h=b.charAt(a);a++}else h=null,k&&f('[^<>"{} | ^\\\\]');for(;h!==null;)i.push(h),b.substr(a).match(/^[^<>"{} | ^\\]/)!==null?(h=b.charAt(a),a++):(h=null,k&&f('[^<>"{} | ^\\\\]'));i!==null?(b.substr(a,1)===">"?(h=">",a+=1):(h=null,k&&f('">"')),h!==null?e=[e,i,h]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;g=e!==null?e[1].join(""):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[122] IRI_REF");z[c]=
{nextPos:a,result:g};return g}function Ga(){var c="PNAME_NS@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a,e=bb(),e=e!==null?e:"";if(e!==null){if(b.substr(a,1)===":"){var i=":";a+=1}else i=null,k&&f('":"');i!==null?e=[e,i]:(e=null,a=g)}else e=null,a=g;g=e!==null?e[0]:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[123] PNAME_NS");z[c]={nextPos:a,result:g};return g}function qc(){var b="PNAME_LN@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=a,g=a,e=Ga();if(e!==null){var j=
sb();j!==null?e=[e,j]:(e=null,a=g)}else e=null,a=g;g=e!==null?[e[0],e[1]]:null;g===null&&(g=null,a=d);(k=c)&&g===null&&f("[124] PNAME_LN");z[b]={nextPos:a,result:g};return g}function rc(){var c="BLANK_NODE_LABEL@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,2)==="_:"){var e="_:";a+=2}else e=null,k&&f('"_:"');if(e!==null){var i=sb();i!==null?e=[e,i]:(e=null,a=g)}else e=null,a=g;g=e!==null?e[1]:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[125] BLANK_NODE_LABEL");
z[c]={nextPos:a,result:g};return g}function Wb(){var c="VAR1@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="?"){var e="?";a+=1}else e=null,k&&f('"?"');if(e!==null){var i=ub();i!==null?e=[e,i]:(e=null,a=g)}else e=null,a=g;g=e!==null?e[1]:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[126] VAR1");z[c]={nextPos:a,result:g};return g}function Xb(){var c="VAR2@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="$"){var e="$";a+=1}else e=
null,k&&f('"$"');if(e!==null){var i=ub();i!==null?e=[e,i]:(e=null,a=g)}else e=null,a=g;g=e!==null?e[1]:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[127] VAR2");z[c]={nextPos:a,result:g};return g}function cc(){var c="LANGTAG@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="@"){var e="@";a+=1}else e=null,k&&f('"@"');if(e!==null){if(b.substr(a).match(/^[a-zA-Z]/)!==null){var i=b.charAt(a);a++}else i=null,k&&f("[a-zA-Z]");if(i!==null)for(var h=[];i!==null;)h.push(i),
b.substr(a).match(/^[a-zA-Z]/)!==null?(i=b.charAt(a),a++):(i=null,k&&f("[a-zA-Z]"));else h=null;if(h!==null){var i=[],m=a;if(b.substr(a,1)==="-"){var n="-";a+=1}else n=null,k&&f('"-"');if(n!==null){if(b.substr(a).match(/^[a-zA-Z0-9]/)!==null){var r=b.charAt(a);a++}else r=null,k&&f("[a-zA-Z0-9]");if(r!==null)for(var q=[];r!==null;)q.push(r),b.substr(a).match(/^[a-zA-Z0-9]/)!==null?(r=b.charAt(a),a++):(r=null,k&&f("[a-zA-Z0-9]"));else q=null;q!==null?n=[n,q]:(n=null,a=m)}else n=null,a=m;for(;n!==null;)if(i.push(n),
m=a,b.substr(a,1)==="-"?(n="-",a+=1):(n=null,k&&f('"-"')),n!==null){b.substr(a).match(/^[a-zA-Z0-9]/)!==null?(r=b.charAt(a),a++):(r=null,k&&f("[a-zA-Z0-9]"));if(r!==null)for(q=[];r!==null;)q.push(r),b.substr(a).match(/^[a-zA-Z0-9]/)!==null?(r=b.charAt(a),a++):(r=null,k&&f("[a-zA-Z0-9]"));else q=null;q!==null?n=[n,q]:(n=null,a=m)}else n=null,a=m;i!==null?e=[e,h,i]:(e=null,a=g)}else e=null,a=g}else e=null,a=g;g=e!==null?e[2].length===0?("@"+e[1].join("")).toLowerCase():("@"+e[1].join("")+"-"+e[2][0][1].join("")).toLowerCase():
null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[128] LANGTAG");z[c]={nextPos:a,result:g};return g}function ba(){var c="INTEGER@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a;if(b.substr(a).match(/^[0-9]/)!==null){var g=b.charAt(a);a++}else g=null,k&&f("[0-9]");if(g!==null)for(var e=[];g!==null;)e.push(g),b.substr(a).match(/^[0-9]/)!==null?(g=b.charAt(a),a++):(g=null,k&&f("[0-9]"));else e=null;g=e!==null?function(a){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#integer"};
lit.value=X(a);return lit}(e):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[129] INTEGER");z[c]={nextPos:a,result:g};return g}function Va(){var c="DECIMAL@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a;if(b.substr(a).match(/^[0-9]/)!==null){var e=b.charAt(a);a++}else e=null,k&&f("[0-9]");if(e!==null)for(var j=[];e!==null;)j.push(e),b.substr(a).match(/^[0-9]/)!==null?(e=b.charAt(a),a++):(e=null,k&&f("[0-9]"));else j=null;if(j!==null)if(b.substr(a,1)==="."?(e=".",a+=1):(e=null,
k&&f('"."')),e!==null){var h=[];if(b.substr(a).match(/^[0-9]/)!==null){var m=b.charAt(a);a++}else m=null,k&&f("[0-9]");for(;m!==null;)h.push(m),b.substr(a).match(/^[0-9]/)!==null?(m=b.charAt(a),a++):(m=null,k&&f("[0-9]"));h!==null?j=[j,e,h]:(j=null,a=g)}else j=null,a=g;else j=null,a=g;g=j!==null?function(a,b,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};lit.value=X([a,b,c]);return lit}(j[0],j[1],j[2]):null;g===null&&(g=null,a=i);if(g!==null)i=g;else{g=i=a;b.substr(a,
1)==="."?(j=".",a+=1):(j=null,k&&f('"."'));if(j!==null){b.substr(a).match(/^[0-9]/)!==null?(e=b.charAt(a),a++):(e=null,k&&f("[0-9]"));if(e!==null)for(h=[];e!==null;)h.push(e),b.substr(a).match(/^[0-9]/)!==null?(e=b.charAt(a),a++):(e=null,k&&f("[0-9]"));else h=null;h!==null?j=[j,h]:(j=null,a=g)}else j=null,a=g;g=j!==null?function(a,b){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};lit.value=X([a,b]);return lit}(j[0],j[1]):null;g===null&&(g=null,a=i);i=g!==null?g:null}(k=
d)&&i===null&&f("[130] DECIMAL");z[c]={nextPos:a,result:i};return i}function Ua(){var c="DOUBLE@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a).match(/^[0-9]/)!==null){var e=b.charAt(a);a++}else e=null,k&&f("[0-9]");if(e!==null)for(var i=[];e!==null;)i.push(e),b.substr(a).match(/^[0-9]/)!==null?(e=b.charAt(a),a++):(e=null,k&&f("[0-9]"));else i=null;if(i!==null)if(b.substr(a,1)==="."?(e=".",a+=1):(e=null,k&&f('"."')),e!==null){var h=[];if(b.substr(a).match(/^[0-9]/)!==
null){var m=b.charAt(a);a++}else m=null,k&&f("[0-9]");for(;m!==null;)h.push(m),b.substr(a).match(/^[0-9]/)!==null?(m=b.charAt(a),a++):(m=null,k&&f("[0-9]"));h!==null?(m=Wa(),m!==null?i=[i,e,h,m]:(i=null,a=g)):(i=null,a=g)}else i=null,a=g;else i=null,a=g;g=i!==null?function(a,b,c,e){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=X([a,b,c,e]);return lit}(i[0],i[1],i[2],i[3]):null;g===null&&(g=null,a=j);if(g!==null)j=g;else{g=j=a;b.substr(a,1)==="."?(i=".",a+=
1):(i=null,k&&f('"."'));if(i!==null){b.substr(a).match(/^[0-9]/)!==null?(h=b.charAt(a),a++):(h=null,k&&f("[0-9]"));if(h!==null)for(e=[];h!==null;)e.push(h),b.substr(a).match(/^[0-9]/)!==null?(h=b.charAt(a),a++):(h=null,k&&f("[0-9]"));else e=null;e!==null?(h=Wa(),h!==null?i=[i,e,h]:(i=null,a=g)):(i=null,a=g)}else i=null,a=g;g=i!==null?function(a,b,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=X([a,b,c]);return lit}(i[0],i[1],i[2]):null;g===null&&(g=null,
a=j);if(g!==null)j=g;else{g=j=a;b.substr(a).match(/^[0-9]/)!==null?(e=b.charAt(a),a++):(e=null,k&&f("[0-9]"));if(e!==null)for(i=[];e!==null;)i.push(e),b.substr(a).match(/^[0-9]/)!==null?(e=b.charAt(a),a++):(e=null,k&&f("[0-9]"));else i=null;i!==null?(e=Wa(),e!==null?i=[i,e]:(i=null,a=g)):(i=null,a=g);g=i!==null?function(a,b){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=X([a,b]);return lit}(i[0],i[1]):null;g===null&&(g=null,a=j);j=g!==null?g:null}}(k=d)&&
j===null&&f("[131] DOUBLE");z[c]={nextPos:a,result:j};return j}function hc(){var c="INTEGER_POSITIVE@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a;if(b.substr(a,1)==="+"){var e="+";a+=1}else e=null,k&&f('"+"');if(e!==null){var j=ba();j!==null?e=[e,j]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a){a.value="+"+a.value;return a}(e[1]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[132] INTEGER_POSITIVE");z[c]={nextPos:a,result:g};return g}function gc(){var c="DECIMAL_POSITIVE@"+
a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a;if(b.substr(a,1)==="+"){var e="+";a+=1}else e=null,k&&f('"+"');if(e!==null){var j=Va();j!==null?e=[e,j]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a){a.value="+"+a.value;return a}(e[1]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[133] DECIMAL_POSITIVE");z[c]={nextPos:a,result:g};return g}function fc(){var c="DOUBLE_POSITIVE@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a;if(b.substr(a,1)==="+"){var e="+";a+=
1}else e=null,k&&f('"+"');if(e!==null){var j=Ua();j!==null?e=[e,j]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a){a.value="+"+a.value;return a}(e[1]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[134] DOUBLE_POSITIVE");z[c]={nextPos:a,result:g};return g}function kc(){var c="INTEGER_NEGATIVE@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a;if(b.substr(a,1)==="-"){var e="-";a+=1}else e=null,k&&f('"-"');if(e!==null){var j=ba();j!==null?e=[e,j]:(e=null,a=g)}else e=null,a=g;g=e!==
null?function(a){a.value="-"+a.value;return a}(e[1]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[135] INTEGER_NEGATIVE");z[c]={nextPos:a,result:g};return g}function jc(){var c="DECIMAL_NEGATIVE@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a;if(b.substr(a,1)==="-"){var e="-";a+=1}else e=null,k&&f('"-"');if(e!==null){var j=Va();j!==null?e=[e,j]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a){a.value="-"+a.value;return a}(e[1]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&
f("[136] DECIMAL_NEGATIVE");z[c]={nextPos:a,result:g};return g}function ic(){var c="DOUBLE_NEGATIVE@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a;if(b.substr(a,1)==="-"){var e="-";a+=1}else e=null,k&&f('"-"');if(e!==null){var j=Ua();j!==null?e=[e,j]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a){a.value="-"+a.value;return a}(e[1]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[137] DOUBLE_NEGATIVE");z[c]={nextPos:a,result:g};return g}function Wa(){var c="EXPONENT@"+a,d=z[c];
if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a;if(b.substr(a).match(/^[eE]/)!==null){var e=b.charAt(a);a++}else e=null,k&&f("[eE]");if(e!==null){if(b.substr(a).match(/^[+\-]/)!==null){var j=b.charAt(a);a++}else j=null,k&&f("[+\\-]");j=j!==null?j:"";if(j!==null){if(b.substr(a).match(/^[0-9]/)!==null){var h=b.charAt(a);a++}else h=null,k&&f("[0-9]");if(h!==null)for(var m=[];h!==null;)m.push(h),b.substr(a).match(/^[0-9]/)!==null?(h=b.charAt(a),a++):(h=null,k&&f("[0-9]"));else m=null;m!==null?e=
[e,j,m]:(e=null,a=g)}else e=null,a=g}else e=null,a=g;g=e!==null?X([e[0],e[1],e[2]]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[138] EXPONENT");z[c]={nextPos:a,result:g};return g}function nc(){var c="STRING_LITERAL1@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a;if(b.substr(a,1)==="'"){var e="'";a+=1}else e=null,k&&f('"\'"');if(e!==null){var j=[];if(b.substr(a).match(/^[^'\\\n\r]/)!==null){var h=b.charAt(a);a++}else h=null,k&&f("[^'\\\\\\n\\r]");h===null&&(h=ea(),h=h!==null?
h:null);for(;h!==null;)j.push(h),b.substr(a).match(/^[^'\\\n\r]/)!==null?(h=b.charAt(a),a++):(h=null,k&&f("[^'\\\\\\n\\r]")),h===null&&(h=ea(),h=h!==null?h:null);j!==null?(b.substr(a,1)==="'"?(h="'",a+=1):(h=null,k&&f('"\'"')),h!==null?e=[e,j,h]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;g=e!==null?X(e[1]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[139] STRING_LITERAL1");z[c]={nextPos:a,result:g};return g}function oc(){var c="STRING_LITERAL2@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=
!1;var i=a,g=a;if(b.substr(a,1)==='"'){var e='"';a+=1}else e=null,k&&f('"\\""');if(e!==null){var j=[];if(b.substr(a).match(/^[^"\\\n\r]/)!==null){var h=b.charAt(a);a++}else h=null,k&&f('[^"\\\\\\n\\r]');h===null&&(h=ea(),h=h!==null?h:null);for(;h!==null;)j.push(h),b.substr(a).match(/^[^"\\\n\r]/)!==null?(h=b.charAt(a),a++):(h=null,k&&f('[^"\\\\\\n\\r]')),h===null&&(h=ea(),h=h!==null?h:null);j!==null?(b.substr(a,1)==='"'?(h='"',a+=1):(h=null,k&&f('"\\""')),h!==null?e=[e,j,h]:(e=null,a=g)):(e=null,
a=g)}else e=null,a=g;g=e!==null?X(e[1]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[140] STRING_LITERAL2");z[c]={nextPos:a,result:g};return g}function lc(){var c="STRING_LITERAL_LONG1@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a;if(b.substr(a,3)==="'''"){var e="'''";a+=3}else e=null,k&&f("\"'''\"");if(e!==null){var j=[];if(b.substr(a).match(/^[^'\\]/)!==null){var h=b.charAt(a);a++}else h=null,k&&f("[^'\\\\]");h===null&&(h=ea(),h=h!==null?h:null);for(;h!==null;)j.push(h),b.substr(a).match(/^[^'\\]/)!==
null?(h=b.charAt(a),a++):(h=null,k&&f("[^'\\\\]")),h===null&&(h=ea(),h=h!==null?h:null);j!==null?(b.substr(a,3)==="'''"?(h="'''",a+=3):(h=null,k&&f("\"'''\"")),h!==null?e=[e,j,h]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;g=e!==null?X(e[1]):null;g===null&&(g=null,a=i);(k=d)&&g===null&&f("[141] STRING_LITERAL_LONG1");z[c]={nextPos:a,result:g};return g}function mc(){var c="STRING_LITERAL_LONG2@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var i=a,g=a;if(b.substr(a,3)==='"""'){var e='"""';a+=
3}else e=null,k&&f('"\\"\\"\\""');if(e!==null){var j=[];if(b.substr(a).match(/^[^"\\]/)!==null){var h=b.charAt(a);a++}else h=null,k&&f('[^"\\\\]');h===null&&(h=ea(),h=h!==null?h:null);for(;h!==null;)j.push(h),b.substr(a).match(/^[^"\\]/)!==null?(h=b.charAt(a),a++):(h=null,k&&f('[^"\\\\]')),h===null&&(h=ea(),h=h!==null?h:null);j!==null?(b.substr(a,3)==='"""'?(h='"""',a+=3):(h=null,k&&f('"\\"\\"\\""')),h!==null?e=[e,j,h]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;g=e!==null?X(e[1]):null;g===null&&(g=
null,a=i);(k=d)&&g===null&&f("[142] STRING_LITERAL_LONG2");z[c]={nextPos:a,result:g};return g}function ea(){var c="ECHAR@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a;if(b.substr(a,1)==="\\"){var g="\\";a+=1}else g=null,k&&f('"\\\\"');if(g!==null){if(b.substr(a).match(/^[tbnrf"']/)!==null){var e=b.charAt(a);a++}else e=null,k&&f("[tbnrf\"']");e!==null?g=[g,e]:(g=null,a=j)}else g=null,a=j;(k=d)&&g===null&&f("[143] ECHAR");z[c]={nextPos:a,result:g};return g}function ia(){var c="NIL@"+
a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a;if(b.substr(a,1)==="("){var e="(";a+=1}else e=null,k&&f('"("');if(e!==null){for(var i=[],h=s();h!==null;)i.push(h),h=s();i!==null?(b.substr(a,1)===")"?(h=")",a+=1):(h=null,k&&f('")"')),h!==null?e=[e,i,h]:(e=null,a=g)):(e=null,a=g)}else e=null,a=g;g=e!==null?{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}:null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[144] NIL");
z[c]={nextPos:a,result:g};return g}function s(){var c="WS@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;if(b.substr(a).match(/^[ ]/)!==null){var j=b.charAt(a);a++}else j=null,k&&f("[ ]");j===null&&(b.substr(a).match(/^[\t]/)!==null?(j=b.charAt(a),a++):(j=null,k&&f("[\t]")),j===null&&(b.substr(a).match(/^[\r]/)!==null?(j=b.charAt(a),a++):(j=null,k&&f("[\\r]")),j===null&&(b.substr(a).match(/^[\n]/)!==null?(j=b.charAt(a),a++):(j=null,k&&f("[\\n]")),j===null&&(j=tc(),j=j!==null?j:null))));(k=d)&&
j===null&&f("[145] WS");z[c]={nextPos:a,result:j};return j}function tc(){var c="COMMENT@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a;if(b.substr(a,1)==="#"){var g="#";a+=1}else g=null,k&&f('"#"');if(g!==null){var e=[];if(b.substr(a).match(/^[^\n\r]/)!==null){var h=b.charAt(a);a++}else h=null,k&&f("[^\\n\\r]");for(;h!==null;)e.push(h),b.substr(a).match(/^[^\n\r]/)!==null?(h=b.charAt(a),a++):(h=null,k&&f("[^\\n\\r]"));e!==null?g=[g,e]:(g=null,a=j)}else g=null,a=j;(k=d)&&g===null&&f(" COMMENT");
z[c]={nextPos:a,result:g};return g}function sc(){var c="ANON@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a;if(b.substr(a,1)==="["){var g="[";a+=1}else g=null,k&&f('"["');if(g!==null){for(var e=[],h=s();h!==null;)e.push(h),h=s();e!==null?(b.substr(a,1)==="]"?(h="]",a+=1):(h=null,k&&f('"]"')),h!==null?g=[g,e,h]:(g=null,a=j)):(g=null,a=j)}else g=null,a=j;(k=d)&&g===null&&f("[146] ANON");z[c]={nextPos:a,result:g};return g}function vb(){var c="PN_CHARS_BASE@"+a,d=z[c];if(d)return a=d.nextPos,
d.result;d=k;k=!1;if(b.substr(a).match(/^[A-Z]/)!==null){var j=b.charAt(a);a++}else j=null,k&&f("[A-Z]");j===null&&(b.substr(a).match(/^[a-z]/)!==null?(j=b.charAt(a),a++):(j=null,k&&f("[a-z]")),j===null&&(b.substr(a).match(/^[\xC0-\xD6]/)!==null?(j=b.charAt(a),a++):(j=null,k&&f("[\\xC0-\\xD6]")),j===null&&(b.substr(a).match(/^[\xD8-\xF6]/)!==null?(j=b.charAt(a),a++):(j=null,k&&f("[\\xD8-\\xF6]")),j===null&&(b.substr(a).match(/^[\xF8-\u02FF]/)!==null?(j=b.charAt(a),a++):(j=null,k&&f("[\\xF8-\\u02FF]")),
j===null&&(b.substr(a).match(/^[\u0370-\u037D]/)!==null?(j=b.charAt(a),a++):(j=null,k&&f("[\\u0370-\\u037D]")),j===null&&(b.substr(a).match(/^[\u037F-\u1FFF]/)!==null?(j=b.charAt(a),a++):(j=null,k&&f("[\\u037F-\\u1FFF]")),j===null&&(b.substr(a).match(/^[\u200C-\u200D]/)!==null?(j=b.charAt(a),a++):(j=null,k&&f("[\\u200C-\\u200D]")),j===null&&(b.substr(a).match(/^[\u2070-\u218F]/)!==null?(j=b.charAt(a),a++):(j=null,k&&f("[\\u2070-\\u218F]")),j===null&&(b.substr(a).match(/^[\u2C00-\u2FEF]/)!==null?(j=
b.charAt(a),a++):(j=null,k&&f("[\\u2C00-\\u2FEF]")),j===null&&(b.substr(a).match(/^[\u3001-\uD7FF]/)!==null?(j=b.charAt(a),a++):(j=null,k&&f("[\\u3001-\\uD7FF]")),j===null&&(b.substr(a).match(/^[\uF900-\uFDCF]/)!==null?(j=b.charAt(a),a++):(j=null,k&&f("[\\uF900-\\uFDCF]")),j===null&&(b.substr(a).match(/^[\uFDF0-\uFFFD]/)!==null?(j=b.charAt(a),a++):(j=null,k&&f("[\\uFDF0-\\uFFFD]")),j===null&&(b.substr(a).match(/^[\u1000-\uEFFF]/)!==null?(j=b.charAt(a),a++):(j=null,k&&f("[\\u1000-\\uEFFF]")),j=j!==
null?j:null)))))))))))));(k=d)&&j===null&&f("[147] PN_CHARS_BASE");z[c]={nextPos:a,result:j};return j}function sa(){var c="PN_CHARS_U@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=vb();j===null&&(b.substr(a,1)==="_"?(j="_",a+=1):(j=null,k&&f('"_"')),j=j!==null?j:null);(k=d)&&j===null&&f("[148] PN_CHARS_U");z[c]={nextPos:a,result:j};return j}function ub(){var c="VARNAME@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a,e=sa();e===null&&(b.substr(a).match(/^[0-9]/)!==null?
(e=b.charAt(a),a++):(e=null,k&&f("[0-9]")),e=e!==null?e:null);if(e!==null){var h=[],i=sa();i===null&&(b.substr(a).match(/^[0-9]/)!==null?(i=b.charAt(a),a++):(i=null,k&&f("[0-9]")),i===null&&(b.substr(a).match(/^[\xB7]/)!==null?(i=b.charAt(a),a++):(i=null,k&&f("[\\xB7]")),i===null&&(b.substr(a).match(/^[\u0300-\u036F]/)!==null?(i=b.charAt(a),a++):(i=null,k&&f("[\\u0300-\\u036F]")),i===null&&(b.substr(a).match(/^[\u203F-\u2040]/)!==null?(i=b.charAt(a),a++):(i=null,k&&f("[\\u203F-\\u2040]")),i=i!==null?
i:null))));for(;i!==null;)h.push(i),i=sa(),i===null&&(b.substr(a).match(/^[0-9]/)!==null?(i=b.charAt(a),a++):(i=null,k&&f("[0-9]")),i===null&&(b.substr(a).match(/^[\xB7]/)!==null?(i=b.charAt(a),a++):(i=null,k&&f("[\\xB7]")),i===null&&(b.substr(a).match(/^[\u0300-\u036F]/)!==null?(i=b.charAt(a),a++):(i=null,k&&f("[\\u0300-\\u036F]")),i===null&&(b.substr(a).match(/^[\u203F-\u2040]/)!==null?(i=b.charAt(a),a++):(i=null,k&&f("[\\u203F-\\u2040]")),i=i!==null?i:null))));h!==null?e=[e,h]:(e=null,a=g)}else e=
null,a=g;g=e!==null?e[0]+e[1].join(""):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[149] VARNAME");z[c]={nextPos:a,result:g};return g}function Ea(){var c="PN_CHARS@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=sa();j===null&&(b.substr(a,1)==="-"?(j="-",a+=1):(j=null,k&&f('"-"')),j===null&&(b.substr(a).match(/^[0-9]/)!==null?(j=b.charAt(a),a++):(j=null,k&&f("[0-9]")),j===null&&(b.substr(a).match(/^[\xB7]/)!==null?(j=b.charAt(a),a++):(j=null,k&&f("[\\xB7]")),j===null&&(b.substr(a).match(/^[\u0300-\u036F]/)!==
null?(j=b.charAt(a),a++):(j=null,k&&f("[\\u0300-\\u036F]")),j===null&&(b.substr(a).match(/^[\u203F-\u2040]/)!==null?(j=b.charAt(a),a++):(j=null,k&&f("[\\u203F-\\u2040]")),j=j!==null?j:null)))));(k=d)&&j===null&&f("[150] PN_CHARS");z[c]={nextPos:a,result:j};return j}function bb(){var c="PN_PREFIX@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a,e=vb();if(e!==null){var i=[],h=Ea();h===null&&(b.substr(a,1)==="."?(h=".",a+=1):(h=null,k&&f('"."')),h=h!==null?h:null);for(;h!==null;)i.push(h),
h=Ea(),h===null&&(b.substr(a,1)==="."?(h=".",a+=1):(h=null,k&&f('"."')),h=h!==null?h:null);i!==null?e=[e,i]:(e=null,a=g)}else e=null,a=g;g=e!==null?function(a,b){if(b[b.length-1]==".")throw Error("Wrong PN_PREFIX, cannot finish with '.'");else return a+b.join("")}(e[0],e[1]):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[151] PN_PREFIX");z[c]={nextPos:a,result:g};return g}function sb(){var c="PN_LOCAL@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=a,e=sa();e===null&&(b.substr(a).match(/^[0-9]/)!==
null?(e=b.charAt(a),a++):(e=null,k&&f("[0-9]")),e=e!==null?e:null);if(e!==null){for(var i=[],h=Ea();h!==null;)i.push(h),h=Ea();i!==null?e=[e,i]:(e=null,a=g)}else e=null,a=g;g=e!==null?e[0]+e[1].join(""):null;g===null&&(g=null,a=j);(k=d)&&g===null&&f("[152] PN_LOCAL");z[c]={nextPos:a,result:g};return g}function vc(){var c=function(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),b=a[d]);switch(c.length){case 0:return"end of input";case 1:return c[0];default:return c.slice(0,
c.length-1).join(", ")+" or "+c[c.length-1]}}(ab),d=Math.max(a,za),d=d<b.length?i(b.charAt(d)):"end of input";return"Expected "+c+" but "+d+" found."}function wc(){for(var a=1,c=1,d=!1,f=0;f<za;f++){var e=b.charAt(f);e==="\n"?(d||a++,c=1,d=!1):e==="\r"|e==="\u2028"||e==="\u2029"?(a++,c=1,d=!0):(c++,d=!1)}return{line:a,column:c}}var ga={ANON:sc,AdditiveExpression:T,Aggregate:$b,ArgList:mb,AskQuery:S,BLANK_NODE_LABEL:rc,BaseDecl:w,BindingValue:wa,BindingsClause:ya,BlankNode:Yb,BlankNodePropertyList:Ub,
BooleanLiteral:La,BrackettedExpression:Ia,BuiltInCall:Ha,COMMENT:tc,Clear:wb,Collection:Tb,ConditionalAndExpression:Sa,ConditionalOrExpression:L,Constraint:Aa,ConstructQuery:N,ConstructTemplate:Eb,ConstructTriples:nb,Create:zb,DECIMAL:Va,DECIMAL_NEGATIVE:jc,DECIMAL_POSITIVE:gc,DOCUMENT:function(){var b="DOCUMENT@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=h();c===null&&(c=x(),c=c!==null?c:null);z[b]={nextPos:a,result:c};return c},DOUBLE:Ua,DOUBLE_NEGATIVE:ic,DOUBLE_POSITIVE:fc,DatasetClause:aa,
DefaultGraphClause:Y,DeleteClause:Gb,DeleteData:Bb,DeleteWhere:Cb,DescribeQuery:R,Drop:xb,ECHAR:ea,EXPONENT:Wa,ExistsFunc:function(){var c="ExistsFunc@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a;if(b.substr(a,6)==="EXISTS"){var g="EXISTS";a+=6}else g=null,k&&f('"EXISTS"');if(g!==null){var e=V();e!==null?g=[g,e]:(g=null,a=j)}else g=null,a=j;(k=d)&&g===null&&f("[108] ExistsFunc");z[c]={nextPos:a,result:g};return g},ExpressionList:Ob,Filter:Nb,FunctionCall:cb,GraphGraphPattern:Lb,GraphNode:pa,
GraphPatternNotTriples:lb,GraphRef:Ma,GraphRefAll:eb,GraphTerm:Vb,GroupClause:fa,GroupCondition:O,GroupGraphPattern:V,GroupGraphPatternSub:Hb,GroupOrUnionGraphPattern:Ib,HavingClause:la,INTEGER:ba,INTEGER_NEGATIVE:kc,INTEGER_POSITIVE:hc,IRI_REF:ma,IRIref:Q,IRIrefOrFunction:Zb,InsertClause:gb,InsertData:Ab,LANGTAG:cc,LimitClause:Ya,LimitOffsetClauses:va,Load:yb,MinusGraphPattern:Kb,Modify:Fb,MultiplicativeExpression:qa,NIL:ia,NamedGraphClause:Z,NotExistsFunc:function(){var c="NotExistsFunc@"+a,d=z[c];
if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a;if(b.substr(a,10)==="NOT EXISTS"){var g="NOT EXISTS";a+=10}else g=null,k&&f('"NOT EXISTS"');if(g!==null){var e=V();e!==null?g=[g,e]:(g=null,a=j)}else g=null,a=j;(k=d)&&g===null&&f("[109] NotExistsFunc");z[c]={nextPos:a,result:g};return g},NumericLiteral:Ka,NumericLiteralNegative:ra,NumericLiteralPositive:ec,NumericLiteralUnsigned:dc,ObjectList:ja,OffsetClause:Za,OptionalGraphPattern:Jb,OrderClause:ua,OrderCondition:Xa,PNAME_LN:qc,PNAME_NS:Ga,PN_CHARS:Ea,
PN_CHARS_BASE:vb,PN_CHARS_U:sa,PN_LOCAL:sb,PN_PREFIX:bb,PathAlternative:qb,PathElt:rb,PathEltOrInverse:Ra,PathMod:Rb,PathNegatedPropertySet:Sb,PathOneInPropertySet:Ca,PathPrimary:Qb,PathSequence:Qa,PrefixDecl:t,PrefixedName:pc,PrimaryExpression:Da,Prologue:r,PropertyList:Pb,PropertyListNotEmpty:Ba,PropertyListNotEmptyPath:function(){var c="PropertyListNotEmptyPath@"+a,d=z[c];if(d)return a=d.nextPos,d.result;d=k;k=!1;var j=a,g=Pa();g===null&&(g=P(),g=g!==null?g:null);if(g!==null){var e=ja();if(e!==
null){var i=[],h=a;if(b.substr(a,1)===";"){var m=";";a+=1}else m=null,k&&f('";"');if(m!==null){var n=a,r=Pa();r===null&&(r=P(),r=r!==null?r:null);if(r!==null){var q=ja();q!==null?r=[r,q]:(r=null,a=n)}else r=null,a=n;n=r!==null?r:"";n!==null?m=[m,n]:(m=null,a=h)}else m=null,a=h;for(;m!==null;)i.push(m),h=a,b.substr(a,1)===";"?(m=";",a+=1):(m=null,k&&f('";"')),m!==null?(n=a,r=Pa(),r===null&&(r=P(),r=r!==null?r:null),r!==null?(q=ja(),q!==null?r=[r,q]:(r=null,a=n)):(r=null,a=n),n=r!==null?r:"",n!==null?
m=[m,n]:(m=null,a=h)):(m=null,a=h);i!==null?g=[g,e,i]:(g=null,a=j)}else g=null,a=j}else g=null,a=j;(k=d)&&g===null&&f("[73] PropertyListNotEmptyPath");z[c]={nextPos:a,result:g};return g},PropertyListPath:function(){var b="PropertyListPath@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var d=Ba(),d=d!==null?d:"";(k=c)&&d===null&&f("[74] PropertyListPath");z[b]={nextPos:a,result:d};return d},QuadData:fb,QuadPattern:ib,Quads:jb,QuadsNotTriples:kb,Query:m,RDFLiteral:Ja,RegexExpression:ac,RelationalExpression:Ta,
SPARQL:h,STRING_LITERAL1:nc,STRING_LITERAL2:oc,STRING_LITERAL_LONG1:lc,STRING_LITERAL_LONG2:mc,SelectClause:K,SelectQuery:F,ServiceGraphPattern:Mb,SolutionModifier:W,String:bc,SubSelect:J,TURTLE:x,TriplesBlock:na,TriplesNode:pb,TriplesSameSubject:Na,TriplesTemplate:oa,UnaryExpression:$,Update:$a,Update1:xa,UsingClause:hb,VAR1:Wb,VAR2:Xb,VARNAME:ub,Var:P,VarOrIRIref:ha,VarOrTerm:ob,Verb:Oa,VerbPath:Pa,WS:s,WhereClause:U,base:D,directive:B,prefixID:E,statement:y};if(c!==void 0){if(ga[c]===void 0)throw Error("Invalid rule name: "+
i(c)+".");}else c="DOCUMENT";var a=0,k=!0,za=0,ab=[],z={},X=function(a){for(var b="",c=0;c<a.length;c++)b+=typeof a[c]==="string"?a[c]:a[c].join("");return b},ca=0,Db=function(a){for(var b="",c=0;c<a.length;c++)b+=a[c];return b.toUpperCase()},ga=ga[c]();if(ga===null||a!==b.length)throw ga=wc(),new this.SyntaxError(vc(),ga.line,ga.column);return ga},toSource:function(){return this._source},SyntaxError:function(b,c,j){this.name="SyntaxError";this.message=b;this.line=c;this.column=j}};c.SyntaxError.prototype=
Error.prototype;return c}();var W={};(new Date).getTime();W.combined_parser=la.parser;W.parser={};W.parser.parse=function(c,b){for(var d=[],j=W.combined_parser.parse(c),i={},f={namespaces:i,base:"",blankCounter:0},h=0;h<j.length;h++){var m=j[h];if(m.token==="base")f.base=m.value;else if(m.token==="prefix")i[m.prefix]=m.local;else if(m.token==="triples"||m.token==="triplespattern")for(var r=0;r<m.triplesContext.length;r++){var w=m.triplesContext[r],w={subject:y.lexicalFormTerm(w.subject,f),predicate:y.lexicalFormTerm(w.predicate,
f),object:y.lexicalFormTerm(w.object,f),graph:b};d.push(w)}}return d};var x={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",
sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#"},UrisMap:function(){this.defaultNs="";this.interfaceProperties=["get","remove","set","setDefault","addAll","resolve","shrink"]}};x.UrisMap.prototype.values=function(){var c={},b;for(b in this)y.include(this.interfaceProperties,b)||(c[b]=this[b]);return c};
x.UrisMap.prototype.get=function(c){if(c.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";return this[c]};x.UrisMap.prototype.remove=function(c){if(c.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";delete this[c];return null};x.UrisMap.prototype.set=function(c,b){if(c.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";this[c]=b};x.UrisMap.prototype.setDefault=function(c){this.defaultNs=c};x.UrisMap.prototype.addAll=function(c,b){for(var d in c)y.include(this.interfaceProperties,
d)||(this[d]!=null?b===!0&&(this[d]=c[d]):this[d]=c[d]);return this};x.UrisMap.prototype.resolve=function(c){var b=c.split(":"),c=b[0],b=b[1];return c===""?this.defaultNs+b:this[c]!=null?this[c]+b:null};x.UrisMap.prototype.shrink=function(c){for(var b in this){var d=this[b];if(c.indexOf(d)===0&&d!=="")return c=c.split(d)[1],b+":"+c}return c};x.Profile=function(){this.prefixes=new x.UrisMap;this.terms=new x.UrisMap};x.Profile.prototype.importProfile=function(c,b){this.prefixes.addAll(c.prefixes,b);
this.terms.addAll(c.terms,b)};x.Profile.prototype.resolve=function(c){return c.indexOf(":")!=-1?this.prefixes.resolve(c):this.terms[c]!=null?this.terms.resolve(c):null};x.Profile.prototype.setDefaultPrefix=function(c){this.prefixes.setDefault(c)};x.Profile.prototype.setDefaultVocabulary=function(c){this.terms.setDefault(c)};x.Profile.prototype.setPrefix=function(c,b){this.prefixes.set(c,b)};x.Profile.prototype.setTerm=function(c,b){this.terms.set(c,b)};x.RDFEnvironment=function(){this.blankNodeCounter=
0;var c=this;this.filters={s:function(b){return function(c){return c.subject.equals(b)}},p:function(b){return function(c){return c.predicate.equals(b)}},o:function(b){return function(c){return c.object.equals(b)}},sp:function(b,c){return function(h){return h.subject.equals(b)&&h.predicate.equals(c)}},so:function(b,c){return function(h){return h.subject.equals(b)&&h.object.equals(c)}},po:function(b,c){return function(h){return h.predicate.equals(b)&&h.object.equals(c)}},spo:function(b,c,h){return function(f){return f.subject.equals(b)&&
f.predicate.equals(c)&&f.object.equals(h)}},describes:function(b){return function(c){return c.subject.equals(b)||c.object.equals(b)}},type:function(b){var j=c.resolve("rdf:type");return function(c){return c.predicate.equals(j)&&c.object.equals(b)}}};for(var b in x.defaultContext)this.prefixes.set(b,x.defaultContext[b])};y["extends"](x.Profile,x.RDFEnvironment);x.RDFEnvironment.prototype.createBlankNode=function(){var c=x.BlankNode(this.blankNodeCounter);this.blankNodeCounter++;return c};x.RDFEnvironment.prototype.createNamedNode=
function(c){var b=this.resolve(c);return b!=null?new x.NamedNode(b):new x.NamedNode(c)};x.RDFEnvironment.prototype.createLiteral=function(c,b,d){return d!=null?new x.Literal(c,b,d.toString()):new x.Literal(c,b,d)};x.RDFEnvironment.prototype.createTriple=function(c,b,d){return new x.Triple(c,b,d)};x.RDFEnvironment.prototype.createGraph=function(c){var b=new x.Graph;if(c!=null)for(var d=0;d<c.length;d++)b.add(c[d]);return b};x.RDFEnvironment.prototype.createAction=function(c,b){return function(d){return c(d)?
b(d):d}};x.RDFEnvironment.prototype.createProfile=function(c){return c===!0?new x.RDFEnvironment.Profile:(c=new x.RDFEnvironment.Profile,c.importProfile(this),c)};x.RDFEnvironment.prototype.createTermMap=function(c){if(c===!0)return new x.UrisMap;else{var c=this.terms.values(),b=new x.UrisMap,d;for(d in c)b[d]=c[d];return b}};x.RDFEnvironment.prototype.createPrefixMap=function(c){if(c===!0)return new x.UrisMap;else{var c=this.prefixes.values(),b=new x.UrisMap,d;for(d in c)b[d]=c[d];return b}};x.RDFNode=
function(c){this.interfaceName=c;this.attributes=["interfaceName","nominalValue"]};x.RDFNode.prototype.equals=function(c){if(c.interfaceName==null)return this.valueOf()==c;else{for(var b in this.attributes){var d=this.attributes[b];if(this[d]!=c[d])return!1}return!0}};x.BlankNode=function(c){x.RDFNode.call(this,"BlankNode");this.nominalValue="_:"+c;this.bnodeId=c};y["extends"](x.RDFNode,x.BlankNode);x.BlankNode.prototype.toString=function(){return this.nominalValue};x.BlankNode.prototype.toNT=function(){return this.nominalValue};
x.BlankNode.prototype.valueOf=function(){return this.nominalValue};x.Literal=function(c,b,d){x.RDFNode.call(this,"Literal");this.nominalValue=c;if(b!=null)this.language=b;else if(d!=null)this.datatype=d};y["extends"](x.RDFNode,x.Literal);x.Literal.prototype.toString=function(){var c='"'+this.nominalValue+'"';this.language!=null?c=c+"@"+this.language:this.type!=null&&(c=c+"^^"+this.datatype);return c};x.Literal.prototype.toNT=function(){return this.toString()};x.Literal.prototype.valueOf=function(){return h.effectiveTypeValue({token:"literal",
type:this.type,value:this.nominalValue,language:this.language})};x.NamedNode=function(c){x.RDFNode.call(this,"NamedNode");this.nominalValue=c.value!=null?c.value:c};y["extends"](x.RDFNode,x.NamedNode);x.NamedNode.prototype.toString=function(){return this.nominalValue};x.NamedNode.prototype.toNT=function(){return"<"+this.toString()+">"};x.NamedNode.prototype.valueOf=function(){return this.nominalValue};x.Triple=function(c,b,d){this.subject=c;this.predicate=b;this.object=d};x.Triple.prototype.equals=
function(c){return this.subject.equals(c.subject)&&this.predicate.equals(c.predicate)&&this.object.equals(c.object)};x.Triple.prototype.toString=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+" . \r\n"};x.Graph=function(){this.triples=[];this.duplicates={};this.actions=[]};x.Graph.prototype.add=function(c){for(var b=0;b<this.actions.length;b++)c=this.actions[b](c);b=c.subject.toString()+c.predicate.toString()+c.object.toString();this.duplicates[b]||(this.duplicates[b]=
!0,this.triples.push(c));return this};x.Graph.prototype.addAction=function(c,b){this.actions.push(c);if(b==!0)for(var d=0;d<this.triples.length;d++)this.triples[d]=c(this.triples[d]);return this};x.Graph.prototype.addAll=function(c){for(var c=c.toArray(),b=0;b<c.length;b++)this.add(c[b]);return this};x.Graph.prototype.remove=function(c){for(var b=null,d=0;d<this.triples.length;d++)if(this.triples[d].equals(c)){delete this.duplicates[c.subject.toString()+c.predicate.toString()+c.object.toString()];
b=d;break}b!=null&&this.triples.splice(b,1);return this};x.Graph.prototype.toArray=function(){return this.triples};x.Graph.prototype.some=function(c){for(var b=0;b<this.triples.length;b++)if(c(this.triples[b],this)===!0)return!0;return!1};x.Graph.prototype.every=function(c){for(var b=0;b<this.triples.length;b++)if(c(this.triples[b],this)===!1)return!1;return!0};x.Graph.prototype.filter=function(c){for(var b=new x.Graph,d=0;d<this.triples.length;d++)c(this.triples[d],this)===!0&&b.add(this.triples[d]);
return b};x.Graph.prototype.forEach=function(c){for(var b=0;b<this.triples.length;b++)c(this.triples[b],this)};x.Graph.prototype.merge=function(){for(var c=new x.Graph,b=0;b<this.triples;b++){var d=this.triples[b];c.add(d)}for(b=0;b<triples.length;b++)d=triples[b],this.add(d);return c};x.Graph.prototype.match=function(c,b,d,j){for(var h=new x.Graph,f=0,n=0;n<this.triples.length;n++){var m=this.triples[n];if(c==null||m.subject.equals(c))if(b==null||m.predicate.equals(b))if(d==null||m.object.equals(d))if(j==
null||f<j)f++,h.add(m);else break}return h};x.Graph.prototype.removeMatches=function(c,b,d){for(var j=[],h=0;h<this.triples.length;h++){var f=this.triples[h];if(c==null||f.subject.equals(c))if(b==null||f.predicate.equals(b))(d==null||f.object.equals(d))&&j.push(f)}for(h=0;h<j.length;h++)this.remove(j[h]);return this};x.Graph.prototype.toNT=function(){var c="";this.forEach(function(b){c+=b.toString()});return c};x.buildRDFResource=function(c,b,d,j){return c.token==="blank"?x.buildBlankNode(c,b,d,j):
c.token==="literal"?x.buildLiteral(c,b,d,j):c.token==="uri"?x.buildNamedNode(c,b,d,j):c.token==="var"?(c=b[c.value],c!=null?x.buildRDFResource(c,b,d,j):null):null};x.buildBlankNode=function(c){if(c.value==null&&c.label)c.value=c.label;if(c.value.indexOf("_:")===0)c.value=c.value.split("_:")[1];return new x.BlankNode(c.value)};x.buildLiteral=function(c){return new x.Literal(c.value,c.lang,c.type)};x.buildNamedNode=function(c,b,d,j){if(c.value==null&&c.prefix!=null)b=d.resolveNsInEnvironment(c.prefix,
j),c.value=b+c.suffix;return new x.NamedNode(c)};x.rdf=new x.RDFEnvironment;var h={checkFilters:function(c,b,d,j,i){var f=c.filter,n=[];if(f==null||c.length!=null)return b;for(c=0;c<f.length;c++){for(var b=h.run(f[c].value,b,d,j,i),m=[],r=0;r<b.length;r++)b[r].__nullify__!=null?n.push(b[r]):m.push(b[r]);b=m}return b.concat(n)}};h.boundVars=function(c){if(c.expressionType!=null){var b=c.expressionType;if(b=="relationalexpression")return b=c.op2,h.boundVars(c.op1)+h.boundVars(b);else if(b=="conditionalor"||
b=="conditionaland"){for(var d=[],b=0;b<c.operands;b++)d=d.concat(h.boundVars(c.operands[b]));return d}else if(b=="builtincall")if(c.args==null)return[];else{d=[];for(b=0;b<c.args.length;b++)d=d.concat(h.boundVars(c.args[b]));return d}else if(b=="multiplicativeexpression"){d=h.boundVars(c.factor);for(b=0;b<c.factors.length;b++)d=d.concat(h.boundVars(c.factors[b].expression));return d}else if(b=="additiveexpression"){d=h.boundVars(c.summand);for(b=0;b<c.summands.length;b++)d=d.concat(h.boundVars(c.summands[b].expression));
return d}else if(b=="regex")return d=h.boundVars(c.expression1),d.concat(h.boundVars(c.expression2));else if(b=="unaryexpression")return h.boundVars(c.expression);else if(b=="atomic")return c.primaryexpression=="var"?[c.value]:[]}else throw console.log("ERROR"),console.log(c),"Cannot find bound expressions in a no expression token";};h.run=function(c,b,d,j,i){for(var f=i.copyDenormalizedBindings(b,j.outCache),n=[],m=0;m<b.length;m++){var r=h.runFilter(c,f[m],i,j),r=h.ebv(r);h.isEbvError(r)?d&&(r=
{__nullify__:!0,bindings:b[m]},n.push(r)):r===!0?n.push(b[m]):d&&(r={__nullify__:!0,bindings:b[m]},n.push(r))}return n};h.collect=function(c,b,d,j){for(var i=j.copyDenormalizedBindings(b,d.outCache),f=[],n=0;n<i.length;n++){var m=h.runFilter(c,i[n],j,d);f.push({binding:b[n],value:m})}return f};h.runDistinct=function(){};h.runAggregator=function(c,b,d,j){if(b==null||b.length===0)return h.ebvError();else if(c.token==="variable"&&c.kind=="var")return b[0][c.value.value];else if(c.token==="variable"&&
c.kind==="aliased")if(c.expression.expressionType==="atomic"&&c.expression.primaryexpression==="var")return b[0][c.expression.value.value];else if(c.expression.expressionType==="aggregate")if(c.expression.aggregateType==="max"){for(var i=null,f=0;f<b.length;f++){var n=b[f],n=h.runFilter(c.expression.expression,n,d,j);h.isEbvError(n)||(i===null?i=n:h.runLtFunction(i,n).value===!0&&(i=n))}return i===null?h.ebvError():i}else if(c.expression.aggregateType==="min"){i=null;for(f=0;f<b.length;f++)n=b[f],
n=h.runFilter(c.expression.expression,n,d,j),h.isEbvError(n)||(i===null?i=n:h.runGtFunction(i,n).value===!0&&(i=n));return i===null?h.ebvError():i}else if(c.expression.aggregateType==="count"){var i={},m=0;if(c.expression.expression==="*")if(c.expression.distinct!=null&&c.expression.distinct!="")for(f=0;f<b.length;f++){var n=b[f],r=y.hashTerm(n);i[r]==null&&(i[r]=!0,m++)}else m=b.length;else for(f=0;f<b.length;f++)n=b[f],n=h.runFilter(c.expression.expression,n,d,j),h.isEbvError(n)||(c.expression.distinct!=
null&&c.expression.distinct!=""?(r=y.hashTerm(n),i[r]==null&&(i[r]=!0,m++)):m++);return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+m}}else if(c.expression.aggregateType==="avg"){for(var i={},w={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"},f=m=0;f<b.length;f++)n=b[f],n=h.runFilter(c.expression.expression,n,d,j),h.isEbvError(n)||(c.expression.distinct!=null&&c.expression.distinct!=""?(r=y.hashTerm(n),i[r]==null&&(i[r]=!0,h.isNumeric(n)&&(w=
h.runSumFunction(w,n),m++))):h.isNumeric(n)&&(w=h.runSumFunction(w,n),m++));c=h.runDivFunction(w,{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+m});c.value=""+c.value;return c}else if(c.expression.aggregateType==="sum"){i={};w={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"};for(f=0;f<b.length;f++)n=b[f],n=h.runFilter(c.expression.expression,n,d,j),h.isEbvError(n)||(c.expression.distinct!=null&&c.expression.distinct!=""?(r=y.hashTerm(n),i[r]==
null&&(i[r]=!0,h.isNumeric(n)&&(w=h.runSumFunction(w,n)))):h.isNumeric(n)&&(w=h.runSumFunction(w,n)));w.value=""+w.value;return w}else return n=h.runFilter(aggregate.expression,b[0],{blanks:{},outCache:{}})};h.runFilter=function(c,b,d,j){if(c.expressionType!=null){var i=c.expressionType;if(i=="relationalexpression"){var i=h.runFilter(c.op1,b,d,j),f=h.runFilter(c.op2,b,d,j);return h.runRelationalFilter(c,i,f,b,d,j)}else if(i=="conditionalor")return h.runOrFunction(c,b,d,j);else if(i=="conditionaland")return h.runAndFunction(c,
b,d,j);else if(i=="additiveexpression")return h.runAddition(c.summand,c.summands,b,d,j);else if(i=="builtincall")return h.runBuiltInCall(c.builtincall,c.args,b,d,j);else if(i=="multiplicativeexpression")return h.runMultiplication(c.factor,c.factors,b,d,j);else if(i=="unaryexpression")return h.runUnaryExpression(c.unaryexpression,c.expression,b,d,j);else if(i=="irireforfunction")return h.runIriRefOrFunction(c.iriref,c.args,b,d,j);else if(i=="regex")return h.runRegex(c.text,c.pattern,c.flags,b,d,j);
else if(i=="atomic")if(c.primaryexpression=="var")return b[c.value.value];else{if(typeof c.value=="object"&&!(c.value.type==null||typeof c.value.type!="object"))c.value.type=y.lexicalFormBaseUri(c.value.type,j);return c.value}else throw"Unknown filter expression type";}else throw"Cannot find bound expressions in a no expression token";};h.isRDFTerm=function(c){return c==null?!1:c.token&&c.token=="literal"||c.token&&c.token=="uri"||c.token&&c.token=="blank"?!0:!1};h.RDFTermEquality=function(c,b,d,
j){return c.token==="literal"&&b.token==="literal"?c.lang==b.lang&&c.type==b.type&&c.value==b.value?!0:c.type!=null&&b.type!=null?h.ebvError():h.isSimpleLiteral(c)&&b.type!=null?h.ebvError():h.isSimpleLiteral(b)&&c.type!=null?h.ebvError():!1:c.token==="uri"&&b.token==="uri"?y.lexicalFormBaseUri(c,j)==y.lexicalFormBaseUri(b,j):c.token==="blank"&&b.token==="blank"?c.value==b.value:!1};h.isInteger=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#integer"||c.type==
"http://www.w3.org/2001/XMLSchema#decimal"||c.type=="http://www.w3.org/2001/XMLSchema#double"||c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#long"||c.type=="http://www.w3.org/2001/XMLSchema#int"||c.type=="http://www.w3.org/2001/XMLSchema#short"||c.type=="http://www.w3.org/2001/XMLSchema#byte"||c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||
c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"?!0:!1:!1};h.isFloat=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#float"?!0:!1:!1};h.isDecimal=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#decimal"?!0:!1:!1};h.isDouble=function(c){return c==
null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#double"?!0:!1:!1};h.isNumeric=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#integer"||c.type=="http://www.w3.org/2001/XMLSchema#decimal"||c.type=="http://www.w3.org/2001/XMLSchema#float"||c.type=="http://www.w3.org/2001/XMLSchema#double"||c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#long"||
c.type=="http://www.w3.org/2001/XMLSchema#int"||c.type=="http://www.w3.org/2001/XMLSchema#short"||c.type=="http://www.w3.org/2001/XMLSchema#byte"||c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"?!0:!1:
!1};h.isSimpleLiteral=function(c){return c&&c.token=="literal"?c.type==null&&c.lang==null?!0:!1:!1};h.isXsdType=function(c,b){return b&&b.token=="literal"?b.type=="http://www.w3.org/2001/XMLSchema#"+c:!1};h.ebv=function(c){if(c==null||h.isEbvError(c))return h.ebvError();else if(c.token&&c.token==="literal")if(c.type=="http://www.w3.org/2001/XMLSchema#integer"||c.type=="http://www.w3.org/2001/XMLSchema#decimal"||c.type=="http://www.w3.org/2001/XMLSchema#double"||c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||
c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#long"||c.type=="http://www.w3.org/2001/XMLSchema#int"||c.type=="http://www.w3.org/2001/XMLSchema#short"||c.type=="http://www.w3.org/2001/XMLSchema#byte"||c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||
c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"){var b=parseFloat(c.value);return isNaN(b)?!1:parseFloat(c.value)!=0}else return c.type==="http://www.w3.org/2001/XMLSchema#boolean"?c.value==="true"||c.value===!0||c.value==="True":c.type==="http://www.w3.org/2001/XMLSchema#string"?c.value!="":c.type==="http://www.w3.org/2001/XMLSchema#dateTime"?new Date(c.value)!=null:h.isEbvError(c)?c:c.type==null?c.value!=""?!0:!1:h.ebvError();else return c.value===!0};h.ebvTrue=function(){return val=
{token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}};h.ebvFalse=function(){return val={token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}};h.ebvError=function(){return val={token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null}};h.isEbvError=function(c){return typeof c=="object"&&c!=null?c.type==="https://github.com/antoniogarrote/js-tools/types#error":!1};h.ebvBoolean=function(c){return h.isEbvError(c)?c:c===!0?h.ebvTrue():
h.ebvFalse()};h.runRelationalFilter=function(c,b,d,j,i,f){c=c.operator;if(c==="=")return h.runEqualityFunction(b,d,j,i,f);else if(c==="!="){b=h.runEqualityFunction(b,d,j,i,f);if(!h.isEbvError(b))b.value=!b.value;return b}else if(c==="<")return h.runLtFunction(b,d,j);else if(c===">")return h.runGtFunction(b,d,j);else if(c==="<=")return h.runLtEqFunction(b,d,j);else if(c===">=")return h.runGtEqFunction(b,d,j);else throw"Error applying relational filter, unknown operator";};h.effectiveTypeValue=function(c){if(c.token==
"literal")if(c.type=="http://www.w3.org/2001/XMLSchema#integer")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#decimal")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#float")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#double")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger")return c=
parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#long")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#int")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#short")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#byte")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong")return c=
parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#date"||c.type=="http://www.w3.org/2001/XMLSchema#dateTime")try{return y.parseISO8601(c.value)}catch(b){return null}else return c.type==
"http://www.w3.org/2001/XMLSchema#boolean"?c.value===!0||c.value==="true"||c.value==="1"||c.value===1||c.value===!0?!0:c.value===!1||c.value==="false"||c.value==="0"||c.value===0||c.value===!1?!1:void 0:c.type=="http://www.w3.org/2001/XMLSchema#string"?c.value===null||c.value===void 0?void 0:""+c.value:c.value;else throw console.log("not implemented yet"),"value not supported in operations yet";};h.runOrFunction=function(c,b,d,j){for(var i=null,f=0;f<c.operands.length;f++){var n=h.runFilter(c.operands[f],
b,d,j);h.isEbvError(n)==!1&&(n=h.ebv(n));i==null?i=n:h.isEbvError(n)?i=h.isEbvError(i)?h.ebvError():i===!0?!0:h.ebvError():n===!0?i=!0:h.isEbvError(i)&&(i=h.ebvError())}return h.ebvBoolean(i)};h.runAndFunction=function(c,b,d,j){for(var i=null,f=0;f<c.operands.length;f++){var n=h.runFilter(c.operands[f],b,d,j);h.isEbvError(n)==!1&&(n=h.ebv(n));i==null?i=n:h.isEbvError(n)?i=h.isEbvError(i)?h.ebvError():i===!0?h.ebvError():!1:n===!0?h.isEbvError(i)&&(i=h.ebvError()):i=!1}return h.ebvBoolean(i)};h.runEqualityFunction=
function(c,b,d,j,i){if(h.isEbvError(c)||h.isEbvError(b))return h.ebvError();if(h.isNumeric(c)&&h.isNumeric(b)){var d=h.effectiveTypeValue(c),f=h.effectiveTypeValue(b);return isNaN(d)||isNaN(f)?h.ebvBoolean(h.RDFTermEquality(c,b,j,i)):h.ebvBoolean(d==f)}else if((h.isSimpleLiteral(c)||h.isXsdType("string",c))&&(h.isSimpleLiteral(b)||h.isXsdType("string",b)))return h.ebvBoolean(h.effectiveTypeValue(c)==h.effectiveTypeValue(b));else if(h.isXsdType("boolean",c)&&h.isXsdType("boolean",b))return h.ebvBoolean(h.effectiveTypeValue(c)==
h.effectiveTypeValue(b));else if((h.isXsdType("dateTime",c)||h.isXsdType("date",c))&&(h.isXsdType("dateTime",b)||h.isXsdType("date",b))){if(h.isXsdType("dateTime",c)&&h.isXsdType("date",b))return h.ebvFalse();if(h.isXsdType("date",c)&&h.isXsdType("dateTime",b))return h.ebvFalse();c=y.compareDateComponents(c.value,b.value);return c!=null?c==0?h.ebvTrue():h.ebvFalse():h.ebvError()}else return h.isRDFTerm(c)&&h.isRDFTerm(b)?h.ebvBoolean(h.RDFTermEquality(c,b,j,i)):h.ebvFalse()};h.runGtFunction=function(c,
b){if(h.isEbvError(c)||h.isEbvError(b))return h.ebvError();if(h.isNumeric(c)&&h.isNumeric(b))return h.ebvBoolean(h.effectiveTypeValue(c)>h.effectiveTypeValue(b));else if(h.isSimpleLiteral(c)&&h.isSimpleLiteral(b))return h.ebvBoolean(h.effectiveTypeValue(c)>h.effectiveTypeValue(b));else if(h.isXsdType("string",c)&&h.isXsdType("string",b))return h.ebvBoolean(h.effectiveTypeValue(c)>h.effectiveTypeValue(b));else if(h.isXsdType("boolean",c)&&h.isXsdType("boolean",b))return h.ebvBoolean(h.effectiveTypeValue(c)>
h.effectiveTypeValue(b));else if((h.isXsdType("dateTime",c)||h.isXsdType("date",c))&&(h.isXsdType("dateTime",b)||h.isXsdType("date",b))){if(h.isXsdType("dateTime",c)&&h.isXsdType("date",b))return h.ebvFalse();if(h.isXsdType("date",c)&&h.isXsdType("dateTime",b))return h.ebvFalse();var d=y.compareDateComponents(c.value,b.value);return d!=null?d==1?h.ebvTrue():h.ebvFalse():h.ebvError()}else return h.ebvFalse()};h.runTotalGtFunction=function(c,b){return h.isEbvError(c)||h.isEbvError(b)?h.ebvError():h.isNumeric(c)&&
h.isNumeric(b)||h.isSimpleLiteral(c)&&h.isSimpleLiteral(b)||h.isXsdType("string",c)&&h.isSimpleLiteral("string",b)||h.isXsdType("boolean",c)&&h.isSimpleLiteral("boolean",b)||h.isXsdType("dateTime",c)&&h.isSimpleLiteral("dateTime",b)?h.runGtFunction(c,b,[]):c.token&&c.token==="uri"&&b.token&&b.token==="uri"?h.ebvBoolean(c.value>b.value):c.token&&c.token==="literal"&&b.token&&b.token==="literal"?h.ebvBoolean(""+c.value+c.type+c.lang>""+b.value+b.type+b.lang):c.token&&c.token==="blank"&&b.token&&b.token===
"blank"?h.ebvBoolean(c.value>b.value):c.value&&b.value?h.ebvBoolean(c.value>b.value):h.ebvTrue()};h.runLtFunction=function(c,b){if(h.isEbvError(c)||h.isEbvError(b))return h.ebvError();if(h.isNumeric(c)&&h.isNumeric(b))return h.ebvBoolean(h.effectiveTypeValue(c)<h.effectiveTypeValue(b));else if(h.isSimpleLiteral(c)&&h.isSimpleLiteral(b))return h.ebvBoolean(h.effectiveTypeValue(c)<h.effectiveTypeValue(b));else if(h.isXsdType("string",c)&&h.isXsdType("string",b))return h.ebvBoolean(h.effectiveTypeValue(c)<
h.effectiveTypeValue(b));else if(h.isXsdType("boolean",c)&&h.isXsdType("boolean",b))return h.ebvBoolean(h.effectiveTypeValue(c)<h.effectiveTypeValue(b));else if((h.isXsdType("dateTime",c)||h.isXsdType("date",c))&&(h.isXsdType("dateTime",b)||h.isXsdType("date",b))){if(h.isXsdType("dateTime",c)&&h.isXsdType("date",b))return h.ebvFalse();if(h.isXsdType("date",c)&&h.isXsdType("dateTime",b))return h.ebvFalse();var d=y.compareDateComponents(c.value,b.value);return d!=null?d==-1?h.ebvTrue():h.ebvFalse():
h.ebvError()}else return h.ebvFalse()};h.runGtEqFunction=function(c,b){if(h.isEbvError(c)||h.isEbvError(b))return h.ebvError();if(h.isNumeric(c)&&h.isNumeric(b))return h.ebvBoolean(h.effectiveTypeValue(c)>=h.effectiveTypeValue(b));else if(h.isSimpleLiteral(c)&&h.isSimpleLiteral(b))return h.ebvBoolean(h.effectiveTypeValue(c)>=h.effectiveTypeValue(b));else if(h.isXsdType("string",c)&&h.isXsdType("string",b))return h.ebvBoolean(h.effectiveTypeValue(c)>=h.effectiveTypeValue(b));else if(h.isXsdType("boolean",
c)&&h.isXsdType("boolean",b))return h.ebvBoolean(h.effectiveTypeValue(c)>=h.effectiveTypeValue(b));else if((h.isXsdType("dateTime",c)||h.isXsdType("date",c))&&(h.isXsdType("dateTime",b)||h.isXsdType("date",b))){if(h.isXsdType("dateTime",c)&&h.isXsdType("date",b))return h.ebvFalse();if(h.isXsdType("date",c)&&h.isXsdType("dateTime",b))return h.ebvFalse();var d=y.compareDateComponents(c.value,b.value);return d!=null?d!=-1?h.ebvTrue():h.ebvFalse():h.ebvError()}else return h.ebvFalse()};h.runLtEqFunction=
function(c,b){if(h.isEbvError(c)||h.isEbvError(b))return h.ebvError();if(h.isNumeric(c)&&h.isNumeric(b))return h.ebvBoolean(h.effectiveTypeValue(c)<=h.effectiveTypeValue(b));else if(h.isSimpleLiteral(c)&&h.isSimpleLiteral(b))return h.ebvBoolean(h.effectiveTypeValue(c)<=h.effectiveTypeValue(b));else if(h.isXsdType("string",c)&&h.isXsdType("string",b))return h.ebvBoolean(h.effectiveTypeValue(c)<=h.effectiveTypeValue(b));else if(h.isXsdType("boolean",c)&&h.isXsdType("boolean",b))return h.ebvBoolean(h.effectiveTypeValue(c)<=
h.effectiveTypeValue(b));else if((h.isXsdType("dateTime",c)||h.isXsdType("date",c))&&(h.isXsdType("dateTime",b)||h.isXsdType("date",b))){if(h.isXsdType("dateTime",c)&&h.isXsdType("date",b))return h.ebvFalse();if(h.isXsdType("date",c)&&h.isXsdType("dateTime",b))return h.ebvFalse();var d=y.compareDateComponents(c.value,b.value);return d!=null?d!=1?h.ebvTrue():h.ebvFalse():h.ebvError()}else return h.ebvFalse()};h.runAddition=function(c,b,d,j,i){var f=h.runFilter(c,d,j,i);if(h.isEbvError(f))return h.ebvError();
c=f;if(h.isNumeric(f)){for(f=0;f<b.length;f++){var n=h.runFilter(b[f].expression,d,j,i);if(h.isNumeric(n))b[f].operator==="+"?c=h.runSumFunction(c,n):b[f].operator==="-"&&(c=h.runSubFunction(c,n));else return h.ebvFalse()}return c}else return h.ebvFalse()};h.runSumFunction=function(c,b){if(h.isEbvError(c)||h.isEbvError(b))return h.ebvError();var d=h.effectiveTypeValue(c)+h.effectiveTypeValue(b);return h.isDouble(c)||h.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:d}:
h.isFloat(c)||h.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:d}:h.isDecimal(c)||h.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};h.runSubFunction=function(c,b){if(h.isEbvError(c)||h.isEbvError(b))return h.ebvError();var d=h.effectiveTypeValue(c)-h.effectiveTypeValue(b);return h.isDouble(c)||h.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",
value:d}:h.isFloat(c)||h.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:d}:h.isDecimal(c)||h.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};h.runMultiplication=function(c,b,d,j,i){c=h.runFilter(c,d,j,i);if(h.isEbvError(c))return c;var f=c;if(h.isNumeric(c)){for(var n=0;n<b.length;n++){var m=h.runFilter(b[n].expression,d,j,i);if(h.isEbvError(m))return c;
if(h.isNumeric(m))b[n].operator==="*"?f=h.runMulFunction(f,m):b[n].operator==="/"&&(f=h.runDivFunction(f,m));else return h.ebvFalse()}return f}else return h.ebvFalse()};h.runMulFunction=function(c,b){if(h.isEbvError(c)||h.isEbvError(b))return h.ebvError();var d=h.effectiveTypeValue(c)*h.effectiveTypeValue(b);return h.isDouble(c)||h.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:d}:h.isFloat(c)||h.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",
value:d}:h.isDecimal(c)||h.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};h.runDivFunction=function(c,b){if(h.isEbvError(c)||h.isEbvError(b))return h.ebvError();var d=h.effectiveTypeValue(c)/h.effectiveTypeValue(b);return h.isDouble(c)||h.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:d}:h.isFloat(c)||h.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",
value:d}:h.isDecimal(c)||h.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};h.runBuiltInCall=function(c,b,d,j,i){for(var f=[],n=0;n<b.length;n++)if(b[n].token==="var")f.push(b[n]);else{var m=h.runFilter(b[n],d,j,i);if(h.isEbvError(m))return m;f.push(m)}if(c==="str")return f[0].token==="literal"?{token:"literal",type:null,value:""+f[0].value}:f[0].token==="uri"?{token:"literal",type:null,
value:f[0].value}:h.ebvFalse();else if(c==="lang")return f[0].token==="literal"?f[0].lang!=null?{token:"literal",value:""+f[0].lang}:{token:"literal",value:""}:h.ebvError();else if(c==="datatype")return f[0].token==="literal"?(d=f[0],d.type!=null?typeof d.type==="string"?{token:"uri",value:d.type,prefix:null,suffix:null}:d.type:d.lang==null?{token:"uri",value:"http://www.w3.org/2001/XMLSchema#string",prefix:null,suffix:null}:h.ebvError()):h.ebvError();else if(c==="isliteral")return f[0].token==="literal"?
h.ebvTrue():h.ebvFalse();else if(c==="isblank")return f[0].token==="blank"?h.ebvTrue():h.ebvFalse();else if(c==="isuri"||c==="isiri")return f[0].token==="uri"?h.ebvTrue():h.ebvFalse();else if(c==="sameterm")return d=h.RDFTermEquality(f[0],f[1],j,i),h.isEbvError(d)&&(d=!1),h.ebvBoolean(d);else if(c==="langmatches")return d=f[0],f=f[1],d.token==="literal"&&f.token==="literal"?f.value==="*"&&d.value!=""?h.ebvTrue():h.ebvBoolean(d.value.toLowerCase().indexOf(f.value.toLowerCase())===0):h.ebvError();else if(c===
"bound")return f=f[0].value,f==null?h.ebvError():d[f]!=null?h.ebvTrue():h.ebvFalse();else throw"Builtin call "+c+" not implemented yet";};h.runUnaryExpression=function(c,b,d,j,i){b=h.runFilter(b,d,j,i);if(h.isEbvError(b))return b;if(c==="!"){var f=h.ebv(b);return h.isEbvError(f)?h.ebvFalse():h.ebvBoolean(!f)}else if(c==="+")return h.isNumeric(b)?b:h.ebvError();else if(c==="-")if(h.isNumeric(b)){c={};for(f in b)c[f]=b[f];c.value=-c.value;return c}else return h.ebvError()};h.runRegex=function(c,b,d,
j,i,f){if(c!=null)c=h.runFilter(c,j,i,f);else return h.ebvError();if(b!=null)b=h.runFilter(b,j,i,f);else return h.ebvError();d!=null&&(d=h.runFilter(d,j,i,f));if(b!=null&&b.token==="literal"&&(d==null||d.token==="literal"))b=b.value,d=d==null?null:d.value;else return h.ebvError();if(c!=null&&c.token=="var")if(j[c.value]!=null)c=j[c.value];else return h.ebvError();else if(c!=null&&c.token==="literal")if(c.type==null||h.isXsdType("string",c))c=c.value;else return h.ebvError();else return h.ebvError();
return(d==null?RegExp(b):RegExp(b,d.toLowerCase())).exec(c)?h.ebvTrue():h.ebvFalse()};h.normalizeLiteralDatatype=function(c,b,d){if(!(c.value.type==null||typeof c.value.type!="object"))c.value.type=y.lexicalFormBaseUri(c.value.type,d);return c};h.runIriRefOrFunction=function(c,b,d,j,i){if(b==null)return c;else{for(var f=[],n=0;n<b.length;n++)f.push(h.runFilter(b[n],d,j,i));c=y.lexicalFormBaseUri(c,i);if(c=="http://www.w3.org/2001/XMLSchema#integer"||c=="http://www.w3.org/2001/XMLSchema#decimal"||
c=="http://www.w3.org/2001/XMLSchema#double"||c=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||c=="http://www.w3.org/2001/XMLSchema#negativeInteger"||c=="http://www.w3.org/2001/XMLSchema#long"||c=="http://www.w3.org/2001/XMLSchema#int"||c=="http://www.w3.org/2001/XMLSchema#short"||c=="http://www.w3.org/2001/XMLSchema#byte"||c=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c=="http://www.w3.org/2001/XMLSchema#unsignedLong"||c=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c=="http://www.w3.org/2001/XMLSchema#unsignedShort"||
c=="http://www.w3.org/2001/XMLSchema#unsignedByte"||c=="http://www.w3.org/2001/XMLSchema#positiveInteger")if(f=f[0],f.token==="literal")if(f=h.normalizeLiteralDatatype(f,j,i),f.type=="http://www.w3.org/2001/XMLSchema#integer"||f.type=="http://www.w3.org/2001/XMLSchema#decimal"||f.type=="http://www.w3.org/2001/XMLSchema#double"||f.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||f.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||f.type=="http://www.w3.org/2001/XMLSchema#long"||
f.type=="http://www.w3.org/2001/XMLSchema#int"||f.type=="http://www.w3.org/2001/XMLSchema#short"||f.type=="http://www.w3.org/2001/XMLSchema#byte"||f.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||f.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||f.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||f.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||f.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||f.type=="http://www.w3.org/2001/XMLSchema#positiveInteger")return f.type=
c,f;else if(f.type=="http://www.w3.org/2001/XMLSchema#boolean")return h.ebv(f)==!0?(f.type=c,f.value=1):(f.type=c,f.value=0),f;else if(f.type=="http://www.w3.org/2001/XMLSchema#float"||f.type=="http://www.w3.org/2001/XMLSchema#double")return f.type=c,f.value=parseInt(f.value),f;else if(f.type=="http://www.w3.org/2001/XMLSchema#string"||f.type==null){if(f.value.split(".").length>2)return h.ebvError();else if(f.value.split("-").length>2)return h.ebvError();else if(f.value.split("/").length>2)return h.ebvError();
else if(f.value.split("+").length>2)return h.ebvError();if(c=="http://www.w3.org/2001/XMLSchema#decimal"&&(f.value.indexOf("e")!=-1||f.value.indexOf("E")!=-1))return h.ebvError();if(c=="http://www.w3.org/2001/XMLSchema#int"||c=="http://www.w3.org/2001/XMLSchema#integer")if(f.value.indexOf("e")!=-1||f.value.indexOf("E")!=-1||f.value.indexOf(".")!=-1)return h.ebvError();try{return f.value=parseInt(parseFloat(f.value)),isNaN(f.value)?h.ebvError():(f.type=c,f)}catch(m){return h.ebvError()}}else return h.ebvError();
else return h.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#boolean")return f=f[0],f.token==="literal"&&f.type==null?f.value==="true"||f.value==="1"?h.ebvTrue():f.value==="false"||f.value==="0"?h.ebvFalse():h.ebvError():f.token==="literal"?h.isEbvError(f)?f:h.ebvBoolean(f):h.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#string")if(f=f[0],f.token==="literal")if(f=h.normalizeLiteralDatatype(f,j,i),f.type=="http://www.w3.org/2001/XMLSchema#integer"||f.type=="http://www.w3.org/2001/XMLSchema#decimal"||
f.type=="http://www.w3.org/2001/XMLSchema#double"||f.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||f.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||f.type=="http://www.w3.org/2001/XMLSchema#long"||f.type=="http://www.w3.org/2001/XMLSchema#int"||f.type=="http://www.w3.org/2001/XMLSchema#short"||f.type=="http://www.w3.org/2001/XMLSchema#byte"||f.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||f.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||f.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||
f.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||f.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||f.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"||f.type=="http://www.w3.org/2001/XMLSchema#float")return f.type=c,f.value=""+f.value,f;else if(f.type=="http://www.w3.org/2001/XMLSchema#string")return f;else if(f.type=="http://www.w3.org/2001/XMLSchema#boolean")return h.ebv(f)?(f.type=c,f.value="true"):(f.type=c,f.value="false"),f;else if(f.type=="http://www.w3.org/2001/XMLSchema#dateTime"||
f.type=="http://www.w3.org/2001/XMLSchema#date"){f.type=c;if(typeof f.value!="string")f.value=y.iso8601(f.value);return f}else return f.type==null?(f.value=""+f.value,f.type=c,f):h.ebvError();else return f.token==="uri"?{token:"literal",value:y.lexicalFormBaseUri(f,i),type:c,lang:null}:h.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#dateTime"||c=="http://www.w3.org/2001/XMLSchema#date")if(f=f[0],f.type=="http://www.w3.org/2001/XMLSchema#dateTime"||f.type=="http://www.w3.org/2001/XMLSchema#date")return f;
else if(f.type=="http://www.w3.org/2001/XMLSchema#string"||f.type==null)try{return f.value=y.iso8601(y.parseStrictISO8601(f.value)),f.type=c,f}catch(r){return h.ebvError()}else return h.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#float")if(f=f[0],f.token==="literal")if(f=h.normalizeLiteralDatatype(f,j,i),f.type=="http://www.w3.org/2001/XMLSchema#decimal"||f.type=="http://www.w3.org/2001/XMLSchema#int")return f.type=c,f.value=parseFloat(f.value),f;else if(f.type=="http://www.w3.org/2001/XMLSchema#boolean")return h.ebv(f)==
!0?(f.type=c,f.value=1):(f.type=c,f.value=0),f;else if(f.type=="http://www.w3.org/2001/XMLSchema#float"||f.type=="http://www.w3.org/2001/XMLSchema#double")return f.type=c,f.value=parseFloat(f.value),f;else if(f.type=="http://www.w3.org/2001/XMLSchema#string")try{return f.value=parseFloat(f.value),isNaN(f.value)?h.ebvError():(f.type=c,f)}catch(w){return h.ebvError()}else if(f.type==null){if(f.value.split(".").length>2)return h.ebvError();else if(f.value.split("-").length>2)return h.ebvError();else if(f.value.split("/").length>
2)return h.ebvError();else if(f.value.split("+").length>2)return h.ebvError();try{return f.value=parseFloat(f.value),isNaN(f.value)?h.ebvError():(f.type=c,f)}catch(t){return h.ebvError()}}else return h.ebvError();else return h.ebvError();else return h.ebvError()}};var B={orderJoins:function(c){return c},variablesInBGP:function(c){var b=c.variables;if(b)return b;var d=c.value||c,b=[];for(comp in d)d[comp]&&d[comp].token==="var"?b.push(d[comp].value):d[comp]&&d[comp].token==="blank"&&b.push("blank:"+
d[comp].label);return c.variables=b},variablesIntersectionBGP:function(c,b){for(var d=B.variablesInBGP(c).sort(),j=B.variablesInBGP(b).sort(),h=0,f=0,n=[];h<d.length&&f<j.length;)d[h]===j[f]?(n.push(d[h]),h++,f++):d[h]<j[f]?h++:f++;return n}};B.executeAndBGPs=function(c,b,d,j){c=y.partition(c,2);return B.buildBushyJoinTreeBase(c,b,d,j)};B.buildBushyJoinTreeBase=function(c,b,d,j){for(var h=[],f=0;f<c.length;f++){var n=c[f];results=B.executeAndBGP(n[0],n[1],b,d,j);if(results!=null)h.push(results);else return null}return B.buildBushyJoinTreeBranches(h)};
B.buildBushyJoinTreeBranches=function(c){if(c.length===1)return c[0];else{for(var c=y.partition(c,2),b=[],d=0;d<c.length;d++){var j=c[d],j=B.executeAndBindings(j[0],j[1]);b.push(j)}return B.buildBushyJoinTreeBranches(b)}};B.executeAndBindings=function(c,b){return c==null?b:b==null?c:c==[]||b==[]?[]:B.variablesIntersectionBindings(c[0],b[0]).length==0?B.crossProductBindings(c,b):B.joinBindings(c,b)};B.executeAndBGP=function(c,b,d,j,h){if(c==null)return B.executeEmptyJoinBGP(b,d,j,h);else if(b==null)return B.executeEmptyJoinBGP(c,
d,j,h);else{var f=B.variablesIntersectionBGP(c,b);return f.length===0?B.executeCrossProductBGP(f,c,b,d,j,h):B.executeJoinBGP(f,c,b,d,j,h)}};B.executeEmptyJoinBGP=function(c,b,d,j){return B.executeBGPDatasets(c,b,d,j)};B.executeJoinBGP=function(c,b,d,j,h,f){c=B.executeBGPDatasets(b,j,h,f);return c!=null?(d=B.executeBGPDatasets(d,j,h,f),d!=null?B.joinBindings(c,d):null):null};B.executeBGPDatasets=function(c,b,d,j){var h={};if(c.graph==null){for(var f=[],n=0;n<b["default"].length;n++)if(h[b["default"][n].oid]==
null){h[b["default"][n].oid]=!0;c.graph=b["default"][n];var m=d.rangeQuery(c,j),m=B.buildBindingsFromRange(m,c);f.push(m)}return c=B.unionManyBindings(f)}else if(c.graph.token==="var"){for(var r=c.graph.value,f=[],n=0;n<b.named.length;n++)if(h[b.named[n].oid]==null)if(h[b.named[n].oid]=!0,c.graph=b.named[n],m=d.rangeQuery(c,j),m!=null){for(var m=B.buildBindingsFromRange(m,c),w=0;w<m.length;w++)m[w][r]=b.named[n].oid;f.push(m)}else return null;return c=B.unionManyBindings(f||[])}else return m=d.rangeQuery(c,
j),m!=null?m=B.buildBindingsFromRange(m,c):null};B.executeCrossProductBGP=function(c,b,d,j,h,f){c=B.executeBGPDatasets(b,j,h,f);return c!=null?(d=B.executeBGPDatasets(d,j,h,f),d!=null?B.crossProductBindings(c,d):null):null};B.buildBindingsFromRange=function(c,b){B.variablesInBGP(b);var d={},j=b.value||b,d={};for(m in j)j[m]&&j[m].token==="var"?d[m]=j[m].value:j[m]&&j[m].token==="blank"&&(d[m]="blank:"+j[m].label);for(var j=[],h=0;h<c.length;h++){var f={},n=c[h],m;for(m in d)f[d[m]]=n[m];j.push(f)}return j};
B.variablesIntersectionBindings=function(c,b){var d=0,j=0,h=[],f=[],n;for(n in c)h.push(n);for(n in b)f.push(n);h.sort();f.sort();for(n=[];d<h.length&&j<f.length;)h[d]===f[j]?(n.push(h[d]),d++,j++):h[d]<f[j]?d++:j++;return n};B.areCompatibleBindings=function(c,b){for(var d in c)if(b[d]!=null&&b[d]!=c[d])return!1;return!0};B.mergeBindings=function(c,b){var d={},h;for(h in c)d[h]=c[h];for(h in b)d[h]=b[h];return d};B.joinBindings=function(c,b){for(var d=[],h=0;h<c.length;h++)for(var i=c[h],f=0;f<b.length;f++){var n=
b[f];B.areCompatibleBindings(i,n)&&d.push(B.mergeBindings(i,n))}return d};B.augmentMissingBindings=function(c,b){for(var d in b)c[d]==null&&(c[d]=null);return c};B.leftOuterJoinBindings=function(c,b){for(var d=[],h=0;h<c.length;h++){for(var i=c[h],f=!1,n=0;n<b.length;n++){var m=b[n];B.areCompatibleBindings(i,m)&&(f=!0,d.push(B.mergeBindings(i,m)))}f===!1&&(B.augmentMissingBindings(i,m),d.push(i))}return d};B.crossProductBindings=function(c,b){for(var d=[],h=0;h<c.length;h++)for(var i=c[h],f=0;f<b.length;f++)d.push(B.mergeBindings(i,
b[f]));return d};B.unionBindings=function(c,b){return c.concat(b)};B.unionManyBindings=function(c){for(var b=[],d=0;d<c.length;d++)b=B.unionBindings(b,c[d]);return b};var J={QueryEngine:function(c){if(arguments.length!=0)this.backend=c.backend,this.lexicon=c.lexicon,this.abstractQueryTree=new R.AbstractQueryTree,this.rdfLoader=new Z.RDFLoader(c.communication),this.callbacksBackend=new E.CallbacksBackend(this)}};J.QueryEngine.prototype.registerNsInEnvironment=function(c,b){for(var d=c.prefixes,h={},
i=0;i<d.length;i++){var f=d[i];if(f.token==="prefix")h[f.prefix]=f.local}b.namespaces=h;b.base=c.base&&typeof c.base==="object"?c.base.value:null};J.QueryEngine.prototype.applyModifier=function(c,b){if(c=="DISTINCT"){for(var d={},h=[],i=0;i<b.length;i++){var f=b[i],n="",m;for(m in f){var r=f[m];r==null?n=n+m+"null":r.token=="literal"?(r.value!=null&&(n+=r.value),r.lang!=null&&(n+=r.lang),r.type!=null&&(n+=r.type)):n=r.value?n+m+r.value:n+m+r}d[n]==null&&(h.push(f),d[n]=!0)}return h}else return b};
J.QueryEngine.prototype.applyLimitOffset=function(c,b,d){if(b==null&&c==null)return d;c==null&&(c=0);b=b==null?d.length:c+b;return d.slice(c,b)};J.QueryEngine.prototype.applySingleOrderBy=function(c,b,d){for(var j=[],i=0;i<c.length;i++){var f=h.collect(c[i].expression,[b],d,this);j.push(f[0].value)}return{binding:b,value:j}};J.QueryEngine.prototype.applyOrderBy=function(c,b,d){var h=this,i=[];if(c!=null&&c.length>0){for(var f=0;f<b.length;f++){var n=h.applySingleOrderBy(c,b[f],d);i.push(n)}i.sort(function(b,
f){return h.compareFilteredBindings(b,f,c,d)});b=[];for(f=0;f<i.length;f++)b.push(i[f].binding)}return b};J.QueryEngine.prototype.compareFilteredBindings=function(c,b,d,j){for(var i=0;;){if(i==c.value.length)return 0;var f=d[i].direction;if(c.value[i]==null&&b.value[i]==null)i++;else{if(c.value[i]==null)c={value:!1};else if(b.value[i]==null)c={value:!0};else if(c.value[i].token==="blank"&&b.value[i].token==="blank"){i++;continue}else if(c.value[i].token==="blank")c={value:!1};else if(b.value[i].token===
"blank")c={value:!0};else if(c.value[i].token==="uri"&&b.value[i].token==="uri")if(h.runEqualityFunction(c.value[i],b.value[i],[],this,j).value==!0){i++;continue}else c=h.runTotalGtFunction(c.value[i],b.value[i],[]);else if(c.value[i].token==="uri")c={value:!1};else if(b.value[i].token==="uri")c={value:!0};else if(c.value[i].token==="literal"&&b.value[i].token==="literal"&&c.value[i].type==null&&b.value[i].type==null)if(h.runEqualityFunction(c.value[i],b.value[i],[],this,j).value==!0){i++;continue}else c=
h.runTotalGtFunction(c.value[i],b.value[i],[]);else if(c.value[i].token==="literal"&&c.value[i].type==null)c={value:!1};else if(b.value[i].token==="literal"&&b.value[i].type==null)c={value:!0};else if(h.runEqualityFunction(c.value[i],b.value[i],[],this,j).value==!0){i++;continue}else c=h.runTotalGtFunction(c.value[i],b.value[i],[]);return c.value==!0?f==="ASC"?1:-1:f==="ASC"?-1:1}}};J.QueryEngine.prototype.removeDefaultGraphBindings=function(c,b){for(var d=[],h={},i=0;i<b.named.length;i++)h[b.named[i].oid]=
!0;for(i=0;i<b["default"].length;i++)h[b["default"][i].oid]==null&&d.push(b["default"][i].oid);d=[];for(i=0;i<c.length;i++){var f=c[i],n=!1,m;for(m in f){for(var r=0;r<h.length;r++)if(f[m]===h[r]){n=!0;break}if(n)break}n||d.push(f)}return d};J.QueryEngine.prototype.aggregateBindings=function(c,b,d){for(var b=this.copyDenormalizedBindings(b,d.outCache),j={},i=0;i<c.length;i++){var f=h.runAggregator(c[i],b,this,d);c[i].alias?j[c[i].alias.value]=f:j[c[i].value.value]=f}return j};J.QueryEngine.prototype.projectBindings=
function(c,b){if(c[0].kind==="*")return b;else{for(var d=[],j=0;j<b.length;j++){for(var i=b[j],f={},n=!0,m=0;m<c.length;m++)if(c[m].token=="variable"&&c[m].kind!="aliased")f[c[m].value.value]=i[c[m].value.value];else if(c[m].token=="variable"&&c[m].kind=="aliased"){var r=h.runFilter(c[m].expression,i,this,{blanks:{},outCache:{}});if(h.isEbvError(r)){n=!1;break}else f[c[m].alias.value]=r}n===!0&&d.push(f)}return d}};J.QueryEngine.prototype.resolveNsInEnvironment=function(c,b){return b.namespaces[c]};
J.QueryEngine.prototype.normalizeTerm=function(c,b,d){if(c.token==="uri")return b=y.lexicalFormBaseUri(c,b),b==null?null:d?this.lexicon.registerUri(b):this.lexicon.resolveUri(b);else if(c.token==="literal")return b=y.lexicalFormLiteral(c,b),c=d?this.lexicon.registerLiteral(b):this.lexicon.resolveLiteral(b);else if(c.token==="blank"){var h=c.label,c=b.blanks[h];c==null&&(c=d?this.lexicon.registerBlank(h):this.lexicon.resolveBlank(h),b.blanks[h]=c);return c}else return c.token==="var"?c.value:null};
J.QueryEngine.prototype.normalizeDatasets=function(c,b){for(var d=0;d<c.length;d++){var h=c[d];if(h.value===this.lexicon.defaultGraphUri)h.oid=this.lexicon.defaultGraphOid;else{var i=this.normalizeTerm(h,b,!1);if(i!=null)h.oid=i;else return null}}return!0};J.QueryEngine.prototype.normalizeQuad=function(c,b,d){var h=null,i=null,f=h=null,n;if(c.graph==null)f=0;else if(n=this.normalizeTerm(c.graph,b,d),n!=null)f=n,d===!0&&c.graph.token!="var"&&this.lexicon.registerGraph(n);else return null;n=this.normalizeTerm(c.subject,
b,d);if(n!=null)h=n;else return null;n=this.normalizeTerm(c.predicate,b,d);if(n!=null)i=n;else return null;n=this.normalizeTerm(c.object,b,d);return n==null?null:{subject:h,predicate:i,object:n,graph:f}};J.QueryEngine.prototype.denormalizeBindingsList=function(c,b){for(var d=[],h=0;h<c.length;h++)result=this.denormalizeBindings(c[h],b),d.push(result);return d};J.QueryEngine.prototype.copyDenormalizedBindings=function(c,b){for(var d=[],h=0;h<c.length;h++){for(var i={},f=c[h],n=y.keys(f),m=0;m<n.length;m++){var r=
f[n[m]];if(r==null)i[n[m]]=null;else if(typeof r==="object")i[n[m]]=r;else{var w=b[r];w==null&&(w=this.lexicon.retrieve(r),b[r]=w);i[n[m]]=w}}d.push(i)}return d};J.QueryEngine.prototype.denormalizeBindings=function(c,b){for(var d=y.keys(c),h=0;h<d.length;h++){var i=c[d[h]];i==null?c[d[h]]=null:b[i]!=null?c[d[h]]=b[i]:(i=this.lexicon.retrieve(i),c[d[h]]=i)}return c};J.QueryEngine.prototype.execute=function(c,b,d,h){c=y.normalizeUnicodeLiterals(c);c=this.abstractQueryTree.parseQueryString(c);if(c==
null)b(!1,"Error parsing query string");else if(c.token==="query"&&c.kind=="update"){this.callbacksBackend.startGraphModification();var i=this;this.executeUpdate(c,function(c,d){c?i.callbacksBackend.endGraphModification(function(){b(c,d)}):(i.callbacksBackend.cancelGraphModification(),b(c,d))})}else c.token==="query"&&c.kind=="query"&&this.executeQuery(c,b,d,h)};J.QueryEngine.prototype.executeQuery=function(c,b,d,h){var i=c.units,f=this,n={blanks:{},outCache:{}};this.registerNsInEnvironment(c.prologue,
n);var m=f.abstractQueryTree.parseExecutableUnit(i[0]);if(m.kind==="select")this.executeSelect(m,n,d,h,function(c,d){c?typeof d==="object"&&d.denorm===!0?b(!0,d.bindings):(d=f.denormalizeBindingsList(d,n.outCache),d!=null?b(!0,d):b(!1,d)):b(!1,d)});else if(m.kind==="ask")m.projection=[{token:"variable",kind:"*"}],this.executeSelect(m,n,d,h,function(c,d){c?c?d.length>0?b(!0,!0):b(!0,!1):b(!1,d):b(!1,d)});else if(m.kind==="construct")m.projection=[{token:"variable",kind:"*"}],f=this,this.executeSelect(m,
n,d,h,function(c,d){if(c)if(c)if(d=f.denormalizeBindingsList(d,n.outCache),d!=null){var h=new x.Graph;if(m.template==null)m.template={triplesContext:m.pattern};for(var j=1,i=0;i<d.length;i++)for(var y=d[i],B={},D=0;D<m.template.triplesContext.length;D++){for(var E=["subject","predicate","object"],F=m.template.triplesContext[D],J=0;J<E.length;J++){var K=E[J];if(F[K].token==="blank")if(B[F[K].value]!=null)F[K].value=B[F[K].value];else{var N="_:b"+j;j++;B[F[K].value]=N;F[K].value=N}}E=x.buildRDFResource(F.subject,
y,f,n);J=x.buildRDFResource(F.predicate,y,f,n);F=x.buildRDFResource(F.object,y,f,n);E!=null&&J!=null&&F!=null&&(J=new x.Triple(E,J,F),h.add(J))}b(!0,h)}else b(!1,d);else b(!1,d);else b(!1,d)})};J.QueryEngine.prototype.executeSelect=function(c,b,d,h,i){if(c.kind==="select"||c.kind==="ask"||c.kind==="construct"||c.kind==="modify"){var f=c.projection,n=c.dataset,m=c.modifier,r=c.limit,w=c.offset,t=c.order;if(d!=null||h!=null)n["default"]=d||[],n.named=h||[];n["default"]!=null&&n["default"].length===
0&&n.named!=null&&n.named.length===0&&n["default"].push(this.lexicon.defaultGraphUriTerm);if(this.normalizeDatasets(n["default"].concat(n.named),b)!=null)if(h=this.executeSelectUnit(f,n,c.pattern,b),h!=null){if(c.group!=null&&c.group===""){for(var x=!1,d=0;d<c.projection.length;d++)if(c.projection[d].expression!=null&&c.projection[d].expression.expressionType==="aggregate"){x=!0;break}if(x===!0)c.group="singleGroup"}if(c.group&&c.group!="")if(this.checkGroupSemantics(c.group,f)){n=this.groupSolution(h,
c.group,b);m=[];for(d=0;d<n.length;d++)r=this.aggregateBindings(f,n[d],b),m.push(r);i(!0,{bindings:m,denorm:!0})}else i(!1,"Incompatible Group and Projection variables");else b=this.applyOrderBy(t,h,b),f=this.projectBindings(f,b),modifiedBindings=this.applyModifier(m,f),filteredBindings=this.removeDefaultGraphBindings(this.applyLimitOffset(w,r,modifiedBindings),n),i(!0,filteredBindings)}else console.log("ERROR selectUnit"),i(!1,h);else console.log("ERROR normalizing"),i(!1,results)}else i(!1,"Cannot execute "+
c.kind+" query as a select query")};J.QueryEngine.prototype.groupSolution=function(c,b,d){var j=[],i=[],f=!1;if(b==="singleGroup")return[c];else{for(var n=0;n<c.length;n++){for(var m=c[n],r=!0,w=0;w<b.length;w++){var t=b[w],x=null;if(t.token==="var")x=t.value,f==!1&&j.push(x);else if(t.token==="aliased_expression")if(x=t.alias.value,f==!1&&j.push(x),t.expression.primaryexpression==="var")m[t.alias.value]=m[t.expression.value.value];else if(x=this.copyDenormalizedBindings([m],d.outCache),x=h.runFilter(t.expression,
x[0],this,d),h.isEbvError(x))r=!1;else{if(x.value!=null)x.value=""+x.value;m[t.alias.value]=x}else x=this.copyDenormalizedBindings([m],d.outCache),x=h.runFilter(t,x[0],this,d),h.isEbvError(x)?r=!1:(m["groupCondition"+env._i]=x,x="groupCondition"+env._i,f==!1&&j.push(x))}f==!1&&(f=!0);r===!0&&i.push(m)}c={};for(n=0;n<i.length;n++){b=i[n];d="";for(w=0;w<j.length;w++)f=b[j[w]],d+=typeof f==="object"?f.value:f;c[d]==null?c[d]=[b]:c[d].push(b)}var j=[],y;for(y in c)j.push(c[y]);return j}};J.QueryEngine.prototype.executeSelectUnit=
function(c,b,d,j){return d.kind==="BGP"?this.executeAndBGP(c,b,d,j):d.kind==="UNION"?this.executeUNION(c,b,d.value,j):d.kind==="JOIN"?this.executeJOIN(c,b,d,j):d.kind==="LEFT_JOIN"?this.executeLEFT_JOIN(c,b,d,j):d.kind==="FILTER"?(c=this.executeSelectUnit(c,b,d.value,j),c!=null?c=h.checkFilters(d,c,!1,j,this):[]):d.kind==="EMPTY_PATTERN"?[]:(console.log("Cannot execute query pattern "+d.kind+". Not implemented yet."),null)};J.QueryEngine.prototype.executeUNION=function(c,b,d,j){var i=d[0],f=d[1],
n=null,m=null;if(d.length!=2)throw"SPARQL algebra UNION with more than two components";n=this.executeSelectUnit(c,b,i,j);if(n==null)return null;m=this.executeSelectUnit(c,b,f,j);if(m==null)return null;c=B.unionBindings(n,m);return c=h.checkFilters(d,c,!1,j,this)};J.QueryEngine.prototype.executeAndBGP=function(c,b,d,j){c=B.executeAndBGPs(d.value,b,this,j);return c!=null?h.checkFilters(d,c,!1,j,this):null};J.QueryEngine.prototype.executeLEFT_JOIN=function(c,b,d,j){var i=d.rvalue,f=null,n=null,f=this.executeSelectUnit(c,
b,d.lvalue,j);if(f==null)return null;n=this.executeSelectUnit(c,b,i,j);if(n==null)return null;c=B.leftOuterJoinBindings(f,n);d=h.checkFilters(d,c,!0,j,this);if(f.length>1&&n.length>1){var j=[],c={},m;for(m in f[0])c[m]=!0;for(m in n[0])c[m]!=!0&&j.push(m);acum=[];duplicates={};for(f=0;f<d.length;f++)if(d[f].__nullify__===!0){for(c=0;c<j.length;c++)d[f].bindings[j[c]]=null;c=[];n=[];for(m in d[f].bindings)d[f].bindings[m]!=null&&(c.push(m+d[f].bindings[m]),c.sort(),n.push(c.join("")));if(duplicates[c.join("")]==
null){for(c=0;c<n.length;c++)duplicates[n[c]]=!0;acum.push(d[f].bindings)}}else for(m in acum.push(d[f]),c=[],d[f])c.push(m+d[f][m]),c.sort(),duplicates[c.join("")]=!0;return acum}else return d};J.QueryEngine.prototype.executeJOIN=function(c,b,d,j){var i=d.rvalue,f=null,n=null,f=this.executeSelectUnit(c,b,d.lvalue,j);if(f==null)return null;n=this.executeSelectUnit(c,b,i,j);if(n==null)return null;c=B.joinBindings(f,n);return c=h.checkFilters(d,c,!1,j,this)};J.QueryEngine.prototype.rangeQuery=function(c,
b){var d=this.normalizeQuad(c,b,!1);return d!=null?(d=this.backend.range(new S.Pattern(d)),d==null||d.length==0?[]:d):(console.log("ERROR normalizing quad"),null)};J.QueryEngine.prototype.executeUpdate=function(c,b){var d=c.units,h=this,i={blanks:{},outCache:{}};this.registerNsInEnvironment(c.prologue,i);for(var f=0;f<d.length;f++){var n=h.abstractQueryTree.parseExecutableUnit(d[f]);if(n.kind==="insertdata"){for(var m=0;m<n.quads.length;m++){var r=n.quads[m];if(h._executeQuadInsert(r,i)!==!0)return b(!1,
error)}b(!0)}else if(n.kind==="deletedata"){for(m=0;m<n.quads.length;m++)r=n.quads[m],this._executeQuadDelete(r,i);b(!0)}else if(n.kind==="modify")this._executeModifyQuery(n,i,b);else if(n.kind==="create")b(!0);else if(n.kind==="load")m={uri:y.lexicalFormBaseUri(n.sourceGraph,i)},n.destinyGraph!=null&&(m={uri:y.lexicalFormBaseUri(n.destinyGraph,i)}),h=this,this.rdfLoader.load(n.sourceGraph.value,m,function(c,d){c==!1?(console.log("Error loading graph"),console.log(d)):(d=h.batchLoad(d),b(d!=null,
d||"error batch loading quads"))});else if(n.kind==="drop")this._executeClearGraph(n.destinyGraph,i,b);else if(n.kind==="clear")this._executeClearGraph(n.destinyGraph,i,b);else throw Error("not supported execution unit");}};J.QueryEngine.prototype.batchLoad=function(c,b){for(var d=null,h=null,i=null,f=null,n=0,m=!0,r={},w,t,x=0;x<c.length;x++)if(t=c[x],t.subject.uri||t.subject.token==="uri"?d=w=this.lexicon.registerUri(t.subject.uri||t.subject.value):t.subject.literal||t.subject.token==="literal"?
d=w=this.lexicon.registerLiteral(t.subject.literal||t.subject.value):(f=r[t.subject.blank||t.subject.value],f==null&&(f=this.lexicon.registerBlank(t.subject.blank||t.subject.value),r[t.subject.blank||t.subject.value]=f),d=f),t.predicate.uri||t.predicate.token==="uri"?w=this.lexicon.registerUri(t.predicate.uri||t.predicate.value):t.predicate.literal||t.predicate.token==="literal"?w=this.lexicon.registerLiteral(t.predicate.literal||t.predicate.value):(f=r[t.predicate.blank||t.predicate.value],f==null&&
(f=this.lexicon.registerBlank(t.predicate.blank||t.predicate.value),r[t.predicate.blank||t.predicate.value]=f)),h=w,t.object.uri||t.object.token==="uri"?w=this.lexicon.registerUri(t.object.uri||t.object.value):t.object.literal||t.object.token==="literal"?w=this.lexicon.registerLiteral(t.object.literal||t.object.value):(f=r[t.object.blank||t.object.value],f==null&&(f=this.lexicon.registerBlank(t.object.blank||t.object.value),r[t.object.blank||t.object.value]=f)),i=w,t.graph.uri||t.graph.token==="uri"?
(w=this.lexicon.registerUri(t.graph.uri||t.graph.value),this.lexicon.registerGraph(w)):t.graph.literal||t.graph.token==="literal"?w=this.lexicon.registerLiteral(t.graph.literal||t.graph.value):(f=r[t.graph.blank||t.graph.value],f==null&&(f=this.lexicon.registerBlank(t.graph.blank||t.graph.value),r[t.graph.blank||t.graph.value]=f)),f=w,t={subject:d,predicate:h,object:i,graph:f},d=new S.NodeKey(t),this.backend.index(d)==!0)n+=1;else{m=!1;break}return m?(b&&b(!0,n),n):(b&&b(!1,null),null)};J.QueryEngine.prototype._executeModifyQuery=
function(c,b,d){var h=this,i=!0,f=null,n=["subject","predicate","object","graph"];c.insert=c.insert==null?[]:c.insert;c["delete"]=c["delete"]==null?[]:c["delete"];y.seq(function(d){var n=[],w=[];c["with"]!=null&&n.push(c["with"]);if(c.using!=null)for(var w=[],t=0;t<c.using.length;t++){var x=c.using[t];x.kind==="named"?w.push(x.uri):n.push(x.uri)}c.dataset={};c.projection=[{token:"variable",kind:"*"}];h.executeSelect(c,b,n,w,function(c,n){c?(n=h.denormalizeBindingsList(n,b.outCache),n!=null?f=n:i=
!1):i=!1;return d()})},function(d){var r=c["with"];if(i){for(var w=[],t=0;t<c["delete"].length;t++)for(var x=c["delete"][t],y=0;y<f.length;y++){for(var B={},D=f[y],F=0;F<n.length;F++){var E=n[F];E=="graph"&&x[E]==null?B.graph=r:B[E]=x[E].token==="var"?D[x[E].value]:x[E]}w.push(B)}for(y=0;y<w.length;y++)B=w[y],h._executeQuadDelete(B,b)}d()},function(d){var r=c["with"];if(i){for(var w=[],t=0;t<c.insert.length;t++)for(var x=c.insert[t],y=0;y<f.length;y++){for(var B={},D=f[y],F=0;F<n.length;F++){var E=
n[F];E=="graph"&&x[E]==null?B.graph=r:B[E]=x[E].token==="var"?D[x[E].value]:x[E]}w.push(B)}for(t=0;t<w.length;t++)B=w[t],h._executeQuadInsert(B,b)}d()})(function(){d(i)})};J.QueryEngine.prototype._executeQuadInsert=function(c,b){var d=this.normalizeQuad(c,b,!0);if(d!=null){var h=new S.NodeKey(d),i=this.backend.search(h);return i?i:(i=this.backend.index(h),i==!0?(this.callbacksBackend.nextGraphModification(E.added,[c,d]),!0):(console.log("ERROR inserting quad"),!1))}else return console.log("ERROR normalizing quad"),
!1};J.QueryEngine.prototype._executeQuadDelete=function(c,b){var d=this.normalizeQuad(c,b,!1);if(d!=null){var h=new S.NodeKey(d);this.backend["delete"](h);return this.lexicon.unregister(c,h)==!0?(this.callbacksBackend.nextGraphModification(E.deleted,[c,d]),!0):(console.log("ERROR unregistering quad"),!1)}else return console.log("ERROR normalizing quad"),!1};J.QueryEngine.prototype._executeClearGraph=function(c,b,d){if(c==="default")this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",d);else if(c===
"named"){var h=this,i=this.lexicon.registeredGraphs(!0);if(i!=null){var f=!1;y.repeat(0,i.length,function(b,c){var d=i[c._i],w=arguments.callee;f?b(w,c):h.execute("DELETE { GRAPH <"+d+"> { ?s ?p ?o } } WHERE { GRAPH <"+d+"> { ?s ?p ?o } }",function(d){f=!d;b(w,c)})},function(){d(!f)})}else d(!1,"Error deleting named graphs")}else c==="all"?(h=this,this.execute("CLEAR DEFAULT",function(b,c){b?h.execute("CLEAR NAMED",d):d(!1,c)})):c.token=="uri"?(c=y.lexicalFormBaseUri(c,b),c!=null?this.execute("DELETE { GRAPH <"+
c+"> { ?s ?p ?o } } WHERE { GRAPH <"+c+"> { ?s ?p ?o } }",d):d(!1,"wrong graph URI")):d(!1,"wrong graph URI")};J.QueryEngine.prototype.checkGroupSemantics=function(c,b){if(c==="singleGroup")return!0;for(var d={},h=0;h<c.length;h++){var i=c[h];i.token==="var"?d[i.value]=!0:i.token==="aliased_expression"&&(d[i.alias.value]=!0)}for(h=0;h<b.length;h++)if(i=b[h],i.kind==="var"){if(d[i.value.value]==null)return!1}else if(i.kind==="aliased"&&i.expression&&i.expression.primaryexpression==="var"&&d[i.expression.value.value]==
null)return!1;return!0};var E={ANYTHING:{token:"var",value:"_"},added:"added",deleted:"deleted",eventsFlushed:"eventsFlushed",CallbacksBackend:function(c){this.aqt=new R.AbstractQueryTree;this.engine=c;this.indexMap={};this.observersMap={};this.queriesIndexMap={};this.emptyNotificationsMap={};this.queriesList=[];this.pendingQueries=[];this.matchedQueries=[];this.updateInProgress=null;this.indices=["SPOG","GP","OGS","POG","GSP","OS"];this.componentOrders={SPOG:["subject","predicate","object","graph"],
GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};this.callbackCounter=0;this.callbacksMap={};this.callbacksInverseMap={};this.queryCounter=0;this.queriesMap={};this.queriesCallbacksMap={};this.queriesInverseMap={};for(c=0;c<this.indices.length;c++){var b=this.indices[c];this.indexMap[b]={};this.queriesIndexMap[b]={}}}};E.CallbacksBackend.prototype.startGraphModification=
function(){this.pendingQueries=[].concat(this.queriesList);this.matchedQueries=[];if(this.updateInProgress==null)this.updateInProgress={added:[],deleted:[]}};E.CallbacksBackend.prototype.nextGraphModification=function(c,b){this.updateInProgress[c].push(b)};E.CallbacksBackend.prototype.endGraphModification=function(c){var b=this;if(this.updateInProgress!=null){var d=b.updateInProgress;b.updateInProgress=null;this.sendNotification(E.deleted,d[E.deleted],function(){b.sendNotification(E.added,d[E.added],
function(){b.sendEmptyNotification(E.eventsFlushed,null,function(){b.dispatchQueries(function(){c(!0)})})})})}else c(!0)};E.CallbacksBackend.prototype.cancelGraphModification=function(){this.updateInProgress=null};E.CallbacksBackend.prototype.sendNotification=function(c,b,d){for(var h={},i=0;i<b.length;i++){var f=b[i],n;for(n in this.indexMap){var m=this.indexMap[n],r=this.componentOrders[n];this._searchCallbacksInIndex(m,r,c,f,h);this.pendingQueries.length!=0&&(m=this.queriesIndexMap[n],this._searchQueriesInIndex(m,
r,f))}}this.dispatchNotifications(h);d!=null&&d(!0)};E.CallbacksBackend.prototype.sendEmptyNotification=function(c,b,d){for(var h=this.emptyNotificationsMap[c]||[],i=0;i<h.length;i++)h[i](c,b);d()};E.CallbacksBackend.prototype.dispatchNotifications=function(c){for(var b in c){var d=this.callbacksMap[b],h=c[b][E.deleted];h!=null&&d(E.deleted,h);for(var i in c[b])i!=E.deleted&&d(i,c[b][i])}};E.CallbacksBackend.prototype._searchCallbacksInIndex=function(c,b,d,h,i){for(var f=h[1],h=h[0],n=0;n<b.length+
1;n++){for(var m=c._||[],r=[],w=0;w<m.length;w++){var t=m[w];this.callbacksMap[t]!=null&&(i[t]=i[t]||{},i[t][d]=i[t][d]||[],i[t][d].push(h),r.push(t))}c._=r;m=b[n];if(c[""+f[m]]!=null)c=c[""+f[m]];else break}};E.CallbacksBackend.prototype.subscribeEmpty=function(c,b){var d=this.emptyNotificationsMap[c]||[];d.push(b);this.emptyNotificationsMap[c]=d};E.CallbacksBackend.prototype.unsubscribeEmpty=function(c,b){var d=this.emptyNotificationsMap[c];d!=null&&(d=y.remove(d,b));this.emptyNotificationsMap[c]=
d};E.CallbacksBackend.prototype.subscribe=function(c,b,d,h,i,f){c=this.engine.normalizeQuad(this._tokenizeComponents(c,b,d,h),{blanks:{},outCache:{}},!0);d=this._indexForPattern(new S.Pattern(c));b=this.componentOrders[d];d=this.indexMap[d];for(h=0;h<b.length;h++){var n=c[b[h]];if(n==="_"){d._==null&&(d._=[]);this.callbackCounter++;d._.push(this.callbackCounter);this.callbacksMap[this.callbackCounter]=i;this.callbacksInverseMap[i]=this.callbackCounter;break}else h===b.length-1?(d[n]=d[n]||{_:[]},
this.callbackCounter++,d[n]._.push(this.callbackCounter),this.callbacksMap[this.callbackCounter]=i,this.callbacksInverseMap[i]=this.callbackCounter):(d[n]=d[n]||{},d=d[n])}f!=null&&f(!0)};E.CallbacksBackend.prototype.unsubscribe=function(c){var b=this.callbacksInverseMap[c];b!=null&&(delete this.callbacksInverseMap[c],delete this.callbacksMap[b])};E.CallbacksBackend.prototype._tokenizeComponents=function(c,b,d,h){var i={};c==null?i.subject=E.ANYTHING:c.indexOf("_:")==0?(console.log("BLANK!!"),i.subject=
{token:"blank",value:c}):i.subject={token:"uri",value:c};i.predicate=b==null?E.ANYTHING:{token:"uri",value:b};i.object=d==null?E.ANYTHING:{token:"uri",value:d};i.graph=h==null?E.ANYTHING:{token:"uri",value:h};return i};E.CallbacksBackend.prototype._indexForPattern=function(c){for(var c=c.indexKey,b=this.indices,d=0;d<b.length;d++)for(var h=b[d],i=this.componentOrders[h],f=0;f<i.length;f++){if(y.include(c,i[f])===!1)break;if(f==c.length-1)return h}return"SPOG"};E.CallbacksBackend.prototype.observeNode=
function(){var c,b,d,h;arguments.length===4?(c=arguments[0],b=arguments[1],d=arguments[2],h=arguments[3]):(c=arguments[0],b=this.engine.lexicon.defaultGraphUri,d=arguments[1],h=arguments[2]);var i=this,f={blanks:{},outCache:{}},n=[];this.engine.execute("CONSTRUCT { <"+c+"> ?p ?o } WHERE { GRAPH <"+b+"> { <"+c+"> ?p ?o } }",function(b,r){if(b){var w=!1,t=function(b,c){if(b==="eventsFlushed"&&w)w=!1,d(r);else if(b!=="eventsFlushed"){w=!0;for(var h=0;h<c.length;h++){var j=c[h],m=x.buildRDFResource(j.subject,
n,i.engine,f),t=x.buildRDFResource(j.predicate,n,i.engine,f),j=x.buildRDFResource(j.object,n,i.engine,f);m!=null&&t!=null&&j!=null&&(j=new x.Triple(m,t,j),b===E.added?r.add(j):b===E.deleted&&r.remove(j))}}};i.observersMap[d]=t;i.subscribeEmpty(E.eventsFlushed,t);i.subscribe(c,null,null,null,t,function(){d(r);h&&h(!0)})}else h&&h(!1)})};E.CallbacksBackend.prototype.stopObservingNode=function(c){return(c=this.observersMap[c])?(this.unsubscribe(c),this.unsubscribeEmpty(E.eventsFlushed,c),!0):!1};E.CallbacksBackend.prototype.observeQuery=
function(c,b,d){var h=this.aqt.collectBasicTriples(this.aqt.parseSelect(this.aqt.parseQueryString(c).units[0])),i={blanks:{},outCache:{}},f,n,m,r=this.queryCounter;this.queryCounter++;this.queriesMap[r]=c;this.queriesInverseMap[c]=r;this.queriesList.push(r);this.queriesCallbacksMap[r]=b;for(var w=0;w<h.length;w++){n=h[w];if(n.graph==null)n.graph=this.engine.lexicon.defaultGraphUriTerm;n=this.engine.normalizeQuad(n,i,!0);f=new S.Pattern(n);m=this._indexForPattern(f);f=this.componentOrders[m];m=this.queriesIndexMap[m];
for(w=0;w<f.length;w++){var t=n[f[w]];if(typeof t==="string"){m._==null&&(m._=[]);m._.push(r);break}else w===f.length-1?(m[t]=m[t]||{_:[]},m[t]._.push(r)):(m[t]=m[t]||{},m=m[t])}}this.engine.execute(c,function(c,d){c?b(d):console.log("ERROR in query callback "+d)});d!=null&&d()};E.CallbacksBackend.prototype.stopObservingQuery=function(c){var b=this.queriesInverseMap[c];if(b!=null)delete this.queriesInverseMap[c],delete this.queriesMap[b],this.queriesList=y.remove(this.queriesList,b)};E.CallbacksBackend.prototype._searchQueriesInIndex=
function(c,b,d){for(var d=d[1],h=0;h<b.length+1;h++){for(var i=c._||[],f=[],n=0;n<i.length;n++){var m=i[n];y.include(this.pendingQueries,m)&&(y.remove(this.pendingQueries,m),this.matchedQueries.push(m));this.queriesMap[m]!=null&&f.push(m)}c._=f;i=b[h];if(c[""+d[i]]!=null)c=c[""+d[i]];else break}};E.CallbacksBackend.prototype.dispatchQueries=function(c){var b=this,d,h,i,f;y.repeat(0,this.matchedQueries.length,function(c,m){d=arguments.callee;i=b.matchedQueries[m._i];h=b.queriesMap[i];f=b.queriesCallbacksMap[i];
y.recur(function(){b.engine.execute(h,function(b,h){b?f(h):console.log("ERROR executing query callback "+h);c(d,m)})})},function(){c()})};var K={};try{console.log("*** Checking if web workers are available"),console.log("*** Web workers available")}catch(yc){Worker=null}if(Worker)K.RDFStoreClient=function(c,b,d){this.connection=Worker.Worker?new Worker.Worker(c):new Worker(c);this.callbacksCounter=1;var h=this;this.rdf=x.rdf;h=this;this.connection.onmessage=function(b){h.receive(b)};this.observingCallbacks=
{};this.callbacks={0:{cb:function(b,c){b===!0?d(!0,h):d(!1,c)},fn:"create"}};this.connection.postMessage({fn:"create",args:b,callback:"0"})},K.RDFStoreClient.prototype.receive=function(c){event=c.data||c;if(c=this.callbacks[event.callback])c.fn==="create"||c.fn==="execute"||c.fn==="insert"||c.fn=="graph"||c.fn==="node"||c.fn==="insert"||c.fn==="delete"||c.fn==="clear"||c.fn==="load"||c.fn==="startObservingQueryEndCb"||c.fn==="registeredGraphs"?(delete this.callbacks[event.callback],c.cb(event.success,
event.result)):c.fn==="startObservingNode"?c.cb(event.result):c.fn==="subscribe"&&c.cb(event.event,event.result)},K.RDFStoreClient.prototype.registerCallback=function(c,b){var d=""+this.callbacksCounter;this.callbacks[d]={fn:c,cb:b};this.callbacksCounter++;return d},K.RDFStoreClient.prototype.execute=function(){if(arguments.length===3)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(arguments.length===4)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],
arguments[3]);else{var c,b;arguments.length===1?(c=arguments[0],b=function(){}):arguments.length===2&&(c=arguments[0],b=arguments[1]);b=this.registerCallback("execute",b);this.connection.postMessage({fn:"execute",args:[c],callback:b})}},K.RDFStoreClient.prototype.insert=function(){var c,b,d;if(arguments.length===1)b=arguments[0],this.connection.postMessage({fn:"insert",args:[b]});else if(arguments.length===2)b=arguments[0],d=arguments[1]||function(){},d=this.registerCallback("insert",d),this.connection.postMessage({fn:"insert",
args:[b],callback:d});else if(arguments.length===3)b=arguments[0],c=arguments[1],d=arguments[2]||function(){},d=this.registerCallback("insert",d),this.connection.postMessage({fn:"insert",args:[b,c],callback:d});else throw"The triples to insert, an optional graph and callback must be provided";},K.RDFStoreClient.prototype.graph=function(){var c=null,b=null;if(arguments.length===1)b=arguments[0]||function(){};else if(arguments.length===2)b=arguments[1]||function(){},c=arguments[0];else throw"An optional graph URI and a callback function must be provided";
var d=this,h=this.registerCallback("insert",function(c,f){if(c){for(var h,j=0;j<f.triples.length;j++)h=f.triples[j],f.triples[j]=new x.Triple(d.adaptJSInterface(h.subject),d.adaptJSInterface(h.predicate),d.adaptJSInterface(h.object));b(c,d.rdf.createGraph(f.triples))}else b(c,f)});c==null?this.connection.postMessage({fn:"graph",args:[],callback:h}):this.connection.postMessage({fn:"graph",args:[c],callback:h})},K.RDFStoreClient.prototype.node=function(){var c=null,b=null,d=null;if(arguments.length===
2)d=arguments[0],b=arguments[1]||function(){};else if(arguments.length===3)d=arguments[0],c=arguments[1],b=arguments[2]||function(){};else throw"An optional graph URI and a callback function must be provided";var h=this,i=this.registerCallback("insert",function(c,d){if(c){for(var i,r=0;r<d.triples.length;r++)i=d.triples[r],d.triples[r]=new x.Triple(h.adaptJSInterface(i.subject),h.adaptJSInterface(i.predicate),h.adaptJSInterface(i.object));b(c,h.rdf.createGraph(d.triples))}else b(c,d)});c==null?this.connection.postMessage({fn:"node",
args:[d],callback:i}):this.connection.postMessage({fn:"node",args:[d,c],callback:i})},K.RDFStoreClient.prototype.setPrefix=function(c,b){this.rdf.setPrefix(c,b);this.connection.postMessage({fn:"rdf/setPrefix",args:[c,b],callback:null})},K.RDFStoreClient.prototype.setDefaultPrefix=function(c){this.rdf.setDefaultPrefix(c);this.connection.postMessage({fn:"rdf/setDefaultPrefix",args:[c],callback:null})},K.RDFStoreClient.prototype["delete"]=function(){var c,b,d;if(arguments.length===1)b=arguments[0],this.connection.postMessage({fn:"delete",
args:[b]});else if(arguments.length===2)b=arguments[0],d=arguments[1]||function(){},d=this.registerCallback("delete",d),this.connection.postMessage({fn:"delete",args:[b],callback:d});else if(arguments.length===3)b=arguments[0],c=arguments[1],d=arguments[2]||function(){},d=this.registerCallback("delete",d),this.connection.postMessage({fn:"delete",args:[b,c],callback:d});else throw"The triples to delete, an optional graph and callback must be provided";},K.RDFStoreClient.prototype.clear=function(){var c,
b;if(arguments.length===1)b=arguments[0]||function(){},b=this.registerCallback("clear",b),this.connection.postMessage({fn:"clear",args:[],callback:b});else if(arguments.length===2)c=arguments[0],b=arguments[1]||function(){},b=this.registerCallback("clear",b),this.connection.postMessage({fn:"clear",args:[c],callback:b});else throw"The optional graph and a callback must be provided";},K.RDFStoreClient.prototype.load=function(){var c,b,d,h;if(arguments.length===3)c=arguments[0],b=arguments[1],h=arguments[2]||
function(){},h=this.registerCallback("load",h),this.connection.postMessage({fn:"load",args:[c,b],callback:h});else if(arguments.length===4)c=arguments[0],b=arguments[1],d=arguments[2],h=arguments[3]||function(){},h=this.registerCallback("load",h),this.connection.postMessage({fn:"load",args:[c,b,d],callback:h});else if(arguments.length===2)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";},K.RDFStoreClient.prototype.startObservingQuery=function(c,b,d){d!=
null?(b=this.registerCallback("startObservingQuery",b),this.observingCallbacks[c]=b,d=this.registerCallback("startObservingQueryEndCb",d),this.connection.postMessage({fn:"startObservingQuery",args:[c],callback:[b,d]})):(b=this.registerCallback("startObservingQuery",b),this.observingCallbacks[c]=b,this.connection.postMessage({fn:"startObservingQuery",args:[c],callback:[b]}))},K.RDFStoreClient.prototype.stopObservingQuery=function(c){var b=this.observingCallbacks[c];delete this.observingCallbacks[c];
delete this.callbacks[b];this.connection.postMessage({fn:"stopObservingQuery",args:[c],callback:[]})},K.RDFStoreClient.prototype.startObservingNode=function(){var c,b,d;if(arguments.length===2){c=arguments[0];d=arguments[1];var h=this,i=this.registerCallback("startObservingNode",function(b){for(var c,i=0;i<b.triples.length;i++)c=b.triples[i],b.triples[i]=new x.Triple(h.adaptJSInterface(c.subject),h.adaptJSInterface(c.predicate),h.adaptJSInterface(c.object));d(h.rdf.createGraph(b.triples))});this.observingCallbacks[d]=
i;this.connection.postMessage({fn:"startObservingNode",args:[c],callback:i})}else arguments.length===3&&(c=arguments[0],b=arguments[1],d=arguments[2],h=this,i=this.registerCallback("startObservingNode",function(b){for(var c,i=0;i<b.triples.length;i++)c=b.triples[i],b.triples[i]=new x.Triple(h.adaptJSInterface(c.subject),h.adaptJSInterface(c.predicate),h.adaptJSInterface(c.object));d(h.rdf.createGraph(b.triples))}),this.observingCallbacks[d]=i,this.connection.postMessage({fn:"startObservingNode",args:[c,
b],callback:i}))},K.RDFStoreClient.prototype.stopObservingNode=function(c){var b=this.observingCallbacks[c];delete this.observingCallbacks[c];delete this.callbacks[b];this.connection.postMessage({fn:"stopObservingNode",args:[b],callback:[]})},K.RDFStoreClient.prototype.subscribe=function(c,b,d,h,i){var f=this,n=this.registerCallback("subscribe",function(b,c){for(var d,h=0;h<c.length;h++)d=c[h],c[h]=new x.Triple(f.adaptJSInterface(d.subject),f.adaptJSInterface(d.predicate),f.adaptJSInterface(d.object));
i(b,c)});this.observingCallbacks[i]=n;this.connection.postMessage({fn:"subscribe",args:[c,b,d,h],callback:n})},K.RDFStoreClient.prototype.unsubscribe=function(c){var b=this.observingCallbacks[c];delete this.observingCallbacks[c];delete this.callbacks[b];this.connection.postMessage({fn:"unsubscribe",args:[b],callback:[]})},K.RDFStoreClient.prototype.registeredGraphs=function(c){var b=this;this.connection.postMessage({fn:"registeredGraphs",args:[],callback:this.registerCallback("registeredGraphs",function(d,
h){if(d)for(var i=0;i<h.length;i++)graph=h[i],h[i]=b.adaptJSInterface(graph);c(d,h)})})},K.RDFStoreClient.prototype.adaptJSInterface=function(c){if(c.interfaceName==="BlankNode")return new x.BlankNode(c.bnodeId);else if(c.interfaceName==="Literal")return new x.Literal(c.nominalValue,c.language,c.datatype);else if(c.interfaceName==="NamedNode")return new x.NamedNode(c.nominalValue)},K.RDFStoreClient.prototype.isWebWorkerConnection=!0;var F={VERSION:"0.4.4"};F.connect=function(){var c,b,d;arguments.length==
1&&(c=__dirname,b={},d=arguments[0]);arguments.length==2?(typeof arguments[0]==="string"?(c=arguments[0],b={}):(c=__dirname+"/index.js",b=arguments[0]),d=arguments[1]):(c=arguments[0],b=arguments[1],d=arguments[2]);try{Worker?new K.RDFStoreClient(c,b,function(b,c){d(b,c)}):F.create(b,function(b){d(!1,b)})}catch(h){console.log(h),F.create(b,function(b){d(!1,b)})}};F.create=function(){return arguments.length==1?new F.Store(arguments[0]):arguments.length==2?new F.Store(arguments[0],arguments[1]):new F.Store};
F.Store=function(c,b){var d=null,h=null;if(arguments.length==0)h={};else if(arguments.length==1)h={},d=c;else if(arguments.length>1)h=c,d=b;else throw"An optional argument map and a callback must be provided";h.treeOrder==null&&(h.treeOrder=15);this.rdf=x.rdf;this.functionMap={};var i=this;new N.Lexicon(function(b){h.overwrite===!0&&b.clear();new Y.QuadBackend(h,function(c){h.overwrite===!0&&c.clear();h.backend=c;h.lexicon=b;i.engine=new J.QueryEngine(h);d&&d(i)})},h.name)};F.Store.prototype.execute=
function(){if(arguments.length===3)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(arguments.length===4)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var c,b;arguments.length===1?(c=arguments[0],b=function(){}):arguments.length===2&&(c=arguments[0],b=arguments[1]);this.engine.execute(c,b)}};F.Store.prototype.executeWithEnvironment=function(){var c,b,d,h;arguments.length===3?(c=arguments[0],b=function(){},d=arguments[1],h=arguments[2]):
arguments.length===4&&(c=arguments[0],b=arguments[3],d=arguments[1],h=arguments[2]);this.engine.execute(c,b,d,h)};F.Store.prototype.graph=function(){var c=null,b=null;if(arguments.length===1)b=arguments[0]||function(){},c=this.engine.lexicon.defaultGraphUri;else if(arguments.length===2)b=arguments[1]||function(){},c=arguments[0];else throw"An optional graph URI and a callback function must be provided";this.rdf.resolve(c)!=null&&(c=this.rdf.resolve(c));this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+
c+"> { ?s ?p ?o } }",b)};F.Store.prototype.node=function(){var c=null,b=null,d=null;if(arguments.length===2)d=arguments[0],b=arguments[1]||function(){},c=this.engine.lexicon.defaultGraphUri;else if(arguments.length===3)d=arguments[0],c=arguments[1],b=arguments[2]||function(){};else throw"An optional graph URI and a callback function must be provided";this.rdf.resolve(c)!=null&&(c=this.rdf.resolve(c));this.rdf.resolve(d)!=null&&(d=this.rdf.resolve(d));this.engine.execute("CONSTRUCT { <"+d+"> ?p ?o } WHERE { GRAPH <"+
c+"> { <"+d+"> ?p ?o } }",b)};F.Store.prototype.startObservingNode=function(){var c,b,d;arguments.length===2?(c=arguments[0],d=arguments[1],this.engine.callbacksBackend.observeNode(c,d,function(){})):arguments.length===3&&(c=arguments[0],b=arguments[1],d=arguments[2],this.engine.callbacksBackend.observeNode(c,b,d,function(){}))};F.Store.prototype.stopObservingNode=function(c){this.engine.callbacksBackend.stopObservingNode(c)};F.Store.prototype.startObservingQuery=function(c,b,d){d!=null?this.engine.callbacksBackend.observeQuery(c,
b,d):this.engine.callbacksBackend.observeQuery(c,b,function(){})};F.Store.prototype.stopObservingQuery=function(c){this.engine.callbacksBackend.stopObservingQuery(c)};F.Store.prototype.subscribe=function(c,b,d,h,i){var f=function(b,c){for(var d=[],f={blanks:{},outCache:{}},h=[],j=0;j<c.length;j++){var y=c[j],B=x.buildRDFResource(y.subject,h,this.engine,f),D=x.buildRDFResource(y.predicate,h,this.engine,f),y=x.buildRDFResource(y.object,h,this.engine,f);B!=null&&D!=null&&y!=null&&(y=new x.Triple(B,D,
y),d.push(y))}i(b,d)};this.functionMap[i]=f;this.engine.callbacksBackend.subscribe(c,b,d,h,f,function(){})};F.Store.prototype.unsubscribe=function(c){this.engine.callbacksBackend.unsubscribe(this.functionMap[c]);delete this.functionMap[c]};F.Store.prototype.setPrefix=function(c,b){this.rdf.setPrefix(c,b)};F.Store.prototype.setDefaultPrefix=function(c){this.rdf.setDefaultPrefix(c)};F.Store.prototype.insert=function(){var c,b,d;if(arguments.length===1)b=arguments[0];else if(arguments.length===2)c=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),
b=arguments[0],d=arguments[1]||function(){};else if(arguments.length===3)b=arguments[0],c=this.rdf.createNamedNode(arguments[1]),d=arguments[2]||function(){};else throw"The triples to insert, an optional graph and callback must be provided";var h="",i=this;b.forEach(function(b){h=h+i._nodeToQuery(b.subject)+i._nodeToQuery(b.predicate)+i._nodeToQuery(b.object)+"."});h=c!=null?"INSERT DATA { GRAPH "+this._nodeToQuery(c)+" { "+h+" } }":"INSERT DATA { "+this._nodeToQuery(c)+" { "+h+" }";this.engine.execute(h,
d)};F.Store.prototype._nodeToQuery=function(c){if(c.interfaceName==="NamedNode"){var b=this.rdf.resolve(c.valueOf());return b!=null?"<"+b+">":"<"+c.valueOf()+">"}else return c.toString()};F.Store.prototype["delete"]=function(){var c,b,d;if(arguments.length===1)b=arguments[0];else if(arguments.length===2)c=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0],d=arguments[1]||function(){};else if(arguments.length===3)b=arguments[0],c=this.rdf.createNamedNode(arguments[1]),d=arguments[2]||
function(){};else throw"The triples to delete, an optional graph and callback must be provided";var h="",i=this;b.forEach(function(b){h=h+i._nodeToQuery(b.subject)+i._nodeToQuery(b.predicate)+i._nodeToQuery(b.object)+"."});h=c!=null?"DELETE DATA { GRAPH "+this._nodeToQuery(c)+" { "+h+" } }":"DELETE DATA { "+this._nodeToQuery(c)+" { "+h+" }";this.engine.execute(h,d)};F.Store.prototype.clear=function(){var c,b;if(arguments.length===1)c=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=
arguments[0]||function(){};else if(arguments.length===2)c=this.rdf.createNamedNode(arguments[0]),b=arguments[1]||function(){};else throw"The optional graph and a callback must be provided";this.engine.execute("CLEAR GRAPH "+this._nodeToQuery(c),b)};F.Store.prototype.load=function(){var c,b,d,h;if(arguments.length===3)d=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),c=arguments[0],b=arguments[1],h=arguments[2]||function(){};else if(arguments.length===4)c=arguments[0],b=arguments[1],
d=this.rdf.createNamedNode(arguments[2]),h=arguments[3]||function(){};else if(arguments.length===2)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";if(c==="remote")b=this.rdf.createNamedNode(b),this.engine.execute("LOAD <"+b.valueOf()+"> INTO GRAPH <"+d.valueOf()+">",h);else if(b&&typeof b==="string"&&b.indexOf("file://")===0){c=this.engine.rdfLoader.parsers[c];var i=this;this.engine.rdfLoader.loadFromFile(c,{token:"uri",value:d.valueOf()},b,function(b,
c){b?i.engine.batchLoad(c,h):h(b,c)})}else c=this.engine.rdfLoader.parsers[c],i=this,this.engine.rdfLoader.tryToParse(c,{token:"uri",value:d.valueOf()},b,function(b,c){b?i.engine.batchLoad(c,h):h(b,c)})};F.Store.prototype.registerParser=function(c,b){this.engine.rdfLoader.registerParser(c,b)};F.Store.prototype.registeredGraphs=function(c){for(var b=this.engine.lexicon.registeredGraphs(!0),d=[],h=0;h<b.length;h++){var i=new x.NamedNode(b[h]);d.push(i)}return c(!0,d)};F.Store.prototype._nodeToQuery=
function(c){if(c.interfaceName==="NamedNode"){var b=this.rdf.resolve(c.valueOf());return b!=null?"<"+b+">":"<"+c.valueOf()+">"}else return c.toString()};F.Store.prototype.getNetworkTransport=function(){return fa};F.Store.prototype.setNetworkTransport=function(c){fa=c};RDFStoreWorker={observingCallbacks:{}};RDFStoreWorker.handleCreate=function(c,b){args=[c];args.push(function(c){RDFStoreWorker.store=c;postMessage({callback:b,result:"created",success:!0})});F.create.apply(F,args)};RDFStoreWorker.receive=
function(c){var b=c.data||c;if(b.fn==="create"&&b.args!=null)RDFStoreWorker.handleCreate(b.args,b.callback);else if((b.fn==="execute"||b.fn==="executeWithEnvironment"||b.fn==="graph"||b.fn==="node"||b.fn==="clear"||b.fn==="load")&&b.args!=null){b.args.push(function(c,d){b.callback!=null&&postMessage({callback:b.callback,result:d,success:c})});try{RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,b.args)}catch(d){console.log("Error executing method through connection"),console.log(d)}}else if((b.fn===
"insert"||b.fn==="delete")&&b.args!=null)try{b.args.push(function(c,d){b.callback!=null&&postMessage({callback:b.callback,result:d,success:c})});for(var h,i=b.args[0],c=0;c<i.triples.length;c++)h=i.triples[c],i.triples[c]=new x.Triple(RDFStoreWorker.adaptJSInterface(h.subject),RDFStoreWorker.adaptJSInterface(h.predicate),RDFStoreWorker.adaptJSInterface(h.object));b.args[1].interfaceName!=null&&(b.args[1]=RDFStoreWorker.adaptJSInterface(b.args[1]));b.args[0]=RDFStoreWorker.store.rdf.createGraph(i.triples);
RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,b.args)}catch(f){console.log("Error executing method through connection"),console.log(f)}else b.fn==="rdf/setPrefix"&&b.args!=null?RDFStoreWorker.store.rdf.setPrefix(b.args[0],b.args[1]):b.fn==="rdf/setDefaultPrefix"&&b.args!=null?RDFStoreWorker.store.rdf.setDefaultPrefix(b.args[0]):b.fn==="startObservingQuery"&&b.args!=null?(h=function(c,d){postMessage({callback:b.callback[0],result:d,success:c})},RDFStoreWorker.observingCallbacks[b.args[0]]=
h,b.args.push(h),b.args.push(function(c,d){b.callback&&b.callback[1]!=null&&postMessage({callback:b.callback[1],result:d,success:c})}),RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,b.args)):b.fn==="stopObservingQuery"?((h=RDFStoreWorker.observingCallbacks[b.args[0]])&&RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,[h]),delete RDFStoreWorker.observingCallbacks[b.args[0]]):b.fn==="startObservingNode"&&b.args!=null?(h=function(c){postMessage({callback:b.callback,result:c})},RDFStoreWorker.observingCallbacks[b.callback]=
h,b.args.push(h),RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,b.args)):b.fn==="stopObservingNode"&&b.args!=null?((h=RDFStoreWorker.observingCallbacks[b.args[0]])&&RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,[h]),delete RDFStoreWorker.observingCallbacks[b.args[0]]):b.fn==="subscribe"&&b.args!=null?(h=function(c,d){postMessage({callback:b.callback,event:c,result:d})},RDFStoreWorker.observingCallbacks[b.callback]=h,b.args.push(h),RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,
b.args)):b.fn==="stopObservingNode"&&b.args!=null?((h=RDFStoreWorker.observingCallbacks[b.args[0]])&&RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,[h]),delete RDFStoreWorker.observingCallbacks[b.args[0]]):b.fn==="registeredGraphs"&&b.args!=null&&RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,[function(c,d){b.callback!=null&&postMessage({callback:b.callback,result:d,success:c})}])};RDFStoreWorker.adaptJSInterface=function(c){if(c.interfaceName==="BlankNode")return new x.BlankNode(c.bnodeId);
else if(c.interfaceName==="Literal")return new x.Literal(c.nominalValue,c.language,c.datatype);else if(c.interfaceName==="NamedNode")return new x.NamedNode(c.nominalValue)};onmessage=RDFStoreWorker.receive;try{window.rdfstore=F}catch(zc){}})();
