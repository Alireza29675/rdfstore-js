(function(){Utils={"extends":function(c,b){b.prototype=new c},stackCounterLimit:1E3,stackCounter:0};Utils.recur=function(c){Utils.stackCounter===Utils.stackCounterLimit?(Utils.stackCounter=0,setTimeout(c,0)):(Utils.stackCounter++,c())};Utils.shuffle=function(c){for(var b,e,j=c.length;j;b=parseInt(Math.random()*j),e=c[--j],c[j]=c[b],c[b]=e);return c};Utils.include=function(c,b,e){for(var j=c.length-1;j>=0;j--){var i=!1,i=e==null?c[j]===b:e(c[j],b)===0;if(i===!0)return!0}return!1};Utils.remove=function(c,
b){for(var e=[],j=0;j<c.length;j++)c[j]!==b&&e.push(c[j]);return e};Utils.repeat=function(c,b,e,j,i){arguments.length===4&&(i={});c<b?(i._i=c,e(function(g,e){Utils.recur(function(){Utils.repeat(c+1,b,g,j,e)})},i)):j(i)};Utilsmeanwhile=function(c,b,e,j){arguments.length===3&&(j={});j._stack_counter==null&&(j._stack_counter=0);c===!0?b(function(b,c,j){j._stack_counter%40==39?(j._stack_counter+=1,setTimeout(function(){Utilsmeanwhile(b,c,e,j)},0)):(j._stack_counter+=1,Utilsmeanwhile(b,c,e,j))},j):e(j)};
Utils.seq=function(){var c=arguments;return function(b){Utils.repeat(0,c.length,function(b,j){var i=arguments.callee;c[j._i](function(){b(i,j)})},function(){b()})}};Utils.partition=function(c,b){for(var e=c.length%b,j=[],i=0;i<e;i++)j.push(null);e=[];for(i=0;i<c.length;i++)j.push(c[i]),j.length%b==0&&(e.push(j),j=[]);return e};Utils.keys=function(c){var b=[],e;for(e in c)b.push(e);return b};Utils.iso8601=function(c){function b(b){return b<10?"0"+b:b}return c.getUTCFullYear()+"-"+b(c.getUTCMonth()+
1)+"-"+b(c.getUTCDate())+"T"+b(c.getUTCHours())+":"+b(c.getUTCMinutes())+":"+b(c.getUTCSeconds())+"Z"};Utils.parseStrictISO8601=function(c){var c=c.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),b=0,e=new Date(c[1],0,1);if(c[3])e.setMonth(c[3]-1);else throw"missing ISO8061 component";if(c[5])e.setDate(c[5]);else throw"missing ISO8061 component";if(c[7])e.setHours(c[7]);else throw"missing ISO8061 component";
if(c[8])e.setMinutes(c[8]);else throw"missing ISO8061 component";if(c[10])e.setSeconds(c[10]);else throw"missing ISO8061 component";c[12]&&e.setMilliseconds(Number("0."+c[12])*1E3);c[14]&&(b=Number(c[16])*60+Number(c[17]),b*=c[15]=="-"?1:-1);b-=e.getTimezoneOffset();time=Number(e)+b*6E4;c=new Date;c.setTime(Number(time));return c};Utils.parseISO8601=function(c){var c=c.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),
b=0,e=new Date(c[1],0,1);c[3]&&e.setMonth(c[3]-1);c[5]&&e.setDate(c[5]);c[7]&&e.setHours(c[7]);c[8]&&e.setMinutes(c[8]);c[10]&&e.setSeconds(c[10]);c[12]&&e.setMilliseconds(Number("0."+c[12])*1E3);c[14]&&(b=Number(c[16])*60+Number(c[17]),b*=c[15]=="-"?1:-1);b-=e.getTimezoneOffset();time=Number(e)+b*6E4;c=new Date;c.setTime(Number(time));return c};Utils.parseISO8601Components=function(c){var c=c.match(RegExp("([0-9]{4})(-([0-9]{2}))(-([0-9]{2}))(T([0-9]{2}):([0-9]{2})(:([0-9]{2}))?(.([0-9]+))?)?(Z|([-+])([0-9]{2})(:([0-9]{2}))?)?")),
b,e,j,i,g,h,m,n;b=Number(c[1]);e=c[3]-1;j=Number(c[5]);i=Number(c[7]);g=Number(c[8]);h=Number(c[10]);c[12]&&(m=Number("0."+c[12])*1E3);c[13]==="Z"?n=0:c[14]?(n=0,c[17]&&(n=Number(c[17])),n+=Number(c[15])*60,n*=c[14]=="-"?-1:1):c[14]==null&&c[11]&&(n=Number(c[12])*60);return{year:isNaN(b)?null:b,month:isNaN(e)?null:e,date:isNaN(j)?null:j,hours:isNaN(i)?null:i,minutes:isNaN(g)?null:g,seconds:isNaN(h)?null:h,millisecs:isNaN(m)?null:m,timezone:isNaN(n)?null:n}};Utils.compareDateComponents=function(c,
b){var e=Utils.parseISO8601Components(c),j=Utils.parseISO8601Components(b);return e.timezone==null&&j.timezone==null||e.timezone!=null&&j.timezone!=null?(da=Utils.parseISO8601(c),db=Utils.parseISO8601(b),da.getTime()==db.getTime()?0:da.getTime()<db.getTime()?-1:1):e.timezone!=null&&j.timezone==null?(da=Utils.parseISO8601(c),db=Utils.parseISO8601(b),ta=da.getTime(),tb=db.getTime(),e=50400,ta<tb&&ta<tb+e?-1:ta>tb&&ta>tb-e?1:null):(da=Utils.parseISO8601(c),db=Utils.parseISO8601(b),ta=da.getTime(),tb=
db.getTime(),e=50400,ta<tb&&ta+e<tb?-1:ta>tb&&ta+e>tb?1:null)};Utils.lexicalFormLiteral=function(c,b){var e=c.value,j=c.lang,i=c.type,g=null;e!=null&&i!=null&&typeof i!="string"?(e=i.value,e!=null?g='"'+c.value+'"^^<'+e+">":(e=i.suffix,i=b.namespaces[i.prefix],c.type=i+e,g='"'+c.value+'"^^<'+i+e+">")):g=j==null&&i==null?'"'+e+'"':i==null?'"'+e+'"@'+j:'"'+c.value+'"^^<'+i+">";return g};Utils.lexicalFormBaseUri=function(c,b){var e=null;if(c.value==null){var j=c.suffix,i=b.namespaces[c.prefix];i!=null&&
(e=i+j)}else e=c.value;if(e===null)return null;else e.indexOf(":")==-1&&(e=(b.base||"")+e);return e};Utils.lexicalFormTerm=function(c,b){if(c.token==="uri")return{uri:Utils.lexicalFormBaseUri(c,b)};else if(c.token==="literal")return{literal:Utils.lexicalFormLiteral(c,b)};else if(c.token==="blank")return{blank:"_:"+c.label};else callback(!1,"Token of kind "+c.token+" cannot transformed into its lexical form")};Utils.normalizeUnicodeLiterals=function(c){for(var b=c.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||
[],e={},j=0;j<b.length;j++)e[b[j]]==null&&(e[b[j]]=!0,c=c.replace(RegExp("\\"+b[j],"g"),eval("'"+b[j]+"'")));return c};Utils.hashTerm=function(c){try{if(c==null)return"";if(c.token==="uri")return"u"+c.value;else if(c.token==="blank")return"b"+c.value;else if(c.token==="literal")return l="l"+c.value,l+=c.type||"",l+=c.lang||"",l}catch(b){if(typeof c==="object"){var e="";for(p in c)e=e+p+c[p];return e}return c}};InMemoryBTree={Tree:function(c){if(arguments.length!=0)this.order=c,this.root=this._allocateNode(),
this.root.isLeaf=!0,this.root.level=0,this._diskWrite(this.root),this._updateRootNode(this.root),this.comparator=function(b,c){return b<c?-1:b>c?1:0},this.merger=null}};InMemoryBTree.Tree.prototype._allocateNode=function(){return new InMemoryBTree.Node};InMemoryBTree.Tree.prototype._diskWrite=function(){};InMemoryBTree.Tree.prototype._diskRead=function(c){return c};InMemoryBTree.Tree.prototype._diskDelete=function(){};InMemoryBTree.Tree.prototype._updateRootNode=function(c){return c};InMemoryBTree.Tree.prototype.clear=
function(){this.root=this._allocateNode();this.root.isLeaf=!0;this.root.level=0;this._updateRootNode(this.root)};InMemoryBTree.Tree.prototype.search=function(c,b){for(var e=!0,j=this.root;e;){for(var i=0;i<j.numberActives&&this.comparator(c,j.keys[i].key)===1;)i++;if(i<j.numberActives&&this.comparator(j.keys[i].key,c)===0)return b!=null&&b==!0?!0:j.keys[i].data;else j.isLeaf===!0?e=!1:j=this._diskRead(j.children[i])}return null};InMemoryBTree.Tree.prototype.walk=function(c){this._walk(c,this.root)};
InMemoryBTree.Tree.prototype._walk=function(c,b){if(b.isLeaf)for(var e=0;e<b.numberActives;e++)c(b.keys[e]);else{for(e=0;e<b.numberActives;e++)this._walk(c,this._diskRead(b.children[e])),c(b.keys[e]);this._walk(c,this._diskRead(b.children[b.numberActives]))}};InMemoryBTree.Tree.prototype.walkNodes=function(c){this._walkNodes(c,this.root)};InMemoryBTree.Tree.prototype._walkNodes=function(c,b){if(b.isLeaf)c(b);else{c(b);for(var e=0;e<b.numberActives;e++)this._walkNodes(c,this._diskRead(b.children[e]));
this._walkNodes(c,this._diskRead(b.children[b.numberActives]))}};InMemoryBTree.Tree.prototype._splitChild=function(c,b,e){var j=this._allocateNode();j.isLeaf=e.isLeaf;j.level=e.level;j.numberActives=this.order-1;var i=e.keys[this.order-1];e.keys[this.order-1]=null;for(var g=0;g<this.order-1;g++)j.keys[g]=e.keys[g+this.order],e.keys[g+this.order]=null,e.isLeaf||(j.children[g]=e.children[g+this.order],e.children[g+this.order]=null);e.isLeaf||(j.children[g]=e.children[g+this.order],e.children[g+this.order]=
null);e.numberActives=this.order-1;for(g=c.numberActives+1;g>b+1;g--)c.children[g]=c.children[g-1];c.children[b+1]=j;for(g=c.numberActives;g>b;g--)c.keys[g]=c.keys[g-1];c.keys[b]=i;c.numberActives++;this._diskWrite(j);this._diskWrite(c);this._diskWrite(e)};InMemoryBTree.Tree.prototype.insert=function(c,b){if(this.root.numberActives===2*this.order-1){var e=this._allocateNode();e.isLeaf=!1;e.level=this.root.level+1;e.numberActives=0;e.children[0]=this.root;this._splitChild(e,0,this.root);this.root=
e;this._updateRootNode(this.root);this._insertNonFull(e,c,b)}else this._insertNonFull(this.root,c,b)};InMemoryBTree.Tree.prototype._insertNonFull=function(c,b,e){for(var j=c.numberActives-1;!c.isLeaf;){for(;j>=0&&this.comparator(b,c.keys[j].key)===-1;)j--;j++;var i=this._diskRead(c.children[j]);i.numberActives===2*this.order-1&&(this._splitChild(c,j,i),this.comparator(b,c.keys[j].key)===1&&j++);c=this._diskRead(c.children[j]);j=c.numberActives-1}for(;j>=0&&this.comparator(b,c.keys[j].key)===-1;)c.keys[j+
1]=c.keys[j],j--;c.keys[j+1]={key:b,data:e};c.numberActives++;this._diskWrite(c)};InMemoryBTree.Tree.prototype["delete"]=function(c){for(var b=this.root,e=null,j=!0,i=null,g=null,h=null,m=!0;m===!0;){for(m=!1;j===!0;){n=0;if(b.numberActives===0)return!1;for(;n<b.numberActives&&this.comparator(c,b.keys[n].key)===1;)n++;i=n;n<b.numberActives&&this.comparator(c,b.keys[n].key)===0&&(j=!1);if(j===!0){if(b.isLeaf===!0)return!1;e=b;b=this._diskRead(b.children[n]);if(b===null)return!1;i===e.numberActives?
(g=this._diskRead(e.children[i-1]),h=null):i===0?(g=null,h=this._diskRead(e.children[1])):(g=this._diskRead(e.children[i-1]),h=this._diskRead(e.children[i+1]));b.numberActives===this.order-1&&e!=null&&(h!=null&&h.numberActives>this.order-1?this._moveKey(e,n,-1):g!=null&&g.numberActives>this.order-1?this._moveKey(e,n,1):g!=null&&g.numberActives===this.order-1?b=this._mergeSiblings(e,n,-1):h!=null&&h.numberActives===this.order-1&&(b=this._mergeSiblings(e,n,1)))}}if(b.isLeaf&&b.numberActives>this.order-
1)return this._deleteKeyFromNode(b,i),!0;if(b.isLeaf&&b===this.root)return this._deleteKeyFromNode(b,i),!0;if(b.isLeaf===!1)if(e=n=null,(n=this._diskRead(b.children[i])).numberActives>this.order-1)c=this._getMaxKeyPos(n),c=c.node.keys[c.index],b.keys[i]=c,this._diskWrite(b),b=n,c=c.key,j=m=!0;else if((n=this._diskRead(b.children[i+1])).numberActives>this.order-1)c=this._getMinKeyPos(n),c=c.node.keys[c.index],b.keys[i]=c,this._diskWrite(b),b=n,c=c.key,j=m=!0;else if((n=this._diskRead(b.children[i])).numberActives===
this.order-1&&(e=this._diskRead(b.children[i+1])).numberActives===this.order-1){j=this._mergeNodes(n,b.keys[i],e);b.children[i]=j;i++;for(var n=i;n<b.numberActives;n++)b.children[n]=b.children[n+1],b.keys[n-1]=b.keys[n];b.children[n]=null;b.keys[n-1]=null;b.numberActives--;if(b.numberActives===0&&this.root===b)this.root=j;this._diskWrite(b);b=j;j=m=!0}b.isLeaf&&b.numberActives>this.order-1&&j===!1&&this._deleteKeyFromNode(b,i);if(m===!1)return!0}};InMemoryBTree.Tree.prototype._moveKey=function(c,
b,e){e===1&&b--;var j=this._diskRead(c.children[b]),i=this._diskRead(c.children[b+1]);if(e==-1){j.keys[j.numberActives]=c.keys[b];j.children[j.numberActives+1]=i.children[0];i.children[0]=null;j.numberActives++;c.keys[b]=i.keys[0];for(e=1;e<i.numberActives;e++)i.keys[e-1]=i.keys[e],i.children[e-1]=i.children[e];i.children[i.numberActives-1]=i.children[i.numberActives];i.numberActives--}else{i.children[i.numberActives+1]=i.children[i.numberActives];for(e=i.numberActives;e>0;e--)i.children[e]=i.children[e-
1],i.keys[e]=i.keys[e-1];i.keys[0]=null;i.children[0]=null;i.children[0]=j.children[j.numberActives];i.keys[0]=c.keys[b];i.numberActives++;j.children[j.numberActives]=null;c.keys[b]=j.keys[j.numberActives-1];j.keys[j.numberActives-1]=null;j.numberActives--}this._diskWrite(j);this._diskWrite(i);this._diskWrite(c)};InMemoryBTree.Tree.prototype._mergeSiblings=function(c,b){var e,j,i;b===c.numberActives?(b--,j=this._diskRead(c.children[c.numberActives-1]),i=this._diskRead(c.children[c.numberActives])):
(j=this._diskRead(c.children[b]),i=this._diskRead(c.children[b+1]));var g=this._allocateNode();g.isLeaf=j.isLeaf;g.level=j.level;for(e=0;e<this.order-1;e++)g.keys[e]=j.keys[e],g.children[e]=j.children[e];g.keys[this.order-1]=c.keys[b];g.children[this.order-1]=j.children[this.order-1];for(e=0;e<this.order-1;e++)g.keys[e+this.order]=i.keys[e],g.children[e+this.order]=i.children[e];g.children[2*this.order-1]=i.children[this.order-1];c.children[b]=g;for(e=b;e<c.numberActives;e++)c.keys[e]=c.keys[e+1],
c.children[e+1]=c.children[e+2];g.numberActives=j.numberActives+i.numberActives+1;c.numberActives--;for(e=c.numberActives;e<2*this.order-1;e++)c.keys[e]=null;if(c.numberActives===0&&this.root===c)this.root=g,g.isLeaf=g.level?!1:!0;this._diskWrite(g);this.root===g&&this._updateRootNode(this.root);this._diskWrite(c);this._diskDelete(j);this._diskDelete(i);return g};InMemoryBTree.Tree.prototype._deleteKeyFromNode=function(c,b){var e=2*this.order-1;if(c.numberActives<e)e=c.numberActives;var j;if(c.isLeaf===
!1)return!1;for(j=b;j<e-1;j++)c.keys[j]=c.keys[j+1];c.keys.pop();c.numberActives--;this._diskWrite(c);return!0};InMemoryBTree.Tree.prototype._mergeNodes=function(c,b,e){var j,i;j=this._allocateNode();j.isLeaf=!0;for(i=0;i<c.numberActives;i++)j.keys[i]=c.keys[i],j.children[i]=c.children[i];j.children[c.numberActives]=c.children[c.numberActives];j.keys[c.numberActives]=b;for(i=0;i<e.numberActives;i++)j.keys[i+c.numberActives+1]=e.keys[i],j.children[i+c.numberActives+1]=e.children[i];j.children[2*this.order-
1]=e.children[e.numberActives];j.numberActives=c.numberActives+e.numberActives+1;j.isLeaf=c.isLeaf;j.level=c.level;this._diskWrite(j);return j};InMemoryBTree.Tree.prototype.audit=function(c){var b=[],e=[],j=this,i=function(g){for(var i=0;i<e.length;i++)if(j.comparator(e[i],g)===0){var n=" !!! duplicated key "+g;c===!0&&console.log(n);b.push(n)}},g=null,j=this;this.walkNodes(function(h){c===!0&&(console.log("--- Node at "+h.level+" level"),console.log(" - leaf? "+h.isLeaf),console.log(" - num actives? "+
h.numberActives),console.log(" - keys: "));for(var m=h.numberActives;m<h.keys.length;m++)h.keys[m]!=null&&c===!0&&(console.log(" * warning : redundant key data"),b.push(" * warning : redundant key data"));for(m=h.numberActives+1;m<h.children.length;m++)h.children[m]!=null&&c===!0&&(console.log(" * warning : redundant children data"),b.push(" * warning : redundant key data"));if(h.isLeaf===!1)for(m=0;m<h.numberActives;m++){var n=j._diskRead(h.children[m]).keys[j._diskRead(h.children[m]).numberActives-
1].key,v=j._diskRead(h.children[m+1]).keys[0].key;c===!0&&console.log("   "+h.keys[m].key+"("+n+","+v+")");if(j.comparator(h.keys[m].key,n)===-1){var u=" !!! value max left "+n+" > key "+h.keys[m].key;c===!0&&console.log(u);b.push(u)}j.comparator(h.keys[m].key,v)===1&&(u=" !!! value min right "+v+" < key "+h.keys[m].key,c===!0&&console.log(u),b.push(u));i(h.keys[m].key);e.push(h.keys[m].key)}else{g===null?g=h.level:g!=h.level&&(u=" !!! Leaf node with wrong level value",c===!0&&console.log(u),b.push(u));
for(m=0;m<h.numberActives;m++)c===!0&&console.log(" "+h.keys[m].key),i(h.keys[m].key),e.push(h.keys[m].key)}h!=j.root&&(h.numberActives>2*j.order-1&&(c===!0&&(u=" !!!! MAX num keys restriction violated "),console.log(u),b.push(u)),h.numberActives<j.order-1&&(c===!0&&(u=" !!!! MIN num keys restriction violated "),console.log(u),b.push(u)))});return b};InMemoryBTree.Tree.prototype._getMaxKeyPos=function(c){for(var b={};;){if(c===null)break;if(c.isLeaf===!0){b.node=c;b.index=c.numberActives-1;break}else b.node=
c,b.index=c.numberActives-1,c=this._diskRead(c.children[c.numberActives])}return b};InMemoryBTree.Tree.prototype._getMinKeyPos=function(c){for(var b={};;){if(c===null)break;if(c.isLeaf===!0){b.node=c;b.index=0;break}else b.node=c,b.index=0,c=this._diskRead(c.children[0])}return b};InMemoryBTree.Node=function(){this.numberActives=0;this.isLeaf=null;this.keys=[];this.children=[];this.level=0};QuadIndexCommon={NodeKey:function(c,b){this.subject=c.subject;this.predicate=c.predicate;this.object=c.object;
this.graph=c.graph;this.order=b}};QuadIndexCommon.NodeKey.prototype.comparator=function(c){for(var b=0;b<this.order.length;b++){var e=this.order[b];if(c[e]==null)break;else if(this[e]<c[e])return-1;else if(this[e]>c[e])return 1}return 0};QuadIndexCommon.Pattern=function(c){this.subject=c.subject;this.predicate=c.predicate;this.object=c.object;this.graph=c.graph;this.indexKey=[];this.keyComponents={};for(var b=[],e=[],c=["subject","predicate","object","graph"],j=0;j<c.length;j++)typeof this[c[j]]===
"string"?(e.push(c[j]),this.keyComponents[c[j]]=null):(b.push(c[j]),this.keyComponents[c[j]]=this[c[j]],this.indexKey.push(c[j]));this.order=b.concat(e);this.key=new QuadIndexCommon.NodeKey(this.keyComponents,this.order)};QuadIndex={};var aa=InMemoryBTree;QuadIndex.Tree=function(c,b){if(arguments!=0)this.componentOrder=c.componentOrder,aa.Tree.call(this,c.order,c.name,c.persistent,c.cacheMaxSize),this.comparator=function(b,c){for(var i=0;i<this.componentOrder.length;i++){var g=this.componentOrder[i],
h=b[g],g=c[g];if(h<g)return-1;else if(h>g)return 1}return 0},this.rangeComparator=function(b,c){for(var i=0;i<this.componentOrder.length;i++){var g=this.componentOrder[i];if(c[g]==null||b[g]==null)break;else if(b[g]<c[g])return-1;else if(b[g]>c[g])return 1}return 0},b!=null&&b(this)};Utils["extends"](aa.Tree,QuadIndex.Tree);QuadIndex.Tree.prototype.insert=function(c,b){aa.Tree.prototype.insert.call(this,c,null);b&&b(!0);return!0};QuadIndex.Tree.prototype.search=function(c,b){var e=aa.Tree.prototype.search.call(this,
c,!0);b&&b(e);return e};QuadIndex.Tree.prototype.range=function(c,b){var e=null,e=typeof this.root==="string"?this._rangeTraverse(this,this._diskRead(this.root),c):this._rangeTraverse(this,this.root,c);b&&b(e);return e};QuadIndex.Tree.prototype._rangeTraverse=function(c,b,e){for(var e=e.key,j=[],i=[b],g;i.length>0;){b=i.shift();for(g=0;g<b.numberActives&&c.rangeComparator(b.keys[g].key,e)===-1;)g++;if(b.isLeaf===!0)for(;g<b.numberActives&&c.rangeComparator(b.keys[g].key,e)===0;)j.push(b.keys[g].key),
g++;else{var h=c._diskRead(b.children[g]);for(i.push(h);;)if(g<b.numberActives&&c.rangeComparator(b.keys[g].key,e)===0)j.push(b.keys[g].key),g++,h=c._diskRead(b.children[g]),i.push(h);else break}}return j};QuadBackend={QuadBackend:function(c,b){if(arguments!=0){this.indexMap={};this.treeOrder=c.treeOrder;this.indices=["SPOG","GP","OGS","POG","GSP","OS"];this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],
POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};for(var e=0;e<this.indices.length;e++){var j=this.indices[e],i=new QuadIndex.Tree({order:this.treeOrder,componentOrder:this.componentOrders[j],persistent:c.persistent,name:(c.name||"")+j,cacheMaxSize:c.cacheMaxSize});this.indexMap[j]=i}b&&b(this)}}};QuadBackend.QuadBackend.prototype.clear=function(){for(var c=0;c<this.indices.length;c++)this.indexMap[this.indices[c]].clear()};
QuadBackend.QuadBackend.prototype._indexForPattern=function(c){for(var c=c.indexKey,b=this.indices,e=0;e<b.length;e++)for(var j=b[e],i=this.componentOrders[j],g=0;g<i.length;g++){if(Utils.include(c,i[g])===!1)break;if(g==c.length-1)return j}return"SPOG"};QuadBackend.QuadBackend.prototype.index=function(c,b){for(var e=0;e<this.indices.length;e++)this.indexMap[this.indices[e]].insert(c);b&&b(!0);return!0};QuadBackend.QuadBackend.prototype.range=function(c,b){var e=this.indexMap[this._indexForPattern(c)].range(c);
b&&b(e);return e};QuadBackend.QuadBackend.prototype.search=function(c,b){var e=this.indexMap[this.indices[0]].search(c);b&&b(e!=null);return e!=null};QuadBackend.QuadBackend.prototype["delete"]=function(c,b){for(var e,j=0;j<this.indices.length;j++)e=this.indices[j],e=this.indexMap[e],e["delete"](c);b&&b(!0);return!0};Lexicon={Lexicon:function(c){this.uriToOID={};this.OIDToUri={};this.literalToOID={};this.OIDToLiteral={};this.blankToOID={};this.OIDToBlank={};this.defaultGraphOid=0;this.defaultGraphUri=
"https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri,oid:this.defaultGraphOid};this.oidCounter=1;this.knownGraphs={};c!=null&&c(this)}};Lexicon.Lexicon.prototype.registerGraph=function(c){c!=this.defaultGraphOid&&(this.knownGraphs[c]=!0);return!0};Lexicon.Lexicon.prototype.registeredGraphs=function(c){var b=[],e;for(e in this.knownGraphs)c===!0?b.push(this.OIDToUri["u"+e]):b.push(e);return b};Lexicon.Lexicon.prototype.registerUri=
function(c){if(c===this.defaultGraphUri)return this.defaultGraphOid;else{if(this.uriToOID[c]==null){var b=this.oidCounter;this.oidCounter++;this.uriToOID[c]=[b,0];this.OIDToUri["u"+b]=c}else{var e=this.uriToOID[c],b=e[0];this.uriToOID[c]=[b,e[1]+1]}return b}};Lexicon.Lexicon.prototype.resolveUri=function(c){return c===this.defaultGraphUri?this.defaultGraphOid:(c=this.uriToOID[c],c!=null?c[0]:-1)};Lexicon.Lexicon.prototype.registerBlank=function(){var c=this.oidCounter;this.oidCounter++;c=""+c;this.OIDToBlank[c]=
!0;return c};Lexicon.Lexicon.prototype.resolveBlank=function(){var c=this.oidCounter;this.oidCounter++;return""+c};Lexicon.Lexicon.prototype.registerLiteral=function(c){if(this.literalToOID[c]==null){var b=this.oidCounter;this.oidCounter++;this.literalToOID[c]=[b,0];this.OIDToLiteral["l"+b]=c}else{var e=this.literalToOID[c],b=e[0];this.literalToOID[c]=[b,e[1]+1]}return b};Lexicon.Lexicon.prototype.resolveLiteral=function(c){c=this.literalToOID[c];return c!=null?c[0]:-1};Lexicon.Lexicon.prototype.parseLiteral=
function(c){var b=c.lastIndexOf("@");if(b!=-1&&c[b-1]==='"'){var e=c.substring(1,b-1),c=c.substring(b+1,c.length);return{token:"literal",value:e,lang:c}}b=c.lastIndexOf("^^");if(b!=-1&&c[b-1]==='"'&&c[b+2]==="<"&&c[c.length-1]===">")return e=c.substring(1,b-1),c=c.substring(b+3,c.length-1),{token:"literal",value:e,type:c};e=c.substring(1,c.length-1);return{token:"literal",value:e}};Lexicon.Lexicon.prototype.parseUri=function(c){return{token:"uri",value:c}};Lexicon.Lexicon.prototype.retrieve=function(c){try{if(c===
this.defaultGraphOid)return{token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0};else{var b=this.OIDToUri["u"+c];if(b!=null)return this.parseUri(b);else{var e=this.OIDToLiteral["l"+c];if(e!=null)return this.parseLiteral(e);else if(this.OIDToBlank[""+c]!=null)return{token:"blank",value:"_:"+c};else throw"Null value for OID";}}}catch(j){throw console.log("error in lexicon retrieving OID:"),console.log(c),j.message||j.stack?(j.message&&console.log(j.message),j.stack&&console.log(j.stack)):
console.log(j),Error("Unknown retrieving OID in lexicon:"+c);}};Lexicon.Lexicon.prototype.clear=function(){this.uriToOID={};this.OIDToUri={};this.literalToOID={};this.OIDToLiteral={};this.blankToOID={};this.OIDToBlank={}};Lexicon.Lexicon.prototype.unregister=function(c,b){try{return this.unregisterTerm(c.subject.token,b.subject),this.unregisterTerm(c.predicate.token,b.predicate),this.unregisterTerm(c.object.token,b.object),c.graph!=null&&this.unregisterTerm(c.graph.token,b.graph),!0}catch(e){return console.log("Error unregistering quad"),
console.log(e.message),!1}};Lexicon.Lexicon.prototype.unregisterTerm=function(c,b){if(c==="uri"){if(b!=this.defaultGraphOid){var e="u"+b,j=this.OIDToUri[e],i=this.uriToOID[j],g=i[1];if(""+i[0]===""+b)g===0?(delete this.OIDToUri[e],delete this.uriToOID[j],delete this.knownGraphs[b]):this.uriToOID[j]=[b,g-1];else throw"Not matching OID : "+b+" vs "+i[0];}}else if(c==="literal")if(this.oidCounter++,e="l"+b,j=this.OIDToLiteral[e],i=this.literalToOID[j],g=i[1],""+i[0]===""+b)g===0?(delete this.OIDToLiteral[e],
delete this.literalToOID[j]):this.literalToOID[j]=[b,g-1];else throw"Not matching OID : "+b+" vs "+i[0];else c==="blank"&&delete this.OIDToBlank[""+b]};NetworkTransport={};var oa=require("http"),pa=require("url");NetworkTransport.load=function(c,b,e,j){var i=j==null?3:j,c=pa.parse(c),c=oa.createClient(c.port||80,c.hostname).request("GET",(c.pathname||"/")+(c.search||""),{host:c.hostname,Accept:b});c.end();c.on("response",function(c){var j=c.headers,m="";(""+c.statusCode)[0]=="2"?(c.on("end",function(){e(!0,
{headers:j,data:m})}),c.on("data",function(b){m+=b})):(""+c.statusCode)[0]=="3"?i==0?e(!1,500):(c=j.Location||j.location,c!=null?NetworkTransport.load(c,b,e,i-1):e(!1,500)):e(!1,c.statusCode)})};var Aa=null;(function(){var c=function(b,c){b.stack="";for(var g in c)b[g]=c[g]};if(typeof window!=="undefined"){var b=window.jsonld=window.jsonld||{};Exception=function(b){c(this,b)}}else typeof module!=="undefined"&&module.exports&&(b={},Exception=function(b){c(this,b);this.stack=Error().stack});Aa=b;var e=
{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",
ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#"},j={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",xsd:"http://www.w3.org/2001/XMLSchema#"},i={"boolean":j.xsd+"boolean","double":j.xsd+"double",integer:j.xsd+"integer"},g=function(b,c,g){c in b?b[c].constructor===Array?b[c].push(g):b[c]=[b[c],g]:b[c]=g},h=function(b){var c;if(b.constructor===Object){c={};var g=Object.keys(b).sort(),e;for(e in g){var j=
g[e];c[j]=h(b[j])}}else if(b.constructor===Array)for(e in c=[],b)c[e]=h(b[e]);else c=b;return c},m=function(b){var c={"@datatype":"@datatype","@iri":"@iri","@language":"@language","@literal":"@literal","@subject":"@subject","@type":"@type"};if(b){var g={},e;for(e in b)b[e].constructor===String&&b[e]in c&&(g[b[e]]=e);for(e in g)c[e]=g[e]}return c},n=function(b,c,g){var e=null,h;for(h in b)if(h.length>0&&h[0]!=="@"&&c===b[h]){e=h;g!==null&&(g[h]=b[h]);break}e===null&&c===j.rdf+"type"&&(e=m(b)["@type"]);
if(e===null)for(h in b)if(h.length>0&&h[0]!=="@"){var i=b[h];if(c.indexOf(i)===0&&c.length>i.length){e=h+":"+c.substr(i.length);g!==null&&(g[h]=i);break}}e===null&&(e=c);return e},v=function(b,c,g){var e,h=m(b);e=c.indexOf(":");e!=-1?(h=c.substr(0,e),h in b?(e=b[h]+c.substr(e+1),g!==null&&(g[h]=b[h])):e=c):c in b?(e=b[c],g!==null&&(g[c]=e)):c===h["@subject"]?e=h["@subject"]:c===h["@type"]?e=j.rdf+"type":(e=c,"@vocab"in b&&(e=b["@vocab"]+e,g!==null&&(g["@vocab"]=b["@vocab"])));return e};b.normalize=
function(b){return(new u).normalize(b)};b.expand=function(b){return(new u).expand({},null,b,!1)};b.compact=function(c,g){var e=null;if(g!==null){var g=b.expand(g),j;g.constructor===Array?(e=[],j=g):j=[g];for(var i in j){var m={},n=(new u).compact(h(c),null,j[i],m);Object.keys(m).length>0&&(n["@context"]=m);e===null?e=n:e.push(n)}}return e};b.mergeContexts=function(b,c){var g=h(b),e=h(c),j;for(j in e)if(j.indexOf("@")!==0)for(var i in g)if(g[i]===e[j]){delete g[i];break}if(i="@coerce"in g||"@coerce"in
e){var m="@coerce"in g?g["@coerce"]:{},n="@coerce"in e?e["@coerce"]:{};delete g["@coerce"];delete e["@coerce"]}for(j in e)g[j]=e[j];if(i){for(var u in m)if(u in n){j=m[u];i=n[u];i.constructor!==Array&&(i=[i]);for(var v in i)if(e=i[v],j.constructor!==Array&&j!==e||j.constructor===Array&&j.indexOf(e)==-1)j.constructor===Array?j.push(e):j=m[u]=[j,e]}for(u in n)u in m||(m[u]=n[u]);n={};j=[];for(u in m)for(v in e=m[u],e.constructor===String&&(e=[e]),e)e[v]in n?j.indexOf(e[v])==-1&&j.push(e[v]):n[e[v]]=
!0;if(j.length>0)throw{message:"Invalid type coercion specification. More than one type specified for at least one property.",duplicates:j};g["@coerce"]=m}return g};b.expandTerm=v;b.compactIri=function(b,c){return n(b,c,null)};b.frame=function(b,c,g){return(new u).frame(b,c,g)};b.toTriples=function(c,g,e){var j=null;normalized=b.normalize(c);e=e||null;e===null&&(j=[],e=function(b,c,e){j.push({subject:Utils.lexicalFormTerm(b),predicate:Utils.lexicalFormTerm(c),object:Utils.lexicalFormTerm(e),graph:g})});
var h=!1,i;for(i in normalized){var c=normalized[i],m={token:"uri",value:c["@subject"]["@iri"]};if(m.value[0]==="_")m.token="blank",m.label=m.value.split(":")[1];for(var n in c)if(n!=="@subject"){var u=c[n];u.constructor!==Array&&(u=[u]);for(var v in u)if(h=u[v],typeof h==="string"?h={token:"literal",value:h}:h["@iri"]!=null?h=h["@iri"][0]=="_"?{token:"blank",label:h["@iri"].split(":")[1]}:{token:"uri",value:h["@iri"]}:h["@datatype"]!=null?h={token:"literal",value:h["@literal"],type:h["@datatype"]}:
h["@language"]!=null&&(h={token:"literal",value:h["@literal"],lang:h["@language"]}),h=e(m,{token:"uri",value:n},h)===!1)break;if(h)break}if(h)break}return j};var u=function(){};u.prototype.compact=function(b,c,g,e){var j,u=m(b);if(g===null)j=null,this.getCoerceType(b,c,e);else if(g.constructor===Array){j=[];for(var v in g)j.push(this.compact(b,c,g[v],e))}else if(g.constructor===Object&&"@subject"in g&&g["@subject"].constructor===Array)j={},j[u["@subject"]]=this.compact(b,c,g["@subject"],e);else if(g.constructor===
Object&&!("@literal"in g)&&!("@iri"in g)){j={};for(var A in g)if(g[A]!=="@context"&&(u=n(b,A,e),u!==A||!(u in j)))j[u]=this.compact(b,A,g[A],e)}else{c=this.getCoerceType(b,c,e);v=null;g.constructor===Object?"@language"in g||(v="@datatype"in g?g["@datatype"]:"@iri"in g?"@iri":c):g.constructor===String&&(v=c);if(c===null&&(v===i["boolean"]||v===i.integer||v===i["double"]))c=v;if(c!==null)if(v===null)throw{message:"Cannot coerce type when a language is specified. The language information would be lost."};
else if(v!==c)throw new Exception({message:"Cannot coerce type because the datatype does not match.",type:v,expected:c});else g.constructor===Object?"@iri"in g?j=g["@iri"]:"@literal"in g&&(j=g["@literal"]):j=g,c===i["boolean"]?j=j==="true"||j!=0:c===i["double"]?j=parseFloat(j):c===i.integer&&(j=parseInt(j));else if(g.constructor===Object)for(A in j={},g)j[u[A]]=g[A];else j=h(g);v==="@iri"&&(j.constructor===Object?j[u["@iri"]]=n(b,j[u["@iri"]],e):j=n(b,j,e))}return j};u.prototype.expand=function(c,
e,j,n){var u;if(j===null)u=null;else if(e===null&&j.constructor===String)u=v(c,j,null);else if(j.constructor===Array){u=[];for(var U in j)u.push(this.expand(c,e,j[U],n))}else if(j.constructor===Object)if("@context"in j&&(c=b.mergeContexts(c,j["@context"])),U=m(c),U["@literal"]in j||U["@iri"]in j)u={},U["@iri"]in j?u["@iri"]=j[U["@iri"]]:(u["@literal"]=j[U["@literal"]],U["@language"]in j?u["@language"]=j[U["@language"]]:U["@datatype"]in j&&(u["@datatype"]=j[U["@datatype"]]));else{u={};for(var P in j)P===
"@embed"||P==="@explicit"||P==="@default"||P==="@omitDefault"?g(u,P,h(j[P])):P!=="@context"&&g(u,v(c,P,null),this.expand(c,P,j[P],n))}else{P=this.getCoerceType(c,e,null);U=m(c);if(P===null&&(j.constructor===Number||j.constructor===Boolean))P=j.constructor===Boolean?i["boolean"]:(""+j).indexOf(".")==-1?i.integer:i["double"];P!==null&&(e!==U["@subject"]||n)?(u={},P==="@iri"?u["@iri"]=v(c,j,null):(u["@datatype"]=P,P===i["double"]&&(j=j.toExponential(6).replace(/(e(?:\+|-))([0-9])$/,"$10$2")),u["@literal"]=
""+j)):u=""+j}return u};u.prototype.normalize=function(b){var c=[];if(b!==null){this.ng={tmp:null,c14n:null};var g=this.expand(e,null,b,!0);this.nameBlankNodes(g);b={};Q(null,null,g,b);for(var j in b){var g=b[j],h={},i=Object.keys(g).sort(),m;for(m in i){var n=i[m];h[n]=g[n]}c.push(h)}this.canonicalizeBlankNodes(c);c.sort(function(b,c){return A(b["@subject"]["@iri"],c["@subject"]["@iri"])})}return c};u.prototype.getCoerceType=function(b,c,e){var h=null,c=v(b,c,null);if(c==="@subject"||c===j.rdf+"type")h=
"@iri";else if("@coerce"in b){var c=n(b,c,null),i;for(i in b["@coerce"]){var m=b["@coerce"][i];m.constructor!==Array&&(m=[m]);for(var u in m)if(m[u]===c){h=v(b,i,e);e!==null&&("@coerce"in e||(e["@coerce"]={}),i in e["@coerce"]?(m=e["@coerce"][i],(m.constructor===Array&&m.indexOf(c)==-1||m.constructor===String&&m!==c)&&g(e["@coerce"],i,c)):e["@coerce"][i]=c);break}}}return h};var E=function(b){return b.indexOf("_:")===0},A=function(b,c){var g=0;if(b.constructor===Array&&c.constructor===Array)for(var e=
0;e<b.length&&g===0;++e)g=A(b[e],c[e]);else g=b<c?-1:b>c?1:0;return g},F=function(b,c,g){var e=0;g in b?e=g in c?A(b[g],c[g]):-1:g in c&&(e=1);return e},G=function(b,c){var g=0;b.constructor===String?g=c.constructor!==String?-1:A(b,c):c.constructor===String?g=1:(g=F(b,c,"@literal"),g===0&&("@literal"in b?(g=F(b,c,"@datatype"),g===0&&(g=F(b,c,"@language"))):g=A(b["@iri"],c["@iri"])));return g},L=function(b,c){var g=0,e;for(e in b){g=A(b[e].constructor===Array?b[e].length:1,c[e].constructor===Array?
c[e].length:1);if(g===0){var j=b[e],h=c[e];j.constructor!==Array&&(j=[j],h=[h]);j=j.filter(function(b){return b.constructor===String||!("@iri"in b&&E(b["@iri"]))});h=h.filter(function(b){return b.constructor===String||!("@iri"in b&&E(b["@iri"]))});g=A(j.length,h.length)}if(g===0){j.sort(G);h.sort(G);for(var i=0;i<j.length&&g===0;++i)g=G(j[i],h[i])}if(g!==0)break}return g},J=function(b){var c=-1,g={next:function(){++c;return g.current()},current:function(){return"_:"+b+c},inNamespace:function(c){return c.indexOf("_:"+
b)===0}};return g},H=function(b,c,g){if(b!==null)if(b.constructor===Array)for(var e in b)H(b[e],c,g);else if(b.constructor===Object){"@subject"in b?b["@subject"].constructor==Array?H(b["@subject"],c,g):c[b["@subject"]["@iri"]]=b:b.constructor===Object&&!("@iri"in b||"@literal"in b)&&(!("@subject"in b)||b.constructor===Object&&"@subject"in b&&"@iri"in b["@subject"]&&E(b["@subject"]["@iri"]))&&g.push(b);for(var j in b)H(b[j],c,g)}},Q=function(b,c,g,e){var j=null;if(g!==null)if(g.constructor===Array)for(var i in g)Q(b,
c,g[i],e);else if(g.constructor===Object)if("@subject"in g&&g["@subject"].constructor===Array){if(b!==null)throw{message:"Embedded graph literals cannot be flattened."};for(var m in g["@subject"])Q(b,c,g["@subject"][m],e)}else if("@literal"in g||"@iri"in g)j=h(g);else for(m in g["@subject"]["@iri"]in e?i=e[g["@subject"]["@iri"]]:(i={},"@subject"in g&&(e[g["@subject"]["@iri"]]=i)),j=i,g){var n=g[m];n!==null&&(m in i?i[m].constructor!==Array&&(i[m]=[i[m]]):i[m]=[],Q(i[m],null,n,e),i[m].length===1&&
(i[m]=i[m][0]))}else j=g;j!==null&&b!==null&&(j.constructor===Object&&"@subject"in j&&(j=j["@subject"]),b.constructor===Array?(c=!1,j.constructor===Object&&"@iri"in j&&(c=b.filter(function(b){return b.constructor===Object&&"@iri"in b&&b["@iri"]===j["@iri"]}).length>0),c||b.push(j)):b[c]=j)};u.prototype.nameBlankNodes=function(b){var c=this.ng.tmp=J("tmp"),g={},e=[];H(b,g,e);for(var j in e)if(b=e[j],!("@subject"in b)){for(;c.next()in g;);b["@subject"]={"@iri":c.current()};g[c.current()]=b}};u.prototype.renameBlankNode=
function(b,c){var g=b["@subject"]["@iri"];b["@subject"]["@iri"]=c;var e=this.subjects;e[c]=e[g];delete e[g];this.edges.refs[c]=this.edges.refs[g];this.edges.props[c]=this.edges.props[g];delete this.edges.refs[g];delete this.edges.props[g];var j=this.edges.refs[c].all,h;for(h in j){var i=j[h].s;i===g&&(i=c);var m=e[i],n=this.edges.props[i].all,u;for(u in n)if(n[u].s===g){n[u].s=c;var i=n[u].p,i=m[i].constructor===Object?[m[i]]:m[i].constructor===Array?m[i]:[],v;for(v in i)i[v].constructor===Object&&
"@iri"in i[v]&&i[v]["@iri"]===g&&(i[v]["@iri"]=c)}}n=this.edges.props[c].all;for(h in n){var i=n[h].s,j=this.edges.refs[i].all,A;for(A in j)if(j[A].s===g)j[A].s=c}};u.prototype.canonicalizeBlankNodes=function(b){this.renamed={};this.mappings={};this.serializations={};var c=this.edges={refs:{},props:{}},g=this.subjects={},e=[],j;for(j in b){var h=b[j]["@subject"]["@iri"];g[h]=b[j];c.refs[h]={all:[],bnodes:[]};c.props[h]={all:[],bnodes:[]};E(h)&&e.push(b[j])}this.collectEdges();var b=this.ng.c14n=J("c14n"),
i=this.ng.tmp;for(j in e){var m=e[j],h=m["@subject"]["@iri"];if(b.inNamespace(h)){for(;i.next()in g;);this.renameBlankNode(m,i.current());h=m["@subject"]["@iri"]}this.serializations[h]={props:null,refs:null}}for(var n=this;e.length>0;){e.sort(function(b,c){return n.deepCompareBlankNodes(b,c)});var m=e.shift(),h=m["@subject"]["@iri"],i=["props","refs"],u;for(u in i){m=i[u];if(this.serializations[h][m]===null){var v={};v[h]="s1"}else v=this.serializations[h][m].m;var F=Object.keys(v);F.sort(function(b,
c){return A(v[b],v[c])});var ja=[];for(j in F){var ca=F[j];!b.inNamespace(h)&&ca in g&&(this.renameBlankNode(g[ca],b.next()),ja.push(ca))}F=e;e=[];for(j in F){var ca=F[j],K=ca["@subject"]["@iri"];if(!b.inNamespace(K)){for(var H in ja)this.markSerializationDirty(K,ja[H],m);e.push(ca)}}}}for(var O in c.props)if(c.props[O].bnodes.length>0){var m=g[O],L;for(L in m)L.indexOf("@")!==0&&m[L].constructor===Array&&m[L].sort(G)}};MappingBuilder=function(){this.count=1;this.processed={};this.mapping={};this.adj=
{};this.keyStack=[{keys:["s1"],idx:0}];this.done={};this.s=""};MappingBuilder.prototype.copy=function(){var b=new MappingBuilder;b.count=this.count;b.processed=h(this.processed);b.mapping=h(this.mapping);b.adj=h(this.adj);b.keyStack=h(this.keyStack);b.done=h(this.done);b.s=this.s;return b};MappingBuilder.prototype.mapNode=function(b){b in this.mapping||(this.mapping[b]=b.indexOf("_:c14n")===0?"c"+b.substr(6):"s"+this.count++);return this.mapping[b]};MappingBuilder.prototype.serialize=function(b,c){if(this.keyStack.length>
0)for(var g=this.keyStack.pop();g.idx<g.keys.length;++g.idx){var e=g.keys[g.idx];if(!(e in this.adj)){this.keyStack.push(g);break}if(e in this.done)this.s+="_"+e;else{this.done[e]=!0;var j=e,e=this.adj[e],h=e.i;if(h in b){var i=b[h],m="",n=!0,u=void 0;for(u in i)if(u!=="@subject"){n?n=!1:m+="|";m+="<"+u+">";var v=i[u].constructor===Array?i[u]:[i[u]],A;for(A in v){var F=v[A];F.constructor===Object?"@iri"in F?m+=E(F["@iri"])?"_:":"<"+F["@iri"]+">":(m+='"'+F["@literal"]+'"',"@datatype"in F?m+="^^<"+
F["@datatype"]+">":"@language"in F&&(m+="@"+F["@language"])):m+='"'+F+'"'}}j+="["+m+"]";i=!0;j+="[";var h=c.refs[h].all,G;for(G in h)i?i=!1:j+="|",j+="<"+h[G].p+">",j+=E(h[G].s)?"_:":"<"+h[G].s+">";j+="]"}j+=e.k.join("");this.s+=j;this.keyStack.push({keys:e.k,idx:0});this.serialize(b,c)}}};u.prototype.markSerializationDirty=function(b,c,g){b=this.serializations[b];b[g]!==null&&c in b[g].m&&(b[g]=null)};var V=function(b,c){var g=0;return g=b.length==c.length?A(b,c):b.length>c.length?A(b.substr(0,c.length),
c):A(b,c.substr(0,b.length))};u.prototype.serializeCombos=function(b,c,g,e,j,i,m){if(m.length>0){i=h(i);i[e.mapNode(m[0].s)]=m[0].s;for(var n=e.copy(),m=m.slice(1),u=Math.max(1,m.length),v=0;v<u;++v){var A=v===0?e:n.copy();this.serializeCombos(b,c,g,A,j,i,m);m.unshift.apply(m,m.splice(1,m.length))}}else if(m=Object.keys(i).sort(),e.adj[g]={i:c,k:m,m:i},e.serialize(this.subjects,this.edges),b[j]===null||V(e.s,b[j].s)<=0){for(n in m)this.serializeBlankNode(b,i[m[n]],e,j);e.serialize(this.subjects,this.edges);
if(b[j]===null||V(e.s,b[j].s)<=0&&e.s.length>=b[j].s.length)b[j]={s:e.s,m:e.mapping}}};u.prototype.serializeBlankNode=function(b,c,g,e){if(!(c in g.processed)){g.processed[c]=!0;var j=g.mapNode(c),h=g.copy(),i=this.edges[e][c].bnodes,m={},n=[],u;for(u in i)i[u].s in g.mapping?m[g.mapping[i[u].s]]=i[u].s:n.push(i[u]);i=Math.max(1,n.length);for(u=0;u<i;++u){var v=u===0?g:h.copy();this.serializeCombos(b,c,j,v,e,m,n)}}};u.prototype.deepCompareBlankNodes=function(b,c){var g=0,e=b["@subject"]["@iri"],j=
c["@subject"]["@iri"];if(e===j)g=0;else if(g=this.shallowCompareBlankNodes(b,c),g===0)for(var i=["props","refs"],m=0;g===0&&m<i.length;++m){var g=i[m],n=this.serializations[e],u=this.serializations[j];if(n[g]===null){var v=new MappingBuilder;if(g==="refs")v.mapping=h(n.props.m),v.count=Object.keys(v.mapping).length+1;this.serializeBlankNode(n,e,v,g)}if(u[g]===null){v=new MappingBuilder;if(g==="refs")v.mapping=h(u.props.m),v.count=Object.keys(v.mapping).length+1;this.serializeBlankNode(u,j,v,g)}g=
A(n[g].s,u[g].s)}return g};u.prototype.shallowCompareBlankNodes=function(b,c){var g=0,e=Object.keys(b),j=Object.keys(c),g=A(e.length,j.length);g===0&&(g=A(e.sort(),j.sort()));g===0&&(g=L(b,c));if(g===0)var h=this.edges.refs[b["@subject"]["@iri"]].all,i=this.edges.refs[c["@subject"]["@iri"]].all,g=A(h.length,i.length);if(g===0)for(e=0;e<h.length&&g===0;++e)g=this.compareEdges(h[e],i[e]);return g};u.prototype.compareEdges=function(b,c){var g=0,e=E(b.s),j=E(c.s),h=this.ng.c14n;e!=j?g=e?1:-1:(e||(g=A(b.s,
c.s)),g===0&&(g=A(b.p,c.p)),g===0&&h!==null&&(e=h.inNamespace(b.s),h=h.inNamespace(c.s),e!=h?g=e?1:-1:e&&(g=A(b.s,c.s))));return g};u.prototype.collectEdges=function(){var b=this.edges.refs,c=this.edges.props,g;for(g in this.subjects){var e=this.subjects[g],j;for(j in e)if(j!=="@subject"){var h=e[j],h=h.constructor!==Array?[h]:h,i;for(i in h){var m=h[i];m.constructor===Object&&"@iri"in m&&m["@iri"]in this.subjects&&(m=m["@iri"],b[m].all.push({s:g,p:j}),c[g].all.push({s:m,p:j}))}}}var n=this;for(g in b)b[g].all.sort(function(b,
c){return n.compareEdges(b,c)}),b[g].bnodes=b[g].all.filter(function(b){return E(b.s)});for(g in c)c[g].all.sort(function(b,c){return n.compareEdges(b,c)}),c[g].bnodes=c[g].all.filter(function(b){return E(b.s)})};var W=function(b,c){var g=!1;if(!(j.rdf+"type"in c)){var e=Object.keys(c).filter(function(b){return b.indexOf("@")!==0});if(e.length===0)g=!0;else if(b.constructor===Object&&"@subject"in b){var g=!0,h;for(h in e)if(!(e[h]in b)){g=!1;break}}}return g},Eb=function(b,c,g,e,h,i,m,n){var u=null,
v=-1,A;g.constructor===Array?(u=[],A=g,A.length===0&&A.push({})):(A=[g],v=1);for(var E=[],F=0;F<A.length&&v!==0;++F){g=A[F];if(g.constructor!==Object)throw{message:"Invalid JSON-LD frame. Frame must be an object or an array.",frame:g};E[F]=[];for(var G=0;G<c.length&&v!==0;++G){var K=c[G],J=!1,O=j.rdf+"type";if(O in g&&K.constructor===Object&&"@subject"in K&&O in K)for(var L=K[O].constructor===Array?K[O]:[K[O]],H=g[O].constructor===Array?g[O]:[g[O]],Q=0;Q<H.length&&!J;++Q){var O=H[Q]["@iri"],V;for(V in L)if(L[V]["@iri"]===
O){J=!0;break}}if(J||W(K,g))E[F].push(K),--v}}for(var ra in E)for(var aa in E[ra]){g=A[ra];v=E[ra][aa];if(v.constructor===Object&&"@subject"in v)if(c=b,F=e,K=h,J=i,O=m,G=n,L=v["@subject"]["@iri"],H=L in F?F[L]:null,(g["@embed"]===!0||G.defaults.embedOn)&&(H===null||H.autoembed&&!K)){H===null?(H={},F[L]=H):H.parent!==null&&(H.parent[H.key]=v["@subject"]);H.autoembed=K;H.parent=J;H.key=O;if(g["@explicit"]===!0||G.defaults.explicitOn)for(key in v)key!=="@subject"&&!(key in g)&&delete v[key];for(key in v)if(key.indexOf("@")!==
0&&key!==j.rdf+"type"){key in g?(K=g[key],J=!1):(K=v[key].constructor===Array?[]:{},J=!0);var O=v[key],O=O.constructor===Array?O:[O],ea;for(ea in O)O[ea].constructor===Object&&"@iri"in O[ea]&&O[ea]["@iri"]in c&&(O[ea]=c[O[ea]["@iri"]]);v[key]=Eb(c,O,K,F,J,v,key,G)}for(key in g)key.indexOf("@")!==0&&key!==j.rdf+"type"&&!(key in v)&&(K=g[key],K.constructor===Array?v[key]=[]:(K.constructor===Array&&(K=K.length>0?K[0]:{}),K["@omitDefault"]===!0||G.defaults.omitDefaultOn||(v[key]="@default"in K?K["@default"]:
null)))}else v=v["@subject"];u===null?u=v:u.push(v)}return u};u.prototype.frame=function(c,g,e){var c=b.normalize(c),j=null;"@context"in g&&(j=h(g["@context"]));var g=b.expand(g),e={defaults:{embedOn:!0,explicitOn:!1,omitDefaultOn:!1}},i={},m;for(m in c)i[c[m]["@subject"]["@iri"]]=c[m];c=Eb(i,c,g,{},!1,null,null,e);j!==null&&c!==null&&(c=b.compact(j,c));return c}})();JSONLDParser={parser:{}};JSONLDParser.parser.parse=function(c,b){typeof c==="string"&&(c=JSON.parse(c));return Aa.toTriples(c,b)};RDFLoader=
{RDFLoader:function(c){this.precedences=["text/turtle","text/n3","application/json"];this.parsers={"text/turtle":TurtleParser.parser,"text/n3":TurtleParser.parser,"application/json":JSONLDParser.parser};if(c!=null)for(var b in c.parsers)this.parsers[b]=c.parsers[b];if(c&&c.precedences!=null)for(b in this.precedences=c.precedences,c.parsers)Utils.include(this.precedences,b)||this.precedences.push(b);this.acceptHeaderValue="";for(c=0;c<this.precedences.length;c++)c!=0?this.acceptHeaderValue=this.acceptHeaderValue+
","+this.precedences[c]:this.acceptHeaderValue+=this.precedences[c]}};RDFLoader.RDFLoader.prototype.registerParser=function(c,b){this.parsers[c]=b;this.precedences.push(c)};RDFLoader.RDFLoader.prototype.unregisterParser=function(c){delete this.parsers[c];for(var b=[],e=0;e<this.precedences.length;e++)this.precedences[e]!=c&&b.push(this.precedences[e]);this.precedences=b};RDFLoader.RDFLoader.prototype.setAcceptHeaderPrecedence=function(c){this.precedences=c};RDFLoader.RDFLoader.prototype.load=function(c,
b,e){var j=this;NetworkTransport.load(c,this.acceptHeaderValue,function(i,g){if(i==!0){var h=g.headers["Content-Type"]||g.headers["content-type"],m=g.data;if(h!=null){var h=h.split(";")[0],n;for(n in j.parsers)if(n.indexOf("/")!=-1){var v=n.split("/");if(v[1]==="*"){if(h.indexOf(v[0])!=-1)return j.tryToParse(j.parsers[n],b,m,e)}else if(h.indexOf(n)!=-1)return j.tryToParse(j.parsers[n],b,m,e);else if(h.indexOf(v[1])!=-1)return j.tryToParse(j.parsers[n],b,m,e)}else if(h.indexOf(n)!=-1)return j.tryToParse(j.parsers[n],
c,b,e);e(!1,"Unknown media type : "+h)}else console.log("Unknown media type"),console.log(g.headers),e(!1,"Uknown media type")}else e(!1,"Network error: "+g)})};RDFLoader.RDFLoader.prototype.loadFromFile=function(c,b,e,j){try{var i=this;fs=require("fs");fs.readFile(e.split("file:/")[1],function(g,e){if(g)throw g;e=e.toString("utf8");i.tryToParse(c,b,e,j)})}catch(g){j(!1,g)}};RDFLoader.RDFLoader.prototype.tryToParse=function(c,b,e,j){try{typeof e==="string"&&(e=Utils.normalizeUnicodeLiterals(e));var i=
c.parse(e,b);i!=null?j(!0,i):j(!1,"parsing error")}catch(g){console.log(g.message),console.log(g.stack),j(!1,"parsing error with mime type : "+g)}};AbstractQueryTree={AbstractQueryTree:function(){}};AbstractQueryTree.AbstractQueryTree.prototype.parseQueryString=function(c){return SparqlParser.parser.parse(c)};AbstractQueryTree.AbstractQueryTree.prototype.parseExecutableUnit=function(c){if(c.kind==="select")return this.parseSelect(c);else if(c.kind==="ask")return this.parseSelect(c);else if(c.kind===
"modify")return this.parseSelect(c);else if(c.kind==="construct")return this.parseSelect(c);else if(c.kind==="insertdata")return this.parseInsertData(c);else if(c.kind==="deletedata")return this.parseInsertData(c);else if(c.kind==="load")return c;else if(c.kind==="clear")return c;else if(c.kind==="drop")return c;else if(c.kind==="create")return c;else throw Error("unknown executable unit: "+c.kind);};AbstractQueryTree.AbstractQueryTree.prototype.parseSelect=function(c){return c==null?(console.log("error parsing query"),
null):(c.pattern=this.build(c.pattern,{}),c)};AbstractQueryTree.AbstractQueryTree.prototype.parseInsertData=function(c){return c==null?(console.log("error parsing query"),null):c};AbstractQueryTree.AbstractQueryTree.prototype.build=function(c,b){if(c.token==="groupgraphpattern")return this._buildGroupGraphPattern(c,b);else if(c.token==="basicgraphpattern")return{kind:"BGP",value:c.triplesContext};else if(c.token==="graphunionpattern"){var e=this.build(c.value[0],b),j=this.build(c.value[1],b);return{kind:"UNION",
value:[e,j]}}else if(c.token==="graphgraphpattern")return{kind:"GRAPH",value:this.build(c.value,b),graph:c.graph};else throw Error("not supported token in query:"+c.token);};AbstractQueryTree.AbstractQueryTree.prototype._buildGroupGraphPattern=function(c,b){for(var e=c.filters||[],j={kind:"EMPTY_PATTERN"},i=0;i<c.patterns.length;i++){var g=c.patterns[i];g.token==="optionalgraphpattern"?(g=this.build(g.value,b),j=g.kind==="FILTER"?{kind:"LEFT_JOIN",lvalue:j,rvalue:g.value,filter:g.filter}:{kind:"LEFT_JOIN",
lvalue:j,rvalue:g,filter:!0}):(g=this.build(g,b),j=j.kind=="EMPTY_PATTERN"?g:{kind:"JOIN",lvalue:j,rvalue:g})}if(e.length!=0)if(j.kind==="EMPTY_PATTERN")return{kind:"FILTER",filter:e,value:j};else if(j.kind==="LEFT_JOIN"&&j.filter===!0)return{kind:"FILTER",filter:e,value:j};else if(j.kind==="LEFT_JOIN")return{kind:"FILTER",filter:e,value:j};else if(j.kind==="JOIN")return{kind:"FILTER",filter:e,value:j};else if(j.kind==="UNION")return{kind:"FILTER",filter:e,value:j};else if(j.kind==="GRAPH")return{kind:"FILTER",
filter:e,value:j};else if(j.kind==="BGP")return{kind:"FILTER",filter:e,value:j};else throw Error("Unknow kind of algebra expression: "+j.kind);else return j};AbstractQueryTree.AbstractQueryTree.prototype.collectBasicTriples=function(c,b){b==null&&(b=[]);if(c.kind==="select")b=this.collectBasicTriples(c.pattern,b);else if(c.kind==="BGP")b=b.concat(c.value);else if(c.kind==="UNION")b=this.collectBasicTriples(c.value[0],b),b=this.collectBasicTriples(c.value[1],b);else if(c.kind==="GRAPH")b=this.collectBasicTriples(c.value,
b);else if(c.kind==="LEFT_JOIN"||c.kind==="JOIN")b=this.collectBasicTriples(c.lvalue,b),b=this.collectBasicTriples(c.rvalue,b);else if(c.kind==="FILTER")b=this.collectBasicTriples(c.value,b);else if(c.kind!=="EMPTY_PATTERN")throw"Unknown pattern: "+c.kind;return b};AbstractQueryTree.AbstractQueryTree.prototype.bind=function(c,b){if(c.graph!=null&&c.graph.token&&c.graph.token==="var"&&b[c.graph.value]!=null)c.graph=b[c.graph.value];if(c.filter!=null){for(var e=[],j=0;j<c.filter.length;j++)c.filter[j].value=
this._bindFilter(c.filter[j].value,b),e.push(c.filter[j]);c.filter=e}if(c.kind==="select")c.pattern=this.bind(c.pattern,b);else if(c.kind==="BGP")c.value=this._bindTripleContext(c.value,b);else if(c.kind==="UNION")c.value[0]=this.bind(c.value[0],b),c.value[1]=this.bind(c.value[1],b);else if(c.kind==="GRAPH")c.value=this.bind(c.value,b);else if(c.kind==="LEFT_JOIN"||c.kind==="JOIN")c.lvalue=this.bind(c.lvalue,b),c.rvalue=this.bind(c.rvalue,b);else if(c.kind==="FILTER")this.collectBasicTriples(c.value,
e);else if(c.kind!=="EMPTY_PATTERN")throw"Unknown pattern: "+c.kind;return c};AbstractQueryTree.AbstractQueryTree.prototype._bindTripleContext=function(c,b){for(var e=0;e<c.length;e++){delete c[e].graph;delete c[e].variables;for(var j in c[e]){var i=c[e][j];i.token==="var"&&b[i.value]!=null&&(c[e][j]=b[i.value])}}return c};AbstractQueryTree.AbstractQueryTree.prototype._bindFilter=function(c,b){if(c.expressionType!=null){var e=c.expressionType;if(e=="relationalexpression")c.op1=this._bindFilter(c.op1,
b),c.op2=this._bindFilter(c.op2,b);else if(e=="conditionalor"||e=="conditionaland")for(e=0;e<c.operands.length;e++)c.operands[e]=this._bindFilter(c.operands[e],b);else if(e=="additiveexpression"){c.summand=this._bindFilter(c.summand,b);for(e=0;e<c.summands.length;e++)c.summands[e].expression=this._bindFilter(c.summands[e].expression,b)}else if(e=="builtincall")for(e=0;e<c.args.length;e++)c.args[e]=this._bindFilter(c.args[e],b);else if(e=="multiplicativeexpression"){c.factor=this._bindFilter(c.factor,
b);for(e=0;e<c.factors.length;e++)c.factors[e].expression=this._bindFilter(c.factors[e].expression,b)}else if(e=="unaryexpression")c.expression=this._bindFilter(c.expression,b);else if(e=="irireforfunction")for(e=0;e<c.factors.args;e++)c.args[e]=this._bindFilter(c.args[e],b);else if(e=="atomic"&&c.primaryexpression=="var"&&b[c.value.value]!=null)e=b[c.value.value],c.primaryexpression=e.token==="uri"?"iri":"literal",c.value=e}return c};SparqlParser={};SparqlParser.parser=function(){var c={parse:function(b,
c){function j(a){var b=a.charCodeAt(0);if(b<=255)var a="x",c=2;else a="u",c=4;var a="\\"+a,f=b.toString(16).toUpperCase(),b=f;c-=f.length;for(f=0;f<c;f++)b="0"+b;return a+b}function i(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,j)+'"'}function g(b){a<Ca||(a>Ca&&(Ca=a,bb=[]),bb.push(b))}function h(){var b="SPARQL@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=m();c===null&&(c=ab(),c=c!==null?c:null);z[b]={nextPos:a,result:c};
return c}function m(){var b="Query@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=a,f=a,d=n();if(d!==null){var t=J();t===null&&(t=V(),t===null&&(t=W(),t===null&&(t=aa(),t=t!==null?t:null)));t!==null?d=[d,t]:(d=null,a=f)}else d=null,a=f;f=d!==null?{token:"query",kind:"query",prologue:d[0],units:[d[1]]}:null;f===null&&(f=null,a=e);(k=c)&&f===null&&g("[2] Query");z[b]={nextPos:a,result:f};return f}function n(){var b="Prologue@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=a,f=
a,d=v(),d=d!==null?d:"";if(d!==null){for(var t=[],o=q();o!==null;)t.push(o),o=q();if(t!==null){for(var o=[],r=u();r!==null;)o.push(r),r=u();o!==null?d=[d,t,o]:(d=null,a=f)}else d=null,a=f}else d=null,a=f;f=d!==null?{token:"prologue",base:d[0],prefixes:d[2]}:null;f===null&&(f=null,a=e);(k=c)&&f===null&&g("[3] Prologue");z[b]={nextPos:a,result:f};return f}function v(){var c="BaseDecl@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;for(var j=a,f=a,d=[],t=q();t!==null;)d.push(t),t=q();if(d!==null)if(b.substr(a,
1)==="B"?(t="B",a+=1):(t=null,k&&g('"B"')),t===null&&(b.substr(a,1)==="b"?(t="b",a+=1):(t=null,k&&g('"b"')),t=t!==null?t:null),t!==null){if(b.substr(a,1)==="A"){var o="A";a+=1}else o=null,k&&g('"A"');o===null&&(b.substr(a,1)==="a"?(o="a",a+=1):(o=null,k&&g('"a"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="S"){var r="S";a+=1}else r=null,k&&g('"S"');r===null&&(b.substr(a,1)==="s"?(r="s",a+=1):(r=null,k&&g('"s"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="E"){var x="E";a+=1}else x=
null,k&&g('"E"');x===null&&(b.substr(a,1)==="e"?(x="e",a+=1):(x=null,k&&g('"e"')),x=x!==null?x:null);if(x!==null){for(var I=[],s=q();s!==null;)I.push(s),s=q();I!==null?(s=sa(),s!==null?d=[d,t,o,r,x,I,s]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?function(a){base={token:"base"};base.value=a;return base}(d[6]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[4] BaseDecl");z[c]={nextPos:a,result:f};return f}function u(){var c=
"PrefixDecl@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;for(var j=a,f=a,d=[],t=q();t!==null;)d.push(t),t=q();if(d!==null)if(b.substr(a,1)==="P"?(t="P",a+=1):(t=null,k&&g('"P"')),t===null&&(b.substr(a,1)==="p"?(t="p",a+=1):(t=null,k&&g('"p"')),t=t!==null?t:null),t!==null){if(b.substr(a,1)==="R"){var o="R";a+=1}else o=null,k&&g('"R"');o===null&&(b.substr(a,1)==="r"?(o="r",a+=1):(o=null,k&&g('"r"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="E"){var r="E";a+=1}else r=null,k&&g('"E"');
r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,k&&g('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="F"){var x="F";a+=1}else x=null,k&&g('"F"');x===null&&(b.substr(a,1)==="f"?(x="f",a+=1):(x=null,k&&g('"f"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="I"){var I="I";a+=1}else I=null,k&&g('"I"');I===null&&(b.substr(a,1)==="i"?(I="i",a+=1):(I=null,k&&g('"i"')),I=I!==null?I:null);if(I!==null){if(b.substr(a,1)==="X"){var s="X";a+=1}else s=null,k&&g('"X"');s===null&&(b.substr(a,
1)==="x"?(s="x",a+=1):(s=null,k&&g('"x"')),s=s!==null?s:null);if(s!==null){for(var h=[],i=q();i!==null;)h.push(i),i=q();if(h!==null)if(i=Ia(),i!==null){for(var m=[],y=q();y!==null;)m.push(y),y=q();m!==null?(y=sa(),y!==null?d=[d,t,o,r,x,I,s,h,i,m,y]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){prefix={token:"prefix"};prefix.prefix=a;prefix.local=b;return prefix}(d[8],
d[10]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[5] PrefixDecl");z[c]={nextPos:a,result:f};return f}function E(){var b="TURTLE@"+a,c=z[b];if(c)return a=c.nextPos,c.result;for(var c=a,g=[],f=A();f!==null;)g.push(f),f=A();g=g!==null?g:null;g===null&&(g=null,a=c);z[b]={nextPos:a,result:g};return g}function A(){var c="statement@"+a,e=z[c];if(e)return a=e.nextPos,e.result;for(var j=e=a,f=[],d=q();d!==null;)f.push(d),d=q();if(f!==null)if(d=F(),d!==null){for(var t=[],o=q();o!==null;)t.push(o),o=q();
if(t!==null)if(b.substr(a,1)==="."?(o=".",a+=1):(o=null,k&&g('"."')),o!==null){for(var r=[],x=q();x!==null;)r.push(x),x=q();r!==null?f=[f,d,t,o,r]:(f=null,a=j)}else f=null,a=j;else f=null,a=j}else f=null,a=j;else f=null,a=j;j=f!==null?f[1]:null;j===null&&(j=null,a=e);if(j!==null)e=j;else{j=e=a;f=[];for(d=q();d!==null;)f.push(d),d=q();if(f!==null)if(d=ua(),d!==null){t=[];for(o=q();o!==null;)t.push(o),o=q();t!==null?f=[f,d,t]:(f=null,a=j)}else f=null,a=j;else f=null,a=j;j=f!==null?f[1]:null;j===null&&
(j=null,a=e);if(j!==null)e=j;else{e=q();if(e!==null)for(j=[];e!==null;)j.push(e),e=q();else j=null;e=j!==null?j:null}}z[c]={nextPos:a,result:e};return e}function F(){var b="directive@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=L();c===null&&(c=G(),c=c!==null?c:null);z[b]={nextPos:a,result:c};return c}function G(){var c="base@"+a,e=z[c];if(e)return a=e.nextPos,e.result;for(var j=e=a,f=[],d=q();d!==null;)f.push(d),d=q();if(f!==null)if(b.substr(a,5)==="@base"?(d="@base",a+=5):(d=null,k&&g('"@base"')),
d!==null){var t=q();if(t!==null)for(var o=[];t!==null;)o.push(t),t=q();else o=null;o!==null?(t=sa(),t!==null?f=[f,d,o,t]:(f=null,a=j)):(f=null,a=j)}else f=null,a=j;else f=null,a=j;j=f!==null?function(a){base={token:"base"};base.value=a;return base}(f[3]):null;j===null&&(j=null,a=e);z[c]={nextPos:a,result:j};return j}function L(){var c="prefixID@"+a,e=z[c];if(e)return a=e.nextPos,e.result;for(var j=e=a,f=[],d=q();d!==null;)f.push(d),d=q();if(f!==null)if(b.substr(a,7)==="@prefix"?(d="@prefix",a+=7):
(d=null,k&&g('"@prefix"')),d!==null){var t=q();if(t!==null)for(var o=[];t!==null;)o.push(t),t=q();else o=null;if(o!==null)if(t=cb(),t=t!==null?t:"",t!==null){if(b.substr(a,1)===":"){var r=":";a+=1}else r=null,k&&g('":"');if(r!==null){for(var x=[],I=q();I!==null;)x.push(I),I=q();x!==null?(I=sa(),I!==null?f=[f,d,o,t,r,x,I]:(f=null,a=j)):(f=null,a=j)}else f=null,a=j}else f=null,a=j;else f=null,a=j}else f=null,a=j;else f=null,a=j;j=f!==null?function(a,b){prefix={token:"prefix"};prefix.prefix=a;prefix.local=
b;return prefix}(f[3],f[6]):null;j===null&&(j=null,a=e);z[c]={nextPos:a,result:j};return j}function J(){var b="SelectQuery@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=a,f=a,d=Q();if(d!==null){for(var t=[],o=q();o!==null;)t.push(o),o=q();if(t!==null){for(var o=[],r=ba();r!==null;)o.push(r),r=ba();if(o!==null){for(var r=[],x=q();x!==null;)r.push(x),x=q();if(r!==null)if(x=qa(),x!==null){for(var j=[],s=q();s!==null;)j.push(s),s=q();if(j!==null)if(s=Ba(),s!==null){for(var h=[],i=q();i!==
null;)h.push(i),i=q();h!==null?(i=ca(),i!==null?d=[d,t,o,r,x,j,s,h,i]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b,c,d){for(var f={named:[],"default":[]},g=0;g<b.length;g++){var k=b[g];k.kind==="default"?f["default"].push(k.graph):f.named.push(k.graph)}f.named.length===0&&f["default"].length===0&&f["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});
b={kind:"select",token:"executableunit"};b.dataset=f;b.projection=a.vars;b.modifier=a.modifier;b.pattern=c;if(d!=null&&d.limit!=null)b.limit=d.limit;if(d!=null&&d.offset!=null)b.offset=d.offset;if(d!=null&&d.order!=null&&d.order!="")b.order=d.order;if(d!=null&&d.group!=null)b.group=d.group;return b}(d[0],d[2],d[4],d[6]):null;f===null&&(f=null,a=e);(k=c)&&f===null&&g("[6] SelectQuery");z[b]={nextPos:a,result:f};return f}function H(){var b="SubSelect@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;
k=!1;var e=a,f=Q();if(f!==null){var d=qa();if(d!==null){var t=Ba();t!==null?f=[f,d,t]:(f=null,a=e)}else f=null,a=e}else f=null,a=e;(k=c)&&f===null&&g("[7] SubSelect");z[b]={nextPos:a,result:f};return f}function Q(){var c="SelectClause@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;for(var j=a,f=a,d=[],t=q();t!==null;)d.push(t),t=q();if(d!==null)if(b.substr(a,1)==="S"?(t="S",a+=1):(t=null,k&&g('"S"')),t===null&&(b.substr(a,1)==="s"?(t="s",a+=1):(t=null,k&&g('"s"')),t=t!==null?t:null),t!==null){if(b.substr(a,
1)==="E"){var o="E";a+=1}else o=null,k&&g('"E"');o===null&&(b.substr(a,1)==="e"?(o="e",a+=1):(o=null,k&&g('"e"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="L"){var r="L";a+=1}else r=null,k&&g('"L"');r===null&&(b.substr(a,1)==="l"?(r="l",a+=1):(r=null,k&&g('"l"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="E"){var x="E";a+=1}else x=null,k&&g('"E"');x===null&&(b.substr(a,1)==="e"?(x="e",a+=1):(x=null,k&&g('"e"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="C"){var I="C";a+=
1}else I=null,k&&g('"C"');I===null&&(b.substr(a,1)==="c"?(I="c",a+=1):(I=null,k&&g('"c"')),I=I!==null?I:null);if(I!==null){if(b.substr(a,1)==="T"){var s="T";a+=1}else s=null,k&&g('"T"');s===null&&(b.substr(a,1)==="t"?(s="t",a+=1):(s=null,k&&g('"t"')),s=s!==null?s:null);if(s!==null){for(var h=[],i=q();i!==null;)h.push(i),i=q();if(h!==null){i=a;if(b.substr(a,1)==="D"){var m="D";a+=1}else m=null,k&&g('"D"');m===null&&(b.substr(a,1)==="d"?(m="d",a+=1):(m=null,k&&g('"d"')),m=m!==null?m:null);if(m!==null){if(b.substr(a,
1)==="I"){var y="I";a+=1}else y=null,k&&g('"I"');y===null&&(b.substr(a,1)==="i"?(y="i",a+=1):(y=null,k&&g('"i"')),y=y!==null?y:null);if(y!==null){if(b.substr(a,1)==="S"){var D="S";a+=1}else D=null,k&&g('"S"');D===null&&(b.substr(a,1)==="s"?(D="s",a+=1):(D=null,k&&g('"s"')),D=D!==null?D:null);if(D!==null){if(b.substr(a,1)==="T"){var C="T";a+=1}else C=null,k&&g('"T"');C===null&&(b.substr(a,1)==="t"?(C="t",a+=1):(C=null,k&&g('"t"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="I"){var n="I";a+=
1}else n=null,k&&g('"I"');n===null&&(b.substr(a,1)==="i"?(n="i",a+=1):(n=null,k&&g('"i"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="N"){var u="N";a+=1}else u=null,k&&g('"N"');u===null&&(b.substr(a,1)==="n"?(u="n",a+=1):(u=null,k&&g('"n"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="C"){var v="C";a+=1}else v=null,k&&g('"C"');v===null&&(b.substr(a,1)==="c"?(v="c",a+=1):(v=null,k&&g('"c"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="T"){var R="T";a+=1}else R=null,k&&g('"T"');
R===null&&(b.substr(a,1)==="t"?(R="t",a+=1):(R=null,k&&g('"t"')),R=R!==null?R:null);R!==null?m=[m,y,D,C,n,u,v,R]:(m=null,a=i)}else m=null,a=i}else m=null,a=i}else m=null,a=i}else m=null,a=i}else m=null,a=i}else m=null,a=i}else m=null,a=i;m!==null?i=m:(i=a,b.substr(a,1)==="R"?(m="R",a+=1):(m=null,k&&g('"R"')),m===null&&(b.substr(a,1)==="r"?(m="r",a+=1):(m=null,k&&g('"r"')),m=m!==null?m:null),m!==null?(b.substr(a,1)==="E"?(y="E",a+=1):(y=null,k&&g('"E"')),y===null&&(b.substr(a,1)==="e"?(y="e",a+=1):
(y=null,k&&g('"e"')),y=y!==null?y:null),y!==null?(b.substr(a,1)==="D"?(D="D",a+=1):(D=null,k&&g('"D"')),D===null&&(b.substr(a,1)==="d"?(D="d",a+=1):(D=null,k&&g('"d"')),D=D!==null?D:null),D!==null?(b.substr(a,1)==="U"?(C="U",a+=1):(C=null,k&&g('"U"')),C===null&&(b.substr(a,1)==="u"?(C="u",a+=1):(C=null,k&&g('"u"')),C=C!==null?C:null),C!==null?(b.substr(a,1)==="C"?(n="C",a+=1):(n=null,k&&g('"C"')),n===null&&(b.substr(a,1)==="c"?(n="c",a+=1):(n=null,k&&g('"c"')),n=n!==null?n:null),n!==null?(b.substr(a,
1)==="E"?(u="E",a+=1):(u=null,k&&g('"E"')),u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,k&&g('"e"')),u=u!==null?u:null),u!==null?(b.substr(a,1)==="D"?(v="D",a+=1):(v=null,k&&g('"D"')),v===null&&(b.substr(a,1)==="d"?(v="d",a+=1):(v=null,k&&g('"d"')),v=v!==null?v:null),v!==null?m=[m,y,D,C,n,u,v]:(m=null,a=i)):(m=null,a=i)):(m=null,a=i)):(m=null,a=i)):(m=null,a=i)):(m=null,a=i)):(m=null,a=i),i=m!==null?m:null);i=i!==null?i:"";if(i!==null){m=[];for(y=q();y!==null;)m.push(y),y=q();if(m!==null){D=
a;C=[];for(n=q();n!==null;)C.push(n),n=q();if(C!==null)if(n=S(),n!==null){u=[];for(v=q();v!==null;)u.push(v),v=q();u!==null?C=[C,n,u]:(C=null,a=D)}else C=null,a=D;else C=null,a=D;if(C!==null)D=C;else{D=a;C=[];for(n=q();n!==null;)C.push(n),n=q();if(C!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,k&&g('"("')),n!==null){u=[];for(v=q();v!==null;)u.push(v),v=q();if(u!==null)if(v=M(),v!==null){for(var R=[],A=q();A!==null;)R.push(A),A=q();if(R!==null)if(b.substr(a,1)==="A"?(A="A",a+=1):(A=null,k&&g('"A"')),
A===null&&(b.substr(a,1)==="a"?(A="a",a+=1):(A=null,k&&g('"a"')),A=A!==null?A:null),A!==null){if(b.substr(a,1)==="S"){var E="S";a+=1}else E=null,k&&g('"S"');E===null&&(b.substr(a,1)==="s"?(E="s",a+=1):(E=null,k&&g('"s"')),E=E!==null?E:null);if(E!==null){for(var F=[],G=q();G!==null;)F.push(G),G=q();if(F!==null)if(G=S(),G!==null){for(var J=[],H=q();H!==null;)J.push(H),H=q();if(J!==null)if(b.substr(a,1)===")"?(H=")",a+=1):(H=null,k&&g('")"')),H!==null){for(var K=[],L=q();L!==null;)K.push(L),L=q();K!==
null?C=[C,n,u,v,R,A,E,F,G,J,H,K]:(C=null,a=D)}else C=null,a=D;else C=null,a=D}else C=null,a=D;else C=null,a=D}else C=null,a=D}else C=null,a=D;else C=null,a=D}else C=null,a=D;else C=null,a=D}else C=null,a=D;else C=null,a=D;D=C!==null?C:null}if(D!==null)for(y=[];D!==null;){y.push(D);D=a;C=[];for(n=q();n!==null;)C.push(n),n=q();if(C!==null)if(n=S(),n!==null){u=[];for(v=q();v!==null;)u.push(v),v=q();u!==null?C=[C,n,u]:(C=null,a=D)}else C=null,a=D;else C=null,a=D;if(C!==null)D=C;else{D=a;C=[];for(n=q();n!==
null;)C.push(n),n=q();if(C!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,k&&g('"("')),n!==null){u=[];for(v=q();v!==null;)u.push(v),v=q();if(u!==null)if(v=M(),v!==null){R=[];for(A=q();A!==null;)R.push(A),A=q();if(R!==null)if(b.substr(a,1)==="A"?(A="A",a+=1):(A=null,k&&g('"A"')),A===null&&(b.substr(a,1)==="a"?(A="a",a+=1):(A=null,k&&g('"a"')),A=A!==null?A:null),A!==null)if(b.substr(a,1)==="S"?(E="S",a+=1):(E=null,k&&g('"S"')),E===null&&(b.substr(a,1)==="s"?(E="s",a+=1):(E=null,k&&g('"s"')),E=E!==
null?E:null),E!==null){F=[];for(G=q();G!==null;)F.push(G),G=q();if(F!==null)if(G=S(),G!==null){J=[];for(H=q();H!==null;)J.push(H),H=q();if(J!==null)if(b.substr(a,1)===")"?(H=")",a+=1):(H=null,k&&g('")"')),H!==null){K=[];for(L=q();L!==null;)K.push(L),L=q();K!==null?C=[C,n,u,v,R,A,E,F,G,J,H,K]:(C=null,a=D)}else C=null,a=D;else C=null,a=D}else C=null,a=D;else C=null,a=D}else C=null,a=D;else C=null,a=D;else C=null,a=D}else C=null,a=D;else C=null,a=D}else C=null,a=D;else C=null,a=D;D=C!==null?C:null}}else y=
null;if(y===null){y=a;D=[];for(C=q();C!==null;)D.push(C),C=q();if(D!==null)if(b.substr(a,1)==="*"?(C="*",a+=1):(C=null,k&&g('"*"')),C!==null){n=[];for(u=q();u!==null;)n.push(u),u=q();n!==null?D=[D,C,n]:(D=null,a=y)}else D=null,a=y;else D=null,a=y;y=D!==null?D:null}y!==null?d=[d,t,o,r,x,I,s,h,i,m,y]:(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){var c=
[];if(b.length===3&&b[1]==="*")return{vars:[{token:"variable",kind:"*"}],modifier:Fb(a)};for(var d=0;d<b.length;d++){var f=b[d];f.length===3?c.push({token:"variable",kind:"var",value:f[1]}):c.push({token:"variable",kind:"aliased",expression:f[3],alias:f[8]})}return{vars:c,modifier:Fb(a)}}(d[8],d[10]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[8] SelectClause");z[c]={nextPos:a,result:f};return f}function V(){var c="ConstructQuery@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;for(var j=
a,f=a,d=[],t=q();t!==null;)d.push(t),t=q();if(d!==null)if(b.substr(a,1)==="C"?(t="C",a+=1):(t=null,k&&g('"C"')),t===null&&(b.substr(a,1)==="c"?(t="c",a+=1):(t=null,k&&g('"c"')),t=t!==null?t:null),t!==null){if(b.substr(a,1)==="O"){var o="O";a+=1}else o=null,k&&g('"O"');o===null&&(b.substr(a,1)==="o"?(o="o",a+=1):(o=null,k&&g('"o"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="N"){var r="N";a+=1}else r=null,k&&g('"N"');r===null&&(b.substr(a,1)==="n"?(r="n",a+=1):(r=null,k&&g('"n"')),r=r!==null?
r:null);if(r!==null){if(b.substr(a,1)==="S"){var x="S";a+=1}else x=null,k&&g('"S"');x===null&&(b.substr(a,1)==="s"?(x="s",a+=1):(x=null,k&&g('"s"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="T"){var I="T";a+=1}else I=null,k&&g('"T"');I===null&&(b.substr(a,1)==="t"?(I="t",a+=1):(I=null,k&&g('"t"')),I=I!==null?I:null);if(I!==null){if(b.substr(a,1)==="R"){var s="R";a+=1}else s=null,k&&g('"R"');s===null&&(b.substr(a,1)==="r"?(s="r",a+=1):(s=null,k&&g('"r"')),s=s!==null?s:null);if(s!==null){if(b.substr(a,
1)==="U"){var i="U";a+=1}else i=null,k&&g('"U"');i===null&&(b.substr(a,1)==="u"?(i="u",a+=1):(i=null,k&&g('"u"')),i=i!==null?i:null);if(i!==null){if(b.substr(a,1)==="C"){var h="C";a+=1}else h=null,k&&g('"C"');h===null&&(b.substr(a,1)==="c"?(h="c",a+=1):(h=null,k&&g('"c"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="T"){var m="T";a+=1}else m=null,k&&g('"T"');m===null&&(b.substr(a,1)==="t"?(m="t",a+=1):(m=null,k&&g('"t"')),m=m!==null?m:null);if(m!==null){for(var y=[],n=q();n!==null;)y.push(n),
n=q();if(y!==null)if(n=Gb(),n!==null){for(var u=[],v=q();v!==null;)u.push(v),v=q();if(u!==null){for(var v=[],ka=ba();ka!==null;)v.push(ka),ka=ba();if(v!==null){for(var ka=[],A=q();A!==null;)ka.push(A),A=q();if(ka!==null)if(A=qa(),A!==null){for(var R=[],E=q();E!==null;)R.push(E),E=q();R!==null?(E=Ba(),E!==null?d=[d,t,o,r,x,I,s,i,h,m,y,n,u,v,ka,A,R,E]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,
a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b,c,d){for(var f={named:[],"default":[]},g=0;g<b.length;g++){var k=b[g];k.kind==="default"?f["default"].push(k.graph):f.named.push(k.graph)}f.named.length===0&&f["default"].length===0&&f["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"construct",token:"executableunit"};
b.dataset=f;b.template=a;b.pattern=c;if(d!=null&&d.limit!=null)b.limit=d.limit;if(d!=null&&d.offset!=null)b.offset=d.offset;if(d!=null&&d.order!=null&&d.order!="")b.order=d.order;return b}(d[11],d[13],d[15],d[17]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[9] ConstructQuery");z[c]={nextPos:a,result:f};return f}function W(){var c="DescribeQuery@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a;if(b.substr(a,8)==="DESCRIBE"){var f="DESCRIBE";a+=8}else f=null,k&&g('"DESCRIBE"');if(f!==
null){var d=la();if(d!==null)for(var t=[];d!==null;)t.push(d),d=la();else t=null;t!==null?d=t:(b.substr(a,1)==="*"?(d="*",a+=1):(d=null,k&&g('"*"')),d=d!==null?d:null);if(d!==null){for(var t=[],o=ba();o!==null;)t.push(o),o=ba();if(t!==null)if(o=qa(),o=o!==null?o:"",o!==null){var r=Ba();r!==null?f=[f,d,t,o,r]:(f=null,a=j)}else f=null,a=j;else f=null,a=j}else f=null,a=j}else f=null,a=j;(k=e)&&f===null&&g("[10] DescribeQuery");z[c]={nextPos:a,result:f};return f}function aa(){var c="AskQuery@"+a,e=z[c];
if(e)return a=e.nextPos,e.result;e=k;k=!1;for(var j=a,f=a,d=[],t=q();t!==null;)d.push(t),t=q();if(d!==null)if(b.substr(a,1)==="A"?(t="A",a+=1):(t=null,k&&g('"A"')),t===null&&(b.substr(a,1)==="a"?(t="a",a+=1):(t=null,k&&g('"a"')),t=t!==null?t:null),t!==null){if(b.substr(a,1)==="S"){var o="S";a+=1}else o=null,k&&g('"S"');o===null&&(b.substr(a,1)==="s"?(o="s",a+=1):(o=null,k&&g('"s"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="K"){var r="K";a+=1}else r=null,k&&g('"K"');r===null&&(b.substr(a,
1)==="k"?(r="k",a+=1):(r=null,k&&g('"k"')),r=r!==null?r:null);if(r!==null){for(var x=[],I=q();I!==null;)x.push(I),I=q();if(x!==null){for(var I=[],s=ba();s!==null;)I.push(s),s=ba();if(I!==null){for(var s=[],i=q();i!==null;)s.push(i),i=q();s!==null?(i=qa(),i!==null?d=[d,t,o,r,x,I,s,i]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){for(var c={named:[],"default":[]},d=0;d<a.length;d++){var f=a[d];f.kind===
"default"?c["default"].push(f.graph):c.named.push(f.graph)}c.named.length===0&&c["default"].length===0&&c["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});d={kind:"ask",token:"executableunit"};d.dataset=c;d.pattern=b;return d}(d[5],d[7]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[11] AskQuery");z[c]={nextPos:a,result:f};return f}function ba(){var c="DatasetClause@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=
a,f=a;if(b.substr(a,1)==="F"){var d="F";a+=1}else d=null,k&&g('"F"');d===null&&(b.substr(a,1)==="f"?(d="f",a+=1):(d=null,k&&g('"f"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="R"){var t="R";a+=1}else t=null,k&&g('"R"');t===null&&(b.substr(a,1)==="r"?(t="r",a+=1):(t=null,k&&g('"r"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="O"){var o="O";a+=1}else o=null,k&&g('"O"');o===null&&(b.substr(a,1)==="o"?(o="o",a+=1):(o=null,k&&g('"o"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)===
"M"){var r="M";a+=1}else r=null,k&&g('"M"');r===null&&(b.substr(a,1)==="m"?(r="m",a+=1):(r=null,k&&g('"m"')),r=r!==null?r:null);if(r!==null){for(var x=[],I=q();I!==null;)x.push(I),I=q();if(x!==null)if(I=oa(),I===null&&(I=pa(),I=I!==null?I:null),I!==null){for(var s=[],i=q();i!==null;)s.push(i),i=q();s!==null?d=[d,t,o,r,x,I,s]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?d[5]:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[12] DatasetClause");
z[c]={nextPos:a,result:f};return f}function oa(){var b="DefaultGraphClause@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;for(var e=a,f=a,d=[],t=q();t!==null;)d.push(t),t=q();d!==null?(t=T(),t!==null?d=[d,t]:(d=null,a=f)):(d=null,a=f);f=d!==null?{graph:d[1],kind:"default",token:"graphClause"}:null;f===null&&(f=null,a=e);(k=c)&&f===null&&g("[13] DefaultGraphClause");z[b]={nextPos:a,result:f};return f}function pa(){var c="NamedGraphClause@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=
a,f=a;if(b.substr(a,1)==="N"){var d="N";a+=1}else d=null,k&&g('"N"');d===null&&(b.substr(a,1)==="n"?(d="n",a+=1):(d=null,k&&g('"n"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="A"){var t="A";a+=1}else t=null,k&&g('"A"');t===null&&(b.substr(a,1)==="a"?(t="a",a+=1):(t=null,k&&g('"a"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="M"){var o="M";a+=1}else o=null,k&&g('"M"');o===null&&(b.substr(a,1)==="m"?(o="m",a+=1):(o=null,k&&g('"m"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)===
"E"){var r="E";a+=1}else r=null,k&&g('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,k&&g('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="D"){var x="D";a+=1}else x=null,k&&g('"D"');x===null&&(b.substr(a,1)==="d"?(x="d",a+=1):(x=null,k&&g('"d"')),x=x!==null?x:null);if(x!==null){for(var i=[],s=q();s!==null;)i.push(s),s=q();i!==null?(s=T(),s!==null?d=[d,t,o,r,x,i,s]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==
null?{graph:d[6],kind:"named",token:"graphCluase"}:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[14] NamedGraphClause");z[c]={nextPos:a,result:f};return f}function qa(){var c="WhereClause@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a,d=a;if(b.substr(a,1)==="W"){var t="W";a+=1}else t=null,k&&g('"W"');t===null&&(b.substr(a,1)==="w"?(t="w",a+=1):(t=null,k&&g('"w"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="H"){var o="H";a+=1}else o=null,k&&g('"H"');o===null&&(b.substr(a,
1)==="h"?(o="h",a+=1):(o=null,k&&g('"h"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="E"){var r="E";a+=1}else r=null,k&&g('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,k&&g('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="R"){var x="R";a+=1}else x=null,k&&g('"R"');x===null&&(b.substr(a,1)==="r"?(x="r",a+=1):(x=null,k&&g('"r"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="E"){var i="E";a+=1}else i=null,k&&g('"E"');i===null&&(b.substr(a,1)==="e"?(i="e",a+=1):
(i=null,k&&g('"e"')),i=i!==null?i:null);i!==null?t=[t,o,r,x,i]:(t=null,a=d)}else t=null,a=d}else t=null,a=d}else t=null,a=d}else t=null,a=d;d=t!==null?t:"";if(d!==null){t=[];for(o=q();o!==null;)t.push(o),o=q();if(t!==null)if(o=Y(),o!==null){r=[];for(x=q();x!==null;)r.push(x),x=q();r!==null?d=[d,t,o,r]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?d[2]:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[16] WhereClause");z[c]={nextPos:a,result:f};return f}function Ba(){var b=
"SolutionModifier@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=a,f=a,d=U(),d=d!==null?d:"";if(d!==null){var t=Aa(),t=t!==null?t:"";if(t!==null){var o=xb(),o=o!==null?o:"";if(o!==null){var r=yb(),r=r!==null?r:"";r!==null?d=[d,t,o,r]:(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b,c){var d={};if(c!=null){if(c.limit!=null)d.limit=c.limit;if(c.offset!=null)d.offset=c.offset}if(a!=null)d.group=a;d.order=b;return d}(d[0],d[2],d[3]):null;f===null&&(f=null,
a=e);(k=c)&&f===null&&g("[17] SolutionModifier");z[b]={nextPos:a,result:f};return f}function U(){var c="GroupClause@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="G"){var d="G";a+=1}else d=null,k&&g('"G"');d===null&&(b.substr(a,1)==="g"?(d="g",a+=1):(d=null,k&&g('"g"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="R"){var t="R";a+=1}else t=null,k&&g('"R"');t===null&&(b.substr(a,1)==="r"?(t="r",a+=1):(t=null,k&&g('"r"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,
1)==="O"){var o="O";a+=1}else o=null,k&&g('"O"');o===null&&(b.substr(a,1)==="o"?(o="o",a+=1):(o=null,k&&g('"o"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="U"){var r="U";a+=1}else r=null,k&&g('"U"');r===null&&(b.substr(a,1)==="u"?(r="u",a+=1):(r=null,k&&g('"u"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="P"){var x="P";a+=1}else x=null,k&&g('"P"');x===null&&(b.substr(a,1)==="p"?(x="p",a+=1):(x=null,k&&g('"p"')),x=x!==null?x:null);if(x!==null){for(var i=[],s=q();s!==null;)i.push(s),
s=q();if(i!==null)if(b.substr(a,1)==="B"?(s="B",a+=1):(s=null,k&&g('"B"')),s===null&&(b.substr(a,1)==="b"?(s="b",a+=1):(s=null,k&&g('"b"')),s=s!==null?s:null),s!==null){if(b.substr(a,1)==="Y"){var h="Y";a+=1}else h=null,k&&g('"Y"');h===null&&(b.substr(a,1)==="y"?(h="y",a+=1):(h=null,k&&g('"y"')),h=h!==null?h:null);if(h!==null){for(var m=[],B=q();B!==null;)m.push(B),B=q();if(m!==null){B=P();if(B!==null)for(var y=[];B!==null;)y.push(B),B=P();else y=null;y!==null?d=[d,t,o,r,x,i,s,h,m,y]:(d=null,a=f)}else d=
null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?d[9]:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[18] GroupClause");z[c]={nextPos:a,result:f};return f}function P(){var c="GroupCondition@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;for(var j=a,f=a,d=[],t=q();t!==null;)d.push(t),t=q();if(d!==null)if(t=Ja(),t!==null){for(var o=[],r=q();r!==null;)o.push(r),r=q();o!==null?d=[d,t,o]:(d=null,a=
f)}else d=null,a=f;else d=null,a=f;f=d!==null?d[1]:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;d=[];for(t=q();t!==null;)d.push(t),t=q();if(d!==null)if(t=eb(),t!==null){o=[];for(r=q();r!==null;)o.push(r),r=q();o!==null?d=[d,t,o]:(d=null,a=f)}else d=null,a=f;else d=null,a=f;f=d!==null?d[1]:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;d=[];for(t=q();t!==null;)d.push(t),t=q();if(d!==null)if(b.substr(a,1)==="("?(t="(",a+=1):(t=null,k&&g('"("')),t!==null){o=[];for(r=q();r!==null;)o.push(r),
r=q();if(o!==null)if(r=M(),r!==null){for(var x=[],i=q();i!==null;)x.push(i),i=q();if(x!==null){i=a;if(b.substr(a,1)==="A"){var s="A";a+=1}else s=null,k&&g('"A"');s===null&&(b.substr(a,1)==="a"?(s="a",a+=1):(s=null,k&&g('"a"')),s=s!==null?s:null);if(s!==null){if(b.substr(a,1)==="S"){var h="S";a+=1}else h=null,k&&g('"S"');h===null&&(b.substr(a,1)==="s"?(h="s",a+=1):(h=null,k&&g('"s"')),h=h!==null?h:null);if(h!==null){for(var m=[],B=q();B!==null;)m.push(B),B=q();m!==null?(B=S(),B!==null?s=[s,h,m,B]:
(s=null,a=i)):(s=null,a=i)}else s=null,a=i}else s=null,a=i;i=s!==null?s:"";if(i!==null){s=[];for(h=q();h!==null;)s.push(h),h=q();if(s!==null)if(b.substr(a,1)===")"?(h=")",a+=1):(h=null,k&&g('")"')),h!==null){m=[];for(B=q();B!==null;)m.push(B),B=q();m!==null?d=[d,t,o,r,x,i,s,h,m]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?d[5].length!=0?{token:"aliased_expression",expression:d[3],alias:d[5][3]}:
d[3]:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;d=[];for(t=q();t!==null;)d.push(t),t=q();if(d!==null)if(t=S(),t!==null){o=[];for(r=q();r!==null;)o.push(r),r=q();o!==null?d=[d,t,o]:(d=null,a=f)}else d=null,a=f;else d=null,a=f;f=d!==null?d[1]:null;f===null&&(f=null,a=j);j=f!==null?f:null}}}(k=e)&&j===null&&g("[19] GroupCondition");z[c]={nextPos:a,result:j};return j}function Aa(){var c="HavingClause@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a;if(b.substr(a,6)==="HAVING"){var f=
"HAVING";a+=6}else f=null,k&&g('"HAVING"');if(f!==null){var d=Da();if(d!==null)for(var t=[];d!==null;)t.push(d),d=Da();else t=null;t!==null?f=[f,t]:(f=null,a=j)}else f=null,a=j;(k=e)&&f===null&&g("[20] HavingClause");z[c]={nextPos:a,result:f};return f}function xb(){var c="OrderClause@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="O"){var d="O";a+=1}else d=null,k&&g('"O"');d===null&&(b.substr(a,1)==="o"?(d="o",a+=1):(d=null,k&&g('"o"')),d=d!==null?d:null);if(d!==
null){if(b.substr(a,1)==="R"){var t="R";a+=1}else t=null,k&&g('"R"');t===null&&(b.substr(a,1)==="r"?(t="r",a+=1):(t=null,k&&g('"r"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="D"){var o="D";a+=1}else o=null,k&&g('"D"');o===null&&(b.substr(a,1)==="d"?(o="d",a+=1):(o=null,k&&g('"d"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="E"){var r="E";a+=1}else r=null,k&&g('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,k&&g('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)===
"R"){var x="R";a+=1}else x=null,k&&g('"R"');x===null&&(b.substr(a,1)==="r"?(x="r",a+=1):(x=null,k&&g('"r"')),x=x!==null?x:null);if(x!==null){for(var i=[],s=q();s!==null;)i.push(s),s=q();if(i!==null)if(b.substr(a,1)==="B"?(s="B",a+=1):(s=null,k&&g('"B"')),s===null&&(b.substr(a,1)==="b"?(s="b",a+=1):(s=null,k&&g('"b"')),s=s!==null?s:null),s!==null){if(b.substr(a,1)==="Y"){var h="Y";a+=1}else h=null,k&&g('"Y"');h===null&&(b.substr(a,1)==="y"?(h="y",a+=1):(h=null,k&&g('"y"')),h=h!==null?h:null);if(h!==
null){for(var m=[],B=q();B!==null;)m.push(B),B=q();if(m!==null){var y=Za();if(y!==null)for(B=[];y!==null;)B.push(y),y=Za();else B=null;if(B!==null){for(var y=[],n=q();n!==null;)y.push(n),n=q();y!==null?d=[d,t,o,r,x,i,s,h,m,B,y]:(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?d[9]:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[22] OrderClause");z[c]={nextPos:a,result:f};
return f}function Za(){var c="OrderCondition@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,3)==="ASC"){var d="ASC";a+=3}else d=null,k&&g('"ASC"');d===null&&(b.substr(a,4)==="DESC"?(d="DESC",a+=4):(d=null,k&&g('"DESC"')),d=d!==null?d:null);if(d!==null){for(var t=[],o=q();o!==null;)t.push(o),o=q();if(t!==null)if(o=Ka(),o!==null){for(var r=[],x=q();x!==null;)r.push(x),x=q();r!==null?d=[d,t,o,r]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?{direction:d[0],
expression:d[2]}:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;d=Da();d===null&&(d=S(),d=d!==null?d:null);if(d!==null){t=[];for(o=q();o!==null;)t.push(o),o=q();t!==null?d=[d,t]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){a.token==="var"&&(a={token:"expression",expressionType:"atomic",primaryexpression:"var",value:a});return{direction:"ASC",expression:a}}(d[0]):null;f===null&&(f=null,a=j);j=f!==null?f:null}(k=e)&&j===null&&g("[23] OrderCondition");z[c]={nextPos:a,result:j};return j}
function yb(){var b="LimitOffsetClauses@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=a,f=a,d=$a();if(d!==null){var t=ja(),t=t!==null?t:"";t!==null?d=[d,t]:(d=null,a=f)}else d=null,a=f;d!==null?f=d:(f=a,d=ja(),d!==null?(t=$a(),t=t!==null?t:"",t!==null?d=[d,t]:(d=null,a=f)):(d=null,a=f),f=d!==null?d:null);f=f!==null?function(a){for(var b={},c=0;c<a.length;c++){var d=a[c];if(d.limit!=null)b.limit=d.limit;else if(d.offset!=null)b.offset=d.offset}return b}(f):null;f===null&&(f=null,a=e);
(k=c)&&f===null&&g("[24] LimitOffsetClauses");z[b]={nextPos:a,result:f};return f}function $a(){var c="LimitClause@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="L"){var d="L";a+=1}else d=null,k&&g('"L"');d===null&&(b.substr(a,1)==="l"?(d="l",a+=1):(d=null,k&&g('"l"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="I"){var t="I";a+=1}else t=null,k&&g('"I"');t===null&&(b.substr(a,1)==="i"?(t="i",a+=1):(t=null,k&&g('"i"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,
1)==="M"){var o="M";a+=1}else o=null,k&&g('"M"');o===null&&(b.substr(a,1)==="m"?(o="m",a+=1):(o=null,k&&g('"m"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="I"){var r="I";a+=1}else r=null,k&&g('"I"');r===null&&(b.substr(a,1)==="i"?(r="i",a+=1):(r=null,k&&g('"i"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="T"){var x="T";a+=1}else x=null,k&&g('"T"');x===null&&(b.substr(a,1)==="t"?(x="t",a+=1):(x=null,k&&g('"t"')),x=x!==null?x:null);if(x!==null){for(var i=[],s=q();s!==null;)i.push(s),
s=q();if(i!==null)if(s=fa(),s!==null){for(var h=[],m=q();m!==null;)h.push(m),m=q();h!==null?d=[d,t,o,r,x,i,s,h]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?{limit:parseInt(d[6].value)}:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[25] LimitClause");z[c]={nextPos:a,result:f};return f}function ja(){var c="OffsetClause@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="O"){var d=
"O";a+=1}else d=null,k&&g('"O"');d===null&&(b.substr(a,1)==="o"?(d="o",a+=1):(d=null,k&&g('"o"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="F"){var t="F";a+=1}else t=null,k&&g('"F"');t===null&&(b.substr(a,1)==="f"?(t="f",a+=1):(t=null,k&&g('"f"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="F"){var o="F";a+=1}else o=null,k&&g('"F"');o===null&&(b.substr(a,1)==="f"?(o="f",a+=1):(o=null,k&&g('"f"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="S"){var r="S";a+=1}else r=null,
k&&g('"S"');r===null&&(b.substr(a,1)==="s"?(r="s",a+=1):(r=null,k&&g('"s"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="E"){var x="E";a+=1}else x=null,k&&g('"E"');x===null&&(b.substr(a,1)==="e"?(x="e",a+=1):(x=null,k&&g('"e"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="T"){var i="T";a+=1}else i=null,k&&g('"T"');i===null&&(b.substr(a,1)==="t"?(i="t",a+=1):(i=null,k&&g('"t"')),i=i!==null?i:null);if(i!==null){for(var s=[],h=q();h!==null;)s.push(h),h=q();if(s!==null)if(h=fa(),h!==null){for(var m=
[],B=q();B!==null;)m.push(B),B=q();m!==null?d=[d,t,o,r,x,i,s,h,m]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?{offset:parseInt(d[7].value)}:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[26] OffsetClause");z[c]={nextPos:a,result:f};return f}function ca(){var c="BindingsClause@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a;if(b.substr(a,8)==="BINDINGS"){var f="BINDINGS";a+=8}else f=
null,k&&g('"BINDINGS"');if(f!==null){for(var d=[],t=S();t!==null;)d.push(t),t=S();if(d!==null)if(b.substr(a,1)==="{"?(t="{",a+=1):(t=null,k&&g('"{"')),t!==null){var o=[],r=a;if(b.substr(a,1)==="("){var x="(";a+=1}else x=null,k&&g('"("');if(x!==null){var i=K();if(i!==null)for(var s=[];i!==null;)s.push(i),i=K();else s=null;s!==null?(b.substr(a,1)===")"?(i=")",a+=1):(i=null,k&&g('")"')),i!==null?x=[x,s,i]:(x=null,a=r)):(x=null,a=r)}else x=null,a=r;x!==null?r=x:(r=ma(),r=r!==null?r:null);for(;r!==null;){o.push(r);
r=a;b.substr(a,1)==="("?(x="(",a+=1):(x=null,k&&g('"("'));if(x!==null){i=K();if(i!==null)for(s=[];i!==null;)s.push(i),i=K();else s=null;s!==null?(b.substr(a,1)===")"?(i=")",a+=1):(i=null,k&&g('")"')),i!==null?x=[x,s,i]:(x=null,a=r)):(x=null,a=r)}else x=null,a=r;x!==null?r=x:(r=ma(),r=r!==null?r:null)}o!==null?(b.substr(a,1)==="}"?(r="}",a+=1):(r=null,k&&g('"}"')),r!==null?f=[f,d,t,o,r]:(f=null,a=j)):(f=null,a=j)}else f=null,a=j;else f=null,a=j}else f=null,a=j;j=f!==null?f:"";(k=e)&&j===null&&g("[27] BindingsClause");
z[c]={nextPos:a,result:j};return j}function K(){var c="BindingValue@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=T();j===null&&(j=La(),j===null&&(j=Ma(),j===null&&(j=Na(),j===null&&(b.substr(a,5)==="UNDEF"?(j="UNDEF",a+=5):(j=null,k&&g('"UNDEF"')),j=j!==null?j:null))));(k=e)&&j===null&&g("[28] BindingValue");z[c]={nextPos:a,result:j};return j}function ab(){var c="Update@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a,d=n();if(d!==null){for(var t=[],o=q();o!==null;)t.push(o),
o=q();if(t!==null)if(o=O(),o!==null){for(var r=a,x=[],i=q();i!==null;)x.push(i),i=q();if(x!==null)if(b.substr(a,1)===";"?(i=";",a+=1):(i=null,k&&g('";"')),i!==null){for(var s=[],h=q();h!==null;)s.push(h),h=q();s!==null?(h=ab(),h=h!==null?h:"",h!==null?x=[x,i,s,h]:(x=null,a=r)):(x=null,a=r)}else x=null,a=r;else x=null,a=r;r=x!==null?x:"";r!==null?d=[d,t,o,r]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b,c){var d={token:"query",kind:"update"};d.prologue=a;a=[b];
c.length!=null&&c[3]!=null&&c[3].units!=null&&(a=a.concat(c[3].units));d.units=a;return d}(d[0],d[2],d[3]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[30] Update");z[c]={nextPos:a,result:f};return f}function O(){var b="Update1@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=Bb();e===null&&(e=zb(),e===null&&(e=Ab(),e===null&&(e=Cb(),e===null&&(e=ra(),e===null&&(e=Db(),e===null&&(e=ea(),e===null&&(e=Hb(),e=e!==null?e:null)))))));(k=c)&&e===null&&g("[31] Update1");z[b]={nextPos:a,result:e};
return e}function Bb(){var c="Load@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="L"){var d="L";a+=1}else d=null,k&&g('"L"');d===null&&(b.substr(a,1)==="l"?(d="l",a+=1):(d=null,k&&g('"l"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="O"){var t="O";a+=1}else t=null,k&&g('"O"');t===null&&(b.substr(a,1)==="o"?(t="o",a+=1):(t=null,k&&g('"o"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="A"){var o="A";a+=1}else o=null,k&&g('"A"');o===null&&(b.substr(a,
1)==="a"?(o="a",a+=1):(o=null,k&&g('"a"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="D"){var r="D";a+=1}else r=null,k&&g('"D"');r===null&&(b.substr(a,1)==="d"?(r="d",a+=1):(r=null,k&&g('"d"')),r=r!==null?r:null);if(r!==null){for(var x=[],i=q();i!==null;)x.push(i),i=q();if(x!==null)if(i=T(),i!==null){for(var h=[],m=q();m!==null;)h.push(m),m=q();if(h!==null){m=a;if(b.substr(a,1)==="I"){var w="I";a+=1}else w=null,k&&g('"I"');w===null&&(b.substr(a,1)==="i"?(w="i",a+=1):(w=null,k&&g('"i"')),
w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="N"){var B="N";a+=1}else B=null,k&&g('"N"');B===null&&(b.substr(a,1)==="n"?(B="n",a+=1):(B=null,k&&g('"n"')),B=B!==null?B:null);if(B!==null){if(b.substr(a,1)==="T"){var y="T";a+=1}else y=null,k&&g('"T"');y===null&&(b.substr(a,1)==="t"?(y="t",a+=1):(y=null,k&&g('"t"')),y=y!==null?y:null);if(y!==null){if(b.substr(a,1)==="O"){var n="O";a+=1}else n=null,k&&g('"O"');n===null&&(b.substr(a,1)==="o"?(n="o",a+=1):(n=null,k&&g('"o"')),n=n!==null?n:null);if(n!==
null){for(var u=[],v=q();v!==null;)u.push(v),v=q();u!==null?(v=Oa(),v!==null?w=[w,B,y,n,u,v]:(w=null,a=m)):(w=null,a=m)}else w=null,a=m}else w=null,a=m}else w=null,a=m}else w=null,a=m;m=w!==null?w:"";m!==null?d=[d,t,o,r,x,i,h,m]:(d=null,a=f)}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b){var c={kind:"load",token:"executableunit"};c.sourceGraph=a;c.destinyGraph=b[5];return c}(d[5],d[7]):null;f===null&&(f=null,
a=j);(k=e)&&f===null&&g("[32] Load");z[c]={nextPos:a,result:f};return f}function zb(){var c="Clear@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="C"){var d="C";a+=1}else d=null,k&&g('"C"');d===null&&(b.substr(a,1)==="c"?(d="c",a+=1):(d=null,k&&g('"c"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="L"){var t="L";a+=1}else t=null,k&&g('"L"');t===null&&(b.substr(a,1)==="l"?(t="l",a+=1):(t=null,k&&g('"l"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)===
"E"){var o="E";a+=1}else o=null,k&&g('"E"');o===null&&(b.substr(a,1)==="e"?(o="e",a+=1):(o=null,k&&g('"e"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="A"){var r="A";a+=1}else r=null,k&&g('"A"');r===null&&(b.substr(a,1)==="a"?(r="a",a+=1):(r=null,k&&g('"a"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="R"){var x="R";a+=1}else x=null,k&&g('"R"');x===null&&(b.substr(a,1)==="r"?(x="r",a+=1):(x=null,k&&g('"r"')),x=x!==null?x:null);if(x!==null){for(var i=[],h=q();h!==null;)i.push(h),h=
q();if(i!==null){h=a;if(b.substr(a,1)==="S"){var m="S";a+=1}else m=null,k&&g('"S"');m===null&&(b.substr(a,1)==="s"?(m="s",a+=1):(m=null,k&&g('"s"')),m=m!==null?m:null);if(m!==null){if(b.substr(a,1)==="I"){var w="I";a+=1}else w=null,k&&g('"I"');w===null&&(b.substr(a,1)==="i"?(w="i",a+=1):(w=null,k&&g('"i"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="L"){var B="L";a+=1}else B=null,k&&g('"L"');B===null&&(b.substr(a,1)==="l"?(B="l",a+=1):(B=null,k&&g('"l"')),B=B!==null?B:null);if(B!==null){if(b.substr(a,
1)==="E"){var y="E";a+=1}else y=null,k&&g('"E"');y===null&&(b.substr(a,1)==="e"?(y="e",a+=1):(y=null,k&&g('"e"')),y=y!==null?y:null);if(y!==null){if(b.substr(a,1)==="N"){var n="N";a+=1}else n=null,k&&g('"N"');n===null&&(b.substr(a,1)==="n"?(n="n",a+=1):(n=null,k&&g('"n"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="T"){var u="T";a+=1}else u=null,k&&g('"T"');u===null&&(b.substr(a,1)==="t"?(u="t",a+=1):(u=null,k&&g('"t"')),u=u!==null?u:null);u!==null?m=[m,w,B,y,n,u]:(m=null,a=h)}else m=null,
a=h}else m=null,a=h}else m=null,a=h}else m=null,a=h}else m=null,a=h;h=m!==null?m:"";if(h!==null){m=[];for(w=q();w!==null;)m.push(w),w=q();m!==null?(w=fb(),w!==null?d=[d,t,o,r,x,i,h,m,w]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={kind:"clear",token:"executableunit"};b.destinyGraph=a;return b}(d[8]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[33] Clear");z[c]={nextPos:a,
result:f};return f}function Ab(){var c="Drop@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="D"){var d="D";a+=1}else d=null,k&&g('"D"');d===null&&(b.substr(a,1)==="d"?(d="d",a+=1):(d=null,k&&g('"d"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="R"){var t="R";a+=1}else t=null,k&&g('"R"');t===null&&(b.substr(a,1)==="r"?(t="r",a+=1):(t=null,k&&g('"r"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="O"){var o="O";a+=1}else o=null,k&&g('"O"');o===null&&
(b.substr(a,1)==="o"?(o="o",a+=1):(o=null,k&&g('"o"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="P"){var r="P";a+=1}else r=null,k&&g('"P"');r===null&&(b.substr(a,1)==="p"?(r="p",a+=1):(r=null,k&&g('"p"')),r=r!==null?r:null);if(r!==null){for(var x=[],i=q();i!==null;)x.push(i),i=q();if(x!==null){i=a;if(b.substr(a,1)==="S"){var h="S";a+=1}else h=null,k&&g('"S"');h===null&&(b.substr(a,1)==="s"?(h="s",a+=1):(h=null,k&&g('"s"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="I"){var m="I";
a+=1}else m=null,k&&g('"I"');m===null&&(b.substr(a,1)==="i"?(m="i",a+=1):(m=null,k&&g('"i"')),m=m!==null?m:null);if(m!==null){if(b.substr(a,1)==="L"){var w="L";a+=1}else w=null,k&&g('"L"');w===null&&(b.substr(a,1)==="l"?(w="l",a+=1):(w=null,k&&g('"l"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="E"){var n="E";a+=1}else n=null,k&&g('"E"');n===null&&(b.substr(a,1)==="e"?(n="e",a+=1):(n=null,k&&g('"e"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="N"){var y="N";a+=1}else y=null,k&&g('"N"');
y===null&&(b.substr(a,1)==="n"?(y="n",a+=1):(y=null,k&&g('"n"')),y=y!==null?y:null);if(y!==null){if(b.substr(a,1)==="T"){var u="T";a+=1}else u=null,k&&g('"T"');u===null&&(b.substr(a,1)==="t"?(u="t",a+=1):(u=null,k&&g('"t"')),u=u!==null?u:null);u!==null?h=[h,m,w,n,y,u]:(h=null,a=i)}else h=null,a=i}else h=null,a=i}else h=null,a=i}else h=null,a=i}else h=null,a=i;i=h!==null?h:"";if(i!==null){h=[];for(m=q();m!==null;)h.push(m),m=q();h!==null?(m=fb(),m!==null?d=[d,t,o,r,x,i,h,m]:(d=null,a=f)):(d=null,a=
f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={kind:"drop",token:"executableunit"};b.destinyGraph=a;return b}(d[7]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[34] Drop");z[c]={nextPos:a,result:f};return f}function Cb(){var c="Create@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="C"){var d="C";a+=1}else d=null,k&&g('"C"');d===null&&(b.substr(a,1)==="c"?(d="c",a+=1):(d=null,
k&&g('"c"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="R"){var t="R";a+=1}else t=null,k&&g('"R"');t===null&&(b.substr(a,1)==="r"?(t="r",a+=1):(t=null,k&&g('"r"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="E"){var o="E";a+=1}else o=null,k&&g('"E"');o===null&&(b.substr(a,1)==="e"?(o="e",a+=1):(o=null,k&&g('"e"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="A"){var r="A";a+=1}else r=null,k&&g('"A"');r===null&&(b.substr(a,1)==="a"?(r="a",a+=1):(r=null,k&&g('"a"')),r=r!==null?
r:null);if(r!==null){if(b.substr(a,1)==="T"){var x="T";a+=1}else x=null,k&&g('"T"');x===null&&(b.substr(a,1)==="t"?(x="t",a+=1):(x=null,k&&g('"t"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="E"){var i="E";a+=1}else i=null,k&&g('"E"');i===null&&(b.substr(a,1)==="e"?(i="e",a+=1):(i=null,k&&g('"e"')),i=i!==null?i:null);if(i!==null){for(var h=[],m=q();m!==null;)h.push(m),m=q();if(h!==null){m=a;if(b.substr(a,1)==="S"){var w="S";a+=1}else w=null,k&&g('"S"');w===null&&(b.substr(a,1)==="s"?(w="s",
a+=1):(w=null,k&&g('"s"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="I"){var n="I";a+=1}else n=null,k&&g('"I"');n===null&&(b.substr(a,1)==="i"?(n="i",a+=1):(n=null,k&&g('"i"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="L"){var y="L";a+=1}else y=null,k&&g('"L"');y===null&&(b.substr(a,1)==="l"?(y="l",a+=1):(y=null,k&&g('"l"')),y=y!==null?y:null);if(y!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,k&&g('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,k&&g('"e"')),
u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="N"){var v="N";a+=1}else v=null,k&&g('"N"');v===null&&(b.substr(a,1)==="n"?(v="n",a+=1):(v=null,k&&g('"n"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="T"){var N="T";a+=1}else N=null,k&&g('"T"');N===null&&(b.substr(a,1)==="t"?(N="t",a+=1):(N=null,k&&g('"t"')),N=N!==null?N:null);N!==null?w=[w,n,y,u,v,N]:(w=null,a=m)}else w=null,a=m}else w=null,a=m}else w=null,a=m}else w=null,a=m}else w=null,a=m;m=w!==null?w:"";if(m!==null){w=[];for(n=q();n!==
null;)w.push(n),n=q();w!==null?(n=Oa(),n!==null?d=[d,t,o,r,x,i,h,m,w,n]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={kind:"create",token:"executableunit"};b.destinyGraph=a;return b}(d[9]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[35] Create");z[c]={nextPos:a,result:f};return f}function ra(){var c="InsertData@"+a,e=z[c];if(e)return a=e.nextPos,e.result;
e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="I"){var d="I";a+=1}else d=null,k&&g('"I"');d===null&&(b.substr(a,1)==="i"?(d="i",a+=1):(d=null,k&&g('"i"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="N"){var t="N";a+=1}else t=null,k&&g('"N"');t===null&&(b.substr(a,1)==="n"?(t="n",a+=1):(t=null,k&&g('"n"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="S"){var o="S";a+=1}else o=null,k&&g('"S"');o===null&&(b.substr(a,1)==="s"?(o="s",a+=1):(o=null,k&&g('"s"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,
1)==="E"){var r="E";a+=1}else r=null,k&&g('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,k&&g('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="R"){var x="R";a+=1}else x=null,k&&g('"R"');x===null&&(b.substr(a,1)==="r"?(x="r",a+=1):(x=null,k&&g('"r"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="T"){var i="T";a+=1}else i=null,k&&g('"T"');i===null&&(b.substr(a,1)==="t"?(i="t",a+=1):(i=null,k&&g('"t"')),i=i!==null?i:null);if(i!==null){for(var h=[],m=q();m!==null;)h.push(m),
m=q();if(h!==null)if(b.substr(a,1)==="D"?(m="D",a+=1):(m=null,k&&g('"D"')),m===null&&(b.substr(a,1)==="d"?(m="d",a+=1):(m=null,k&&g('"d"')),m=m!==null?m:null),m!==null){if(b.substr(a,1)==="A"){var w="A";a+=1}else w=null,k&&g('"A"');w===null&&(b.substr(a,1)==="a"?(w="a",a+=1):(w=null,k&&g('"a"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="T"){var n="T";a+=1}else n=null,k&&g('"T"');n===null&&(b.substr(a,1)==="t"?(n="t",a+=1):(n=null,k&&g('"t"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,
1)==="A"){var y="A";a+=1}else y=null,k&&g('"A"');y===null&&(b.substr(a,1)==="a"?(y="a",a+=1):(y=null,k&&g('"a"')),y=y!==null?y:null);if(y!==null){for(var u=[],v=q();v!==null;)u.push(v),v=q();u!==null?(v=gb(),v!==null?d=[d,t,o,r,x,i,h,m,w,n,y,u,v]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={kind:"insertdata",token:"executableunit"};
b.quads=a;return b}(d[12]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[36] InsertData");z[c]={nextPos:a,result:f};return f}function Db(){var c="DeleteData@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="D"){var d="D";a+=1}else d=null,k&&g('"D"');d===null&&(b.substr(a,1)==="d"?(d="d",a+=1):(d=null,k&&g('"d"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="E"){var t="E";a+=1}else t=null,k&&g('"E"');t===null&&(b.substr(a,1)==="e"?(t="e",a+=1):(t=null,k&&
g('"e"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="L"){var o="L";a+=1}else o=null,k&&g('"L"');o===null&&(b.substr(a,1)==="l"?(o="l",a+=1):(o=null,k&&g('"l"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="E"){var r="E";a+=1}else r=null,k&&g('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,k&&g('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="T"){var x="T";a+=1}else x=null,k&&g('"T"');x===null&&(b.substr(a,1)==="t"?(x="t",a+=1):(x=null,k&&g('"t"')),x=x!==null?
x:null);if(x!==null){if(b.substr(a,1)==="E"){var i="E";a+=1}else i=null,k&&g('"E"');i===null&&(b.substr(a,1)==="e"?(i="e",a+=1):(i=null,k&&g('"e"')),i=i!==null?i:null);if(i!==null){for(var h=[],m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,1)==="D"?(m="D",a+=1):(m=null,k&&g('"D"')),m===null&&(b.substr(a,1)==="d"?(m="d",a+=1):(m=null,k&&g('"d"')),m=m!==null?m:null),m!==null){if(b.substr(a,1)==="A"){var w="A";a+=1}else w=null,k&&g('"A"');w===null&&(b.substr(a,1)==="a"?(w="a",a+=1):(w=null,
k&&g('"a"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="T"){var n="T";a+=1}else n=null,k&&g('"T"');n===null&&(b.substr(a,1)==="t"?(n="t",a+=1):(n=null,k&&g('"t"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="A"){var y="A";a+=1}else y=null,k&&g('"A"');y===null&&(b.substr(a,1)==="a"?(y="a",a+=1):(y=null,k&&g('"a"')),y=y!==null?y:null);if(y!==null){var u=gb();u!==null?d=[d,t,o,r,x,i,h,m,w,n,y,u]:(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,
a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={kind:"deletedata",token:"executableunit"};b.quads=a;return b}(d[11]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[37] DeleteData");z[c]={nextPos:a,result:f};return f}function ea(){var c="DeleteWhere@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="D"){var d="D";a+=1}else d=null,k&&g('"D"');d===null&&(b.substr(a,1)==="d"?(d="d",a+=
1):(d=null,k&&g('"d"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="E"){var t="E";a+=1}else t=null,k&&g('"E"');t===null&&(b.substr(a,1)==="e"?(t="e",a+=1):(t=null,k&&g('"e"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="L"){var o="L";a+=1}else o=null,k&&g('"L"');o===null&&(b.substr(a,1)==="l"?(o="l",a+=1):(o=null,k&&g('"l"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="E"){var r="E";a+=1}else r=null,k&&g('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,k&&g('"e"')),
r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="T"){var x="T";a+=1}else x=null,k&&g('"T"');x===null&&(b.substr(a,1)==="t"?(x="t",a+=1):(x=null,k&&g('"t"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="E"){var i="E";a+=1}else i=null,k&&g('"E"');i===null&&(b.substr(a,1)==="e"?(i="e",a+=1):(i=null,k&&g('"e"')),i=i!==null?i:null);if(i!==null){for(var h=[],m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,1)==="W"?(m="W",a+=1):(m=null,k&&g('"W"')),m===null&&(b.substr(a,1)==="w"?(m="w",
a+=1):(m=null,k&&g('"w"')),m=m!==null?m:null),m!==null){if(b.substr(a,1)==="H"){var w="H";a+=1}else w=null,k&&g('"H"');w===null&&(b.substr(a,1)==="h"?(w="h",a+=1):(w=null,k&&g('"h"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="E"){var n="E";a+=1}else n=null,k&&g('"E"');n===null&&(b.substr(a,1)==="e"?(n="e",a+=1):(n=null,k&&g('"e"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="R"){var y="R";a+=1}else y=null,k&&g('"R"');y===null&&(b.substr(a,1)==="r"?(y="r",a+=1):(y=null,k&&g('"r"')),
y=y!==null?y:null);if(y!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,k&&g('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,k&&g('"e"')),u=u!==null?u:null);if(u!==null){for(var v=[],N=q();N!==null;)v.push(N),N=q();v!==null?(N=Y(),N!==null?d=[d,t,o,r,x,i,h,m,w,n,y,u,v,N]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=
null,a=f;f=d!==null?function(a){var b={kind:"modify"};b.pattern=a;b["with"]=null;b.using=null;for(var c=[],a=a.patterns[0],a=a.triplesContext==null&&a.patterns!=null?a.patterns[0].triplesContext:a.triplesContext,d=0;d<a.length;d++){var f={},g=a[d];f.subject=g.subject;f.predicate=g.predicate;f.object=g.object;f.graph=g.graph;c.push(f)}b["delete"]=c;return b}(d[13]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[38] DeleteWhere");z[c]={nextPos:a,result:f};return f}function Hb(){var c="Modify@"+a,
e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a,d=a;if(b.substr(a,1)==="W"){var t="W";a+=1}else t=null,k&&g('"W"');t===null&&(b.substr(a,1)==="w"?(t="w",a+=1):(t=null,k&&g('"w"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="I"){var o="I";a+=1}else o=null,k&&g('"I"');o===null&&(b.substr(a,1)==="i"?(o="i",a+=1):(o=null,k&&g('"i"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="T"){var r="T";a+=1}else r=null,k&&g('"T"');r===null&&(b.substr(a,1)==="t"?(r="t",a+=1):(r=null,k&&
g('"t"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="H"){var x="H";a+=1}else x=null,k&&g('"H"');x===null&&(b.substr(a,1)==="h"?(x="h",a+=1):(x=null,k&&g('"h"')),x=x!==null?x:null);if(x!==null){for(var i=[],h=q();h!==null;)i.push(h),h=q();i!==null?(h=T(),h!==null?t=[t,o,r,x,i,h]:(t=null,a=d)):(t=null,a=d)}else t=null,a=d}else t=null,a=d}else t=null,a=d}else t=null,a=d;d=t!==null?t:"";if(d!==null){t=[];for(o=q();o!==null;)t.push(o),o=q();if(t!==null){o=a;r=Ib();if(r!==null){x=[];for(i=q();i!==
null;)x.push(i),i=q();x!==null?(i=hb(),i=i!==null?i:"",i!==null?r=[r,x,i]:(r=null,a=o)):(r=null,a=o)}else r=null,a=o;r!==null?o=r:(o=hb(),o=o!==null?o:null);if(o!==null){r=[];for(x=q();x!==null;)r.push(x),x=q();if(r!==null){x=[];for(i=ib();i!==null;)x.push(i),i=ib();if(x!==null){i=[];for(h=q();h!==null;)i.push(h),h=q();if(i!==null)if(b.substr(a,1)==="W"?(h="W",a+=1):(h=null,k&&g('"W"')),h===null&&(b.substr(a,1)==="w"?(h="w",a+=1):(h=null,k&&g('"w"')),h=h!==null?h:null),h!==null){if(b.substr(a,1)===
"H"){var m="H";a+=1}else m=null,k&&g('"H"');m===null&&(b.substr(a,1)==="h"?(m="h",a+=1):(m=null,k&&g('"h"')),m=m!==null?m:null);if(m!==null){if(b.substr(a,1)==="E"){var w="E";a+=1}else w=null,k&&g('"E"');w===null&&(b.substr(a,1)==="e"?(w="e",a+=1):(w=null,k&&g('"e"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="R"){var n="R";a+=1}else n=null,k&&g('"R"');n===null&&(b.substr(a,1)==="r"?(n="r",a+=1):(n=null,k&&g('"r"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="E"){var y="E";a+=1}else y=
null,k&&g('"E"');y===null&&(b.substr(a,1)==="e"?(y="e",a+=1):(y=null,k&&g('"e"')),y=y!==null?y:null);if(y!==null){for(var u=[],v=q();v!==null;)u.push(v),v=q();if(u!==null)if(v=Y(),v!==null){for(var N=[],A=q();A!==null;)N.push(A),A=q();N!==null?d=[d,t,o,r,x,i,h,m,w,n,y,u,v,N]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==
null?function(a,b,c,d){var f={kind:"modify"};f["with"]=a!=""?a[5]:null;b.length===3&&b[2]===""?(f["delete"]=b[0],f.insert=null):b.length===3&&b[0].length!=null&&b[1].length!=null&&b[2].length!=null?(f["delete"]=b[0],f.insert=b[2]):(f.insert=b,f["delete"]=null);c!=""&&(f.using=c);f.pattern=d;return f}(d[0],d[2],d[4],d[12]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[39] Modify");z[c]={nextPos:a,result:f};return f}function Ib(){var c="DeleteClause@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=
k;k=!1;var j=a,f=a;if(b.substr(a,1)==="D"){var d="D";a+=1}else d=null,k&&g('"D"');d===null&&(b.substr(a,1)==="d"?(d="d",a+=1):(d=null,k&&g('"d"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="E"){var t="E";a+=1}else t=null,k&&g('"E"');t===null&&(b.substr(a,1)==="e"?(t="e",a+=1):(t=null,k&&g('"e"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="L"){var o="L";a+=1}else o=null,k&&g('"L"');o===null&&(b.substr(a,1)==="l"?(o="l",a+=1):(o=null,k&&g('"l"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,
1)==="E"){var r="E";a+=1}else r=null,k&&g('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,k&&g('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="T"){var x="T";a+=1}else x=null,k&&g('"T"');x===null&&(b.substr(a,1)==="t"?(x="t",a+=1):(x=null,k&&g('"t"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="E"){var i="E";a+=1}else i=null,k&&g('"E"');i===null&&(b.substr(a,1)==="e"?(i="e",a+=1):(i=null,k&&g('"e"')),i=i!==null?i:null);if(i!==null){var h=jb();h!==null?d=[d,t,o,r,x,i,
h]:(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?d[6]:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[40] DeleteClause");z[c]={nextPos:a,result:f};return f}function hb(){var c="InsertClause@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="I"){var d="I";a+=1}else d=null,k&&g('"I"');d===null&&(b.substr(a,1)==="i"?(d="i",a+=1):(d=null,k&&g('"i"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,
1)==="N"){var t="N";a+=1}else t=null,k&&g('"N"');t===null&&(b.substr(a,1)==="n"?(t="n",a+=1):(t=null,k&&g('"n"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="S"){var o="S";a+=1}else o=null,k&&g('"S"');o===null&&(b.substr(a,1)==="s"?(o="s",a+=1):(o=null,k&&g('"s"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="E"){var r="E";a+=1}else r=null,k&&g('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,k&&g('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="R"){var x="R";a+=
1}else x=null,k&&g('"R"');x===null&&(b.substr(a,1)==="r"?(x="r",a+=1):(x=null,k&&g('"r"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="T"){var i="T";a+=1}else i=null,k&&g('"T"');i===null&&(b.substr(a,1)==="t"?(i="t",a+=1):(i=null,k&&g('"t"')),i=i!==null?i:null);if(i!==null){var h=jb();h!==null?d=[d,t,o,r,x,i,h]:(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?d[6]:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[41] InsertClause");
z[c]={nextPos:a,result:f};return f}function ib(){var c="UsingClause@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;for(var j=a,f=a,d=[],t=q();t!==null;)d.push(t),t=q();if(d!==null)if(b.substr(a,1)==="U"?(t="U",a+=1):(t=null,k&&g('"U"')),t===null&&(b.substr(a,1)==="u"?(t="u",a+=1):(t=null,k&&g('"u"')),t=t!==null?t:null),t!==null){if(b.substr(a,1)==="S"){var o="S";a+=1}else o=null,k&&g('"S"');o===null&&(b.substr(a,1)==="s"?(o="s",a+=1):(o=null,k&&g('"s"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,
1)==="I"){var r="I";a+=1}else r=null,k&&g('"I"');r===null&&(b.substr(a,1)==="i"?(r="i",a+=1):(r=null,k&&g('"i"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="N"){var x="N";a+=1}else x=null,k&&g('"N"');x===null&&(b.substr(a,1)==="n"?(x="n",a+=1):(x=null,k&&g('"n"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="G"){var i="G";a+=1}else i=null,k&&g('"G"');i===null&&(b.substr(a,1)==="g"?(i="g",a+=1):(i=null,k&&g('"g"')),i=i!==null?i:null);if(i!==null){for(var h=[],m=q();m!==null;)h.push(m),
m=q();if(h!==null){m=T();if(m===null){m=a;if(b.substr(a,1)==="N"){var w="N";a+=1}else w=null,k&&g('"N"');w===null&&(b.substr(a,1)==="n"?(w="n",a+=1):(w=null,k&&g('"n"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="A"){var n="A";a+=1}else n=null,k&&g('"A"');n===null&&(b.substr(a,1)==="a"?(n="a",a+=1):(n=null,k&&g('"a"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="M"){var y="M";a+=1}else y=null,k&&g('"M"');y===null&&(b.substr(a,1)==="m"?(y="m",a+=1):(y=null,k&&g('"m"')),y=y!==null?
y:null);if(y!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,k&&g('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,k&&g('"e"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="D"){var v="D";a+=1}else v=null,k&&g('"D"');v===null&&(b.substr(a,1)==="d"?(v="d",a+=1):(v=null,k&&g('"d"')),v=v!==null?v:null);if(v!==null){for(var N=[],A=q();A!==null;)N.push(A),A=q();N!==null?(A=T(),A!==null?w=[w,n,y,u,v,N,A]:(w=null,a=m)):(w=null,a=m)}else w=null,a=m}else w=null,a=m}else w=null,a=
m}else w=null,a=m}else w=null,a=m;m=w!==null?w:null}m!==null?d=[d,t,o,r,x,i,h,m]:(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?d[7].length!=null?{kind:"named",uri:d[7][6]}:{kind:"default",uri:d[7]}:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[42] UsingClause");z[c]={nextPos:a,result:f};return f}function Oa(){var c="GraphRef@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)===
"G"){var d="G";a+=1}else d=null,k&&g('"G"');d===null&&(b.substr(a,1)==="g"?(d="g",a+=1):(d=null,k&&g('"g"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="R"){var t="R";a+=1}else t=null,k&&g('"R"');t===null&&(b.substr(a,1)==="r"?(t="r",a+=1):(t=null,k&&g('"r"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="A"){var o="A";a+=1}else o=null,k&&g('"A"');o===null&&(b.substr(a,1)==="a"?(o="a",a+=1):(o=null,k&&g('"a"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="P"){var r="P";a+=1}else r=
null,k&&g('"P"');r===null&&(b.substr(a,1)==="p"?(r="p",a+=1):(r=null,k&&g('"p"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="H"){var x="H";a+=1}else x=null,k&&g('"H"');x===null&&(b.substr(a,1)==="h"?(x="h",a+=1):(x=null,k&&g('"h"')),x=x!==null?x:null);if(x!==null){for(var i=[],h=q();h!==null;)i.push(h),h=q();i!==null?(h=T(),h!==null?d=[d,t,o,r,x,i,h]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?d[6]:null;f===null&&(f=
null,a=j);(k=e)&&f===null&&g("[43] GraphRef");z[c]={nextPos:a,result:f};return f}function fb(){var c="GraphRefAll@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=Oa(),f=f!==null?f:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;if(b.substr(a,1)==="D"){var d="D";a+=1}else d=null,k&&g('"D"');d===null&&(b.substr(a,1)==="d"?(d="d",a+=1):(d=null,k&&g('"d"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="E"){var t="E";a+=1}else t=null,k&&g('"E"');t===null&&(b.substr(a,1)==="e"?
(t="e",a+=1):(t=null,k&&g('"e"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="F"){var o="F";a+=1}else o=null,k&&g('"F"');o===null&&(b.substr(a,1)==="f"?(o="f",a+=1):(o=null,k&&g('"f"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="A"){var r="A";a+=1}else r=null,k&&g('"A"');r===null&&(b.substr(a,1)==="a"?(r="a",a+=1):(r=null,k&&g('"a"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="U"){var x="U";a+=1}else x=null,k&&g('"U"');x===null&&(b.substr(a,1)==="u"?(x="u",a+=1):(x=null,
k&&g('"u"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="L"){var i="L";a+=1}else i=null,k&&g('"L"');i===null&&(b.substr(a,1)==="l"?(i="l",a+=1):(i=null,k&&g('"l"')),i=i!==null?i:null);if(i!==null){if(b.substr(a,1)==="T"){var h="T";a+=1}else h=null,k&&g('"T"');h===null&&(b.substr(a,1)==="t"?(h="t",a+=1):(h=null,k&&g('"t"')),h=h!==null?h:null);h!==null?d=[d,t,o,r,x,i,h]:(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?"default":
null;f===null&&(f=null,a=j);f!==null?j=f:(f=j=a,b.substr(a,1)==="N"?(d="N",a+=1):(d=null,k&&g('"N"')),d===null&&(b.substr(a,1)==="n"?(d="n",a+=1):(d=null,k&&g('"n"')),d=d!==null?d:null),d!==null?(b.substr(a,1)==="A"?(t="A",a+=1):(t=null,k&&g('"A"')),t===null&&(b.substr(a,1)==="a"?(t="a",a+=1):(t=null,k&&g('"a"')),t=t!==null?t:null),t!==null?(b.substr(a,1)==="M"?(o="M",a+=1):(o=null,k&&g('"M"')),o===null&&(b.substr(a,1)==="m"?(o="m",a+=1):(o=null,k&&g('"m"')),o=o!==null?o:null),o!==null?(b.substr(a,
1)==="E"?(r="E",a+=1):(r=null,k&&g('"E"')),r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,k&&g('"e"')),r=r!==null?r:null),r!==null?(b.substr(a,1)==="D"?(x="D",a+=1):(x=null,k&&g('"D"')),x===null&&(b.substr(a,1)==="d"?(x="d",a+=1):(x=null,k&&g('"d"')),x=x!==null?x:null),x!==null?d=[d,t,o,r,x]:(d=null,a=f)):(d=null,a=f)):(d=null,a=f)):(d=null,a=f)):(d=null,a=f),f=d!==null?"named":null,f===null&&(f=null,a=j),f!==null?j=f:(f=j=a,b.substr(a,1)==="A"?(d="A",a+=1):(d=null,k&&g('"A"')),d===null&&(b.substr(a,
1)==="a"?(d="a",a+=1):(d=null,k&&g('"a"')),d=d!==null?d:null),d!==null?(b.substr(a,1)==="L"?(t="L",a+=1):(t=null,k&&g('"L"')),t===null&&(b.substr(a,1)==="l"?(t="l",a+=1):(t=null,k&&g('"l"')),t=t!==null?t:null),t!==null?(b.substr(a,1)==="L"?(o="L",a+=1):(o=null,k&&g('"L"')),o===null&&(b.substr(a,1)==="l"?(o="l",a+=1):(o=null,k&&g('"l"')),o=o!==null?o:null),o!==null?d=[d,t,o]:(d=null,a=f)):(d=null,a=f)):(d=null,a=f),f=d!==null?"all":null,f===null&&(f=null,a=j),j=f!==null?f:null))}(k=e)&&j===null&&g("[44] GraphRefAll");
z[c]={nextPos:a,result:j};return j}function jb(){var c="QuadPattern@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;for(var j=a,f=a,d=[],t=q();t!==null;)d.push(t),t=q();if(d!==null)if(b.substr(a,1)==="{"?(t="{",a+=1):(t=null,k&&g('"{"')),t!==null){for(var o=[],r=q();r!==null;)o.push(r),r=q();if(o!==null)if(r=kb(),r!==null){for(var x=[],i=q();i!==null;)x.push(i),i=q();if(x!==null)if(b.substr(a,1)==="}"?(i="}",a+=1):(i=null,k&&g('"}"')),i!==null){for(var h=[],m=q();m!==null;)h.push(m),m=q();h!==
null?d=[d,t,o,r,x,i,h]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?d[3].quadsContext:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[45] QuadPattern");z[c]={nextPos:a,result:f};return f}function gb(){var c="QuadData@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;for(var j=a,f=a,d=[],t=q();t!==null;)d.push(t),t=q();if(d!==null)if(b.substr(a,1)==="{"?(t="{",a+=1):(t=null,k&&g('"{"')),t!==null){for(var o=[],r=q();r!==
null;)o.push(r),r=q();if(o!==null)if(r=kb(),r!==null){for(var x=[],i=q();i!==null;)x.push(i),i=q();if(x!==null)if(b.substr(a,1)==="}"?(i="}",a+=1):(i=null,k&&g('"}"')),i!==null){for(var h=[],m=q();m!==null;)h.push(m),m=q();h!==null?d=[d,t,o,r,x,i,h]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?d[3].quadsContext:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[46] QuadData");z[c]={nextPos:a,result:f};return f}function kb(){var c=
"Quads@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a,d=va(),d=d!==null?d:"";if(d!==null){var t=[],o=a,r=lb();if(r!==null){if(b.substr(a,1)==="."){var x=".";a+=1}else x=null,k&&g('"."');x=x!==null?x:"";if(x!==null){var i=va(),i=i!==null?i:"";i!==null?r=[r,x,i]:(r=null,a=o)}else r=null,a=o}else r=null,a=o;for(;r!==null;)t.push(r),o=a,r=lb(),r!==null?(b.substr(a,1)==="."?(x=".",a+=1):(x=null,k&&g('"."')),x=x!==null?x:"",x!==null?(i=va(),i=i!==null?i:"",i!==null?r=[r,x,i]:(r=null,a=
o)):(r=null,a=o)):(r=null,a=o);t!==null?d=[d,t]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,b){var c=[];if(a.triplesContext!=null&&a.triplesContext!=null)for(var d=0;d<a.triplesContext.length;d++){var f=a.triplesContext[d];f.graph=null;c.push(f)}if(b&&b.length>0&&b[0].length>0&&(c=c.concat(b[0][0].quadsContext),b[0][2]!=null&&b[0][2].triplesContext!=null))for(d=0;d<b[0][2].triplesContext.length;d++)f=b[0][2].triplesContext[d],f.graph=null,c.push(f);return{token:"quads",quadsContext:c}}(d[0],
d[1]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[47] Quads");z[c]={nextPos:a,result:f};return f}function lb(){var c="QuadsNotTriples@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;for(var j=a,f=a,d=[],t=q();t!==null;)d.push(t),t=q();if(d!==null)if(b.substr(a,1)==="G"?(t="G",a+=1):(t=null,k&&g('"G"')),t===null&&(b.substr(a,1)==="g"?(t="g",a+=1):(t=null,k&&g('"g"')),t=t!==null?t:null),t!==null){if(b.substr(a,1)==="R"){var o="R";a+=1}else o=null,k&&g('"R"');o===null&&(b.substr(a,1)==="r"?
(o="r",a+=1):(o=null,k&&g('"r"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="A"){var r="A";a+=1}else r=null,k&&g('"A"');r===null&&(b.substr(a,1)==="a"?(r="a",a+=1):(r=null,k&&g('"a"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="P"){var x="P";a+=1}else x=null,k&&g('"P"');x===null&&(b.substr(a,1)==="p"?(x="p",a+=1):(x=null,k&&g('"p"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="H"){var i="H";a+=1}else i=null,k&&g('"H"');i===null&&(b.substr(a,1)==="h"?(i="h",a+=1):(i=null,
k&&g('"h"')),i=i!==null?i:null);if(i!==null){for(var h=[],m=q();m!==null;)h.push(m),m=q();if(h!==null)if(m=la(),m!==null){for(var n=[],u=q();u!==null;)n.push(u),u=q();if(n!==null)if(b.substr(a,1)==="{"?(u="{",a+=1):(u=null,k&&g('"{"')),u!==null){for(var y=[],v=q();v!==null;)y.push(v),v=q();if(y!==null)if(v=va(),v=v!==null?v:"",v!==null){for(var C=[],N=q();N!==null;)C.push(N),N=q();if(C!==null)if(b.substr(a,1)==="}"?(N="}",a+=1):(N=null,k&&g('"}"')),N!==null){for(var A=[],E=q();E!==null;)A.push(E),
E=q();A!==null?d=[d,t,o,r,x,i,h,m,n,u,y,v,C,N,A]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){for(var c=[],d=0;d<b.triplesContext.length;d++){var f=b.triplesContext[d];f.graph=a;c.push(f)}return{token:"quadsnottriples",quadsContext:c}}(d[7],d[11]):null;f===null&&(f=null,a=j);(k=e)&&f===
null&&g("[48] QuadsNotTriples");z[c]={nextPos:a,result:f};return f}function va(){var c="TriplesTemplate@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a,d=Pa();if(d!==null){for(var t=a,o=[],r=q();r!==null;)o.push(r),r=q();if(o!==null)if(b.substr(a,1)==="."?(r=".",a+=1):(r=null,k&&g('"."')),r!==null){for(var i=[],h=q();h!==null;)i.push(h),h=q();i!==null?(h=va(),h=h!==null?h:"",h!==null?o=[o,r,i,h]:(o=null,a=t)):(o=null,a=t)}else o=null,a=t;else o=null,a=t;t=o!==null?o:"";t!==null?d=
[d,t]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,b){var c=a.triplesContext;typeof b==="object"&&b.length!=null&&b[3].triplesContext!=null&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}}(d[0],d[1]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[49] TriplesTemplate");z[c]={nextPos:a,result:f};return f}function Y(){var c="GroupGraphPattern@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="{"){var d="{";a+=1}else d=null,
k&&g('"{"');if(d!==null){for(var t=[],o=q();o!==null;)t.push(o),o=q();if(t!==null)if(o=H(),o!==null){for(var r=[],i=q();i!==null;)r.push(i),i=q();r!==null?(b.substr(a,1)==="}"?(i="}",a+=1):(i=null,k&&g('"}"')),i!==null?d=[d,t,o,r,i]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?d[2]:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;b.substr(a,1)==="{"?(d="{",a+=1):(d=null,k&&g('"{"'));if(d!==null){t=[];for(o=q();o!==null;)t.push(o),o=q();if(t!==null)if(o=
Jb(),o!==null){r=[];for(i=q();i!==null;)r.push(i),i=q();r!==null?(b.substr(a,1)==="}"?(i="}",a+=1):(i=null,k&&g('"}"')),i!==null?d=[d,t,o,r,i]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?d[2]:null;f===null&&(f=null,a=j);j=f!==null?f:null}(k=e)&&j===null&&g("[50] GroupGraphPattern");z[c]={nextPos:a,result:j};return j}function Jb(){var c="GroupGraphPatternSub@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a,d=ua(),d=d!==null?d:"";if(d!==null){for(var t=
[],o=q();o!==null;)t.push(o),o=q();if(t!==null){var o=[],r=a,i=mb();if(i!==null){for(var h=[],m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,1)==="."?(m=".",a+=1):(m=null,k&&g('"."')),m=m!==null?m:"",m!==null){for(var n=[],w=q();w!==null;)n.push(w),w=q();n!==null?(w=ua(),w=w!==null?w:"",w!==null?i=[i,h,m,n,w]:(i=null,a=r)):(i=null,a=r)}else i=null,a=r;else i=null,a=r}else i=null,a=r;for(;i!==null;)if(o.push(i),r=a,i=mb(),i!==null){h=[];for(m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,
1)==="."?(m=".",a+=1):(m=null,k&&g('"."')),m=m!==null?m:"",m!==null){n=[];for(w=q();w!==null;)n.push(w),w=q();n!==null?(w=ua(),w=w!==null?w:"",w!==null?i=[i,h,m,n,w]:(i=null,a=r)):(i=null,a=r)}else i=null,a=r;else i=null,a=r}else i=null,a=r;o!==null?d=[d,t,o]:(d=null,a=f)}else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b){var c=[];a!=null&&a!=[]&&c.push(a);for(var d=0;d<b.length;d++)for(var f=0;f<b[d].length;f++)b[d][f].token!=null&&c.push(b[d][f]);for(var g=[],e=[],k=[],d=0;d<c.length;d++)if(c[d].token!=
"triplespattern"&&c[d].token!="filter"){if(e.length!=0||k.length!=0){for(var o=[],f=0;f<e.length;f++)o=o.concat(e[f].triplesContext);o.length>0&&g.push({token:"basicgraphpattern",triplesContext:o});e=[]}g.push(c[d])}else c[d].token==="triplespattern"?e.push(c[d]):k.push(c[d]);if(e.length!=0||k.length!=0){o=[];for(f=0;f<e.length;f++)o=o.concat(e[f].triplesContext);o.length>0&&g.push({token:"basicgraphpattern",triplesContext:o})}return{token:"groupgraphpattern",patterns:g,filters:k}}(d[0],d[2]):null;
f===null&&(f=null,a=j);(k=e)&&f===null&&g("[51] GroupGraphPatternSub");z[c]={nextPos:a,result:f};return f}function ua(){var c="TriplesBlock@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a,d=Pa();if(d!==null){for(var t=a,o=[],r=q();r!==null;)o.push(r),r=q();if(o!==null)if(b.substr(a,1)==="."?(r=".",a+=1):(r=null,k&&g('"."')),r!==null){var i=ua(),i=i!==null?i:"";i!==null?o=[o,r,i]:(o=null,a=t)}else o=null,a=t;else o=null,a=t;t=o!==null?o:"";t!==null?d=[d,t]:(d=null,a=f)}else d=null,
a=f;f=d!==null?function(a,b){var c=a.triplesContext;typeof b==="object"&&b.length!=null&&b[2].triplesContext!=null&&(c=c.concat(b[2].triplesContext));return{token:"triplespattern",triplesContext:c}}(d[0],d[1]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[54] TriplesBlock");z[c]={nextPos:a,result:f};return f}function mb(){var b="GraphPatternNotTriples@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=Kb();e===null&&(e=Lb(),e===null&&(e=Mb(),e===null&&(e=Nb(),e===null&&(e=Ob(),e===null&&
(e=Pb(),e=e!==null?e:null)))));(k=c)&&e===null&&g("[53] GraphPatternNotTriples");z[b]={nextPos:a,result:e};return e}function Lb(){var c="OptionalGraphPattern@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;for(var j=a,f=a,d=[],t=q();t!==null;)d.push(t),t=q();if(d!==null)if(b.substr(a,8)==="OPTIONAL"?(t="OPTIONAL",a+=8):(t=null,k&&g('"OPTIONAL"')),t!==null){for(var o=[],r=q();r!==null;)o.push(r),r=q();o!==null?(r=Y(),r!==null?d=[d,t,o,r]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,
a=f;f=d!==null?{token:"optionalgraphpattern",value:d[3]}:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[54] OptionalGraphPattern");z[c]={nextPos:a,result:f};return f}function Nb(){var c="GraphGraphPattern@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;for(var j=a,f=a,d=[],t=q();t!==null;)d.push(t),t=q();if(d!==null)if(b.substr(a,1)==="G"?(t="G",a+=1):(t=null,k&&g('"G"')),t===null&&(b.substr(a,1)==="g"?(t="g",a+=1):(t=null,k&&g('"g"')),t=t!==null?t:null),t!==null){if(b.substr(a,1)==="R"){var o=
"R";a+=1}else o=null,k&&g('"R"');o===null&&(b.substr(a,1)==="r"?(o="r",a+=1):(o=null,k&&g('"r"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="A"){var r="A";a+=1}else r=null,k&&g('"A"');r===null&&(b.substr(a,1)==="a"?(r="a",a+=1):(r=null,k&&g('"a"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="P"){var i="P";a+=1}else i=null,k&&g('"P"');i===null&&(b.substr(a,1)==="p"?(i="p",a+=1):(i=null,k&&g('"p"')),i=i!==null?i:null);if(i!==null){if(b.substr(a,1)==="H"){var h="H";a+=1}else h=null,
k&&g('"H"');h===null&&(b.substr(a,1)==="h"?(h="h",a+=1):(h=null,k&&g('"h"')),h=h!==null?h:null);if(h!==null){for(var m=[],n=q();n!==null;)m.push(n),n=q();if(m!==null)if(n=la(),n!==null){for(var w=[],u=q();u!==null;)w.push(u),u=q();w!==null?(u=Y(),u!==null?d=[d,t,o,r,i,h,m,n,w,u]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){for(var c=0;c<b.patterns.length;c++)for(var d=
b.patterns[c],f=0;f<d.triplesContext.length;f++)d.triplesContext[f].graph=a;b.token="groupgraphpattern";return b}(d[7],d[9]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[55] GraphGraphPattern");z[c]={nextPos:a,result:f};return f}function Ob(){var c="ServiceGraphPattern@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,7)==="SERVICE"){var d="SERVICE";a+=7}else d=null,k&&g('"SERVICE"');if(d!==null){var t=la();if(t!==null){var o=Y();o!==null?d=[d,t,o]:(d=null,a=f)}else d=
null,a=f}else d=null,a=f;f=d!==null?{token:"servicegraphpattern",status:"todo",value:[d[1],d[2]]}:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[56] ServiceGraphPattern");z[c]={nextPos:a,result:f};return f}function Mb(){var c="MinusGraphPattern@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,5)==="MINUS"){var d="MINUS";a+=5}else d=null,k&&g('"MINUS"');if(d!==null){var t=Y();t!==null?d=[d,t]:(d=null,a=f)}else d=null,a=f;f=d!==null?{token:"minusgraphpattern",status:"todo",
value:d[1]}:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[57] MinusGraphPattern");z[c]={nextPos:a,result:f};return f}function Kb(){var c="GroupOrUnionGraphPattern@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a,d=Y();if(d!==null){for(var t=[],o=a,r=[],i=q();i!==null;)r.push(i),i=q();if(r!==null)if(b.substr(a,5)==="UNION"?(i="UNION",a+=5):(i=null,k&&g('"UNION"')),i!==null){for(var h=[],m=q();m!==null;)h.push(m),m=q();h!==null?(m=Y(),m!==null?r=[r,i,h,m]:(r=null,a=o)):(r=null,a=
o)}else r=null,a=o;else r=null,a=o;for(;r!==null;){t.push(r);o=a;r=[];for(i=q();i!==null;)r.push(i),i=q();if(r!==null)if(b.substr(a,5)==="UNION"?(i="UNION",a+=5):(i=null,k&&g('"UNION"')),i!==null){h=[];for(m=q();m!==null;)h.push(m),m=q();h!==null?(m=Y(),m!==null?r=[r,i,h,m]:(r=null,a=o)):(r=null,a=o)}else r=null,a=o;else r=null,a=o}t!==null?d=[d,t]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,b){if(b.length===0)return a;else{for(var c={token:"graphunionpattern",value:[a]},d=0;d<b.length;d++)d==
b.length-1?c.value.push(b[d][3]):(c.value.push(b[d][3]),c={token:"graphunionpattern",value:[c]});return c}}(d[0],d[1]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[58] GroupOrUnionGraphPattern");z[c]={nextPos:a,result:f};return f}function Pb(){var c="Filter@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;for(var j=a,f=a,d=[],t=q();t!==null;)d.push(t),t=q();if(d!==null)if(b.substr(a,1)==="F"?(t="F",a+=1):(t=null,k&&g('"F"')),t===null&&(b.substr(a,1)==="f"?(t="f",a+=1):(t=null,k&&g('"f"')),
t=t!==null?t:null),t!==null){if(b.substr(a,1)==="I"){var o="I";a+=1}else o=null,k&&g('"I"');o===null&&(b.substr(a,1)==="i"?(o="i",a+=1):(o=null,k&&g('"i"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="L"){var r="L";a+=1}else r=null,k&&g('"L"');r===null&&(b.substr(a,1)==="l"?(r="l",a+=1):(r=null,k&&g('"l"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="T"){var i="T";a+=1}else i=null,k&&g('"T"');i===null&&(b.substr(a,1)==="t"?(i="t",a+=1):(i=null,k&&g('"t"')),i=i!==null?i:null);if(i!==
null){if(b.substr(a,1)==="E"){var h="E";a+=1}else h=null,k&&g('"E"');h===null&&(b.substr(a,1)==="e"?(h="e",a+=1):(h=null,k&&g('"e"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="R"){var m="R";a+=1}else m=null,k&&g('"R"');m===null&&(b.substr(a,1)==="r"?(m="r",a+=1):(m=null,k&&g('"r"')),m=m!==null?m:null);if(m!==null){for(var n=[],w=q();w!==null;)n.push(w),w=q();n!==null?(w=Da(),w!==null?d=[d,t,o,r,i,h,m,n,w]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=
null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?{token:"filter",value:d[8]}:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[59] Filter");z[c]={nextPos:a,result:f};return f}function Da(){var b="Constraint@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=Ka();e===null&&(e=Ja(),e===null&&(e=eb(),e=e!==null?e:null));(k=c)&&e===null&&g("[60] Constraint");z[b]={nextPos:a,result:e};return e}function eb(){var b="FunctionCall@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=
!1;var e=a,f=a,d=T();if(d!==null){var j=nb();j!==null?d=[d,j]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,b){var c={token:"expression",expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c}(d[0],d[1]):null;f===null&&(f=null,a=e);(k=c)&&f===null&&g("[61] FunctionCall");z[b]={nextPos:a,result:f};return f}function nb(){var c="ArgList@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=ma()!==null?{token:"args",value:[]}:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=
j=a;if(b.substr(a,1)==="("){var d="(";a+=1}else d=null,k&&g('"("');if(d!==null){if(b.substr(a,8)==="DISTINCT"){var t="DISTINCT";a+=8}else t=null,k&&g('"DISTINCT"');t=t!==null?t:"";if(t!==null){var o=M();if(o!==null){var r=[],i=a;if(b.substr(a,1)===","){var h=",";a+=1}else h=null,k&&g('","');if(h!==null){var m=M();m!==null?h=[h,m]:(h=null,a=i)}else h=null,a=i;for(;h!==null;)r.push(h),i=a,b.substr(a,1)===","?(h=",",a+=1):(h=null,k&&g('","')),h!==null?(m=M(),m!==null?h=[h,m]:(h=null,a=i)):(h=null,a=
i);r!==null?(b.substr(a,1)===")"?(i=")",a+=1):(i=null,k&&g('")"')),i!==null?d=[d,t,o,r,i]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b,c){cleanEx=[];for(var d=0;d<c.length;d++)cleanEx.push(c[d][1]);c={token:"args"};c.value=[b].concat(cleanEx);c.distinct=a==="DISTINCT"?!0:!1;return c}(d[1],d[2],d[3]):null;f===null&&(f=null,a=j);j=f!==null?f:null}(k=e)&&j===null&&g("[62] ArgList");z[c]={nextPos:a,result:j};return j}function Qb(){var c="ExpressionList@"+
a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=ma()!==null?{token:"args",value:[]}:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;if(b.substr(a,1)==="("){var d="(";a+=1}else d=null,k&&g('"("');if(d!==null){var t=M();if(t!==null){var o=[],r=a;if(b.substr(a,1)===","){var i=",";a+=1}else i=null,k&&g('","');if(i!==null){var h=M();h!==null?i=[i,h]:(i=null,a=r)}else i=null,a=r;for(;i!==null;)o.push(i),r=a,b.substr(a,1)===","?(i=",",a+=1):(i=null,k&&g('","')),i!==null?(h=M(),h!==null?
i=[i,h]:(i=null,a=r)):(i=null,a=r);o!==null?(b.substr(a,1)===")"?(r=")",a+=1):(r=null,k&&g('")"')),r!==null?d=[d,t,o,r]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b){cleanEx=[];for(var c=0;c<b.length;c++)cleanEx.push(b[c][1]);c={token:"args"};c.value=[a].concat(cleanEx);return c}(d[1],d[2]):null;f===null&&(f=null,a=j);j=f!==null?f:null}(k=e)&&j===null&&g("[63] ExpressionList");z[c]={nextPos:a,result:j};return j}function Gb(){var c="ConstructTemplate@"+a,e=z[c];
if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="{"){var d="{";a+=1}else d=null,k&&g('"{"');if(d!==null){for(var i=[],o=q();o!==null;)i.push(o),o=q();if(i!==null)if(o=ob(),o=o!==null?o:"",o!==null){for(var r=[],h=q();h!==null;)r.push(h),h=q();r!==null?(b.substr(a,1)==="}"?(h="}",a+=1):(h=null,k&&g('"}"')),h!==null?d=[d,i,o,r,h]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?d[2]:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[64] ConstructTemplate");
z[c]={nextPos:a,result:f};return f}function ob(){var c="ConstructTriples@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a,d=Pa();if(d!==null){for(var i=a,o=[],r=q();r!==null;)o.push(r),r=q();if(o!==null)if(b.substr(a,1)==="."?(r=".",a+=1):(r=null,k&&g('"."')),r!==null){for(var h=[],m=q();m!==null;)h.push(m),m=q();h!==null?(m=ob(),m=m!==null?m:"",m!==null?o=[o,r,h,m]:(o=null,a=i)):(o=null,a=i)}else o=null,a=i;else o=null,a=i;i=o!==null?o:"";i!==null?d=[d,i]:(d=null,a=f)}else d=null,
a=f;f=d!==null?function(a,b){var c=a.triplesContext;typeof b==="object"&&b.length!=null&&b[3].triplesContext!=null&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}}(d[0],d[1]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[65] ConstructTriples");z[c]={nextPos:a,result:f};return f}function Pa(){var b="TriplesSameSubject@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;for(var e=a,f=a,d=[],j=q();j!==null;)d.push(j),j=q();if(d!==null)if(j=pb(),j!==null){for(var o=
[],i=q();i!==null;)o.push(i),i=q();o!==null?(i=Ea(),i!==null?d=[d,j,o,i]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){var c=b.triplesContext;if(b.pairs)for(var d=0;d<b.pairs.length;d++){var f=b.pairs[d],g=null;a.token&&a.token==="triplesnodecollection"?(g={subject:a.chainSubject[0],predicate:f[0],object:f[1]},c.push(g),c=c.concat(a.triplesContext)):(g={subject:a,predicate:f[0],object:f[1]},c.push(g))}d={token:"triplessamesubject"};d.triplesContext=c;d.chainSubject=
a;return d}(d[1],d[3]):null;f===null&&(f=null,a=e);if(f!==null)e=f;else{f=e=a;d=[];for(j=q();j!==null;)d.push(j),j=q();if(d!==null)if(j=qb(),j!==null){o=[];for(i=q();i!==null;)o.push(i),i=q();o!==null?(i=Rb(),i!==null?d=[d,j,o,i]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){var c=a.triplesContext,d=a.chainSubject;if(b.pairs)for(var f=0;f<b.pairs.length;f++){var g=b.pairs[f];if(a.token==="triplesnodecollection")for(var e=0;e<d.length;e++){var k=d[e];if(k.triplesContext!=
null){var o={subject:k.chainSubject,predicate:g[0],object:g[1]};c.concat(k.triplesContext)}else o={subject:d[e],predicate:g[0],object:g[1]},c.push(o)}else o={subject:d,predicate:g[0],object:g[1]},c.push(o)}f={token:"triplessamesubject"};f.triplesContext=c;f.chainSubject=d;return f}(d[1],d[3]):null;f===null&&(f=null,a=e);e=f!==null?f:null}(k=c)&&e===null&&g("[66] TriplesSameSubject");z[b]={nextPos:a,result:e};return e}function Ea(){var c="PropertyListNotEmpty@"+a,e=z[c];if(e)return a=e.nextPos,e.result;
e=k;k=!1;var j=a,f=a,d=Qa();if(d!==null){for(var i=[],o=q();o!==null;)i.push(o),o=q();if(i!==null)if(o=na(),o!==null){for(var r=[],h=a,m=[],s=q();s!==null;)m.push(s),s=q();if(m!==null)if(b.substr(a,1)===";"?(s=";",a+=1):(s=null,k&&g('";"')),s!==null){for(var n=[],w=q();w!==null;)n.push(w),w=q();if(n!==null){var w=a,u=Qa();if(u!==null){for(var v=[],D=q();D!==null;)v.push(D),D=q();v!==null?(D=na(),D!==null?u=[u,v,D]:(u=null,a=w)):(u=null,a=w)}else u=null,a=w;w=u!==null?u:"";w!==null?m=[m,s,n,w]:(m=
null,a=h)}else m=null,a=h}else m=null,a=h;else m=null,a=h;for(;m!==null;){r.push(m);h=a;m=[];for(s=q();s!==null;)m.push(s),s=q();if(m!==null)if(b.substr(a,1)===";"?(s=";",a+=1):(s=null,k&&g('";"')),s!==null){n=[];for(w=q();w!==null;)n.push(w),w=q();if(n!==null){w=a;u=Qa();if(u!==null){v=[];for(D=q();D!==null;)v.push(D),D=q();v!==null?(D=na(),D!==null?u=[u,v,D]:(u=null,a=w)):(u=null,a=w)}else u=null,a=w;w=u!==null?u:"";w!==null?m=[m,s,n,w]:(m=null,a=h)}else m=null,a=h}else m=null,a=h;else m=null,a=
h}r!==null?d=[d,i,o,r]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b,c){token={token:"propertylist"};for(var d=[],f=[],g=0;g<b.length;g++)b[g].triplesContext!=null?(d=d.concat(b[g].triplesContext),b[g].token==="triplesnodecollection"&&b[g].chainSubject.length!=null?f.push([a,b[g].chainSubject[0]]):f.push([a,b[g].chainSubject])):f.push([a,b[g]]);for(g=0;g<c.length;g++)for(var b=c[g][3],a=b[0],b=b[2]||[],e=0;e<b.length;e++)b[e].triplesContext!=null?(d=d.concat(b[e].triplesContext),
f.push([a,b[e].chainSubject])):f.push([a,b[e]]);token.pairs=f;token.triplesContext=d;return token}(d[0],d[2],d[3]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[67] PropertyListNotEmpty");z[c]={nextPos:a,result:f};return f}function Rb(){var b="PropertyList@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=Ea(),e=e!==null?e:"";(k=c)&&e===null&&g("[68] PropertyList");z[b]={nextPos:a,result:e};return e}function na(){var c="ObjectList@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=
a,f=a,d=wa();if(d!==null){for(var i=[],o=q();o!==null;)i.push(o),o=q();if(i!==null){var o=[],r=a;if(b.substr(a,1)===","){var h=",";a+=1}else h=null,k&&g('","');if(h!==null){for(var m=[],s=q();s!==null;)m.push(s),s=q();m!==null?(s=wa(),s!==null?h=[h,m,s]:(h=null,a=r)):(h=null,a=r)}else h=null,a=r;for(;h!==null;)if(o.push(h),r=a,b.substr(a,1)===","?(h=",",a+=1):(h=null,k&&g('","')),h!==null){m=[];for(s=q();s!==null;)m.push(s),s=q();m!==null?(s=wa(),s!==null?h=[h,m,s]:(h=null,a=r)):(h=null,a=r)}else h=
null,a=r;o!==null?d=[d,i,o]:(d=null,a=f)}else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b){var c=[];c.push(a);for(var d=0;d<b.length;d++)for(var f=0;f<b[d].length;f++)typeof b[d][f]=="object"&&b[d][f].token!=null&&c.push(b[d][f]);return c}(d[0],d[2]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[69] ObjectList");z[c]={nextPos:a,result:f};return f}function Qa(){var c="Verb@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=la();if(j===null){j=a;if(b.substr(a,1)==="a"){var f="a";a+=
1}else f=null,k&&g('"a"');f=f!==null?{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}:null;f===null&&(f=null,a=j);j=f!==null?f:null}(k=e)&&j===null&&g("[71] Verb");z[c]={nextPos:a,result:j};return j}function Ra(){var b="VerbPath@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=a,f=rb(),f=f!==null?f:null;f===null&&(f=null,a=e);(k=c)&&f===null&&g("[75]");z[b]={nextPos:a,result:f};return f}function rb(){var c="PathAlternative@"+a,e=z[c];if(e)return a=
e.nextPos,e.result;e=k;k=!1;var j=a,f=Sa();if(f!==null){var d=[],i=a;if(b.substr(a,1)==="|"){var o="|";a+=1}else o=null,k&&g('"|"');if(o!==null){var r=Sa();r!==null?o=[o,r]:(o=null,a=i)}else o=null,a=i;for(;o!==null;)d.push(o),i=a,b.substr(a,1)==="|"?(o="|",a+=1):(o=null,k&&g('"|"')),o!==null?(r=Sa(),r!==null?o=[o,r]:(o=null,a=i)):(o=null,a=i);d!==null?f=[f,d]:(f=null,a=j)}else f=null,a=j;(k=e)&&f===null&&g("[78] PathAlternative");z[c]={nextPos:a,result:f};return f}function Sa(){var c="PathSequence@"+
a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=Ta();if(f!==null){var d=[],i=a;if(b.substr(a,1)==="/"){var o="/";a+=1}else o=null,k&&g('"/"');if(o!==null){var r=Ta();r!==null?o=[o,r]:(o=null,a=i)}else o=null,a=i;for(;o!==null;)d.push(o),i=a,b.substr(a,1)==="/"?(o="/",a+=1):(o=null,k&&g('"/"')),o!==null?(r=Ta(),r!==null?o=[o,r]:(o=null,a=i)):(o=null,a=i);d!==null?f=[f,d]:(f=null,a=j)}else f=null,a=j;(k=e)&&f===null&&g("[79] PathSequence");z[c]={nextPos:a,result:f};return f}function sb(){var b=
"PathElt@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=a,f=Sb();if(f!==null){var d=Tb(),d=d!==null?d:"";d!==null?f=[f,d]:(f=null,a=e)}else f=null,a=e;(k=c)&&f===null&&g("[88] PathElt");z[b]={nextPos:a,result:f};return f}function Ta(){var c="PathEltOrInverse@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=sb();if(j===null){j=a;if(b.substr(a,1)==="^"){var f="^";a+=1}else f=null,k&&g('"^"');if(f!==null){var d=sb();d!==null?f=[f,d]:(f=null,a=j)}else f=null,a=j;j=f!==null?f:null}(k=
e)&&j===null&&g("[81] PathEltOrInverse");z[c]={nextPos:a,result:j};return j}function Tb(){var c="PathMod@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;if(b.substr(a,1)==="*"){var j="*";a+=1}else j=null,k&&g('"*"');if(j===null&&(b.substr(a,1)==="?"?(j="?",a+=1):(j=null,k&&g('"?"')),j===null&&(b.substr(a,1)==="+"?(j="+",a+=1):(j=null,k&&g('"+"')),j===null))){j=a;if(b.substr(a,1)==="{"){var f="{";a+=1}else f=null,k&&g('"{"');if(f!==null){var d=a,i=fa();if(i!==null){var o=a;if(b.substr(a,1)===
","){var r=",";a+=1}else r=null,k&&g('","');if(r!==null){if(b.substr(a,1)==="}"){var h="}";a+=1}else h=null,k&&g('"}"');if(h===null){var h=a,m=fa();if(m!==null){if(b.substr(a,1)==="}"){var q="}";a+=1}else q=null,k&&g('"}"');q!==null?m=[m,q]:(m=null,a=h)}else m=null,a=h;h=m!==null?m:null}h!==null?r=[r,h]:(r=null,a=o)}else r=null,a=o;r!==null?o=r:(b.substr(a,1)==="}"?(o="}",a+=1):(o=null,k&&g('"}"')),o=o!==null?o:null);o!==null?i=[i,o]:(i=null,a=d)}else i=null,a=d;i!==null?d=i:(d=a,b.substr(a,1)===
","?(i=",",a+=1):(i=null,k&&g('","')),i!==null?(o=fa(),o!==null?(b.substr(a,1)==="}"?(r="}",a+=1):(r=null,k&&g('"}"')),r!==null?i=[i,o,r]:(i=null,a=d)):(i=null,a=d)):(i=null,a=d),d=i!==null?i:null);d!==null?f=[f,d]:(f=null,a=j)}else f=null,a=j;j=f!==null?f:null}(k=e)&&j===null&&g("[82] PathMod");z[c]={nextPos:a,result:j};return j}function Sb(){var c="PathPrimary@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=T();if(j===null&&(b.substr(a,1)==="a"?(j="a",a+=1):(j=null,k&&g('"a"')),j===null)){j=
a;if(b.substr(a,1)==="!"){var f="!";a+=1}else f=null,k&&g('"!"');if(f!==null){var d=Ub();d!==null?f=[f,d]:(f=null,a=j)}else f=null,a=j;if(f!==null)j=f;else{j=a;b.substr(a,1)==="("?(f="(",a+=1):(f=null,k&&g('"("'));if(f!==null)if(d=rb(),d!==null){if(b.substr(a,1)===")"){var i=")";a+=1}else i=null,k&&g('")"');i!==null?f=[f,d,i]:(f=null,a=j)}else f=null,a=j;else f=null,a=j;j=f!==null?f:null}}(k=e)&&j===null&&g("[83] PathPrimary");z[c]={nextPos:a,result:j};return j}function Ub(){var c="PathNegatedPropertySet@"+
a,e=z[c];if(e)return a=e.nextPos,e.result;e=Fa();if(e===null){e=a;if(b.substr(a,1)==="("){var j="(";a+=1}else j=null,k&&g('"("');if(j!==null){var f=a,d=Fa();if(d!==null){var i=[],o=a;if(b.substr(a,1)==="|"){var r="|";a+=1}else r=null,k&&g('"|"');if(r!==null){var h=Fa();h!==null?r=[r,h]:(r=null,a=o)}else r=null,a=o;for(;r!==null;)i.push(r),o=a,b.substr(a,1)==="|"?(r="|",a+=1):(r=null,k&&g('"|"')),r!==null?(h=Fa(),h!==null?r=[r,h]:(r=null,a=o)):(r=null,a=o);i!==null?d=[d,i]:(d=null,a=f)}else d=null,
a=f;f=d!==null?d:"";f!==null?(b.substr(a,1)===")"?(d=")",a+=1):(d=null,k&&g('")"')),d!==null?j=[j,f,d]:(j=null,a=e)):(j=null,a=e)}else j=null,a=e;e=j!==null?j:null}z[c]={nextPos:a,result:e};return e}function Fa(){var c="PathOneInPropertySet@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=T();if(j===null&&(b.substr(a,1)==="a"?(j="a",a+=1):(j=null,k&&g('"a"')),j===null)){j=a;if(b.substr(a,1)==="^"){var f="^";a+=1}else f=null,k&&g('"^"');if(f!==null){var d=T();d===null&&(b.substr(a,1)==="a"?
(d="a",a+=1):(d=null,k&&g('"a"')),d=d!==null?d:null);d!==null?f=[f,d]:(f=null,a=j)}else f=null,a=j;j=f!==null?f:null}(k=e)&&j===null&&g("[85] PathOneInPropertySet");z[c]={nextPos:a,result:j};return j}function qb(){var b="TriplesNode@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=a,f=Vb(),f=f!==null?function(a){triplesContext=[];chainSubject=[];for(var b=null,c=0;c<a.length;c++)ga++,b=null,a[c].chainSubject==null&&a[c].triplesContext==null?b=a[c]:(b=a[c].chainSubject,triplesContext=triplesContext.concat(nextSubject.triplesContext)),
b={subject:{token:"blank",label:"_:"+ga},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:b},c==0&&chainSubject.push(b.subject),triplesContext.push(b),b=c===a.length-1?{subject:{token:"blank",label:"_:"+ga},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",label:"_:"+
ga},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",label:"_:"+(ga+1)}},triplesContext.push(b);return{token:"triplesnodecollection",triplesContext:triplesContext,chainSubject:chainSubject}}(f):null;f===null&&(f=null,a=e);f!==null?e=f:(e=Wb(),e=e!==null?e:null);(k=c)&&e===null&&g("[87] TriplesNode");z[b]={nextPos:a,result:e};return e}function Wb(){var c="BlankNodePropertyList@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=
k;k=!1;for(var j=a,f=a,d=[],i=q();i!==null;)d.push(i),i=q();if(d!==null)if(b.substr(a,1)==="["?(i="[",a+=1):(i=null,k&&g('"["')),i!==null){for(var o=[],r=q();r!==null;)o.push(r),r=q();if(o!==null)if(r=Ea(),r!==null){for(var h=[],m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,1)==="]"?(m="]",a+=1):(m=null,k&&g('"]"')),m!==null){for(var s=[],n=q();n!==null;)s.push(n),n=q();s!==null?d=[d,i,o,r,h,m,s]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,
a=f;else d=null,a=f;f=d!==null?function(a){ga++;for(var b={token:"blank",label:""+ga},c=[],d=0;d<a.pairs.length;d++){var f=a.pairs[d],g={};g.subject=b;g.predicate=f[0];g.object=f[1];c.push(g)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(c),chainSubject:b}}(d[3]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[88] BlankNodePropertyList");z[c]={nextPos:a,result:f};return f}function Vb(){var c="Collection@"+a,e=z[c];if(e)return a=e.nextPos,e.result;
e=k;k=!1;for(var j=a,f=a,d=[],i=q();i!==null;)d.push(i),i=q();if(d!==null)if(b.substr(a,1)==="("?(i="(",a+=1):(i=null,k&&g('"("')),i!==null){for(var o=[],r=q();r!==null;)o.push(r),r=q();if(o!==null){var h=wa();if(h!==null)for(r=[];h!==null;)r.push(h),h=wa();else r=null;if(r!==null){for(var h=[],m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,1)===")"?(m=")",a+=1):(m=null,k&&g('")"')),m!==null){for(var s=[],n=q();n!==null;)s.push(n),n=q();s!==null?d=[d,i,o,r,h,m,s]:(d=null,a=f)}else d=null,
a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?d[3]:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[89] Collection");z[c]={nextPos:a,result:f};return f}function wa(){var b="GraphNode@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;for(var e=a,f=a,d=[],j=q();j!==null;)d.push(j),j=q();if(d!==null)if(j=pb(),j!==null){for(var o=[],i=q();i!==null;)o.push(i),i=q();o!==null?d=[d,j,o]:(d=null,a=f)}else d=null,a=f;else d=null,a=f;if(d!==null)f=d;else{f=
a;d=[];for(j=q();j!==null;)d.push(j),j=q();if(d!==null)if(j=qb(),j!==null){o=[];for(i=q();i!==null;)o.push(i),i=q();o!==null?d=[d,j,o]:(d=null,a=f)}else d=null,a=f;else d=null,a=f;f=d!==null?d:null}f=f!==null?f[1]:null;f===null&&(f=null,a=e);(k=c)&&f===null&&g("[90] GraphNode");z[b]={nextPos:a,result:f};return f}function pb(){var b="VarOrTerm@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=S();e===null&&(e=Xb(),e=e!==null?e:null);(k=c)&&e===null&&g("[91] VarOrTerm");z[b]={nextPos:a,result:e};
return e}function la(){var b="VarOrIRIref@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=S();e===null&&(e=T(),e=e!==null?e:null);(k=c)&&e===null&&g("[92] VarOrIRIref");z[b]={nextPos:a,result:e};return e}function S(){var b="Var@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=a,f=Yb();f===null&&(f=Zb(),f=f!==null?f:null);f=f!==null?function(a){var b={token:"var"};b.value=a;return b}(f):null;f===null&&(f=null,a=e);(k=c)&&f===null&&g("[93] Var");z[b]={nextPos:a,result:f};return f}
function Xb(){var b="GraphTerm@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=T();e===null&&(e=La(),e===null&&(e=Ma(),e===null&&(e=Na(),e===null&&(e=$b(),e===null&&(e=ma(),e=e!==null?e:null)))));(k=c)&&e===null&&g("[94] GraphTerm");z[b]={nextPos:a,result:e};return e}function M(){var c="ConditionalOrExpression@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a,d=Ua();if(d!==null){for(var i=[],o=a,r=[],h=q();h!==null;)r.push(h),h=q();if(r!==null)if(b.substr(a,2)==="||"?(h=
"||",a+=2):(h=null,k&&g('"||"')),h!==null){for(var m=[],s=q();s!==null;)m.push(s),s=q();m!==null?(s=Ua(),s!==null?r=[r,h,m,s]:(r=null,a=o)):(r=null,a=o)}else r=null,a=o;else r=null,a=o;for(;r!==null;){i.push(r);o=a;r=[];for(h=q();h!==null;)r.push(h),h=q();if(r!==null)if(b.substr(a,2)==="||"?(h="||",a+=2):(h=null,k&&g('"||"')),h!==null){m=[];for(s=q();s!==null;)m.push(s),s=q();m!==null?(s=Ua(),s!==null?r=[r,h,m,s]:(r=null,a=o)):(r=null,a=o)}else r=null,a=o;else r=null,a=o}i!==null?d=[d,i]:(d=null,
a=f)}else d=null,a=f;f=d!==null?function(a,b){if(b.length===0)return a;for(var c={token:"expression",expressionType:"conditionalor"},d=[a],f=0;f<b.length;f++)d.push(b[f][3]);c.operands=d;return c}(d[0],d[1]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[96] ConditionalOrExpression");z[c]={nextPos:a,result:f};return f}function Ua(){var c="ConditionalAndExpression@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a,d=Va();if(d!==null){for(var i=[],o=a,r=[],h=q();h!==null;)r.push(h),
h=q();if(r!==null)if(b.substr(a,2)==="&&"?(h="&&",a+=2):(h=null,k&&g('"&&"')),h!==null){for(var m=[],s=q();s!==null;)m.push(s),s=q();m!==null?(s=Va(),s!==null?r=[r,h,m,s]:(r=null,a=o)):(r=null,a=o)}else r=null,a=o;else r=null,a=o;for(;r!==null;){i.push(r);o=a;r=[];for(h=q();h!==null;)r.push(h),h=q();if(r!==null)if(b.substr(a,2)==="&&"?(h="&&",a+=2):(h=null,k&&g('"&&"')),h!==null){m=[];for(s=q();s!==null;)m.push(s),s=q();m!==null?(s=Va(),s!==null?r=[r,h,m,s]:(r=null,a=o)):(r=null,a=o)}else r=null,
a=o;else r=null,a=o}i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,b){if(b.length===0)return a;for(var c={token:"expression",expressionType:"conditionaland"},d=[a],f=0;f<b.length;f++)d.push(b[f][3]);c.operands=d;return c}(d[0],d[1]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[97] ConditionalAndExpression");z[c]={nextPos:a,result:f};return f}function Va(){var c="RelationalExpression@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a,d=X();if(d!==null){for(var i=
[],o=a,h=[],m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,1)==="="?(m="=",a+=1):(m=null,k&&g('"="')),m!==null){for(var n=[],s=q();s!==null;)n.push(s),s=q();n!==null?(s=X(),s!==null?h=[h,m,n,s]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,2)==="!="?(m="!=",a+=2):(m=null,k&&g('"!="')),m!==null){n=[];for(s=q();s!==null;)n.push(s),s=q();n!==null?(s=X(),s!==null?h=[h,m,n,s]:(h=null,a=o)):
(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,1)==="<"?(m="<",a+=1):(m=null,k&&g('"<"')),m!==null){n=[];for(s=q();s!==null;)n.push(s),s=q();n!==null?(s=X(),s!==null?h=[h,m,n,s]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,1)===">"?(m=">",a+=1):(m=null,k&&g('">"')),m!==null){n=[];for(s=q();s!==null;)n.push(s),
s=q();n!==null?(s=X(),s!==null?h=[h,m,n,s]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,2)==="<="?(m="<=",a+=2):(m=null,k&&g('"<="')),m!==null){n=[];for(s=q();s!==null;)n.push(s),s=q();n!==null?(s=X(),s!==null?h=[h,m,n,s]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,2)===">="?(m=">=",a+=2):
(m=null,k&&g('">="')),m!==null){n=[];for(s=q();s!==null;)n.push(s),s=q();n!==null?(s=X(),s!==null?h=[h,m,n,s]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;o=h!==null?h:null}}}}}for(;o!==null;){i.push(o);o=a;h=[];for(m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,1)==="="?(m="=",a+=1):(m=null,k&&g('"="')),m!==null){n=[];for(s=q();s!==null;)n.push(s),s=q();n!==null?(s=X(),s!==null?h=[h,m,n,s]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=
a;h=[];for(m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,2)==="!="?(m="!=",a+=2):(m=null,k&&g('"!="')),m!==null){n=[];for(s=q();s!==null;)n.push(s),s=q();n!==null?(s=X(),s!==null?h=[h,m,n,s]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,1)==="<"?(m="<",a+=1):(m=null,k&&g('"<"')),m!==null){n=[];for(s=q();s!==null;)n.push(s),s=q();n!==null?(s=X(),s!==null?h=[h,m,n,s]:(h=null,a=o)):(h=
null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,1)===">"?(m=">",a+=1):(m=null,k&&g('">"')),m!==null){n=[];for(s=q();s!==null;)n.push(s),s=q();n!==null?(s=X(),s!==null?h=[h,m,n,s]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,2)==="<="?(m="<=",a+=2):(m=null,k&&g('"<="')),m!==null){n=[];for(s=q();s!==null;)n.push(s),
s=q();n!==null?(s=X(),s!==null?h=[h,m,n,s]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,2)===">="?(m=">=",a+=2):(m=null,k&&g('">="')),m!==null){n=[];for(s=q();s!==null;)n.push(s),s=q();n!==null?(s=X(),s!==null?h=[h,m,n,s]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;o=h!==null?h:null}}}}}}i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,b){if(b.length===0)return a;
else{var c={expressionType:"relationalexpression"};c.operator=b[0][1];c.op1=a;c.op2=b[0][3];c.token="expression";return c}}(d[0],d[1]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[99] RelationalExpression");z[c]={nextPos:a,result:f};return f}function X(){var c="AdditiveExpression@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a,d=xa();if(d!==null){for(var i=[],o=a,h=[],m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,1)==="+"?(m="+",a+=1):(m=null,k&&g('"+"')),m!==null){for(var n=
[],s=q();s!==null;)n.push(s),s=q();n!==null?(s=xa(),s!==null?h=[h,m,n,s]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,1)==="-"?(m="-",a+=1):(m=null,k&&g('"-"')),m!==null){n=[];for(s=q();s!==null;)n.push(s),s=q();n!==null?(s=xa(),s!==null?h=[h,m,n,s]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=ya();h===null&&(h=ya(),h=h!==null?h:null);if(h!==null){m=a;
n=[];for(s=q();s!==null;)n.push(s),s=q();if(n!==null)if(b.substr(a,1)==="*"?(s="*",a+=1):(s=null,k&&g('"*"')),s!==null){for(var u=[],w=q();w!==null;)u.push(w),w=q();u!==null?(w=$(),w!==null?n=[n,s,u,w]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;if(n!==null)m=n;else{m=a;n=[];for(s=q();s!==null;)n.push(s),s=q();if(n!==null)if(b.substr(a,1)==="/"?(s="/",a+=1):(s=null,k&&g('"/"')),s!==null){u=[];for(w=q();w!==null;)u.push(w),w=q();u!==null?(w=$(),w!==null?n=[n,s,u,w]:(n=null,a=m)):(n=
null,a=m)}else n=null,a=m;else n=null,a=m;m=n!==null?n:null}m=m!==null?m:"";m!==null?h=[h,m]:(h=null,a=o)}else h=null,a=o;o=h!==null?h:null}}for(;o!==null;){i.push(o);o=a;h=[];for(m=q();m!==null;)h.push(m),m=q();if(h!==null)if(b.substr(a,1)==="+"?(m="+",a+=1):(m=null,k&&g('"+"')),m!==null){n=[];for(s=q();s!==null;)n.push(s),s=q();n!==null?(s=xa(),s!==null?h=[h,m,n,s]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=[];for(m=q();m!==null;)h.push(m),m=q();if(h!==
null)if(b.substr(a,1)==="-"?(m="-",a+=1):(m=null,k&&g('"-"')),m!==null){n=[];for(s=q();s!==null;)n.push(s),s=q();n!==null?(s=xa(),s!==null?h=[h,m,n,s]:(h=null,a=o)):(h=null,a=o)}else h=null,a=o;else h=null,a=o;if(h!==null)o=h;else{o=a;h=ya();h===null&&(h=ya(),h=h!==null?h:null);if(h!==null){m=a;n=[];for(s=q();s!==null;)n.push(s),s=q();if(n!==null)if(b.substr(a,1)==="*"?(s="*",a+=1):(s=null,k&&g('"*"')),s!==null){u=[];for(w=q();w!==null;)u.push(w),w=q();u!==null?(w=$(),w!==null?n=[n,s,u,w]:(n=null,
a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;if(n!==null)m=n;else{m=a;n=[];for(s=q();s!==null;)n.push(s),s=q();if(n!==null)if(b.substr(a,1)==="/"?(s="/",a+=1):(s=null,k&&g('"/"')),s!==null){u=[];for(w=q();w!==null;)u.push(w),w=q();u!==null?(w=$(),w!==null?n=[n,s,u,w]:(n=null,a=m)):(n=null,a=m)}else n=null,a=m;else n=null,a=m;m=n!==null?n:null}m=m!==null?m:"";m!==null?h=[h,m]:(h=null,a=o)}else h=null,a=o;o=h!==null?h:null}}}i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,
b){if(b.length===0)return a;var c={token:"expression",expressionType:"additiveexpression"};c.summand=a;c.summands=[];for(var d=0;d<b.length;d++){var f=b[d],g={};if(f.length==4&&typeof f[1]==="string")g.operator=f[1],g.expression=f[3];else{var f={},e=g[0],k=g[1][1],h=g[1][3],k=null;e.value<0?(g.operator="-",e.value=-e.value):g.operator="+";f.token="expression";f.expressionType="multiplicativeexpression";f.operator=e;f.factors=[{operator:k,expression:h}];g.expression=f}c.summands.push(g)}return c}(d[0],
d[1]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[101] AdditiveExpression");z[c]={nextPos:a,result:f};return f}function xa(){var c="MultiplicativeExpression@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var h=a,f=a,d=$();if(d!==null){for(var j=[],o=a,i=[],m=q();m!==null;)i.push(m),m=q();if(i!==null)if(b.substr(a,1)==="*"?(m="*",a+=1):(m=null,k&&g('"*"')),m!==null){for(var n=[],s=q();s!==null;)n.push(s),s=q();n!==null?(s=$(),s!==null?i=[i,m,n,s]:(i=null,a=o)):(i=null,a=o)}else i=null,a=
o;else i=null,a=o;if(i!==null)o=i;else{o=a;i=[];for(m=q();m!==null;)i.push(m),m=q();if(i!==null)if(b.substr(a,1)==="/"?(m="/",a+=1):(m=null,k&&g('"/"')),m!==null){n=[];for(s=q();s!==null;)n.push(s),s=q();n!==null?(s=$(),s!==null?i=[i,m,n,s]:(i=null,a=o)):(i=null,a=o)}else i=null,a=o;else i=null,a=o;o=i!==null?i:null}for(;o!==null;){j.push(o);o=a;i=[];for(m=q();m!==null;)i.push(m),m=q();if(i!==null)if(b.substr(a,1)==="*"?(m="*",a+=1):(m=null,k&&g('"*"')),m!==null){n=[];for(s=q();s!==null;)n.push(s),
s=q();n!==null?(s=$(),s!==null?i=[i,m,n,s]:(i=null,a=o)):(i=null,a=o)}else i=null,a=o;else i=null,a=o;if(i!==null)o=i;else{o=a;i=[];for(m=q();m!==null;)i.push(m),m=q();if(i!==null)if(b.substr(a,1)==="/"?(m="/",a+=1):(m=null,k&&g('"/"')),m!==null){n=[];for(s=q();s!==null;)n.push(s),s=q();n!==null?(s=$(),s!==null?i=[i,m,n,s]:(i=null,a=o)):(i=null,a=o)}else i=null,a=o;else i=null,a=o;o=i!==null?i:null}}j!==null?d=[d,j]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,b){if(b.length===0)return a;var c=
{token:"expression",expressionType:"multiplicativeexpression"};c.factor=a;c.factors=[];for(var d=0;d<b.length;d++){var f=b[d],g={};g.operator=f[1];g.expression=f[3];c.factors.push(g)}return c}(d[0],d[1]):null;f===null&&(f=null,a=h);(k=e)&&f===null&&g("[102] MultiplicativeExpression");z[c]={nextPos:a,result:f};return f}function $(){var c="UnaryExpression@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var h=a,f=a;if(b.substr(a,1)==="!"){var d="!";a+=1}else d=null,k&&g('"!"');if(d!==null){for(var j=
[],i=q();i!==null;)j.push(i),i=q();j!==null?(i=Ga(),i!==null?d=[d,j,i]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"!"};b.expression=a;return b}(d[2]):null;f===null&&(f=null,a=h);if(f!==null)h=f;else{f=h=a;b.substr(a,1)==="+"?(d="+",a+=1):(d=null,k&&g('"+"'));if(d!==null){j=[];for(i=q();i!==null;)j.push(i),i=q();j!==null?(i=Ga(),i!==null?d=[d,j,i]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?
function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"+"};b.expression=a;return b}(d[2]):null;f===null&&(f=null,a=h);if(f!==null)h=f;else{f=h=a;b.substr(a,1)==="-"?(d="-",a+=1):(d=null,k&&g('"-"'));if(d!==null){j=[];for(i=q();i!==null;)j.push(i),i=q();j!==null?(i=Ga(),i!==null?d=[d,j,i]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"-"};b.expression=a;return b}(d[2]):null;
f===null&&(f=null,a=h);f!==null?h=f:(h=Ga(),h=h!==null?h:null)}}(k=e)&&h===null&&g("[103] UnaryExpression");z[c]={nextPos:a,result:h};return h}function Ga(){var b="PrimaryExpression@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=Ka();if(e===null&&(e=Ja(),e===null&&(e=ac(),e===null))){var e=a,f=La(),f=f!==null?function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"rdfliteral"};b.value=a;return b}(f):null;f===null&&(f=null,a=e);f!==null?e=f:(e=a,f=Ma(),f=f!==null?
function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"numericliteral"};b.value=a;return b}(f):null,f===null&&(f=null,a=e),f!==null?e=f:(e=a,f=Na(),f=f!==null?function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"booleanliteral"};b.value=a;return b}(f):null,f===null&&(f=null,a=e),f!==null?e=f:(e=bc(),e===null&&(e=a,f=S(),f=f!==null?function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"var"};b.value=a;return b}(f):null,
f===null&&(f=null,a=e),e=f!==null?f:null))))}(k=c)&&e===null&&g("[104] PrimaryExpression");z[b]={nextPos:a,result:e};return e}function Ka(){var c="BrackettedExpression@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var h=a,f=a;if(b.substr(a,1)==="("){var d="(";a+=1}else d=null,k&&g('"("');if(d!==null){for(var j=[],i=q();i!==null;)j.push(i),i=q();if(j!==null)if(i=M(),i!==null){for(var m=[],n=q();n!==null;)m.push(n),n=q();m!==null?(b.substr(a,1)===")"?(n=")",a+=1):(n=null,k&&g('")"')),n!==null?
d=[d,j,i,m,n]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?d[2]:null;f===null&&(f=null,a=h);(k=e)&&f===null&&g("[105] BrackettedExpression");z[c]={nextPos:a,result:f};return f}function Ja(){var c="BuiltInCall@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var h=a,f=a;if(b.substr(a,1)==="S"){var d="S";a+=1}else d=null,k&&g('"S"');d===null&&(b.substr(a,1)==="s"?(d="s",a+=1):(d=null,k&&g('"s"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="T"){var j=
"T";a+=1}else j=null,k&&g('"T"');j===null&&(b.substr(a,1)==="t"?(j="t",a+=1):(j=null,k&&g('"t"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="R"){var i="R";a+=1}else i=null,k&&g('"R"');i===null&&(b.substr(a,1)==="r"?(i="r",a+=1):(i=null,k&&g('"r"')),i=i!==null?i:null);if(i!==null){for(var m=[],n=q();n!==null;)m.push(n),n=q();if(m!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,k&&g('"("')),n!==null){for(var u=[],s=q();s!==null;)u.push(s),s=q();if(u!==null)if(s=M(),s!==null){for(var v=[],
w=q();w!==null;)v.push(w),w=q();v!==null?(b.substr(a,1)===")"?(w=")",a+=1):(w=null,k&&g('")"')),w!==null?d=[d,j,i,m,n,u,s,v,w]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"str"};b.args=[a];return b}(d[6]):null;f===null&&(f=null,a=h);if(f!==null)h=f;else{f=h=a;b.substr(a,1)==="L"?(d="L",a+=1):(d=null,k&&g('"L"'));d===
null&&(b.substr(a,1)==="l"?(d="l",a+=1):(d=null,k&&g('"l"')),d=d!==null?d:null);if(d!==null)if(b.substr(a,1)==="A"?(j="A",a+=1):(j=null,k&&g('"A"')),j===null&&(b.substr(a,1)==="a"?(j="a",a+=1):(j=null,k&&g('"a"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="N"?(i="N",a+=1):(i=null,k&&g('"N"')),i===null&&(b.substr(a,1)==="n"?(i="n",a+=1):(i=null,k&&g('"n"')),i=i!==null?i:null),i!==null)if(b.substr(a,1)==="G"?(m="G",a+=1):(m=null,k&&g('"G"')),m===null&&(b.substr(a,1)==="g"?(m="g",a+=1):(m=null,
k&&g('"g"')),m=m!==null?m:null),m!==null){n=[];for(u=q();u!==null;)n.push(u),u=q();if(n!==null)if(b.substr(a,1)==="("?(u="(",a+=1):(u=null,k&&g('"("')),u!==null){s=[];for(v=q();v!==null;)s.push(v),v=q();if(s!==null)if(v=M(),v!==null){for(var w=[],B=q();B!==null;)w.push(B),B=q();w!==null?(b.substr(a,1)===")"?(B=")",a+=1):(B=null,k&&g('")"')),B!==null?d=[d,j,i,m,n,u,s,v,w,B]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f;else d=
null,a=f;else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"lang"};b.args=[a];return b}(d[7]):null;f===null&&(f=null,a=h);if(f!==null)h=f;else{f=h=a;b.substr(a,11)==="LANGMATCHES"?(d="LANGMATCHES",a+=11):(d=null,k&&g('"LANGMATCHES"'));if(d!==null){j=[];for(i=q();i!==null;)j.push(i),i=q();if(j!==null)if(b.substr(a,1)==="("?(i="(",a+=1):(i=null,k&&g('"("')),i!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(n=M(),n!==null){u=[];
for(s=q();s!==null;)u.push(s),s=q();if(u!==null)if(b.substr(a,1)===","?(s=",",a+=1):(s=null,k&&g('","')),s!==null){v=[];for(w=q();w!==null;)v.push(w),w=q();if(v!==null)if(w=M(),w!==null){for(var B=[],y=q();y!==null;)B.push(y),y=q();B!==null?(b.substr(a,1)===")"?(y=")",a+=1):(y=null,k&&g('")"')),y!==null?d=[d,j,i,m,n,u,s,v,w,B,y]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;
f=d!==null?function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"langmatches"};c.args=[a,b];return c}(d[4],d[8]):null;f===null&&(f=null,a=h);if(f!==null)h=f;else{f=h=a;b.substr(a,1)==="D"?(d="D",a+=1):(d=null,k&&g('"D"'));d===null&&(b.substr(a,1)==="d"?(d="d",a+=1):(d=null,k&&g('"d"')),d=d!==null?d:null);if(d!==null)if(b.substr(a,1)==="A"?(j="A",a+=1):(j=null,k&&g('"A"')),j===null&&(b.substr(a,1)==="a"?(j="a",a+=1):(j=null,k&&g('"a"')),j=j!==null?j:null),j!==null)if(b.substr(a,
1)==="T"?(i="T",a+=1):(i=null,k&&g('"T"')),i===null&&(b.substr(a,1)==="t"?(i="t",a+=1):(i=null,k&&g('"t"')),i=i!==null?i:null),i!==null)if(b.substr(a,1)==="A"?(m="A",a+=1):(m=null,k&&g('"A"')),m===null&&(b.substr(a,1)==="a"?(m="a",a+=1):(m=null,k&&g('"a"')),m=m!==null?m:null),m!==null)if(b.substr(a,1)==="T"?(n="T",a+=1):(n=null,k&&g('"T"')),n===null&&(b.substr(a,1)==="t"?(n="t",a+=1):(n=null,k&&g('"t"')),n=n!==null?n:null),n!==null)if(b.substr(a,1)==="Y"?(u="Y",a+=1):(u=null,k&&g('"Y"')),u===null&&
(b.substr(a,1)==="y"?(u="y",a+=1):(u=null,k&&g('"y"')),u=u!==null?u:null),u!==null)if(b.substr(a,1)==="P"?(s="P",a+=1):(s=null,k&&g('"P"')),s===null&&(b.substr(a,1)==="p"?(s="p",a+=1):(s=null,k&&g('"p"')),s=s!==null?s:null),s!==null)if(b.substr(a,1)==="E"?(v="E",a+=1):(v=null,k&&g('"E"')),v===null&&(b.substr(a,1)==="e"?(v="e",a+=1):(v=null,k&&g('"e"')),v=v!==null?v:null),v!==null){w=[];for(B=q();B!==null;)w.push(B),B=q();if(w!==null)if(b.substr(a,1)==="("?(B="(",a+=1):(B=null,k&&g('"("')),B!==null){for(var y=
[],D=q();D!==null;)y.push(D),D=q();if(y!==null)if(D=M(),D!==null){for(var C=[],A=q();A!==null;)C.push(A),A=q();C!==null?(b.substr(a,1)===")"?(A=")",a+=1):(A=null,k&&g('")"')),A!==null?d=[d,j,i,m,n,u,s,v,w,B,y,D,C,A]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f;else d=null,a=f;else d=null,a=f;else d=null,a=f;else d=null,a=f;else d=null,a=f;else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",
builtincall:"datatype"};b.args=[a];return b}(d[11]):null;f===null&&(f=null,a=h);if(f!==null)h=f;else{f=h=a;b.substr(a,5)==="BOUND"?(d="BOUND",a+=5):(d=null,k&&g('"BOUND"'));if(d!==null){j=[];for(i=q();i!==null;)j.push(i),i=q();if(j!==null)if(b.substr(a,1)==="("?(i="(",a+=1):(i=null,k&&g('"("')),i!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(n=S(),n!==null){u=[];for(s=q();s!==null;)u.push(s),s=q();u!==null?(b.substr(a,1)===")"?(s=")",a+=1):(s=null,k&&g('")"')),s!==null?d=[d,j,i,
m,n,u,s]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bound"};b.args=[a];return b}(d[4]):null;f===null&&(f=null,a=h);if(f!==null)h=f;else{f=h=a;b.substr(a,3)==="IRI"?(d="IRI",a+=3):(d=null,k&&g('"IRI"'));if(d!==null){j=[];for(i=q();i!==null;)j.push(i),i=q();if(j!==null)if(b.substr(a,1)==="("?(i="(",a+=1):(i=null,k&&g('"("')),i!==null){m=[];for(n=
q();n!==null;)m.push(n),n=q();if(m!==null)if(n=M(),n!==null){u=[];for(s=q();s!==null;)u.push(s),s=q();u!==null?(b.substr(a,1)===")"?(s=")",a+=1):(s=null,k&&g('")"')),s!==null?d=[d,j,i,m,n,u,s]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"iri"};b.args=[a];return b}(d[4]):null;f===null&&(f=null,a=h);if(f!==null)h=f;else{f=h=a;b.substr(a,3)==="URI"?
(d="URI",a+=3):(d=null,k&&g('"URI"'));if(d!==null){j=[];for(i=q();i!==null;)j.push(i),i=q();if(j!==null)if(b.substr(a,1)==="("?(i="(",a+=1):(i=null,k&&g('"("')),i!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(n=M(),n!==null){u=[];for(s=q();s!==null;)u.push(s),s=q();u!==null?(b.substr(a,1)===")"?(s=")",a+=1):(s=null,k&&g('")"')),s!==null?d=[d,j,i,m,n,u,s]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b=
{token:"expression",expressionType:"builtincall",builtincall:"uri"};b.args=[a];return b}(d[4]):null;f===null&&(f=null,a=h);if(f!==null)h=f;else{f=h=a;b.substr(a,5)==="BNODE"?(d="BNODE",a+=5):(d=null,k&&g('"BNODE"'));if(d!==null){j=[];for(i=q();i!==null;)j.push(i),i=q();if(j!==null){i=a;b.substr(a,1)==="("?(m="(",a+=1):(m=null,k&&g('"("'));if(m!==null){n=[];for(u=q();u!==null;)n.push(u),u=q();if(n!==null)if(u=M(),u!==null){s=[];for(v=q();v!==null;)s.push(v),v=q();s!==null?(b.substr(a,1)===")"?(v=")",
a+=1):(v=null,k&&g('")"')),v!==null?m=[m,n,u,s,v]:(m=null,a=i)):(m=null,a=i)}else m=null,a=i;else m=null,a=i}else m=null,a=i;m!==null?i=m:(i=ma(),i=i!==null?i:null);i!==null?d=[d,j,i]:(d=null,a=f)}else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bnode"};b.args=a.length===5?[a[2]]:null;return b}(d[2]):null;f===null&&(f=null,a=h);if(f!==null)h=f;else{f=h=a;b.substr(a,8)==="COALESCE"?(d="COALESCE",a+=8):(d=null,k&&g('"COALESCE"'));
if(d!==null){j=[];for(i=q();i!==null;)j.push(i),i=q();j!==null?(i=Qb(),i!==null?d=[d,j,i]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"coalesce"};b.args=a;return b}(d[2]):null;f===null&&(f=null,a=h);if(f!==null)h=f;else{f=h=a;b.substr(a,2)==="IF"?(d="IF",a+=2):(d=null,k&&g('"IF"'));if(d!==null){j=[];for(i=q();i!==null;)j.push(i),i=q();if(j!==null)if(b.substr(a,1)==="("?(i="(",a+=1):(i=null,k&&g('"("')),i!==null){m=
[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(n=M(),n!==null){u=[];for(s=q();s!==null;)u.push(s),s=q();if(u!==null)if(b.substr(a,1)===","?(s=",",a+=1):(s=null,k&&g('","')),s!==null){v=[];for(w=q();w!==null;)v.push(w),w=q();if(v!==null)if(w=M(),w!==null){B=[];for(y=q();y!==null;)B.push(y),y=q();if(B!==null)if(b.substr(a,1)===","?(y=",",a+=1):(y=null,k&&g('","')),y!==null){D=[];for(C=q();C!==null;)D.push(C),C=q();if(D!==null)if(C=M(),C!==null){for(var A=[],E=q();E!==null;)A.push(E),E=q();A!==
null?(b.substr(a,1)===")"?(E=")",a+=1):(E=null,k&&g('")"')),E!==null?d=[d,j,i,m,n,u,s,v,w,B,y,D,C,A,E]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b,c){var d={token:"expression",expressionType:"builtincall",builtincall:"if"};d.args=[a,b,c];return d}(d[4],d[8],d[12]):null;f===null&&(f=null,
a=h);if(f!==null)h=f;else{f=h=a;b.substr(a,9)==="ISLITERAL"?(d="ISLITERAL",a+=9):(d=null,k&&g('"ISLITERAL"'));if(d!==null){j=[];for(i=q();i!==null;)j.push(i),i=q();if(j!==null)if(b.substr(a,1)==="("?(i="(",a+=1):(i=null,k&&g('"("')),i!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(n=M(),n!==null){u=[];for(s=q();s!==null;)u.push(s),s=q();u!==null?(b.substr(a,1)===")"?(s=")",a+=1):(s=null,k&&g('")"')),s!==null?d=[d,j,i,m,n,u,s]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,
a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isliteral"};b.args=[a];return b}(d[4]):null;f===null&&(f=null,a=h);if(f!==null)h=f;else{f=h=a;b.substr(a,7)==="ISBLANK"?(d="ISBLANK",a+=7):(d=null,k&&g('"ISBLANK"'));if(d!==null){j=[];for(i=q();i!==null;)j.push(i),i=q();if(j!==null)if(b.substr(a,1)==="("?(i="(",a+=1):(i=null,k&&g('"("')),i!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(n=M(),
n!==null){u=[];for(s=q();s!==null;)u.push(s),s=q();u!==null?(b.substr(a,1)===")"?(s=")",a+=1):(s=null,k&&g('")"')),s!==null?d=[d,j,i,m,n,u,s]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isblank"};b.args=[a];return b}(d[4]):null;f===null&&(f=null,a=h);if(f!==null)h=f;else{f=h=a;b.substr(a,8)==="SAMETERM"?(d="SAMETERM",a+=8):(d=null,k&&g('"SAMETERM"'));
if(d!==null){j=[];for(i=q();i!==null;)j.push(i),i=q();if(j!==null)if(b.substr(a,1)==="("?(i="(",a+=1):(i=null,k&&g('"("')),i!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(n=M(),n!==null){u=[];for(s=q();s!==null;)u.push(s),s=q();if(u!==null)if(b.substr(a,1)===","?(s=",",a+=1):(s=null,k&&g('","')),s!==null){v=[];for(w=q();w!==null;)v.push(w),w=q();if(v!==null)if(w=M(),w!==null){B=[];for(y=q();y!==null;)B.push(y),y=q();B!==null?(b.substr(a,1)===")"?(y=")",a+=1):(y=null,k&&g('")"')),
y!==null?d=[d,j,i,m,n,u,s,v,w,B,y]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"sameterm"};c.args=[a,b];return c}(d[4],d[8]):null;f===null&&(f=null,a=h);if(f!==null)h=f;else{f=h=a;b.substr(a,1)==="I"?(d="I",a+=1):(d=null,k&&g('"I"'));d===null&&(b.substr(a,1)==="i"?(d="i",a+=1):(d=null,
k&&g('"i"')),d=d!==null?d:null);if(d!==null)if(b.substr(a,1)==="S"?(j="S",a+=1):(j=null,k&&g('"S"')),j===null&&(b.substr(a,1)==="s"?(j="s",a+=1):(j=null,k&&g('"s"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="U"?(i="U",a+=1):(i=null,k&&g('"U"')),i===null&&(b.substr(a,1)==="u"?(i="u",a+=1):(i=null,k&&g('"u"')),i=i!==null?i:null),i!==null)if(b.substr(a,1)==="R"?(m="R",a+=1):(m=null,k&&g('"R"')),m===null&&(b.substr(a,1)==="r"?(m="r",a+=1):(m=null,k&&g('"r"')),m=m!==null?m:null),m!==null)if(b.substr(a,
1)==="I"?(n="I",a+=1):(n=null,k&&g('"I"')),n===null&&(b.substr(a,1)==="i"?(n="i",a+=1):(n=null,k&&g('"i"')),n=n!==null?n:null),n!==null){u=[];for(s=q();s!==null;)u.push(s),s=q();if(u!==null)if(b.substr(a,1)==="("?(s="(",a+=1):(s=null,k&&g('"("')),s!==null){v=[];for(w=q();w!==null;)v.push(w),w=q();if(v!==null)if(w=M(),w!==null){B=[];for(y=q();y!==null;)B.push(y),y=q();B!==null?(b.substr(a,1)===")"?(y=")",a+=1):(y=null,k&&g('")"')),y!==null?d=[d,j,i,m,n,u,s,v,w,B,y]:(d=null,a=f)):(d=null,a=f)}else d=
null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f;else d=null,a=f;else d=null,a=f;else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isuri"};b.args=[a];return b}(d[8]):null;f===null&&(f=null,a=h);if(f!==null)h=f;else{f=h=a;b.substr(a,1)==="I"?(d="I",a+=1):(d=null,k&&g('"I"'));d===null&&(b.substr(a,1)==="i"?(d="i",a+=1):(d=null,k&&g('"i"')),d=d!==null?d:null);if(d!==null)if(b.substr(a,1)==="S"?(j="S",a+=
1):(j=null,k&&g('"S"')),j===null&&(b.substr(a,1)==="s"?(j="s",a+=1):(j=null,k&&g('"s"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="I"?(i="I",a+=1):(i=null,k&&g('"I"')),i===null&&(b.substr(a,1)==="i"?(i="i",a+=1):(i=null,k&&g('"i"')),i=i!==null?i:null),i!==null)if(b.substr(a,1)==="R"?(m="R",a+=1):(m=null,k&&g('"R"')),m===null&&(b.substr(a,1)==="r"?(m="r",a+=1):(m=null,k&&g('"r"')),m=m!==null?m:null),m!==null)if(b.substr(a,1)==="I"?(n="I",a+=1):(n=null,k&&g('"I"')),n===null&&(b.substr(a,1)===
"i"?(n="i",a+=1):(n=null,k&&g('"i"')),n=n!==null?n:null),n!==null){u=[];for(s=q();s!==null;)u.push(s),s=q();if(u!==null)if(b.substr(a,1)==="("?(s="(",a+=1):(s=null,k&&g('"("')),s!==null){v=[];for(w=q();w!==null;)v.push(w),w=q();if(v!==null)if(w=M(),w!==null){B=[];for(y=q();y!==null;)B.push(y),y=q();B!==null?(b.substr(a,1)===")"?(y=")",a+=1):(y=null,k&&g('")"')),y!==null?d=[d,j,i,m,n,u,s,v,w,B,y]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,
a=f;else d=null,a=f;else d=null,a=f;else d=null,a=f;else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isuri"};b.args=[a];return b}(d[8]):null;f===null&&(f=null,a=h);f!==null?h=f:(h=cc(),h===null&&(h=dc(),h===null&&(h=ec(),h=h!==null?h:null)))}}}}}}}}}}}}}}(k=e)&&h===null&&g("[106] BuiltInCall");z[c]={nextPos:a,result:h};return h}function cc(){var c="RegexExpression@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var i=a,f=a;if(b.substr(a,
1)==="R"){var d="R";a+=1}else d=null,k&&g('"R"');d===null&&(b.substr(a,1)==="r"?(d="r",a+=1):(d=null,k&&g('"r"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="E"){var j="E";a+=1}else j=null,k&&g('"E"');j===null&&(b.substr(a,1)==="e"?(j="e",a+=1):(j=null,k&&g('"e"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="G"){var h="G";a+=1}else h=null,k&&g('"G"');h===null&&(b.substr(a,1)==="g"?(h="g",a+=1):(h=null,k&&g('"g"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="E"){var m="E";a+=
1}else m=null,k&&g('"E"');m===null&&(b.substr(a,1)==="e"?(m="e",a+=1):(m=null,k&&g('"e"')),m=m!==null?m:null);if(m!==null){if(b.substr(a,1)==="X"){var n="X";a+=1}else n=null,k&&g('"X"');n===null&&(b.substr(a,1)==="x"?(n="x",a+=1):(n=null,k&&g('"x"')),n=n!==null?n:null);if(n!==null){for(var u=[],s=q();s!==null;)u.push(s),s=q();if(u!==null)if(b.substr(a,1)==="("?(s="(",a+=1):(s=null,k&&g('"("')),s!==null){for(var v=[],w=q();w!==null;)v.push(w),w=q();if(v!==null)if(w=M(),w!==null){for(var B=[],y=q();y!==
null;)B.push(y),y=q();if(B!==null)if(b.substr(a,1)===","?(y=",",a+=1):(y=null,k&&g('","')),y!==null){for(var D=[],C=q();C!==null;)D.push(C),C=q();if(D!==null)if(C=M(),C!==null){for(var A=[],E=q();E!==null;)A.push(E),E=q();if(A!==null){E=a;if(b.substr(a,1)===","){var F=",";a+=1}else F=null,k&&g('","');if(F!==null){for(var G=[],H=q();H!==null;)G.push(H),H=q();G!==null?(H=M(),H!==null?F=[F,G,H]:(F=null,a=E)):(F=null,a=E)}else F=null,a=E;E=F!==null?F:"";if(E!==null){F=[];for(G=q();G!==null;)F.push(G),
G=q();F!==null?(b.substr(a,1)===")"?(G=")",a+=1):(G=null,k&&g('")"')),G!==null?d=[d,j,h,m,n,u,s,v,w,B,y,D,C,A,E,F,G]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b,c){var d={token:"expression",expressionType:"regex"};d.text=a;d.pattern=b;d.flags=c[2];return d}(d[8],
d[12],d[14]):null;f===null&&(f=null,a=i);(k=e)&&f===null&&g("[107] RegexExpression");z[c]={nextPos:a,result:f};return f}function dc(){var c="ExistsFunc@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var i=a,f=a;if(b.substr(a,1)==="E"){var d="E";a+=1}else d=null,k&&g('"E"');d===null&&(b.substr(a,1)==="e"?(d="e",a+=1):(d=null,k&&g('"e"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="X"){var j="X";a+=1}else j=null,k&&g('"X"');j===null&&(b.substr(a,1)==="x"?(j="x",a+=1):(j=null,k&&g('"x"')),
j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="I"){var h="I";a+=1}else h=null,k&&g('"I"');h===null&&(b.substr(a,1)==="i"?(h="i",a+=1):(h=null,k&&g('"i"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="S"){var m="S";a+=1}else m=null,k&&g('"S"');m===null&&(b.substr(a,1)==="s"?(m="s",a+=1):(m=null,k&&g('"s"')),m=m!==null?m:null);if(m!==null){if(b.substr(a,1)==="T"){var n="T";a+=1}else n=null,k&&g('"T"');n===null&&(b.substr(a,1)==="t"?(n="t",a+=1):(n=null,k&&g('"t"')),n=n!==null?n:null);if(n!==
null){if(b.substr(a,1)==="S"){var u="S";a+=1}else u=null,k&&g('"S"');u===null&&(b.substr(a,1)==="s"?(u="s",a+=1):(u=null,k&&g('"s"')),u=u!==null?u:null);if(u!==null){for(var s=[],v=q();v!==null;)s.push(v),v=q();s!==null?(v=Y(),v!==null?d=[d,j,h,m,n,u,s,v]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"exists"};b.args=[a];return b}(d[7]):
null;f===null&&(f=null,a=i);(k=e)&&f===null&&g("[108] ExistsFunc");z[c]={nextPos:a,result:f};return f}function ec(){var c="NotExistsFunc@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var i=a,f=a;if(b.substr(a,1)==="N"){var d="N";a+=1}else d=null,k&&g('"N"');d===null&&(b.substr(a,1)==="n"?(d="n",a+=1):(d=null,k&&g('"n"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="O"){var j="O";a+=1}else j=null,k&&g('"O"');j===null&&(b.substr(a,1)==="o"?(j="o",a+=1):(j=null,k&&g('"o"')),j=j!==null?
j:null);if(j!==null){if(b.substr(a,1)==="T"){var h="T";a+=1}else h=null,k&&g('"T"');h===null&&(b.substr(a,1)==="t"?(h="t",a+=1):(h=null,k&&g('"t"')),h=h!==null?h:null);if(h!==null){for(var m=[],n=q();n!==null;)m.push(n),n=q();if(m!==null)if(b.substr(a,1)==="E"?(n="E",a+=1):(n=null,k&&g('"E"')),n===null&&(b.substr(a,1)==="e"?(n="e",a+=1):(n=null,k&&g('"e"')),n=n!==null?n:null),n!==null){if(b.substr(a,1)==="X"){var u="X";a+=1}else u=null,k&&g('"X"');u===null&&(b.substr(a,1)==="x"?(u="x",a+=1):(u=null,
k&&g('"x"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="I"){var s="I";a+=1}else s=null,k&&g('"I"');s===null&&(b.substr(a,1)==="i"?(s="i",a+=1):(s=null,k&&g('"i"')),s=s!==null?s:null);if(s!==null){if(b.substr(a,1)==="S"){var v="S";a+=1}else v=null,k&&g('"S"');v===null&&(b.substr(a,1)==="s"?(v="s",a+=1):(v=null,k&&g('"s"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="T"){var w="T";a+=1}else w=null,k&&g('"T"');w===null&&(b.substr(a,1)==="t"?(w="t",a+=1):(w=null,k&&g('"t"')),w=w!==null?
w:null);if(w!==null){if(b.substr(a,1)==="S"){var B="S";a+=1}else B=null,k&&g('"S"');B===null&&(b.substr(a,1)==="s"?(B="s",a+=1):(B=null,k&&g('"s"')),B=B!==null?B:null);if(B!==null){for(var y=[],D=q();D!==null;)y.push(D),D=q();y!==null?(D=Y(),D!==null?d=[d,j,h,m,n,u,s,v,w,B,y,D]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",
expressionType:"builtincall",builtincall:"notexists"};b.args=[a];return b}(d[11]):null;f===null&&(f=null,a=i);(k=e)&&f===null&&g("[109] NotExistsFunc");z[c]={nextPos:a,result:f};return f}function bc(){var c="Aggregate@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var i=a,f=a;if(b.substr(a,1)==="C"){var d="C";a+=1}else d=null,k&&g('"C"');d===null&&(b.substr(a,1)==="c"?(d="c",a+=1):(d=null,k&&g('"c"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="O"){var j="O";a+=1}else j=null,k&&g('"O"');
j===null&&(b.substr(a,1)==="o"?(j="o",a+=1):(j=null,k&&g('"o"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="U"){var h="U";a+=1}else h=null,k&&g('"U"');h===null&&(b.substr(a,1)==="u"?(h="u",a+=1):(h=null,k&&g('"u"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="N"){var m="N";a+=1}else m=null,k&&g('"N"');m===null&&(b.substr(a,1)==="n"?(m="n",a+=1):(m=null,k&&g('"n"')),m=m!==null?m:null);if(m!==null){if(b.substr(a,1)==="T"){var n="T";a+=1}else n=null,k&&g('"T"');n===null&&(b.substr(a,
1)==="t"?(n="t",a+=1):(n=null,k&&g('"t"')),n=n!==null?n:null);if(n!==null){for(var u=[],s=q();s!==null;)u.push(s),s=q();if(u!==null)if(b.substr(a,1)==="("?(s="(",a+=1):(s=null,k&&g('"("')),s!==null){for(var v=[],w=q();w!==null;)v.push(w),w=q();if(v!==null){w=a;if(b.substr(a,1)==="D"){var B="D";a+=1}else B=null,k&&g('"D"');B===null&&(b.substr(a,1)==="d"?(B="d",a+=1):(B=null,k&&g('"d"')),B=B!==null?B:null);if(B!==null){if(b.substr(a,1)==="I"){var y="I";a+=1}else y=null,k&&g('"I"');y===null&&(b.substr(a,
1)==="i"?(y="i",a+=1):(y=null,k&&g('"i"')),y=y!==null?y:null);if(y!==null){if(b.substr(a,1)==="S"){var D="S";a+=1}else D=null,k&&g('"S"');D===null&&(b.substr(a,1)==="s"?(D="s",a+=1):(D=null,k&&g('"s"')),D=D!==null?D:null);if(D!==null){if(b.substr(a,1)==="T"){var C="T";a+=1}else C=null,k&&g('"T"');C===null&&(b.substr(a,1)==="t"?(C="t",a+=1):(C=null,k&&g('"t"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="I"){var A="I";a+=1}else A=null,k&&g('"I"');A===null&&(b.substr(a,1)==="i"?(A="i",a+=1):
(A=null,k&&g('"i"')),A=A!==null?A:null);if(A!==null){if(b.substr(a,1)==="N"){var E="N";a+=1}else E=null,k&&g('"N"');E===null&&(b.substr(a,1)==="n"?(E="n",a+=1):(E=null,k&&g('"n"')),E=E!==null?E:null);if(E!==null){if(b.substr(a,1)==="C"){var F="C";a+=1}else F=null,k&&g('"C"');F===null&&(b.substr(a,1)==="c"?(F="c",a+=1):(F=null,k&&g('"c"')),F=F!==null?F:null);if(F!==null){if(b.substr(a,1)==="T"){var G="T";a+=1}else G=null,k&&g('"T"');G===null&&(b.substr(a,1)==="t"?(G="t",a+=1):(G=null,k&&g('"t"')),
G=G!==null?G:null);G!==null?B=[B,y,D,C,A,E,F,G]:(B=null,a=w)}else B=null,a=w}else B=null,a=w}else B=null,a=w}else B=null,a=w}else B=null,a=w}else B=null,a=w}else B=null,a=w;w=B!==null?B:"";if(w!==null){B=[];for(y=q();y!==null;)B.push(y),y=q();if(B!==null)if(b.substr(a,1)==="*"?(y="*",a+=1):(y=null,k&&g('"*"')),y===null&&(y=M(),y=y!==null?y:null),y!==null){D=[];for(C=q();C!==null;)D.push(C),C=q();if(D!==null)if(b.substr(a,1)===")"?(C=")",a+=1):(C=null,k&&g('")"')),C!==null){A=[];for(E=q();E!==null;)A.push(E),
E=q();A!==null?d=[d,j,h,m,n,u,s,v,w,B,y,D,C,A]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"count"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(d[8],d[10]):null;f===null&&(f=null,a=i);if(f!==null)i=f;else{f=i=a;b.substr(a,
1)==="S"?(d="S",a+=1):(d=null,k&&g('"S"'));d===null&&(b.substr(a,1)==="s"?(d="s",a+=1):(d=null,k&&g('"s"')),d=d!==null?d:null);if(d!==null)if(b.substr(a,1)==="U"?(j="U",a+=1):(j=null,k&&g('"U"')),j===null&&(b.substr(a,1)==="u"?(j="u",a+=1):(j=null,k&&g('"u"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="M"?(h="M",a+=1):(h=null,k&&g('"M"')),h===null&&(b.substr(a,1)==="m"?(h="m",a+=1):(h=null,k&&g('"m"')),h=h!==null?h:null),h!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(b.substr(a,
1)==="("?(n="(",a+=1):(n=null,k&&g('"("')),n!==null){u=[];for(s=q();s!==null;)u.push(s),s=q();if(u!==null)if(s=a,b.substr(a,1)==="D"?(v="D",a+=1):(v=null,k&&g('"D"')),v===null&&(b.substr(a,1)==="d"?(v="d",a+=1):(v=null,k&&g('"d"')),v=v!==null?v:null),v!==null?(b.substr(a,1)==="I"?(w="I",a+=1):(w=null,k&&g('"I"')),w===null&&(b.substr(a,1)==="i"?(w="i",a+=1):(w=null,k&&g('"i"')),w=w!==null?w:null),w!==null?(b.substr(a,1)==="S"?(B="S",a+=1):(B=null,k&&g('"S"')),B===null&&(b.substr(a,1)==="s"?(B="s",
a+=1):(B=null,k&&g('"s"')),B=B!==null?B:null),B!==null?(b.substr(a,1)==="T"?(y="T",a+=1):(y=null,k&&g('"T"')),y===null&&(b.substr(a,1)==="t"?(y="t",a+=1):(y=null,k&&g('"t"')),y=y!==null?y:null),y!==null?(b.substr(a,1)==="I"?(D="I",a+=1):(D=null,k&&g('"I"')),D===null&&(b.substr(a,1)==="i"?(D="i",a+=1):(D=null,k&&g('"i"')),D=D!==null?D:null),D!==null?(b.substr(a,1)==="N"?(C="N",a+=1):(C=null,k&&g('"N"')),C===null&&(b.substr(a,1)==="n"?(C="n",a+=1):(C=null,k&&g('"n"')),C=C!==null?C:null),C!==null?(b.substr(a,
1)==="C"?(A="C",a+=1):(A=null,k&&g('"C"')),A===null&&(b.substr(a,1)==="c"?(A="c",a+=1):(A=null,k&&g('"c"')),A=A!==null?A:null),A!==null?(b.substr(a,1)==="T"?(E="T",a+=1):(E=null,k&&g('"T"')),E===null&&(b.substr(a,1)==="t"?(E="t",a+=1):(E=null,k&&g('"t"')),E=E!==null?E:null),E!==null?v=[v,w,B,y,D,C,A,E]:(v=null,a=s)):(v=null,a=s)):(v=null,a=s)):(v=null,a=s)):(v=null,a=s)):(v=null,a=s)):(v=null,a=s)):(v=null,a=s),s=v!==null?v:"",s!==null){v=[];for(w=q();w!==null;)v.push(w),w=q();if(v!==null)if(w=M(),
w!==null){B=[];for(y=q();y!==null;)B.push(y),y=q();if(B!==null)if(b.substr(a,1)===")"?(y=")",a+=1):(y=null,k&&g('")"')),y!==null){D=[];for(C=q();C!==null;)D.push(C),C=q();D!==null?d=[d,j,h,m,n,u,s,v,w,B,y,D]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"sum"};exp.distinct=
a!=""?"DISTINCT":a;exp.expression=b;return exp}(d[6],d[8]):null;f===null&&(f=null,a=i);if(f!==null)i=f;else{f=i=a;b.substr(a,1)==="M"?(d="M",a+=1):(d=null,k&&g('"M"'));d===null&&(b.substr(a,1)==="m"?(d="m",a+=1):(d=null,k&&g('"m"')),d=d!==null?d:null);if(d!==null)if(b.substr(a,1)==="I"?(j="I",a+=1):(j=null,k&&g('"I"')),j===null&&(b.substr(a,1)==="i"?(j="i",a+=1):(j=null,k&&g('"i"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="N"?(h="N",a+=1):(h=null,k&&g('"N"')),h===null&&(b.substr(a,1)==="n"?
(h="n",a+=1):(h=null,k&&g('"n"')),h=h!==null?h:null),h!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,k&&g('"("')),n!==null){u=[];for(s=q();s!==null;)u.push(s),s=q();if(u!==null)if(s=a,b.substr(a,1)==="D"?(v="D",a+=1):(v=null,k&&g('"D"')),v===null&&(b.substr(a,1)==="d"?(v="d",a+=1):(v=null,k&&g('"d"')),v=v!==null?v:null),v!==null?(b.substr(a,1)==="I"?(w="I",a+=1):(w=null,k&&g('"I"')),w===null&&(b.substr(a,1)==="i"?(w="i",a+=1):(w=null,k&&g('"i"')),
w=w!==null?w:null),w!==null?(b.substr(a,1)==="S"?(B="S",a+=1):(B=null,k&&g('"S"')),B===null&&(b.substr(a,1)==="s"?(B="s",a+=1):(B=null,k&&g('"s"')),B=B!==null?B:null),B!==null?(b.substr(a,1)==="T"?(y="T",a+=1):(y=null,k&&g('"T"')),y===null&&(b.substr(a,1)==="t"?(y="t",a+=1):(y=null,k&&g('"t"')),y=y!==null?y:null),y!==null?(b.substr(a,1)==="I"?(D="I",a+=1):(D=null,k&&g('"I"')),D===null&&(b.substr(a,1)==="i"?(D="i",a+=1):(D=null,k&&g('"i"')),D=D!==null?D:null),D!==null?(b.substr(a,1)==="N"?(C="N",a+=
1):(C=null,k&&g('"N"')),C===null&&(b.substr(a,1)==="n"?(C="n",a+=1):(C=null,k&&g('"n"')),C=C!==null?C:null),C!==null?(b.substr(a,1)==="C"?(A="C",a+=1):(A=null,k&&g('"C"')),A===null&&(b.substr(a,1)==="c"?(A="c",a+=1):(A=null,k&&g('"c"')),A=A!==null?A:null),A!==null?(b.substr(a,1)==="T"?(E="T",a+=1):(E=null,k&&g('"T"')),E===null&&(b.substr(a,1)==="t"?(E="t",a+=1):(E=null,k&&g('"t"')),E=E!==null?E:null),E!==null?v=[v,w,B,y,D,C,A,E]:(v=null,a=s)):(v=null,a=s)):(v=null,a=s)):(v=null,a=s)):(v=null,a=s)):
(v=null,a=s)):(v=null,a=s)):(v=null,a=s),s=v!==null?v:"",s!==null){v=[];for(w=q();w!==null;)v.push(w),w=q();if(v!==null)if(w=M(),w!==null){B=[];for(y=q();y!==null;)B.push(y),y=q();if(B!==null)if(b.substr(a,1)===")"?(y=")",a+=1):(y=null,k&&g('")"')),y!==null){D=[];for(C=q();C!==null;)D.push(C),C=q();D!==null?d=[d,j,h,m,n,u,s,v,w,B,y,D]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=
null,a=f;else d=null,a=f;f=d!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"min"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(d[6],d[8]):null;f===null&&(f=null,a=i);if(f!==null)i=f;else{f=i=a;b.substr(a,1)==="M"?(d="M",a+=1):(d=null,k&&g('"M"'));d===null&&(b.substr(a,1)==="m"?(d="m",a+=1):(d=null,k&&g('"m"')),d=d!==null?d:null);if(d!==null)if(b.substr(a,1)==="A"?(j="A",a+=1):(j=null,k&&g('"A"')),j===null&&(b.substr(a,1)==="a"?(j="a",a+=1):(j=
null,k&&g('"a"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="X"?(h="X",a+=1):(h=null,k&&g('"X"')),h===null&&(b.substr(a,1)==="x"?(h="x",a+=1):(h=null,k&&g('"x"')),h=h!==null?h:null),h!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,k&&g('"("')),n!==null){u=[];for(s=q();s!==null;)u.push(s),s=q();if(u!==null)if(s=a,b.substr(a,1)==="D"?(v="D",a+=1):(v=null,k&&g('"D"')),v===null&&(b.substr(a,1)==="d"?(v="d",a+=1):(v=null,k&&g('"d"')),v=v!==
null?v:null),v!==null?(b.substr(a,1)==="I"?(w="I",a+=1):(w=null,k&&g('"I"')),w===null&&(b.substr(a,1)==="i"?(w="i",a+=1):(w=null,k&&g('"i"')),w=w!==null?w:null),w!==null?(b.substr(a,1)==="S"?(B="S",a+=1):(B=null,k&&g('"S"')),B===null&&(b.substr(a,1)==="s"?(B="s",a+=1):(B=null,k&&g('"s"')),B=B!==null?B:null),B!==null?(b.substr(a,1)==="T"?(y="T",a+=1):(y=null,k&&g('"T"')),y===null&&(b.substr(a,1)==="t"?(y="t",a+=1):(y=null,k&&g('"t"')),y=y!==null?y:null),y!==null?(b.substr(a,1)==="I"?(D="I",a+=1):(D=
null,k&&g('"I"')),D===null&&(b.substr(a,1)==="i"?(D="i",a+=1):(D=null,k&&g('"i"')),D=D!==null?D:null),D!==null?(b.substr(a,1)==="N"?(C="N",a+=1):(C=null,k&&g('"N"')),C===null&&(b.substr(a,1)==="n"?(C="n",a+=1):(C=null,k&&g('"n"')),C=C!==null?C:null),C!==null?(b.substr(a,1)==="C"?(A="C",a+=1):(A=null,k&&g('"C"')),A===null&&(b.substr(a,1)==="c"?(A="c",a+=1):(A=null,k&&g('"c"')),A=A!==null?A:null),A!==null?(b.substr(a,1)==="T"?(E="T",a+=1):(E=null,k&&g('"T"')),E===null&&(b.substr(a,1)==="t"?(E="t",a+=
1):(E=null,k&&g('"t"')),E=E!==null?E:null),E!==null?v=[v,w,B,y,D,C,A,E]:(v=null,a=s)):(v=null,a=s)):(v=null,a=s)):(v=null,a=s)):(v=null,a=s)):(v=null,a=s)):(v=null,a=s)):(v=null,a=s),s=v!==null?v:"",s!==null){v=[];for(w=q();w!==null;)v.push(w),w=q();if(v!==null)if(w=M(),w!==null){B=[];for(y=q();y!==null;)B.push(y),y=q();if(B!==null)if(b.substr(a,1)===")"?(y=")",a+=1):(y=null,k&&g('")"')),y!==null){D=[];for(C=q();C!==null;)D.push(C),C=q();D!==null?d=[d,j,h,m,n,u,s,v,w,B,y,D]:(d=null,a=f)}else d=null,
a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"max"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(d[6],d[8]):null;f===null&&(f=null,a=i);if(f!==null)i=f;else{f=i=a;b.substr(a,1)==="A"?(d="A",a+=1):(d=null,k&&g('"A"'));d===null&&(b.substr(a,1)==="a"?(d="a",a+=1):(d=null,k&&g('"a"')),
d=d!==null?d:null);if(d!==null)if(b.substr(a,1)==="V"?(j="V",a+=1):(j=null,k&&g('"V"')),j===null&&(b.substr(a,1)==="v"?(j="v",a+=1):(j=null,k&&g('"v"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="G"?(h="G",a+=1):(h=null,k&&g('"G"')),h===null&&(b.substr(a,1)==="g"?(h="g",a+=1):(h=null,k&&g('"g"')),h=h!==null?h:null),h!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,k&&g('"("')),n!==null){u=[];for(s=q();s!==null;)u.push(s),s=q();if(u!==null)if(s=
a,b.substr(a,1)==="D"?(v="D",a+=1):(v=null,k&&g('"D"')),v===null&&(b.substr(a,1)==="d"?(v="d",a+=1):(v=null,k&&g('"d"')),v=v!==null?v:null),v!==null?(b.substr(a,1)==="I"?(w="I",a+=1):(w=null,k&&g('"I"')),w===null&&(b.substr(a,1)==="i"?(w="i",a+=1):(w=null,k&&g('"i"')),w=w!==null?w:null),w!==null?(b.substr(a,1)==="S"?(B="S",a+=1):(B=null,k&&g('"S"')),B===null&&(b.substr(a,1)==="s"?(B="s",a+=1):(B=null,k&&g('"s"')),B=B!==null?B:null),B!==null?(b.substr(a,1)==="T"?(y="T",a+=1):(y=null,k&&g('"T"')),y===
null&&(b.substr(a,1)==="t"?(y="t",a+=1):(y=null,k&&g('"t"')),y=y!==null?y:null),y!==null?(b.substr(a,1)==="I"?(D="I",a+=1):(D=null,k&&g('"I"')),D===null&&(b.substr(a,1)==="i"?(D="i",a+=1):(D=null,k&&g('"i"')),D=D!==null?D:null),D!==null?(b.substr(a,1)==="N"?(C="N",a+=1):(C=null,k&&g('"N"')),C===null&&(b.substr(a,1)==="n"?(C="n",a+=1):(C=null,k&&g('"n"')),C=C!==null?C:null),C!==null?(b.substr(a,1)==="C"?(A="C",a+=1):(A=null,k&&g('"C"')),A===null&&(b.substr(a,1)==="c"?(A="c",a+=1):(A=null,k&&g('"c"')),
A=A!==null?A:null),A!==null?(b.substr(a,1)==="T"?(E="T",a+=1):(E=null,k&&g('"T"')),E===null&&(b.substr(a,1)==="t"?(E="t",a+=1):(E=null,k&&g('"t"')),E=E!==null?E:null),E!==null?v=[v,w,B,y,D,C,A,E]:(v=null,a=s)):(v=null,a=s)):(v=null,a=s)):(v=null,a=s)):(v=null,a=s)):(v=null,a=s)):(v=null,a=s)):(v=null,a=s),s=v!==null?v:"",s!==null){v=[];for(w=q();w!==null;)v.push(w),w=q();if(v!==null)if(w=M(),w!==null){B=[];for(y=q();y!==null;)B.push(y),y=q();if(B!==null)if(b.substr(a,1)===")"?(y=")",a+=1):(y=null,
k&&g('")"')),y!==null){D=[];for(C=q();C!==null;)D.push(C),C=q();D!==null?d=[d,j,h,m,n,u,s,v,w,B,y,D]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"avg"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(d[6],d[8]):null;f===null&&(f=null,a=i);i=f!==null?f:null}}}}(k=
e)&&i===null&&g("[110] Aggregate");z[c]={nextPos:a,result:i};return i}function ac(){var b="IRIrefOrFunction@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=a,f=a,d=T();if(d!==null){var j=nb(),j=j!==null?j:"";j!==null?d=[d,j]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,b){var c={token:"expression",expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c}(d[0],d[1]):null;f===null&&(f=null,a=e);(k=c)&&f===null&&g("[117] IRIrefOrFunction");z[b]={nextPos:a,result:f};return f}
function La(){var c="RDFLiteral@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a,d=fc();if(d!==null){var i=gc();if(i===null){i=a;if(b.substr(a,2)==="^^"){var h="^^";a+=2}else h=null,k&&g('"^^"');if(h!==null){var m=T();m!==null?h=[h,m]:(h=null,a=i)}else h=null,a=i;i=h!==null?h:null}i=i!==null?i:"";i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,b){return typeof b==="string"&&b.length>0?{token:"literal",value:a.value,lang:b.slice(1),type:null}:typeof b==="object"?
(b.shift(),{token:"literal",value:a.value,lang:null,type:b[0]}):{token:"literal",value:a.value,lang:null,type:null}}(d[0],d[1]):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[112] RDFLiteral");z[c]={nextPos:a,result:f};return f}function Ma(){var b="NumericLiteral@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=hc();e===null&&(e=ic(),e===null&&(e=ya(),e=e!==null?e:null));(k=c)&&e===null&&g("[113] NumericLiteral");z[b]={nextPos:a,result:e};return e}function hc(){var b="NumericLiteralUnsigned@"+
a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=Wa();e===null&&(e=Xa(),e===null&&(e=fa(),e=e!==null?e:null));(k=c)&&e===null&&g("[114] NumericLiteralUnsigned");z[b]={nextPos:a,result:e};return e}function ic(){var b="NumericLiteralPositive@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=jc();e===null&&(e=kc(),e===null&&(e=lc(),e=e!==null?e:null));(k=c)&&e===null&&g("[115] NumericLiteralPositive");z[b]={nextPos:a,result:e};return e}function ya(){var b="NumericLiteralNegative@"+a,
c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=mc();e===null&&(e=nc(),e===null&&(e=oc(),e=e!==null?e:null));(k=c)&&e===null&&g("[116] NumericLiteralNegative");z[b]={nextPos:a,result:e};return e}function Na(){var c="BooleanLiteral@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="T"){var d="T";a+=1}else d=null,k&&g('"T"');d===null&&(b.substr(a,1)==="t"?(d="t",a+=1):(d=null,k&&g('"t"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="R"){var i="R";a+=1}else i=
null,k&&g('"R"');i===null&&(b.substr(a,1)==="r"?(i="r",a+=1):(i=null,k&&g('"r"')),i=i!==null?i:null);if(i!==null){if(b.substr(a,1)==="U"){var h="U";a+=1}else h=null,k&&g('"U"');h===null&&(b.substr(a,1)==="u"?(h="u",a+=1):(h=null,k&&g('"u"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="E"){var m="E";a+=1}else m=null,k&&g('"E"');m===null&&(b.substr(a,1)==="e"?(m="e",a+=1):(m=null,k&&g('"e"')),m=m!==null?m:null);m!==null?d=[d,i,h,m]:(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=
f;f=d!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;b.substr(a,1)==="F"?(d="F",a+=1):(d=null,k&&g('"F"'));d===null&&(b.substr(a,1)==="f"?(d="f",a+=1):(d=null,k&&g('"f"')),d=d!==null?d:null);if(d!==null)if(b.substr(a,1)==="A"?(i="A",a+=1):(i=null,k&&g('"A"')),i===null&&(b.substr(a,1)==="a"?(i="a",a+=1):(i=null,k&&g('"a"')),i=i!==null?i:null),i!==null)if(b.substr(a,1)==="L"?(h="L",a+=1):(h=null,
k&&g('"L"')),h===null&&(b.substr(a,1)==="l"?(h="l",a+=1):(h=null,k&&g('"l"')),h=h!==null?h:null),h!==null)if(b.substr(a,1)==="S"?(m="S",a+=1):(m=null,k&&g('"S"')),m===null&&(b.substr(a,1)==="s"?(m="s",a+=1):(m=null,k&&g('"s"')),m=m!==null?m:null),m!==null){if(b.substr(a,1)==="E"){var n="E";a+=1}else n=null,k&&g('"E"');n===null&&(b.substr(a,1)==="e"?(n="e",a+=1):(n=null,k&&g('"e"')),n=n!==null?n:null);n!==null?d=[d,i,h,m,n]:(d=null,a=f)}else d=null,a=f;else d=null,a=f;else d=null,a=f;else d=null,a=
f;f=d!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}:null;f===null&&(f=null,a=j);j=f!==null?f:null}(k=e)&&j===null&&g("[117] BooleanLiteral");z[c]={nextPos:a,result:j};return j}function fc(){var b="String@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=a,f=pc(),f=f!==null?{token:"string",value:f}:null;f===null&&(f=null,a=e);f!==null?e=f:(e=a,f=qc(),f=f!==null?{token:"string",value:f}:null,f===null&&(f=null,a=e),f!==null?e=f:(e=a,f=rc(),f=
f!==null?{token:"string",value:f}:null,f===null&&(f=null,a=e),f!==null?e=f:(e=a,f=sc(),f=f!==null?{token:"string",value:f}:null,f===null&&(f=null,a=e),e=f!==null?f:null)));(k=c)&&e===null&&g("[118] String");z[b]={nextPos:a,result:e};return e}function T(){var b="IRIref@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=a,f=sa(),f=f!==null?{token:"uri",prefix:null,suffix:null,value:f}:null;f===null&&(f=null,a=e);f!==null?e=f:(e=a,f=tc(),f=f!==null?f:null,f===null&&(f=null,a=e),e=f!==null?f:
null);(k=c)&&e===null&&g("[119] IRIref");z[b]={nextPos:a,result:e};return e}function tc(){var b="PrefixedName@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=a,f=uc(),f=f!==null?{token:"uri",prefix:f[0],suffix:f[1],value:null}:null;f===null&&(f=null,a=e);f!==null?e=f:(e=a,f=Ia(),f=f!==null?{token:"uri",prefix:f,suffix:"",value:null}:null,f===null&&(f=null,a=e),e=f!==null?f:null);(k=c)&&e===null&&g("[120] PrefixedName");z[b]={nextPos:a,result:e};return e}function $b(){var b="BlankNode@"+
a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=a,f=vc(),f=f!==null?{token:"blank",label:f}:null;f===null&&(f=null,a=e);f!==null?e=f:(e=a,wc()!==null?(ga++,f={token:"blank",label:""+ga}):f=null,f===null&&(f=null,a=e),e=f!==null?f:null);(k=c)&&e===null&&g("[121] BlankNode");z[b]={nextPos:a,result:e};return e}function sa(){var c="IRI_REF@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="<"){var d="<";a+=1}else d=null,k&&g('"<"');if(d!==null){var i=[];if(b.substr(a).match(/^[^<>"{} | ^\\]/)!==
null){var h=b.charAt(a);a++}else h=null,k&&g('[^<>"{} | ^\\\\]');for(;h!==null;)i.push(h),b.substr(a).match(/^[^<>"{} | ^\\]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g('[^<>"{} | ^\\\\]'));i!==null?(b.substr(a,1)===">"?(h=">",a+=1):(h=null,k&&g('">"')),h!==null?d=[d,i,h]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?d[1].join(""):null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[122] IRI_REF");z[c]={nextPos:a,result:f};return f}function Ia(){var c="PNAME_NS@"+a,e=z[c];if(e)return a=e.nextPos,
e.result;e=k;k=!1;var i=a,f=a,d=cb(),d=d!==null?d:"";if(d!==null){if(b.substr(a,1)===":"){var j=":";a+=1}else j=null,k&&g('":"');j!==null?d=[d,j]:(d=null,a=f)}else d=null,a=f;f=d!==null?d[0]:null;f===null&&(f=null,a=i);(k=e)&&f===null&&g("[123] PNAME_NS");z[c]={nextPos:a,result:f};return f}function uc(){var b="PNAME_LN@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=a,f=a,d=Ia();if(d!==null){var j=ub();j!==null?d=[d,j]:(d=null,a=f)}else d=null,a=f;f=d!==null?[d[0],d[1]]:null;f===null&&
(f=null,a=e);(k=c)&&f===null&&g("[124] PNAME_LN");z[b]={nextPos:a,result:f};return f}function vc(){var c="BLANK_NODE_LABEL@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,2)==="_:"){var d="_:";a+=2}else d=null,k&&g('"_:"');if(d!==null){var i=ub();i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?d[1]:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[125] BLANK_NODE_LABEL");z[c]={nextPos:a,result:f};return f}function Yb(){var c="VAR1@"+a,e=z[c];if(e)return a=e.nextPos,
e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="?"){var d="?";a+=1}else d=null,k&&g('"?"');if(d!==null){var i=vb();i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?d[1]:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[126] VAR1");z[c]={nextPos:a,result:f};return f}function Zb(){var c="VAR2@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="$"){var d="$";a+=1}else d=null,k&&g('"$"');if(d!==null){var i=vb();i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=
d!==null?d[1]:null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[127] VAR2");z[c]={nextPos:a,result:f};return f}function gc(){var c="LANGTAG@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a,1)==="@"){var d="@";a+=1}else d=null,k&&g('"@"');if(d!==null){if(b.substr(a).match(/^[a-zA-Z]/)!==null){var i=b.charAt(a);a++}else i=null,k&&g("[a-zA-Z]");if(i!==null)for(var h=[];i!==null;)h.push(i),b.substr(a).match(/^[a-zA-Z]/)!==null?(i=b.charAt(a),a++):(i=null,k&&g("[a-zA-Z]"));
else h=null;if(h!==null){var i=[],m=a;if(b.substr(a,1)==="-"){var n="-";a+=1}else n=null,k&&g('"-"');if(n!==null){if(b.substr(a).match(/^[a-zA-Z0-9]/)!==null){var q=b.charAt(a);a++}else q=null,k&&g("[a-zA-Z0-9]");if(q!==null)for(var s=[];q!==null;)s.push(q),b.substr(a).match(/^[a-zA-Z0-9]/)!==null?(q=b.charAt(a),a++):(q=null,k&&g("[a-zA-Z0-9]"));else s=null;s!==null?n=[n,s]:(n=null,a=m)}else n=null,a=m;for(;n!==null;)if(i.push(n),m=a,b.substr(a,1)==="-"?(n="-",a+=1):(n=null,k&&g('"-"')),n!==null){b.substr(a).match(/^[a-zA-Z0-9]/)!==
null?(q=b.charAt(a),a++):(q=null,k&&g("[a-zA-Z0-9]"));if(q!==null)for(s=[];q!==null;)s.push(q),b.substr(a).match(/^[a-zA-Z0-9]/)!==null?(q=b.charAt(a),a++):(q=null,k&&g("[a-zA-Z0-9]"));else s=null;s!==null?n=[n,s]:(n=null,a=m)}else n=null,a=m;i!==null?d=[d,h,i]:(d=null,a=f)}else d=null,a=f}else d=null,a=f;f=d!==null?d[2].length===0?("@"+d[1].join("")).toLowerCase():("@"+d[1].join("")+"-"+d[2][0][1].join("")).toLowerCase():null;f===null&&(f=null,a=j);(k=e)&&f===null&&g("[128] LANGTAG");z[c]={nextPos:a,
result:f};return f}function fa(){var c="INTEGER@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var i=a;if(b.substr(a).match(/^[0-9]/)!==null){var f=b.charAt(a);a++}else f=null,k&&g("[0-9]");if(f!==null)for(var d=[];f!==null;)d.push(f),b.substr(a).match(/^[0-9]/)!==null?(f=b.charAt(a),a++):(f=null,k&&g("[0-9]"));else d=null;f=d!==null?function(a){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#integer"};lit.value=Z(a);return lit}(d):null;f===null&&(f=null,a=i);(k=e)&&f===
null&&g("[129] INTEGER");z[c]={nextPos:a,result:f};return f}function Xa(){var c="DECIMAL@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var i=a,f=a;if(b.substr(a).match(/^[0-9]/)!==null){var d=b.charAt(a);a++}else d=null,k&&g("[0-9]");if(d!==null)for(var j=[];d!==null;)j.push(d),b.substr(a).match(/^[0-9]/)!==null?(d=b.charAt(a),a++):(d=null,k&&g("[0-9]"));else j=null;if(j!==null)if(b.substr(a,1)==="."?(d=".",a+=1):(d=null,k&&g('"."')),d!==null){var h=[];if(b.substr(a).match(/^[0-9]/)!==null){var m=
b.charAt(a);a++}else m=null,k&&g("[0-9]");for(;m!==null;)h.push(m),b.substr(a).match(/^[0-9]/)!==null?(m=b.charAt(a),a++):(m=null,k&&g("[0-9]"));h!==null?j=[j,d,h]:(j=null,a=f)}else j=null,a=f;else j=null,a=f;f=j!==null?function(a,b,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};lit.value=Z([a,b,c]);return lit}(j[0],j[1],j[2]):null;f===null&&(f=null,a=i);if(f!==null)i=f;else{f=i=a;b.substr(a,1)==="."?(j=".",a+=1):(j=null,k&&g('"."'));if(j!==null){b.substr(a).match(/^[0-9]/)!==
null?(d=b.charAt(a),a++):(d=null,k&&g("[0-9]"));if(d!==null)for(h=[];d!==null;)h.push(d),b.substr(a).match(/^[0-9]/)!==null?(d=b.charAt(a),a++):(d=null,k&&g("[0-9]"));else h=null;h!==null?j=[j,h]:(j=null,a=f)}else j=null,a=f;f=j!==null?function(a,b){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};lit.value=Z([a,b]);return lit}(j[0],j[1]):null;f===null&&(f=null,a=i);i=f!==null?f:null}(k=e)&&i===null&&g("[130] DECIMAL");z[c]={nextPos:a,result:i};return i}function Wa(){var c=
"DOUBLE@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var j=a,f=a;if(b.substr(a).match(/^[0-9]/)!==null){var d=b.charAt(a);a++}else d=null,k&&g("[0-9]");if(d!==null)for(var i=[];d!==null;)i.push(d),b.substr(a).match(/^[0-9]/)!==null?(d=b.charAt(a),a++):(d=null,k&&g("[0-9]"));else i=null;if(i!==null)if(b.substr(a,1)==="."?(d=".",a+=1):(d=null,k&&g('"."')),d!==null){var h=[];if(b.substr(a).match(/^[0-9]/)!==null){var m=b.charAt(a);a++}else m=null,k&&g("[0-9]");for(;m!==null;)h.push(m),b.substr(a).match(/^[0-9]/)!==
null?(m=b.charAt(a),a++):(m=null,k&&g("[0-9]"));h!==null?(m=Ya(),m!==null?i=[i,d,h,m]:(i=null,a=f)):(i=null,a=f)}else i=null,a=f;else i=null,a=f;f=i!==null?function(a,b,c,d){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=Z([a,b,c,d]);return lit}(i[0],i[1],i[2],i[3]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;b.substr(a,1)==="."?(i=".",a+=1):(i=null,k&&g('"."'));if(i!==null){b.substr(a).match(/^[0-9]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[0-9]"));
if(h!==null)for(d=[];h!==null;)d.push(h),b.substr(a).match(/^[0-9]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[0-9]"));else d=null;d!==null?(h=Ya(),h!==null?i=[i,d,h]:(i=null,a=f)):(i=null,a=f)}else i=null,a=f;f=i!==null?function(a,b,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=Z([a,b,c]);return lit}(i[0],i[1],i[2]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;b.substr(a).match(/^[0-9]/)!==null?(d=b.charAt(a),a++):(d=null,k&&g("[0-9]"));if(d!==
null)for(i=[];d!==null;)i.push(d),b.substr(a).match(/^[0-9]/)!==null?(d=b.charAt(a),a++):(d=null,k&&g("[0-9]"));else i=null;i!==null?(d=Ya(),d!==null?i=[i,d]:(i=null,a=f)):(i=null,a=f);f=i!==null?function(a,b){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=Z([a,b]);return lit}(i[0],i[1]):null;f===null&&(f=null,a=j);j=f!==null?f:null}}(k=e)&&j===null&&g("[131] DOUBLE");z[c]={nextPos:a,result:j};return j}function lc(){var c="INTEGER_POSITIVE@"+a,e=z[c];if(e)return a=
e.nextPos,e.result;e=k;k=!1;var i=a,f=a;if(b.substr(a,1)==="+"){var d="+";a+=1}else d=null,k&&g('"+"');if(d!==null){var j=fa();j!==null?d=[d,j]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){a.value="+"+a.value;return a}(d[1]):null;f===null&&(f=null,a=i);(k=e)&&f===null&&g("[132] INTEGER_POSITIVE");z[c]={nextPos:a,result:f};return f}function kc(){var c="DECIMAL_POSITIVE@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var i=a,f=a;if(b.substr(a,1)==="+"){var d="+";a+=1}else d=null,k&&g('"+"');
if(d!==null){var j=Xa();j!==null?d=[d,j]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){a.value="+"+a.value;return a}(d[1]):null;f===null&&(f=null,a=i);(k=e)&&f===null&&g("[133] DECIMAL_POSITIVE");z[c]={nextPos:a,result:f};return f}function jc(){var c="DOUBLE_POSITIVE@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var i=a,f=a;if(b.substr(a,1)==="+"){var d="+";a+=1}else d=null,k&&g('"+"');if(d!==null){var j=Wa();j!==null?d=[d,j]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){a.value=
"+"+a.value;return a}(d[1]):null;f===null&&(f=null,a=i);(k=e)&&f===null&&g("[134] DOUBLE_POSITIVE");z[c]={nextPos:a,result:f};return f}function oc(){var c="INTEGER_NEGATIVE@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var i=a,f=a;if(b.substr(a,1)==="-"){var d="-";a+=1}else d=null,k&&g('"-"');if(d!==null){var j=fa();j!==null?d=[d,j]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){a.value="-"+a.value;return a}(d[1]):null;f===null&&(f=null,a=i);(k=e)&&f===null&&g("[135] INTEGER_NEGATIVE");
z[c]={nextPos:a,result:f};return f}function nc(){var c="DECIMAL_NEGATIVE@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var i=a,f=a;if(b.substr(a,1)==="-"){var d="-";a+=1}else d=null,k&&g('"-"');if(d!==null){var j=Xa();j!==null?d=[d,j]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){a.value="-"+a.value;return a}(d[1]):null;f===null&&(f=null,a=i);(k=e)&&f===null&&g("[136] DECIMAL_NEGATIVE");z[c]={nextPos:a,result:f};return f}function mc(){var c="DOUBLE_NEGATIVE@"+a,e=z[c];if(e)return a=e.nextPos,
e.result;e=k;k=!1;var i=a,f=a;if(b.substr(a,1)==="-"){var d="-";a+=1}else d=null,k&&g('"-"');if(d!==null){var j=Wa();j!==null?d=[d,j]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){a.value="-"+a.value;return a}(d[1]):null;f===null&&(f=null,a=i);(k=e)&&f===null&&g("[137] DOUBLE_NEGATIVE");z[c]={nextPos:a,result:f};return f}function Ya(){var c="EXPONENT@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var i=a,f=a;if(b.substr(a).match(/^[eE]/)!==null){var d=b.charAt(a);a++}else d=null,k&&g("[eE]");
if(d!==null){if(b.substr(a).match(/^[+\-]/)!==null){var j=b.charAt(a);a++}else j=null,k&&g("[+\\-]");j=j!==null?j:"";if(j!==null){if(b.substr(a).match(/^[0-9]/)!==null){var h=b.charAt(a);a++}else h=null,k&&g("[0-9]");if(h!==null)for(var m=[];h!==null;)m.push(h),b.substr(a).match(/^[0-9]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[0-9]"));else m=null;m!==null?d=[d,j,m]:(d=null,a=f)}else d=null,a=f}else d=null,a=f;f=d!==null?Z([d[0],d[1],d[2]]):null;f===null&&(f=null,a=i);(k=e)&&f===null&&g("[138] EXPONENT");
z[c]={nextPos:a,result:f};return f}function rc(){var c="STRING_LITERAL1@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var i=a,f=a;if(b.substr(a,1)==="'"){var d="'";a+=1}else d=null,k&&g('"\'"');if(d!==null){var j=[];if(b.substr(a).match(/^[^'\\\n\r]/)!==null){var h=b.charAt(a);a++}else h=null,k&&g("[^'\\\\\\n\\r]");h===null&&(h=ha(),h=h!==null?h:null);for(;h!==null;)j.push(h),b.substr(a).match(/^[^'\\\n\r]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[^'\\\\\\n\\r]")),h===null&&(h=ha(),h=h!==
null?h:null);j!==null?(b.substr(a,1)==="'"?(h="'",a+=1):(h=null,k&&g('"\'"')),h!==null?d=[d,j,h]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?Z(d[1]):null;f===null&&(f=null,a=i);(k=e)&&f===null&&g("[139] STRING_LITERAL1");z[c]={nextPos:a,result:f};return f}function sc(){var c="STRING_LITERAL2@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var i=a,f=a;if(b.substr(a,1)==='"'){var d='"';a+=1}else d=null,k&&g('"\\""');if(d!==null){var j=[];if(b.substr(a).match(/^[^"\\\n\r]/)!==null){var h=
b.charAt(a);a++}else h=null,k&&g('[^"\\\\\\n\\r]');h===null&&(h=ha(),h=h!==null?h:null);for(;h!==null;)j.push(h),b.substr(a).match(/^[^"\\\n\r]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g('[^"\\\\\\n\\r]')),h===null&&(h=ha(),h=h!==null?h:null);j!==null?(b.substr(a,1)==='"'?(h='"',a+=1):(h=null,k&&g('"\\""')),h!==null?d=[d,j,h]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?Z(d[1]):null;f===null&&(f=null,a=i);(k=e)&&f===null&&g("[140] STRING_LITERAL2");z[c]={nextPos:a,result:f};return f}function pc(){var c=
"STRING_LITERAL_LONG1@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var i=a,f=a;if(b.substr(a,3)==="'''"){var d="'''";a+=3}else d=null,k&&g("\"'''\"");if(d!==null){var j=[];if(b.substr(a).match(/^[^'\\]/)!==null){var h=b.charAt(a);a++}else h=null,k&&g("[^'\\\\]");h===null&&(h=ha(),h=h!==null?h:null);for(;h!==null;)j.push(h),b.substr(a).match(/^[^'\\]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[^'\\\\]")),h===null&&(h=ha(),h=h!==null?h:null);j!==null?(b.substr(a,3)==="'''"?(h="'''",a+=3):(h=
null,k&&g("\"'''\"")),h!==null?d=[d,j,h]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?Z(d[1]):null;f===null&&(f=null,a=i);(k=e)&&f===null&&g("[141] STRING_LITERAL_LONG1");z[c]={nextPos:a,result:f};return f}function qc(){var c="STRING_LITERAL_LONG2@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var i=a,f=a;if(b.substr(a,3)==='"""'){var d='"""';a+=3}else d=null,k&&g('"\\"\\"\\""');if(d!==null){var j=[];if(b.substr(a).match(/^[^"\\]/)!==null){var h=b.charAt(a);a++}else h=null,k&&g('[^"\\\\]');
h===null&&(h=ha(),h=h!==null?h:null);for(;h!==null;)j.push(h),b.substr(a).match(/^[^"\\]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g('[^"\\\\]')),h===null&&(h=ha(),h=h!==null?h:null);j!==null?(b.substr(a,3)==='"""'?(h='"""',a+=3):(h=null,k&&g('"\\"\\"\\""')),h!==null?d=[d,j,h]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?Z(d[1]):null;f===null&&(f=null,a=i);(k=e)&&f===null&&g("[142] STRING_LITERAL_LONG2");z[c]={nextPos:a,result:f};return f}function ha(){var c="ECHAR@"+a,e=z[c];if(e)return a=
e.nextPos,e.result;e=k;k=!1;var h=a;if(b.substr(a,1)==="\\"){var f="\\";a+=1}else f=null,k&&g('"\\\\"');if(f!==null){if(b.substr(a).match(/^[tbnrf"']/)!==null){var d=b.charAt(a);a++}else d=null,k&&g("[tbnrf\"']");d!==null?f=[f,d]:(f=null,a=h)}else f=null,a=h;(k=e)&&f===null&&g("[143] ECHAR");z[c]={nextPos:a,result:f};return f}function ma(){var c="NIL@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var h=a,f=a;if(b.substr(a,1)==="("){var d="(";a+=1}else d=null,k&&g('"("');if(d!==null){for(var i=
[],j=q();j!==null;)i.push(j),j=q();i!==null?(b.substr(a,1)===")"?(j=")",a+=1):(j=null,k&&g('")"')),j!==null?d=[d,i,j]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}:null;f===null&&(f=null,a=h);(k=e)&&f===null&&g("[144] NIL");z[c]={nextPos:a,result:f};return f}function q(){var c="WS@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;if(b.substr(a).match(/^[ ]/)!==
null){var h=b.charAt(a);a++}else h=null,k&&g("[ ]");h===null&&(b.substr(a).match(/^[\t]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[\t]")),h===null&&(b.substr(a).match(/^[\r]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[\\r]")),h===null&&(b.substr(a).match(/^[\n]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[\\n]")),h===null&&(h=xc(),h=h!==null?h:null))));(k=e)&&h===null&&g("[145] WS");z[c]={nextPos:a,result:h};return h}function xc(){var c="COMMENT@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;
var h=a;if(b.substr(a,1)==="#"){var f="#";a+=1}else f=null,k&&g('"#"');if(f!==null){var d=[];if(b.substr(a).match(/^[^\n\r]/)!==null){var j=b.charAt(a);a++}else j=null,k&&g("[^\\n\\r]");for(;j!==null;)d.push(j),b.substr(a).match(/^[^\n\r]/)!==null?(j=b.charAt(a),a++):(j=null,k&&g("[^\\n\\r]"));d!==null?f=[f,d]:(f=null,a=h)}else f=null,a=h;(k=e)&&f===null&&g(" COMMENT");z[c]={nextPos:a,result:f};return f}function wc(){var c="ANON@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var h=a;if(b.substr(a,
1)==="["){var f="[";a+=1}else f=null,k&&g('"["');if(f!==null){for(var d=[],j=q();j!==null;)d.push(j),j=q();d!==null?(b.substr(a,1)==="]"?(j="]",a+=1):(j=null,k&&g('"]"')),j!==null?f=[f,d,j]:(f=null,a=h)):(f=null,a=h)}else f=null,a=h;(k=e)&&f===null&&g("[146] ANON");z[c]={nextPos:a,result:f};return f}function wb(){var c="PN_CHARS_BASE@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;if(b.substr(a).match(/^[A-Z]/)!==null){var h=b.charAt(a);a++}else h=null,k&&g("[A-Z]");h===null&&(b.substr(a).match(/^[a-z]/)!==
null?(h=b.charAt(a),a++):(h=null,k&&g("[a-z]")),h===null&&(b.substr(a).match(/^[\xC0-\xD6]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[\\xC0-\\xD6]")),h===null&&(b.substr(a).match(/^[\xD8-\xF6]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[\\xD8-\\xF6]")),h===null&&(b.substr(a).match(/^[\xF8-\u02FF]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[\\xF8-\\u02FF]")),h===null&&(b.substr(a).match(/^[\u0370-\u037D]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[\\u0370-\\u037D]")),h===null&&(b.substr(a).match(/^[\u037F-\u1FFF]/)!==
null?(h=b.charAt(a),a++):(h=null,k&&g("[\\u037F-\\u1FFF]")),h===null&&(b.substr(a).match(/^[\u200C-\u200D]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[\\u200C-\\u200D]")),h===null&&(b.substr(a).match(/^[\u2070-\u218F]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[\\u2070-\\u218F]")),h===null&&(b.substr(a).match(/^[\u2C00-\u2FEF]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[\\u2C00-\\u2FEF]")),h===null&&(b.substr(a).match(/^[\u3001-\uD7FF]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[\\u3001-\\uD7FF]")),
h===null&&(b.substr(a).match(/^[\uF900-\uFDCF]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[\\uF900-\\uFDCF]")),h===null&&(b.substr(a).match(/^[\uFDF0-\uFFFD]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[\\uFDF0-\\uFFFD]")),h===null&&(b.substr(a).match(/^[\u1000-\uEFFF]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[\\u1000-\\uEFFF]")),h=h!==null?h:null)))))))))))));(k=e)&&h===null&&g("[147] PN_CHARS_BASE");z[c]={nextPos:a,result:h};return h}function za(){var c="PN_CHARS_U@"+a,e=z[c];if(e)return a=e.nextPos,
e.result;e=k;k=!1;var h=wb();h===null&&(b.substr(a,1)==="_"?(h="_",a+=1):(h=null,k&&g('"_"')),h=h!==null?h:null);(k=e)&&h===null&&g("[148] PN_CHARS_U");z[c]={nextPos:a,result:h};return h}function vb(){var c="VARNAME@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var h=a,f=a,d=za();d===null&&(b.substr(a).match(/^[0-9]/)!==null?(d=b.charAt(a),a++):(d=null,k&&g("[0-9]")),d=d!==null?d:null);if(d!==null){var j=[],i=za();i===null&&(b.substr(a).match(/^[0-9]/)!==null?(i=b.charAt(a),a++):(i=null,k&&
g("[0-9]")),i===null&&(b.substr(a).match(/^[\xB7]/)!==null?(i=b.charAt(a),a++):(i=null,k&&g("[\\xB7]")),i===null&&(b.substr(a).match(/^[\u0300-\u036F]/)!==null?(i=b.charAt(a),a++):(i=null,k&&g("[\\u0300-\\u036F]")),i===null&&(b.substr(a).match(/^[\u203F-\u2040]/)!==null?(i=b.charAt(a),a++):(i=null,k&&g("[\\u203F-\\u2040]")),i=i!==null?i:null))));for(;i!==null;)j.push(i),i=za(),i===null&&(b.substr(a).match(/^[0-9]/)!==null?(i=b.charAt(a),a++):(i=null,k&&g("[0-9]")),i===null&&(b.substr(a).match(/^[\xB7]/)!==
null?(i=b.charAt(a),a++):(i=null,k&&g("[\\xB7]")),i===null&&(b.substr(a).match(/^[\u0300-\u036F]/)!==null?(i=b.charAt(a),a++):(i=null,k&&g("[\\u0300-\\u036F]")),i===null&&(b.substr(a).match(/^[\u203F-\u2040]/)!==null?(i=b.charAt(a),a++):(i=null,k&&g("[\\u203F-\\u2040]")),i=i!==null?i:null))));j!==null?d=[d,j]:(d=null,a=f)}else d=null,a=f;f=d!==null?d[0]+d[1].join(""):null;f===null&&(f=null,a=h);(k=e)&&f===null&&g("[149] VARNAME");z[c]={nextPos:a,result:f};return f}function Ha(){var c="PN_CHARS@"+
a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var h=za();h===null&&(b.substr(a,1)==="-"?(h="-",a+=1):(h=null,k&&g('"-"')),h===null&&(b.substr(a).match(/^[0-9]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[0-9]")),h===null&&(b.substr(a).match(/^[\xB7]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[\\xB7]")),h===null&&(b.substr(a).match(/^[\u0300-\u036F]/)!==null?(h=b.charAt(a),a++):(h=null,k&&g("[\\u0300-\\u036F]")),h===null&&(b.substr(a).match(/^[\u203F-\u2040]/)!==null?(h=b.charAt(a),a++):(h=null,
k&&g("[\\u203F-\\u2040]")),h=h!==null?h:null)))));(k=e)&&h===null&&g("[150] PN_CHARS");z[c]={nextPos:a,result:h};return h}function cb(){var c="PN_PREFIX@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var h=a,f=a,d=wb();if(d!==null){var i=[],j=Ha();j===null&&(b.substr(a,1)==="."?(j=".",a+=1):(j=null,k&&g('"."')),j=j!==null?j:null);for(;j!==null;)i.push(j),j=Ha(),j===null&&(b.substr(a,1)==="."?(j=".",a+=1):(j=null,k&&g('"."')),j=j!==null?j:null);i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=
d!==null?function(a,b){if(b[b.length-1]==".")throw Error("Wrong PN_PREFIX, cannot finish with '.'");else return a+b.join("")}(d[0],d[1]):null;f===null&&(f=null,a=h);(k=e)&&f===null&&g("[151] PN_PREFIX");z[c]={nextPos:a,result:f};return f}function ub(){var c="PN_LOCAL@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var h=a,f=a,d=za();d===null&&(b.substr(a).match(/^[0-9]/)!==null?(d=b.charAt(a),a++):(d=null,k&&g("[0-9]")),d=d!==null?d:null);if(d!==null){for(var i=[],j=Ha();j!==null;)i.push(j),
j=Ha();i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?d[0]+d[1].join(""):null;f===null&&(f=null,a=h);(k=e)&&f===null&&g("[152] PN_LOCAL");z[c]={nextPos:a,result:f};return f}function yc(){var c=function(a){a.sort();for(var b=null,c=[],e=0;e<a.length;e++)a[e]!==b&&(c.push(a[e]),b=a[e]);switch(c.length){case 0:return"end of input";case 1:return c[0];default:return c.slice(0,c.length-1).join(", ")+" or "+c[c.length-1]}}(bb),e=Math.max(a,Ca),e=e<b.length?i(b.charAt(e)):"end of input";return"Expected "+
c+" but "+e+" found."}function zc(){for(var a=1,c=1,e=!1,f=0;f<Ca;f++){var d=b.charAt(f);d==="\n"?(e||a++,c=1,e=!1):d==="\r"|d==="\u2028"||d==="\u2029"?(a++,c=1,e=!0):(c++,e=!1)}return{line:a,column:c}}var ia={ANON:wc,AdditiveExpression:X,Aggregate:bc,ArgList:nb,AskQuery:aa,BLANK_NODE_LABEL:vc,BaseDecl:v,BindingValue:K,BindingsClause:ca,BlankNode:$b,BlankNodePropertyList:Wb,BooleanLiteral:Na,BrackettedExpression:Ka,BuiltInCall:Ja,COMMENT:xc,Clear:zb,Collection:Vb,ConditionalAndExpression:Ua,ConditionalOrExpression:M,
Constraint:Da,ConstructQuery:V,ConstructTemplate:Gb,ConstructTriples:ob,Create:Cb,DECIMAL:Xa,DECIMAL_NEGATIVE:nc,DECIMAL_POSITIVE:kc,DOCUMENT:function(){var b="DOCUMENT@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=h();c===null&&(c=E(),c=c!==null?c:null);z[b]={nextPos:a,result:c};return c},DOUBLE:Wa,DOUBLE_NEGATIVE:mc,DOUBLE_POSITIVE:jc,DatasetClause:ba,DefaultGraphClause:oa,DeleteClause:Ib,DeleteData:Db,DeleteWhere:ea,DescribeQuery:W,Drop:Ab,ECHAR:ha,EXPONENT:Ya,ExistsFunc:dc,ExpressionList:Qb,Filter:Pb,
FunctionCall:eb,GraphGraphPattern:Nb,GraphNode:wa,GraphPatternNotTriples:mb,GraphRef:Oa,GraphRefAll:fb,GraphTerm:Xb,GroupClause:U,GroupCondition:P,GroupGraphPattern:Y,GroupGraphPatternSub:Jb,GroupOrUnionGraphPattern:Kb,HavingClause:Aa,INTEGER:fa,INTEGER_NEGATIVE:oc,INTEGER_POSITIVE:lc,IRI_REF:sa,IRIref:T,IRIrefOrFunction:ac,InsertClause:hb,InsertData:ra,LANGTAG:gc,LimitClause:$a,LimitOffsetClauses:yb,Load:Bb,MinusGraphPattern:Mb,Modify:Hb,MultiplicativeExpression:xa,NIL:ma,NamedGraphClause:pa,NotExistsFunc:ec,
NumericLiteral:Ma,NumericLiteralNegative:ya,NumericLiteralPositive:ic,NumericLiteralUnsigned:hc,ObjectList:na,OffsetClause:ja,OptionalGraphPattern:Lb,OrderClause:xb,OrderCondition:Za,PNAME_LN:uc,PNAME_NS:Ia,PN_CHARS:Ha,PN_CHARS_BASE:wb,PN_CHARS_U:za,PN_LOCAL:ub,PN_PREFIX:cb,PathAlternative:rb,PathElt:sb,PathEltOrInverse:Ta,PathMod:Tb,PathNegatedPropertySet:Ub,PathOneInPropertySet:Fa,PathPrimary:Sb,PathSequence:Sa,PrefixDecl:u,PrefixedName:tc,PrimaryExpression:Ga,Prologue:n,PropertyList:Rb,PropertyListNotEmpty:Ea,
PropertyListNotEmptyPath:function(){var c="PropertyListNotEmptyPath@"+a,e=z[c];if(e)return a=e.nextPos,e.result;e=k;k=!1;var h=a,f=Ra();f===null&&(f=S(),f=f!==null?f:null);if(f!==null){var d=na();if(d!==null){var i=[],j=a;if(b.substr(a,1)===";"){var m=";";a+=1}else m=null,k&&g('";"');if(m!==null){var n=a,q=Ra();q===null&&(q=S(),q=q!==null?q:null);if(q!==null){var s=na();s!==null?q=[q,s]:(q=null,a=n)}else q=null,a=n;n=q!==null?q:"";n!==null?m=[m,n]:(m=null,a=j)}else m=null,a=j;for(;m!==null;)i.push(m),
j=a,b.substr(a,1)===";"?(m=";",a+=1):(m=null,k&&g('";"')),m!==null?(n=a,q=Ra(),q===null&&(q=S(),q=q!==null?q:null),q!==null?(s=na(),s!==null?q=[q,s]:(q=null,a=n)):(q=null,a=n),n=q!==null?q:"",n!==null?m=[m,n]:(m=null,a=j)):(m=null,a=j);i!==null?f=[f,d,i]:(f=null,a=h)}else f=null,a=h}else f=null,a=h;(k=e)&&f===null&&g("[73] PropertyListNotEmptyPath");z[c]={nextPos:a,result:f};return f},PropertyListPath:function(){var b="PropertyListPath@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=k;k=!1;var e=Ea(),
e=e!==null?e:"";(k=c)&&e===null&&g("[74] PropertyListPath");z[b]={nextPos:a,result:e};return e},QuadData:gb,QuadPattern:jb,Quads:kb,QuadsNotTriples:lb,Query:m,RDFLiteral:La,RegexExpression:cc,RelationalExpression:Va,SPARQL:h,STRING_LITERAL1:rc,STRING_LITERAL2:sc,STRING_LITERAL_LONG1:pc,STRING_LITERAL_LONG2:qc,SelectClause:Q,SelectQuery:J,ServiceGraphPattern:Ob,SolutionModifier:Ba,String:fc,SubSelect:H,TURTLE:E,TriplesBlock:ua,TriplesNode:qb,TriplesSameSubject:Pa,TriplesTemplate:va,UnaryExpression:$,
Update:ab,Update1:O,UsingClause:ib,VAR1:Yb,VAR2:Zb,VARNAME:vb,Var:S,VarOrIRIref:la,VarOrTerm:pb,Verb:Qa,VerbPath:Ra,WS:q,WhereClause:qa,base:G,directive:F,prefixID:L,statement:A};if(c!==void 0){if(ia[c]===void 0)throw Error("Invalid rule name: "+i(c)+".");}else c="DOCUMENT";var a=0,k=!0,Ca=0,bb=[],z={},Z=function(a){for(var b="",c=0;c<a.length;c++)b+=typeof a[c]==="string"?a[c]:a[c].join("");return b},ga=0,Fb=function(a){for(var b="",c=0;c<a.length;c++)b+=a[c];return b.toUpperCase()},ia=ia[c]();if(ia===
null||a!==b.length)throw ia=zc(),new this.SyntaxError(yc(),ia.line,ia.column);return ia},toSource:function(){return this._source},SyntaxError:function(b,c,j){this.name="SyntaxError";this.message=b;this.line=c;this.column=j}};c.SyntaxError.prototype=Error.prototype;return c}();TurtleParser={};(new Date).getTime();TurtleParser.combined_parser=SparqlParser.parser;TurtleParser.parser={};TurtleParser.parser.parse=function(c,b){for(var e=[],j=TurtleParser.combined_parser.parse(c),i={},g={namespaces:i,base:"",
blankCounter:0},h=0;h<j.length;h++){var m=j[h];if(m.token==="base")g.base=m.value;else if(m.token==="prefix")i[m.prefix]=m.local;else if(m.token==="triples"||m.token==="triplespattern")for(var n=0;n<m.triplesContext.length;n++){var v=m.triplesContext[n],v={subject:Utils.lexicalFormTerm(v.subject,g),predicate:Utils.lexicalFormTerm(v.predicate,g),object:Utils.lexicalFormTerm(v.object,g),graph:b};e.push(v)}}return e};RDFJSInterface={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",
owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",
ccard:"http://purl.org/commerce/creditcard#"},UrisMap:function(){this.defaultNs="";this.interfaceProperties=["get","remove","set","setDefault","addAll","resolve","shrink"]}};RDFJSInterface.UrisMap.prototype.values=function(){var c={},b;for(b in this)!Utils.include(this.interfaceProperties,b)&&typeof this[b]!=="function"&&b!=="defaultNs"&&b!=="interfaceProperties"&&(c[b]=this[b]);return c};RDFJSInterface.UrisMap.prototype.get=function(c){if(c.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";
return this[c]};RDFJSInterface.UrisMap.prototype.remove=function(c){if(c.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";delete this[c];return null};RDFJSInterface.UrisMap.prototype.set=function(c,b){if(c.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";this[c]=b};RDFJSInterface.UrisMap.prototype.setDefault=function(c){this.defaultNs=c};RDFJSInterface.UrisMap.prototype.addAll=function(c,b){for(var e in c)Utils.include(this.interfaceProperties,e)||(this[e]!=null?b===
!0&&(this[e]=c[e]):this[e]=c[e]);return this};RDFJSInterface.UrisMap.prototype.resolve=function(c){var b=c.split(":"),c=b[0],b=b[1];return c===""?this.defaultNs+b:this[c]!=null?this[c]+b:null};RDFJSInterface.UrisMap.prototype.shrink=function(c){for(var b in this){var e=this[b];if(c.indexOf(e)===0&&e!=="")return c=c.split(e)[1],b+":"+c}return c};RDFJSInterface.Profile=function(){this.prefixes=new RDFJSInterface.UrisMap;this.terms=new RDFJSInterface.UrisMap};RDFJSInterface.Profile.prototype.importProfile=
function(c,b){this.prefixes.addAll(c.prefixes,b);this.terms.addAll(c.terms,b)};RDFJSInterface.Profile.prototype.resolve=function(c){return c.indexOf(":")!=-1?this.prefixes.resolve(c):this.terms[c]!=null?this.terms.resolve(c):null};RDFJSInterface.Profile.prototype.setDefaultPrefix=function(c){this.prefixes.setDefault(c)};RDFJSInterface.Profile.prototype.setDefaultVocabulary=function(c){this.terms.setDefault(c)};RDFJSInterface.Profile.prototype.setPrefix=function(c,b){this.prefixes.set(c,b)};RDFJSInterface.Profile.prototype.setTerm=
function(c,b){this.terms.set(c,b)};RDFJSInterface.RDFEnvironment=function(){this.blankNodeCounter=0;var c=this;this.filters={s:function(b){return function(c){return c.subject.equals(b)}},p:function(b){return function(c){return c.predicate.equals(b)}},o:function(b){return function(c){return c.object.equals(b)}},sp:function(b,c){return function(i){return i.subject.equals(b)&&i.predicate.equals(c)}},so:function(b,c){return function(i){return i.subject.equals(b)&&i.object.equals(c)}},po:function(b,c){return function(i){return i.predicate.equals(b)&&
i.object.equals(c)}},spo:function(b,c,i){return function(g){return g.subject.equals(b)&&g.predicate.equals(c)&&g.object.equals(i)}},describes:function(b){return function(c){return c.subject.equals(b)||c.object.equals(b)}},type:function(b){var j=c.resolve("rdf:type");return function(c){return c.predicate.equals(j)&&c.object.equals(b)}}};for(var b in RDFJSInterface.defaultContext)this.prefixes.set(b,RDFJSInterface.defaultContext[b])};Utils["extends"](RDFJSInterface.Profile,RDFJSInterface.RDFEnvironment);
RDFJSInterface.RDFEnvironment.prototype.createBlankNode=function(){var c=new RDFJSInterface.BlankNode(this.blankNodeCounter);this.blankNodeCounter++;return c};RDFJSInterface.RDFEnvironment.prototype.createNamedNode=function(c){var b=this.resolve(c);return b!=null?new RDFJSInterface.NamedNode(b):new RDFJSInterface.NamedNode(c)};RDFJSInterface.RDFEnvironment.prototype.createLiteral=function(c,b,e){return e!=null?new RDFJSInterface.Literal(c,b,e.toString()):new RDFJSInterface.Literal(c,b,e)};RDFJSInterface.RDFEnvironment.prototype.createTriple=
function(c,b,e){return new RDFJSInterface.Triple(c,b,e)};RDFJSInterface.RDFEnvironment.prototype.createGraph=function(c){var b=new RDFJSInterface.Graph;if(c!=null)for(var e=0;e<c.length;e++)b.add(c[e]);return b};RDFJSInterface.RDFEnvironment.prototype.createAction=function(c,b){return function(e){return c(e)?b(e):e}};RDFJSInterface.RDFEnvironment.prototype.createProfile=function(c){return c===!0?new RDFJSInterface.RDFEnvironment.Profile:(c=new RDFJSInterface.RDFEnvironment.Profile,c.importProfile(this),
c)};RDFJSInterface.RDFEnvironment.prototype.createTermMap=function(c){if(c===!0)return new RDFJSInterface.UrisMap;else{var c=this.terms.values(),b=new RDFJSInterface.UrisMap,e;for(e in c)b[e]=c[e];return b}};RDFJSInterface.RDFEnvironment.prototype.createPrefixMap=function(c){if(c===!0)return new RDFJSInterface.UrisMap;else{var c=this.prefixes.values(),b=new RDFJSInterface.UrisMap,e;for(e in c)b[e]=c[e];return b}};RDFJSInterface.RDFNode=function(c){this.interfaceName=c;this.attributes=["interfaceName",
"nominalValue"]};RDFJSInterface.RDFNode.prototype.equals=function(c){if(c.interfaceName==null)return this.valueOf()==c;else{for(var b in this.attributes){var e=this.attributes[b];if(this[e]!=c[e])return!1}return!0}};RDFJSInterface.BlankNode=function(c){RDFJSInterface.RDFNode.call(this,"BlankNode");this.nominalValue="_:"+c;this.bnodeId=c};Utils["extends"](RDFJSInterface.RDFNode,RDFJSInterface.BlankNode);RDFJSInterface.BlankNode.prototype.toString=function(){return this.nominalValue};RDFJSInterface.BlankNode.prototype.toNT=
function(){return this.nominalValue};RDFJSInterface.BlankNode.prototype.valueOf=function(){return this.nominalValue};RDFJSInterface.Literal=function(c,b,e){RDFJSInterface.RDFNode.call(this,"Literal");this.nominalValue=c;if(b!=null)this.language=b;else if(e!=null)this.datatype=e};Utils["extends"](RDFJSInterface.RDFNode,RDFJSInterface.Literal);RDFJSInterface.Literal.prototype.toString=function(){var c='"'+this.nominalValue+'"';if(this.language!=null)c=c+"@"+this.language;else if(this.datatype!=null||
this.type)c=c+"^^<"+(this.datatype||this.type)+">";return c};RDFJSInterface.Literal.prototype.toNT=function(){return this.toString()};RDFJSInterface.Literal.prototype.valueOf=function(){return QueryFilters.effectiveTypeValue({token:"literal",type:this.type,value:this.nominalValue,language:this.language})};RDFJSInterface.NamedNode=function(c){RDFJSInterface.RDFNode.call(this,"NamedNode");this.nominalValue=c.value!=null?c.value:c};Utils["extends"](RDFJSInterface.RDFNode,RDFJSInterface.NamedNode);RDFJSInterface.NamedNode.prototype.toString=
function(){return this.nominalValue};RDFJSInterface.NamedNode.prototype.toNT=function(){return"<"+this.toString()+">"};RDFJSInterface.NamedNode.prototype.valueOf=function(){return this.nominalValue};RDFJSInterface.Triple=function(c,b,e){this.subject=c;this.predicate=b;this.object=e};RDFJSInterface.Triple.prototype.equals=function(c){return this.subject.equals(c.subject)&&this.predicate.equals(c.predicate)&&this.object.equals(c.object)};RDFJSInterface.Triple.prototype.toString=function(){return this.subject.toNT()+
" "+this.predicate.toNT()+" "+this.object.toNT()+" . \r\n"};RDFJSInterface.Graph=function(){this.triples=[];this.duplicates={};this.actions=[]};RDFJSInterface.Graph.prototype.add=function(c){for(var b=0;b<this.actions.length;b++)c=this.actions[b](c);b=c.subject.toString()+c.predicate.toString()+c.object.toString();this.duplicates[b]||(this.duplicates[b]=!0,this.triples.push(c));return this};RDFJSInterface.Graph.prototype.addAction=function(c,b){this.actions.push(c);if(b==!0)for(var e=0;e<this.triples.length;e++)this.triples[e]=
c(this.triples[e]);return this};RDFJSInterface.Graph.prototype.addAll=function(c){for(var c=c.toArray(),b=0;b<c.length;b++)this.add(c[b]);return this};RDFJSInterface.Graph.prototype.remove=function(c){for(var b=null,e=0;e<this.triples.length;e++)if(this.triples[e].equals(c)){delete this.duplicates[c.subject.toString()+c.predicate.toString()+c.object.toString()];b=e;break}b!=null&&this.triples.splice(b,1);return this};RDFJSInterface.Graph.prototype.toArray=function(){return this.triples};RDFJSInterface.Graph.prototype.some=
function(c){for(var b=0;b<this.triples.length;b++)if(c(this.triples[b],this)===!0)return!0;return!1};RDFJSInterface.Graph.prototype.every=function(c){for(var b=0;b<this.triples.length;b++)if(c(this.triples[b],this)===!1)return!1;return!0};RDFJSInterface.Graph.prototype.filter=function(c){for(var b=new RDFJSInterface.Graph,e=0;e<this.triples.length;e++)c(this.triples[e],this)===!0&&b.add(this.triples[e]);return b};RDFJSInterface.Graph.prototype.forEach=function(c){for(var b=0;b<this.triples.length;b++)c(this.triples[b],
this)};RDFJSInterface.Graph.prototype.merge=function(){for(var c=new RDFJSInterface.Graph,b=0;b<this.triples;b++){var e=this.triples[b];c.add(e)}for(b=0;b<triples.length;b++)e=triples[b],this.add(e);return c};RDFJSInterface.Graph.prototype.match=function(c,b,e,j){for(var i=new RDFJSInterface.Graph,g=0,h=0;h<this.triples.length;h++){var m=this.triples[h];if(c==null||m.subject.equals(c))if(b==null||m.predicate.equals(b))if(e==null||m.object.equals(e))if(j==null||g<j)g++,i.add(m);else break}return i};
RDFJSInterface.Graph.prototype.removeMatches=function(c,b,e){for(var j=[],i=0;i<this.triples.length;i++){var g=this.triples[i];if(c==null||g.subject.equals(c))if(b==null||g.predicate.equals(b))(e==null||g.object.equals(e))&&j.push(g)}for(i=0;i<j.length;i++)this.remove(j[i]);return this};RDFJSInterface.Graph.prototype.toNT=function(){var c="";this.forEach(function(b){c+=b.toString()});return c};RDFJSInterface.buildRDFResource=function(c,b,e,j){return c.token==="blank"?RDFJSInterface.buildBlankNode(c,
b,e,j):c.token==="literal"?RDFJSInterface.buildLiteral(c,b,e,j):c.token==="uri"?RDFJSInterface.buildNamedNode(c,b,e,j):c.token==="var"?(c=b[c.value],c!=null?RDFJSInterface.buildRDFResource(c,b,e,j):null):null};RDFJSInterface.buildBlankNode=function(c){if(c.value==null&&c.label)c.value=c.label;if(c.value.indexOf("_:")===0)c.value=c.value.split("_:")[1];return new RDFJSInterface.BlankNode(c.value)};RDFJSInterface.buildLiteral=function(c){return new RDFJSInterface.Literal(c.value,c.lang,c.type)};RDFJSInterface.buildNamedNode=
function(c,b,e,j){if(c.value==null&&c.prefix!=null)b=e.resolveNsInEnvironment(c.prefix,j),c.value=b+c.suffix;return new RDFJSInterface.NamedNode(c)};RDFJSInterface.rdf=new RDFJSInterface.RDFEnvironment;QueryFilters={checkFilters:function(c,b,e,j,i,g){var h=c.filter,m=[];if(h==null||c.length!=null)return b;for(c=0;c<h.length;c++){for(var b=QueryFilters.run(h[c].value,b,e,j,i,g),n=[],v=0;v<b.length;v++)b[v].__nullify__!=null?m.push(b[v]):n.push(b[v]);b=n}return b.concat(m)}};QueryFilters.boundVars=
function(c){if(c.expressionType!=null){var b=c.expressionType;if(b=="relationalexpression")return b=c.op2,QueryFilters.boundVars(c.op1)+QueryFilters.boundVars(b);else if(b=="conditionalor"||b=="conditionaland"){for(var e=[],b=0;b<c.operands;b++)e=e.concat(QueryFilters.boundVars(c.operands[b]));return e}else if(b=="builtincall")if(c.args==null)return[];else{e=[];for(b=0;b<c.args.length;b++)e=e.concat(QueryFilters.boundVars(c.args[b]));return e}else if(b=="multiplicativeexpression"){e=QueryFilters.boundVars(c.factor);
for(b=0;b<c.factors.length;b++)e=e.concat(QueryFilters.boundVars(c.factors[b].expression));return e}else if(b=="additiveexpression"){e=QueryFilters.boundVars(c.summand);for(b=0;b<c.summands.length;b++)e=e.concat(QueryFilters.boundVars(c.summands[b].expression));return e}else if(b=="regex")return e=QueryFilters.boundVars(c.expression1),e.concat(QueryFilters.boundVars(c.expression2));else if(b=="unaryexpression")return QueryFilters.boundVars(c.expression);else if(b=="atomic")return c.primaryexpression==
"var"?[c.value]:[]}else throw console.log("ERROR"),console.log(c),"Cannot find bound expressions in a no expression token";};QueryFilters.run=function(c,b,e,j,i,g){for(var h=g.copyDenormalizedBindings(b,i.outCache),m=[],n=0;n<b.length;n++){var v=QueryFilters.runFilter(c,h[n],g,j,i),v=QueryFilters.ebv(v);QueryFilters.isEbvError(v)?e&&(v={__nullify__:!0,bindings:b[n]},m.push(v)):v===!0?m.push(b[n]):e&&(v={__nullify__:!0,bindings:b[n]},m.push(v))}return m};QueryFilters.collect=function(c,b,e,j,i){for(var g=
i.copyDenormalizedBindings(b,j.outCache),h=[],m=0;m<g.length;m++){var n=QueryFilters.runFilter(c,g[m],i,e,j);h.push({binding:b[m],value:n})}return h};QueryFilters.runDistinct=function(){};QueryFilters.runAggregator=function(c,b,e,j,i){if(b==null||b.length===0)return QueryFilters.ebvError();else if(c.token==="variable"&&c.kind=="var")return b[0][c.value.value];else if(c.token==="variable"&&c.kind==="aliased")if(c.expression.expressionType==="atomic"&&c.expression.primaryexpression==="var")return b[0][c.expression.value.value];
else if(c.expression.expressionType==="aggregate")if(c.expression.aggregateType==="max"){for(var g=null,h=0;h<b.length;h++){var m=b[h],m=QueryFilters.runFilter(c.expression.expression,m,e,j,i);QueryFilters.isEbvError(m)||(g===null?g=m:QueryFilters.runLtFunction(g,m).value===!0&&(g=m))}return g===null?QueryFilters.ebvError():g}else if(c.expression.aggregateType==="min"){g=null;for(h=0;h<b.length;h++)m=b[h],m=QueryFilters.runFilter(c.expression.expression,m,e,j,i),QueryFilters.isEbvError(m)||(g===null?
g=m:QueryFilters.runGtFunction(g,m).value===!0&&(g=m));return g===null?QueryFilters.ebvError():g}else if(c.expression.aggregateType==="count"){var g={},n=0;if(c.expression.expression==="*")if(c.expression.distinct!=null&&c.expression.distinct!="")for(h=0;h<b.length;h++){var m=b[h],v=Utils.hashTerm(m);g[v]==null&&(g[v]=!0,n++)}else n=b.length;else for(h=0;h<b.length;h++)m=b[h],m=QueryFilters.runFilter(c.expression.expression,m,e,j,i),QueryFilters.isEbvError(m)||(c.expression.distinct!=null&&c.expression.distinct!=
""?(v=Utils.hashTerm(m),g[v]==null&&(g[v]=!0,n++)):n++);return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+n}}else if(c.expression.aggregateType==="avg"){for(var g={},u={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"},h=n=0;h<b.length;h++)m=b[h],m=QueryFilters.runFilter(c.expression.expression,m,e,j,i),QueryFilters.isEbvError(m)||(c.expression.distinct!=null&&c.expression.distinct!=""?(v=Utils.hashTerm(m),g[v]==null&&(g[v]=!0,QueryFilters.isNumeric(m)&&
(u=QueryFilters.runSumFunction(u,m),n++))):QueryFilters.isNumeric(m)&&(u=QueryFilters.runSumFunction(u,m),n++));c=QueryFilters.runDivFunction(u,{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+n});c.value=""+c.value;return c}else if(c.expression.aggregateType==="sum"){g={};u={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"};for(h=0;h<b.length;h++)m=b[h],m=QueryFilters.runFilter(c.expression.expression,m,e,j,i),QueryFilters.isEbvError(m)||(c.expression.distinct!=
null&&c.expression.distinct!=""?(v=Utils.hashTerm(m),g[v]==null&&(g[v]=!0,QueryFilters.isNumeric(m)&&(u=QueryFilters.runSumFunction(u,m)))):QueryFilters.isNumeric(m)&&(u=QueryFilters.runSumFunction(u,m)));u.value=""+u.value;return u}else return m=QueryFilters.runFilter(aggregate.expression,b[0],j,{blanks:{},outCache:{}})};QueryFilters.runFilter=function(c,b,e,j,i){if(c.expressionType!=null){var g=c.expressionType;if(g=="relationalexpression"){var g=QueryFilters.runFilter(c.op1,b,e,j,i),h=QueryFilters.runFilter(c.op2,
b,e,j,i);return QueryFilters.runRelationalFilter(c,g,h,b,e,j,i)}else if(g=="conditionalor")return QueryFilters.runOrFunction(c,b,e,j,i);else if(g=="conditionaland")return QueryFilters.runAndFunction(c,b,e,j,i);else if(g=="additiveexpression")return QueryFilters.runAddition(c.summand,c.summands,b,e,j,i);else if(g=="builtincall")return QueryFilters.runBuiltInCall(c.builtincall,c.args,b,e,j,i);else if(g=="multiplicativeexpression")return QueryFilters.runMultiplication(c.factor,c.factors,b,e,j,i);else if(g==
"unaryexpression")return QueryFilters.runUnaryExpression(c.unaryexpression,c.expression,b,e,j,i);else if(g=="irireforfunction")return QueryFilters.runIriRefOrFunction(c.iriref,c.args,b,e,j,i);else if(g=="regex")return QueryFilters.runRegex(c.text,c.pattern,c.flags,b,e,j,i);else if(g=="atomic")if(c.primaryexpression=="var")return b[c.value.value];else{if(typeof c.value=="object"&&!(c.value.type==null||typeof c.value.type!="object"))c.value.type=Utils.lexicalFormBaseUri(c.value.type,i);return c.value}else throw"Unknown filter expression type";
}else throw"Cannot find bound expressions in a no expression token";};QueryFilters.isRDFTerm=function(c){return c==null?!1:c.token&&c.token=="literal"||c.token&&c.token=="uri"||c.token&&c.token=="blank"?!0:!1};QueryFilters.RDFTermEquality=function(c,b,e,j){return c.token==="literal"&&b.token==="literal"?c.lang==b.lang&&c.type==b.type&&c.value==b.value?!0:c.type!=null&&b.type!=null?QueryFilters.ebvError():QueryFilters.isSimpleLiteral(c)&&b.type!=null?QueryFilters.ebvError():QueryFilters.isSimpleLiteral(b)&&
c.type!=null?QueryFilters.ebvError():!1:c.token==="uri"&&b.token==="uri"?Utils.lexicalFormBaseUri(c,j)==Utils.lexicalFormBaseUri(b,j):c.token==="blank"&&b.token==="blank"?c.value==b.value:!1};QueryFilters.isInteger=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#integer"||c.type=="http://www.w3.org/2001/XMLSchema#decimal"||c.type=="http://www.w3.org/2001/XMLSchema#double"||c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||
c.type=="http://www.w3.org/2001/XMLSchema#long"||c.type=="http://www.w3.org/2001/XMLSchema#int"||c.type=="http://www.w3.org/2001/XMLSchema#short"||c.type=="http://www.w3.org/2001/XMLSchema#byte"||c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"?
!0:!1:!1};QueryFilters.isFloat=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#float"?!0:!1:!1};QueryFilters.isDecimal=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#decimal"?!0:!1:!1};QueryFilters.isDouble=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#double"?!0:!1:!1};QueryFilters.isNumeric=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#integer"||
c.type=="http://www.w3.org/2001/XMLSchema#decimal"||c.type=="http://www.w3.org/2001/XMLSchema#float"||c.type=="http://www.w3.org/2001/XMLSchema#double"||c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#long"||c.type=="http://www.w3.org/2001/XMLSchema#int"||c.type=="http://www.w3.org/2001/XMLSchema#short"||c.type=="http://www.w3.org/2001/XMLSchema#byte"||c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||
c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"?!0:!1:!1};QueryFilters.isSimpleLiteral=function(c){return c&&c.token=="literal"?c.type==null&&c.lang==null?!0:!1:!1};QueryFilters.isXsdType=function(c,b){return b&&b.token=="literal"?b.type=="http://www.w3.org/2001/XMLSchema#"+
c:!1};QueryFilters.ebv=function(c){if(c==null||QueryFilters.isEbvError(c))return QueryFilters.ebvError();else if(c.token&&c.token==="literal")if(c.type=="http://www.w3.org/2001/XMLSchema#integer"||c.type=="http://www.w3.org/2001/XMLSchema#decimal"||c.type=="http://www.w3.org/2001/XMLSchema#double"||c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#long"||c.type=="http://www.w3.org/2001/XMLSchema#int"||
c.type=="http://www.w3.org/2001/XMLSchema#short"||c.type=="http://www.w3.org/2001/XMLSchema#byte"||c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"){var b=parseFloat(c.value);return isNaN(b)?!1:parseFloat(c.value)!=
0}else return c.type==="http://www.w3.org/2001/XMLSchema#boolean"?c.value==="true"||c.value===!0||c.value==="True":c.type==="http://www.w3.org/2001/XMLSchema#string"?c.value!="":c.type==="http://www.w3.org/2001/XMLSchema#dateTime"?new Date(c.value)!=null:QueryFilters.isEbvError(c)?c:c.type==null?c.value!=""?!0:!1:QueryFilters.ebvError();else return c.value===!0};QueryFilters.ebvTrue=function(){return val={token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}};QueryFilters.ebvFalse=
function(){return val={token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}};QueryFilters.ebvError=function(){return val={token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null}};QueryFilters.isEbvError=function(c){return typeof c=="object"&&c!=null?c.type==="https://github.com/antoniogarrote/js-tools/types#error":!1};QueryFilters.ebvBoolean=function(c){return QueryFilters.isEbvError(c)?c:c===!0?QueryFilters.ebvTrue():QueryFilters.ebvFalse()};
QueryFilters.runRelationalFilter=function(c,b,e,j,i,g,h){c=c.operator;if(c==="=")return QueryFilters.runEqualityFunction(b,e,j,i,g,h);else if(c==="!="){b=QueryFilters.runEqualityFunction(b,e,j,i,g,h);if(!QueryFilters.isEbvError(b))b.value=!b.value;return b}else if(c==="<")return QueryFilters.runLtFunction(b,e,j);else if(c===">")return QueryFilters.runGtFunction(b,e,j);else if(c==="<=")return QueryFilters.runLtEqFunction(b,e,j);else if(c===">=")return QueryFilters.runGtEqFunction(b,e,j);else throw"Error applying relational filter, unknown operator";
};QueryFilters.effectiveTypeValue=function(c){if(c.token=="literal")if(c.type=="http://www.w3.org/2001/XMLSchema#integer")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#decimal")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#float")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#double")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger")return c=parseFloat(c.value);
else if(c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#long")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#int")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#short")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#byte")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger")return c=
parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#date"||
c.type=="http://www.w3.org/2001/XMLSchema#dateTime")try{return Utils.parseISO8601(c.value)}catch(b){return null}else return c.type=="http://www.w3.org/2001/XMLSchema#boolean"?c.value===!0||c.value==="true"||c.value==="1"||c.value===1||c.value===!0?!0:c.value===!1||c.value==="false"||c.value==="0"||c.value===0||c.value===!1?!1:void 0:c.type=="http://www.w3.org/2001/XMLSchema#string"?c.value===null||c.value===void 0?void 0:""+c.value:c.value;else throw console.log("not implemented yet"),"value not supported in operations yet";
};QueryFilters.runOrFunction=function(c,b,e,j,i){for(var g=null,h=0;h<c.operands.length;h++){var m=QueryFilters.runFilter(c.operands[h],b,e,j,i);QueryFilters.isEbvError(m)==!1&&(m=QueryFilters.ebv(m));g==null?g=m:QueryFilters.isEbvError(m)?g=QueryFilters.isEbvError(g)?QueryFilters.ebvError():g===!0?!0:QueryFilters.ebvError():m===!0?g=!0:QueryFilters.isEbvError(g)&&(g=QueryFilters.ebvError())}return QueryFilters.ebvBoolean(g)};QueryFilters.runAndFunction=function(c,b,e,j,i){for(var g=null,h=0;h<c.operands.length;h++){var m=
QueryFilters.runFilter(c.operands[h],b,e,j,i);QueryFilters.isEbvError(m)==!1&&(m=QueryFilters.ebv(m));g==null?g=m:QueryFilters.isEbvError(m)?g=QueryFilters.isEbvError(g)?QueryFilters.ebvError():g===!0?QueryFilters.ebvError():!1:m===!0?QueryFilters.isEbvError(g)&&(g=QueryFilters.ebvError()):g=!1}return QueryFilters.ebvBoolean(g)};QueryFilters.runEqualityFunction=function(c,b,e,j,i,g){if(QueryFilters.isEbvError(c)||QueryFilters.isEbvError(b))return QueryFilters.ebvError();if(QueryFilters.isNumeric(c)&&
QueryFilters.isNumeric(b))return e=QueryFilters.effectiveTypeValue(c),i=QueryFilters.effectiveTypeValue(b),isNaN(e)||isNaN(i)?QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(c,b,j,g)):QueryFilters.ebvBoolean(e==i);else if((QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",c))&&(QueryFilters.isSimpleLiteral(b)||QueryFilters.isXsdType("string",b)))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)==QueryFilters.effectiveTypeValue(b));else if(QueryFilters.isXsdType("boolean",
c)&&QueryFilters.isXsdType("boolean",b))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)==QueryFilters.effectiveTypeValue(b));else if((QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))&&(QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))){if(QueryFilters.isXsdType("dateTime",c)&&QueryFilters.isXsdType("date",b))return QueryFilters.ebvFalse();if(QueryFilters.isXsdType("date",c)&&QueryFilters.isXsdType("dateTime",b))return QueryFilters.ebvFalse();
c=Utils.compareDateComponents(c.value,b.value);return c!=null?c==0?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}else return QueryFilters.isRDFTerm(c)&&QueryFilters.isRDFTerm(b)?QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(c,b,j,g)):QueryFilters.ebvFalse()};QueryFilters.runGtFunction=function(c,b){if(QueryFilters.isEbvError(c)||QueryFilters.isEbvError(b))return QueryFilters.ebvError();if(QueryFilters.isNumeric(c)&&QueryFilters.isNumeric(b))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)>
QueryFilters.effectiveTypeValue(b));else if(QueryFilters.isSimpleLiteral(c)&&QueryFilters.isSimpleLiteral(b))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)>QueryFilters.effectiveTypeValue(b));else if(QueryFilters.isXsdType("string",c)&&QueryFilters.isXsdType("string",b))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)>QueryFilters.effectiveTypeValue(b));else if(QueryFilters.isXsdType("boolean",c)&&QueryFilters.isXsdType("boolean",b))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)>
QueryFilters.effectiveTypeValue(b));else if((QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))&&(QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))){if(QueryFilters.isXsdType("dateTime",c)&&QueryFilters.isXsdType("date",b))return QueryFilters.ebvFalse();if(QueryFilters.isXsdType("date",c)&&QueryFilters.isXsdType("dateTime",b))return QueryFilters.ebvFalse();var e=Utils.compareDateComponents(c.value,b.value);return e!=null?e==1?QueryFilters.ebvTrue():QueryFilters.ebvFalse():
QueryFilters.ebvError()}else return QueryFilters.ebvFalse()};QueryFilters.runTotalGtFunction=function(c,b){return QueryFilters.isEbvError(c)||QueryFilters.isEbvError(b)?QueryFilters.ebvError():QueryFilters.isNumeric(c)&&QueryFilters.isNumeric(b)||QueryFilters.isSimpleLiteral(c)&&QueryFilters.isSimpleLiteral(b)||QueryFilters.isXsdType("string",c)&&QueryFilters.isSimpleLiteral("string",b)||QueryFilters.isXsdType("boolean",c)&&QueryFilters.isSimpleLiteral("boolean",b)||QueryFilters.isXsdType("dateTime",
c)&&QueryFilters.isSimpleLiteral("dateTime",b)?QueryFilters.runGtFunction(c,b,[]):c.token&&c.token==="uri"&&b.token&&b.token==="uri"?QueryFilters.ebvBoolean(c.value>b.value):c.token&&c.token==="literal"&&b.token&&b.token==="literal"?QueryFilters.ebvBoolean(""+c.value+c.type+c.lang>""+b.value+b.type+b.lang):c.token&&c.token==="blank"&&b.token&&b.token==="blank"?QueryFilters.ebvBoolean(c.value>b.value):c.value&&b.value?QueryFilters.ebvBoolean(c.value>b.value):QueryFilters.ebvTrue()};QueryFilters.runLtFunction=
function(c,b){if(QueryFilters.isEbvError(c)||QueryFilters.isEbvError(b))return QueryFilters.ebvError();if(QueryFilters.isNumeric(c)&&QueryFilters.isNumeric(b))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)<QueryFilters.effectiveTypeValue(b));else if(QueryFilters.isSimpleLiteral(c)&&QueryFilters.isSimpleLiteral(b))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)<QueryFilters.effectiveTypeValue(b));else if(QueryFilters.isXsdType("string",c)&&QueryFilters.isXsdType("string",
b))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)<QueryFilters.effectiveTypeValue(b));else if(QueryFilters.isXsdType("boolean",c)&&QueryFilters.isXsdType("boolean",b))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)<QueryFilters.effectiveTypeValue(b));else if((QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))&&(QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))){if(QueryFilters.isXsdType("dateTime",c)&&QueryFilters.isXsdType("date",
b))return QueryFilters.ebvFalse();if(QueryFilters.isXsdType("date",c)&&QueryFilters.isXsdType("dateTime",b))return QueryFilters.ebvFalse();var e=Utils.compareDateComponents(c.value,b.value);return e!=null?e==-1?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}else return QueryFilters.ebvFalse()};QueryFilters.runGtEqFunction=function(c,b){if(QueryFilters.isEbvError(c)||QueryFilters.isEbvError(b))return QueryFilters.ebvError();if(QueryFilters.isNumeric(c)&&QueryFilters.isNumeric(b))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)>=
QueryFilters.effectiveTypeValue(b));else if(QueryFilters.isSimpleLiteral(c)&&QueryFilters.isSimpleLiteral(b))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)>=QueryFilters.effectiveTypeValue(b));else if(QueryFilters.isXsdType("string",c)&&QueryFilters.isXsdType("string",b))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)>=QueryFilters.effectiveTypeValue(b));else if(QueryFilters.isXsdType("boolean",c)&&QueryFilters.isXsdType("boolean",b))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)>=
QueryFilters.effectiveTypeValue(b));else if((QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))&&(QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))){if(QueryFilters.isXsdType("dateTime",c)&&QueryFilters.isXsdType("date",b))return QueryFilters.ebvFalse();if(QueryFilters.isXsdType("date",c)&&QueryFilters.isXsdType("dateTime",b))return QueryFilters.ebvFalse();var e=Utils.compareDateComponents(c.value,b.value);return e!=null?e!=-1?QueryFilters.ebvTrue():QueryFilters.ebvFalse():
QueryFilters.ebvError()}else return QueryFilters.ebvFalse()};QueryFilters.runLtEqFunction=function(c,b){if(QueryFilters.isEbvError(c)||QueryFilters.isEbvError(b))return QueryFilters.ebvError();if(QueryFilters.isNumeric(c)&&QueryFilters.isNumeric(b))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)<=QueryFilters.effectiveTypeValue(b));else if(QueryFilters.isSimpleLiteral(c)&&QueryFilters.isSimpleLiteral(b))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)<=QueryFilters.effectiveTypeValue(b));
else if(QueryFilters.isXsdType("string",c)&&QueryFilters.isXsdType("string",b))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)<=QueryFilters.effectiveTypeValue(b));else if(QueryFilters.isXsdType("boolean",c)&&QueryFilters.isXsdType("boolean",b))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)<=QueryFilters.effectiveTypeValue(b));else if((QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))&&(QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",
b))){if(QueryFilters.isXsdType("dateTime",c)&&QueryFilters.isXsdType("date",b))return QueryFilters.ebvFalse();if(QueryFilters.isXsdType("date",c)&&QueryFilters.isXsdType("dateTime",b))return QueryFilters.ebvFalse();var e=Utils.compareDateComponents(c.value,b.value);return e!=null?e!=1?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}else return QueryFilters.ebvFalse()};QueryFilters.runAddition=function(c,b,e,j,i,g){var h=QueryFilters.runFilter(c,e,j,i,g);if(QueryFilters.isEbvError(h))return QueryFilters.ebvError();
c=h;if(QueryFilters.isNumeric(h)){for(h=0;h<b.length;h++){var m=QueryFilters.runFilter(b[h].expression,e,j,i,g);if(QueryFilters.isNumeric(m))b[h].operator==="+"?c=QueryFilters.runSumFunction(c,m):b[h].operator==="-"&&(c=QueryFilters.runSubFunction(c,m));else return QueryFilters.ebvFalse()}return c}else return QueryFilters.ebvFalse()};QueryFilters.runSumFunction=function(c,b){if(QueryFilters.isEbvError(c)||QueryFilters.isEbvError(b))return QueryFilters.ebvError();var e=QueryFilters.effectiveTypeValue(c)+
QueryFilters.effectiveTypeValue(b);return QueryFilters.isDouble(c)||QueryFilters.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:e}:QueryFilters.isFloat(c)||QueryFilters.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:e}:QueryFilters.isDecimal(c)||QueryFilters.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:e}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:e}};QueryFilters.runSubFunction=
function(c,b){if(QueryFilters.isEbvError(c)||QueryFilters.isEbvError(b))return QueryFilters.ebvError();var e=QueryFilters.effectiveTypeValue(c)-QueryFilters.effectiveTypeValue(b);return QueryFilters.isDouble(c)||QueryFilters.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:e}:QueryFilters.isFloat(c)||QueryFilters.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:e}:QueryFilters.isDecimal(c)||QueryFilters.isDecimal(b)?{token:"literal",
type:"http://www.w3.org/2001/XMLSchema#decimal",value:e}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:e}};QueryFilters.runMultiplication=function(c,b,e,j,i,g){c=QueryFilters.runFilter(c,e,j,i,g);if(QueryFilters.isEbvError(c))return c;var h=c;if(QueryFilters.isNumeric(c)){for(var m=0;m<b.length;m++){var n=QueryFilters.runFilter(b[m].expression,e,j,i,g);if(QueryFilters.isEbvError(n))return c;if(QueryFilters.isNumeric(n))b[m].operator==="*"?h=QueryFilters.runMulFunction(h,n):
b[m].operator==="/"&&(h=QueryFilters.runDivFunction(h,n));else return QueryFilters.ebvFalse()}return h}else return QueryFilters.ebvFalse()};QueryFilters.runMulFunction=function(c,b){if(QueryFilters.isEbvError(c)||QueryFilters.isEbvError(b))return QueryFilters.ebvError();var e=QueryFilters.effectiveTypeValue(c)*QueryFilters.effectiveTypeValue(b);return QueryFilters.isDouble(c)||QueryFilters.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:e}:QueryFilters.isFloat(c)||
QueryFilters.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:e}:QueryFilters.isDecimal(c)||QueryFilters.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:e}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:e}};QueryFilters.runDivFunction=function(c,b){if(QueryFilters.isEbvError(c)||QueryFilters.isEbvError(b))return QueryFilters.ebvError();var e=QueryFilters.effectiveTypeValue(c)/QueryFilters.effectiveTypeValue(b);
return QueryFilters.isDouble(c)||QueryFilters.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:e}:QueryFilters.isFloat(c)||QueryFilters.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:e}:QueryFilters.isDecimal(c)||QueryFilters.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:e}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:e}};QueryFilters.runBuiltInCall=function(c,b,e,j,i,
g){if(c==="notexists"||c==="exists"){var h=JSON.parse(JSON.stringify(b[0])),h=j.abstractQueryTree.parseSelect({pattern:h},e),h=j.abstractQueryTree.bind(h.pattern,e),e=j.executeSelectUnit([{kind:"*"}],i,h,g);return c==="exists"?QueryFilters.ebvBoolean(e.length!==0):QueryFilters.ebvBoolean(e.length===0)}else{for(var h=[],m=0;m<b.length;m++)if(b[m].token==="var")h.push(b[m]);else{var n=QueryFilters.runFilter(b[m],e,j,i,g);if(QueryFilters.isEbvError(n))return n;h.push(n)}if(c==="str")return h[0].token===
"literal"?{token:"literal",type:null,value:""+h[0].value}:h[0].token==="uri"?{token:"literal",type:null,value:h[0].value}:QueryFilters.ebvFalse();else if(c==="lang")return h[0].token==="literal"?h[0].lang!=null?{token:"literal",value:""+h[0].lang}:{token:"literal",value:""}:QueryFilters.ebvError();else if(c==="datatype")return h[0].token==="literal"?(c=h[0],c.type!=null?typeof c.type==="string"?{token:"uri",value:c.type,prefix:null,suffix:null}:c.type:c.lang==null?{token:"uri",value:"http://www.w3.org/2001/XMLSchema#string",
prefix:null,suffix:null}:QueryFilters.ebvError()):QueryFilters.ebvError();else if(c==="isliteral")return h[0].token==="literal"?QueryFilters.ebvTrue():QueryFilters.ebvFalse();else if(c==="isblank")return h[0].token==="blank"?QueryFilters.ebvTrue():QueryFilters.ebvFalse();else if(c==="isuri"||c==="isiri")return h[0].token==="uri"?QueryFilters.ebvTrue():QueryFilters.ebvFalse();else if(c==="sameterm")return c=QueryFilters.RDFTermEquality(h[0],h[1],j,g),QueryFilters.isEbvError(c)&&(c=!1),QueryFilters.ebvBoolean(c);
else if(c==="langmatches")return c=h[0],e=h[1],c.token==="literal"&&e.token==="literal"?e.value==="*"&&c.value!=""?QueryFilters.ebvTrue():QueryFilters.ebvBoolean(c.value.toLowerCase().indexOf(e.value.toLowerCase())===0):QueryFilters.ebvError();else if(c==="bound")return c=h[0].value,c==null?QueryFilters.ebvError():e[c]!=null?QueryFilters.ebvTrue():QueryFilters.ebvFalse();else throw"Builtin call "+c+" not implemented yet";}};QueryFilters.runUnaryExpression=function(c,b,e,j,i,g){b=QueryFilters.runFilter(b,
e,j,i,g);if(QueryFilters.isEbvError(b))return b;if(c==="!"){var h=QueryFilters.ebv(b);return QueryFilters.isEbvError(h)?QueryFilters.ebvFalse():QueryFilters.ebvBoolean(!h)}else if(c==="+")return QueryFilters.isNumeric(b)?b:QueryFilters.ebvError();else if(c==="-")if(QueryFilters.isNumeric(b)){c={};for(h in b)c[h]=b[h];c.value=-c.value;return c}else return QueryFilters.ebvError()};QueryFilters.runRegex=function(c,b,e,j,i,g,h){if(c!=null)c=QueryFilters.runFilter(c,j,i,g,h);else return QueryFilters.ebvError();
if(b!=null)b=QueryFilters.runFilter(b,j,i,g,h);else return QueryFilters.ebvError();e!=null&&(e=QueryFilters.runFilter(e,j,i,g,h));if(b!=null&&b.token==="literal"&&(e==null||e.token==="literal"))b=b.value,e=e==null?null:e.value;else return QueryFilters.ebvError();if(c!=null&&c.token=="var")if(j[c.value]!=null)c=j[c.value];else return QueryFilters.ebvError();else if(c!=null&&c.token==="literal")if(c.type==null||QueryFilters.isXsdType("string",c))c=c.value;else return QueryFilters.ebvError();else return QueryFilters.ebvError();
return(e==null?RegExp(b):RegExp(b,e.toLowerCase())).exec(c)?QueryFilters.ebvTrue():QueryFilters.ebvFalse()};QueryFilters.normalizeLiteralDatatype=function(c,b,e){if(!(c.value.type==null||typeof c.value.type!="object"))c.value.type=Utils.lexicalFormBaseUri(c.value.type,e);return c};QueryFilters.runIriRefOrFunction=function(c,b,e,j,i,g){if(b==null)return c;else{for(var h=[],m=0;m<b.length;m++)h.push(QueryFilters.runFilter(b[m],e,j,i,g));c=Utils.lexicalFormBaseUri(c,g);if(c=="http://www.w3.org/2001/XMLSchema#integer"||
c=="http://www.w3.org/2001/XMLSchema#decimal"||c=="http://www.w3.org/2001/XMLSchema#double"||c=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||c=="http://www.w3.org/2001/XMLSchema#negativeInteger"||c=="http://www.w3.org/2001/XMLSchema#long"||c=="http://www.w3.org/2001/XMLSchema#int"||c=="http://www.w3.org/2001/XMLSchema#short"||c=="http://www.w3.org/2001/XMLSchema#byte"||c=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c=="http://www.w3.org/2001/XMLSchema#unsignedLong"||c=="http://www.w3.org/2001/XMLSchema#unsignedInt"||
c=="http://www.w3.org/2001/XMLSchema#unsignedShort"||c=="http://www.w3.org/2001/XMLSchema#unsignedByte"||c=="http://www.w3.org/2001/XMLSchema#positiveInteger")if(h=h[0],h.token==="literal")if(h=QueryFilters.normalizeLiteralDatatype(h,j,g),h.type=="http://www.w3.org/2001/XMLSchema#integer"||h.type=="http://www.w3.org/2001/XMLSchema#decimal"||h.type=="http://www.w3.org/2001/XMLSchema#double"||h.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||h.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||
h.type=="http://www.w3.org/2001/XMLSchema#long"||h.type=="http://www.w3.org/2001/XMLSchema#int"||h.type=="http://www.w3.org/2001/XMLSchema#short"||h.type=="http://www.w3.org/2001/XMLSchema#byte"||h.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||h.type=="http://www.w3.org/2001/XMLSchema#positiveInteger")return h.type=
c,h;else if(h.type=="http://www.w3.org/2001/XMLSchema#boolean")return QueryFilters.ebv(h)==!0?(h.type=c,h.value=1):(h.type=c,h.value=0),h;else if(h.type=="http://www.w3.org/2001/XMLSchema#float"||h.type=="http://www.w3.org/2001/XMLSchema#double")return h.type=c,h.value=parseInt(h.value),h;else if(h.type=="http://www.w3.org/2001/XMLSchema#string"||h.type==null){if(h.value.split(".").length>2)return QueryFilters.ebvError();else if(h.value.split("-").length>2)return QueryFilters.ebvError();else if(h.value.split("/").length>
2)return QueryFilters.ebvError();else if(h.value.split("+").length>2)return QueryFilters.ebvError();if(c=="http://www.w3.org/2001/XMLSchema#decimal"&&(h.value.indexOf("e")!=-1||h.value.indexOf("E")!=-1))return QueryFilters.ebvError();if(c=="http://www.w3.org/2001/XMLSchema#int"||c=="http://www.w3.org/2001/XMLSchema#integer")if(h.value.indexOf("e")!=-1||h.value.indexOf("E")!=-1||h.value.indexOf(".")!=-1)return QueryFilters.ebvError();try{return h.value=parseInt(parseFloat(h.value)),isNaN(h.value)?
QueryFilters.ebvError():(h.type=c,h)}catch(n){return QueryFilters.ebvError()}}else return QueryFilters.ebvError();else return QueryFilters.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#boolean")return h=h[0],h.token==="literal"&&h.type==null?h.value==="true"||h.value==="1"?QueryFilters.ebvTrue():h.value==="false"||h.value==="0"?QueryFilters.ebvFalse():QueryFilters.ebvError():h.token==="literal"?QueryFilters.isEbvError(h)?h:QueryFilters.ebvBoolean(h):QueryFilters.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#string")if(h=
h[0],h.token==="literal")if(h=QueryFilters.normalizeLiteralDatatype(h,j,g),h.type=="http://www.w3.org/2001/XMLSchema#integer"||h.type=="http://www.w3.org/2001/XMLSchema#decimal"||h.type=="http://www.w3.org/2001/XMLSchema#double"||h.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||h.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||h.type=="http://www.w3.org/2001/XMLSchema#long"||h.type=="http://www.w3.org/2001/XMLSchema#int"||h.type=="http://www.w3.org/2001/XMLSchema#short"||h.type==
"http://www.w3.org/2001/XMLSchema#byte"||h.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||h.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||h.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"||h.type=="http://www.w3.org/2001/XMLSchema#float")return h.type=c,h.value=""+h.value,h;else if(h.type=="http://www.w3.org/2001/XMLSchema#string")return h;
else if(h.type=="http://www.w3.org/2001/XMLSchema#boolean")return QueryFilters.ebv(h)?(h.type=c,h.value="true"):(h.type=c,h.value="false"),h;else if(h.type=="http://www.w3.org/2001/XMLSchema#dateTime"||h.type=="http://www.w3.org/2001/XMLSchema#date"){h.type=c;if(typeof h.value!="string")h.value=Utils.iso8601(h.value);return h}else return h.type==null?(h.value=""+h.value,h.type=c,h):QueryFilters.ebvError();else return h.token==="uri"?{token:"literal",value:Utils.lexicalFormBaseUri(h,g),type:c,lang:null}:
QueryFilters.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#dateTime"||c=="http://www.w3.org/2001/XMLSchema#date")if(h=h[0],h.type=="http://www.w3.org/2001/XMLSchema#dateTime"||h.type=="http://www.w3.org/2001/XMLSchema#date")return h;else if(h.type=="http://www.w3.org/2001/XMLSchema#string"||h.type==null)try{return h.value=Utils.iso8601(Utils.parseStrictISO8601(h.value)),h.type=c,h}catch(v){return QueryFilters.ebvError()}else return QueryFilters.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#float")if(h=
h[0],h.token==="literal")if(h=QueryFilters.normalizeLiteralDatatype(h,j,g),h.type=="http://www.w3.org/2001/XMLSchema#decimal"||h.type=="http://www.w3.org/2001/XMLSchema#int")return h.type=c,h.value=parseFloat(h.value),h;else if(h.type=="http://www.w3.org/2001/XMLSchema#boolean")return QueryFilters.ebv(h)==!0?(h.type=c,h.value=1):(h.type=c,h.value=0),h;else if(h.type=="http://www.w3.org/2001/XMLSchema#float"||h.type=="http://www.w3.org/2001/XMLSchema#double")return h.type=c,h.value=parseFloat(h.value),
h;else if(h.type=="http://www.w3.org/2001/XMLSchema#string")try{return h.value=parseFloat(h.value),isNaN(h.value)?QueryFilters.ebvError():(h.type=c,h)}catch(u){return QueryFilters.ebvError()}else if(h.type==null){if(h.value.split(".").length>2)return QueryFilters.ebvError();else if(h.value.split("-").length>2)return QueryFilters.ebvError();else if(h.value.split("/").length>2)return QueryFilters.ebvError();else if(h.value.split("+").length>2)return QueryFilters.ebvError();try{return h.value=parseFloat(h.value),
isNaN(h.value)?QueryFilters.ebvError():(h.type=c,h)}catch(E){return QueryFilters.ebvError()}}else return QueryFilters.ebvError();else return QueryFilters.ebvError();else return QueryFilters.ebvError()}};QueryPlan={orderJoins:function(c){return c},variablesInBGP:function(c){var b=c.variables;if(b)return b;var e=c.value||c,b=[];for(comp in e)e[comp]&&e[comp].token==="var"?b.push(e[comp].value):e[comp]&&e[comp].token==="blank"&&b.push("blank:"+e[comp].label);return c.variables=b},variablesIntersectionBGP:function(c,
b){for(var e=QueryPlan.variablesInBGP(c).sort(),j=QueryPlan.variablesInBGP(b).sort(),i=0,g=0,h=[];i<e.length&&g<j.length;)e[i]===j[g]?(h.push(e[i]),i++,g++):e[i]<j[g]?i++:g++;return h}};QueryPlan.executeAndBGPs=function(c,b,e,j){c=Utils.partition(c,2);return QueryPlan.buildBushyJoinTreeBase(c,b,e,j)};QueryPlan.buildBushyJoinTreeBase=function(c,b,e,j){for(var i=[],g=0;g<c.length;g++){var h=c[g];results=QueryPlan.executeAndBGP(h[0],h[1],b,e,j);if(results!=null)i.push(results);else return null}return QueryPlan.buildBushyJoinTreeBranches(i)};
QueryPlan.buildBushyJoinTreeBranches=function(c){if(c.length===1)return c[0];else{for(var c=Utils.partition(c,2),b=[],e=0;e<c.length;e++){var j=c[e],j=QueryPlan.executeAndBindings(j[0],j[1]);b.push(j)}return QueryPlan.buildBushyJoinTreeBranches(b)}};QueryPlan.executeAndBindings=function(c,b){return c==null?b:b==null?c:c==[]||b==[]?[]:QueryPlan.variablesIntersectionBindings(c[0],b[0]).length==0?QueryPlan.crossProductBindings(c,b):QueryPlan.joinBindings(c,b)};QueryPlan.executeAndBGP=function(c,b,e,
j,i){if(c==null)return QueryPlan.executeEmptyJoinBGP(b,e,j,i);else if(b==null)return QueryPlan.executeEmptyJoinBGP(c,e,j,i);else{var g=QueryPlan.variablesIntersectionBGP(c,b);return g.length===0?QueryPlan.executeCrossProductBGP(g,c,b,e,j,i):QueryPlan.executeJoinBGP(g,c,b,e,j,i)}};QueryPlan.executeEmptyJoinBGP=function(c,b,e,j){return QueryPlan.executeBGPDatasets(c,b,e,j)};QueryPlan.executeJoinBGP=function(c,b,e,j,i,g){c=QueryPlan.executeBGPDatasets(b,j,i,g);return c!=null?(e=QueryPlan.executeBGPDatasets(e,
j,i,g),e!=null?QueryPlan.joinBindings(c,e):null):null};QueryPlan.executeBGPDatasets=function(c,b,e,j){var i={};if(c.graph==null){for(var g=[],h=0;h<b["default"].length;h++)if(i[b["default"][h].oid]==null){i[b["default"][h].oid]=!0;c.graph=b["default"][h];var m=e.rangeQuery(c,j),m=QueryPlan.buildBindingsFromRange(m,c);g.push(m)}return c=QueryPlan.unionManyBindings(g)}else if(c.graph.token==="var"){for(var n=c.graph.value,g=[],h=0;h<b.named.length;h++)if(i[b.named[h].oid]==null)if(i[b.named[h].oid]=
!0,c.graph=b.named[h],m=e.rangeQuery(c,j),m!=null){for(var m=QueryPlan.buildBindingsFromRange(m,c),v=0;v<m.length;v++)m[v][n]=b.named[h].oid;g.push(m)}else return null;return c=QueryPlan.unionManyBindings(g||[])}else return m=e.rangeQuery(c,j),m!=null?m=QueryPlan.buildBindingsFromRange(m,c):null};QueryPlan.executeCrossProductBGP=function(c,b,e,j,i,g){c=QueryPlan.executeBGPDatasets(b,j,i,g);return c!=null?(e=QueryPlan.executeBGPDatasets(e,j,i,g),e!=null?QueryPlan.crossProductBindings(c,e):null):null};
QueryPlan.buildBindingsFromRange=function(c,b){QueryPlan.variablesInBGP(b);var e={},j=b.value||b,e={};for(m in j)j[m]&&j[m].token==="var"?e[m]=j[m].value:j[m]&&j[m].token==="blank"&&(e[m]="blank:"+j[m].label);j=[];if(c!=null)for(var i=0;i<c.length;i++){var g={},h=c[i],m;for(m in e)g[e[m]]=h[m];j.push(g)}return j};QueryPlan.variablesIntersectionBindings=function(c,b){var e=0,j=0,i=[],g=[],h;for(h in c)i.push(h);for(h in b)g.push(h);i.sort();g.sort();for(h=[];e<i.length&&j<g.length;)i[e]===g[j]?(h.push(i[e]),
e++,j++):i[e]<g[j]?e++:j++;return h};QueryPlan.areCompatibleBindings=function(c,b){for(var e in c)if(b[e]!=null&&b[e]!=c[e])return!1;return!0};QueryPlan.mergeBindings=function(c,b){var e={},j;for(j in c)e[j]=c[j];for(j in b)e[j]=b[j];return e};QueryPlan.joinBindings=function(c,b){for(var e=[],j=0;j<c.length;j++)for(var i=c[j],g=0;g<b.length;g++){var h=b[g];QueryPlan.areCompatibleBindings(i,h)&&e.push(QueryPlan.mergeBindings(i,h))}return e};QueryPlan.augmentMissingBindings=function(c,b){for(var e in b)c[e]==
null&&(c[e]=null);return c};QueryPlan.leftOuterJoinBindings=function(c,b){for(var e=[],j=0;j<c.length;j++){for(var i=c[j],g=!1,h=0;h<b.length;h++){var m=b[h];QueryPlan.areCompatibleBindings(i,m)&&(g=!0,e.push(QueryPlan.mergeBindings(i,m)))}g===!1&&(QueryPlan.augmentMissingBindings(i,m),e.push(i))}return e};QueryPlan.crossProductBindings=function(c,b){for(var e=[],j=0;j<c.length;j++)for(var i=c[j],g=0;g<b.length;g++)e.push(QueryPlan.mergeBindings(i,b[g]));return e};QueryPlan.unionBindings=function(c,
b){return c.concat(b)};QueryPlan.unionManyBindings=function(c){for(var b=[],e=0;e<c.length;e++)b=QueryPlan.unionBindings(b,c[e]);return b};QueryEngine={QueryEngine:function(c){if(arguments.length!=0)this.backend=c.backend,this.lexicon=c.lexicon,this.eventsOnBatchLoad=c.eventsOnBatchLoad||!1,this.defaultPrefixes={},this.abstractQueryTree=new AbstractQueryTree.AbstractQueryTree,this.rdfLoader=new RDFLoader.RDFLoader(c.communication),this.callbacksBackend=new Callbacks.CallbacksBackend(this)}};QueryEngine.QueryEngine.prototype.registerNsInEnvironment=
function(c,b){var e=c.prefixes,j={},i;for(i in this.defaultPrefixes)j[i]=this.defaultPrefixes[i];for(i=0;i<e.length;i++){var g=e[i];if(g.token==="prefix")j[g.prefix]=g.local}b.namespaces=j;b.base=c.base&&typeof c.base==="object"?c.base.value:null};QueryEngine.QueryEngine.prototype.applyModifier=function(c,b){if(c=="DISTINCT"){for(var e={},j=[],i=0;i<b.length;i++){var g=b[i],h="",m;for(m in g){var n=g[m];n==null?h=h+m+"null":n.token=="literal"?(n.value!=null&&(h+=n.value),n.lang!=null&&(h+=n.lang),
n.type!=null&&(h+=n.type)):h=n.value?h+m+n.value:h+m+n}e[h]==null&&(j.push(g),e[h]=!0)}return j}else return b};QueryEngine.QueryEngine.prototype.applyLimitOffset=function(c,b,e){if(b==null&&c==null)return e;c==null&&(c=0);b=b==null?e.length:c+b;return e.slice(c,b)};QueryEngine.QueryEngine.prototype.applySingleOrderBy=function(c,b,e,j){for(var i=[],g=0;g<c.length;g++){var h=QueryFilters.collect(c[g].expression,[b],e,j,this);i.push(h[0].value)}return{binding:b,value:i}};QueryEngine.QueryEngine.prototype.applyOrderBy=
function(c,b,e,j){var i=this,g=[];if(c!=null&&c.length>0){for(var h=0;h<b.length;h++){var m=i.applySingleOrderBy(c,b[h],e,j);g.push(m)}g.sort(function(b,e){return i.compareFilteredBindings(b,e,c,j)});b=[];for(h=0;h<g.length;h++)b.push(g[h].binding)}return b};QueryEngine.QueryEngine.prototype.compareFilteredBindings=function(c,b,e,j){for(var i=0;;){if(i==c.value.length)return 0;var g=e[i].direction;if(c.value[i]==null&&b.value[i]==null)i++;else{if(c.value[i]==null)c={value:!1};else if(b.value[i]==
null)c={value:!0};else if(c.value[i].token==="blank"&&b.value[i].token==="blank"){i++;continue}else if(c.value[i].token==="blank")c={value:!1};else if(b.value[i].token==="blank")c={value:!0};else if(c.value[i].token==="uri"&&b.value[i].token==="uri")if(QueryFilters.runEqualityFunction(c.value[i],b.value[i],[],this,j).value==!0){i++;continue}else c=QueryFilters.runTotalGtFunction(c.value[i],b.value[i],[]);else if(c.value[i].token==="uri")c={value:!1};else if(b.value[i].token==="uri")c={value:!0};else if(c.value[i].token===
"literal"&&b.value[i].token==="literal"&&c.value[i].type==null&&b.value[i].type==null)if(QueryFilters.runEqualityFunction(c.value[i],b.value[i],[],this,j).value==!0){i++;continue}else c=QueryFilters.runTotalGtFunction(c.value[i],b.value[i],[]);else if(c.value[i].token==="literal"&&c.value[i].type==null)c={value:!1};else if(b.value[i].token==="literal"&&b.value[i].type==null)c={value:!0};else if(QueryFilters.runEqualityFunction(c.value[i],b.value[i],[],this,j).value==!0){i++;continue}else c=QueryFilters.runTotalGtFunction(c.value[i],
b.value[i],[]);return c.value==!0?g==="ASC"?1:-1:g==="ASC"?-1:1}}};QueryEngine.QueryEngine.prototype.removeDefaultGraphBindings=function(c,b){for(var e=[],j={},i=0;i<b.named.length;i++)j[b.named[i].oid]=!0;for(i=0;i<b["default"].length;i++)j[b["default"][i].oid]==null&&e.push(b["default"][i].oid);e=[];for(i=0;i<c.length;i++){var g=c[i],h=!1,m;for(m in g){for(var n=0;n<j.length;n++)if(g[m]===j[n]){h=!0;break}if(h)break}h||e.push(g)}return e};QueryEngine.QueryEngine.prototype.aggregateBindings=function(c,
b,e,j){for(var b=this.copyDenormalizedBindings(b,j.outCache),i={},g=0;g<c.length;g++){var h=QueryFilters.runAggregator(c[g],b,this,e,j);c[g].alias?i[c[g].alias.value]=h:i[c[g].value.value]=h}return i};QueryEngine.QueryEngine.prototype.projectBindings=function(c,b,e){if(c[0].kind==="*")return b;else{for(var j=[],i=0;i<b.length;i++){for(var g=b[i],h={},m=!0,n=0;n<c.length;n++)if(c[n].token=="variable"&&c[n].kind!="aliased")h[c[n].value.value]=g[c[n].value.value];else if(c[n].token=="variable"&&c[n].kind==
"aliased"){var v=QueryFilters.runFilter(c[n].expression,g,this,e,{blanks:{},outCache:{}});if(QueryFilters.isEbvError(v)){m=!1;break}else h[c[n].alias.value]=v}m===!0&&j.push(h)}return j}};QueryEngine.QueryEngine.prototype.resolveNsInEnvironment=function(c,b){return b.namespaces[c]};QueryEngine.QueryEngine.prototype.normalizeTerm=function(c,b,e){if(c.token==="uri")return b=Utils.lexicalFormBaseUri(c,b),b==null?null:e?this.lexicon.registerUri(b):this.lexicon.resolveUri(b);else if(c.token==="literal")return b=
Utils.lexicalFormLiteral(c,b),c=e?this.lexicon.registerLiteral(b):this.lexicon.resolveLiteral(b);else if(c.token==="blank"){var j=c.label,c=b.blanks[j];c==null&&(c=e?this.lexicon.registerBlank(j):this.lexicon.resolveBlank(j),b.blanks[j]=c);return c}else return c.token==="var"?c.value:null};QueryEngine.QueryEngine.prototype.normalizeDatasets=function(c,b){for(var e=0;e<c.length;e++){var j=c[e];if(j.value===this.lexicon.defaultGraphUri)j.oid=this.lexicon.defaultGraphOid;else{var i=this.normalizeTerm(j,
b,!1);if(i!=null)j.oid=i;else return null}}return!0};QueryEngine.QueryEngine.prototype.normalizeQuad=function(c,b,e){var j=null,i=null,g=j=null,h;if(c.graph==null)g=0;else if(h=this.normalizeTerm(c.graph,b,e),h!=null)g=h,e===!0&&c.graph.token!="var"&&this.lexicon.registerGraph(h);else return null;h=this.normalizeTerm(c.subject,b,e);if(h!=null)j=h;else return null;h=this.normalizeTerm(c.predicate,b,e);if(h!=null)i=h;else return null;h=this.normalizeTerm(c.object,b,e);return h==null?null:{subject:j,
predicate:i,object:h,graph:g}};QueryEngine.QueryEngine.prototype.denormalizeBindingsList=function(c,b){for(var e=[],j=0;j<c.length;j++)result=this.denormalizeBindings(c[j],b),e.push(result);return e};QueryEngine.QueryEngine.prototype.copyDenormalizedBindings=function(c,b){for(var e=[],j=0;j<c.length;j++){for(var i={},g=c[j],h=Utils.keys(g),m=0;m<h.length;m++){var n=g[h[m]];if(n==null)i[h[m]]=null;else if(typeof n==="object")i[h[m]]=n;else{var v=b[n];v==null&&(v=this.lexicon.retrieve(n),b[n]=v);i[h[m]]=
v}}e.push(i)}return e};QueryEngine.QueryEngine.prototype.denormalizeBindings=function(c,b){for(var e=Utils.keys(c),j=0;j<e.length;j++){var i=c[e[j]];i==null?c[e[j]]=null:b[i]!=null?c[e[j]]=b[i]:(i=this.lexicon.retrieve(i),c[e[j]]=i)}return c};QueryEngine.QueryEngine.prototype.execute=function(c,b,e,j){c=Utils.normalizeUnicodeLiterals(c);c=this.abstractQueryTree.parseQueryString(c);if(c==null)b(!1,"Error parsing query string");else if(c.token==="query"&&c.kind=="update"){this.callbacksBackend.startGraphModification();
var i=this;this.executeUpdate(c,function(c,e){c?i.callbacksBackend.endGraphModification(function(){b(c,e)}):(i.callbacksBackend.cancelGraphModification(),b(c,e))})}else c.token==="query"&&c.kind=="query"&&this.executeQuery(c,b,e,j)};QueryEngine.QueryEngine.prototype.executeQuery=function(c,b,e,j){var i=c.units,g=this,h={blanks:{},outCache:{}};this.registerNsInEnvironment(c.prologue,h);var m=g.abstractQueryTree.parseExecutableUnit(i[0]);if(m.kind==="select")this.executeSelect(m,h,e,j,function(c,e){c?
typeof e==="object"&&e.denorm===!0?b(!0,e.bindings):(e=g.denormalizeBindingsList(e,h.outCache),e!=null?b(!0,e):b(!1,e)):b(!1,e)});else if(m.kind==="ask")m.projection=[{token:"variable",kind:"*"}],this.executeSelect(m,h,e,j,function(c,e){c?c?e.length>0?b(!0,!0):b(!0,!1):b(!1,e):b(!1,e)});else if(m.kind==="construct")m.projection=[{token:"variable",kind:"*"}],g=this,this.executeSelect(m,h,e,j,function(c,e){if(c)if(c)if(e=g.denormalizeBindingsList(e,h.outCache),e!=null){var i=new RDFJSInterface.Graph;
if(m.template==null)m.template={triplesContext:m.pattern};for(var j=1,A=0;A<e.length;A++)for(var F=e[A],G={},L=0;L<m.template.triplesContext.length;L++){for(var J=["subject","predicate","object"],H=m.template.triplesContext[L],Q=0;Q<J.length;Q++){var V=J[Q];if(H[V].token==="blank")if(G[H[V].value]!=null)H[V].value=G[H[V].value];else{var W="_:b"+j;j++;G[H[V].value]=W;H[V].value=W}}J=RDFJSInterface.buildRDFResource(H.subject,F,g,h);Q=RDFJSInterface.buildRDFResource(H.predicate,F,g,h);H=RDFJSInterface.buildRDFResource(H.object,
F,g,h);J!=null&&Q!=null&&H!=null&&(Q=new RDFJSInterface.Triple(J,Q,H),i.add(Q))}b(!0,i)}else b(!1,e);else b(!1,e);else b(!1,e)})};QueryEngine.QueryEngine.prototype.executeSelect=function(c,b,e,j,i){if(c.kind==="select"||c.kind==="ask"||c.kind==="construct"||c.kind==="modify"){var g=c.projection,h=c.dataset,m=c.modifier,n=c.limit,v=c.offset,u=c.order;if(e!=null||j!=null)h["default"]=e||[],h.named=j||[];h["default"]!=null&&h["default"].length===0&&h.named!=null&&h.named.length===0&&h["default"].push(this.lexicon.defaultGraphUriTerm);
if(this.normalizeDatasets(h["default"].concat(h.named),b)!=null)if(j=this.executeSelectUnit(g,h,c.pattern,b),j!=null){if(c.group!=null&&c.group===""){for(var E=!1,e=0;e<c.projection.length;e++)if(c.projection[e].expression!=null&&c.projection[e].expression.expressionType==="aggregate"){E=!0;break}if(E===!0)c.group="singleGroup"}if(c.group&&c.group!="")if(this.checkGroupSemantics(c.group,g)){m=this.groupSolution(j,c.group,h,b);n=[];for(e=0;e<m.length;e++)v=this.aggregateBindings(g,m[e],h,b),n.push(v);
i(!0,{bindings:n,denorm:!0})}else i(!1,"Incompatible Group and Projection variables");else b=this.applyOrderBy(u,j,h,b),g=this.projectBindings(g,b,h),modifiedBindings=this.applyModifier(m,g),filteredBindings=this.removeDefaultGraphBindings(this.applyLimitOffset(v,n,modifiedBindings),h),i(!0,filteredBindings)}else console.log("ERROR selectUnit"),i(!1,j);else console.log("ERROR normalizing"),i(!1,results)}else i(!1,"Cannot execute "+c.kind+" query as a select query")};QueryEngine.QueryEngine.prototype.groupSolution=
function(c,b,e,j){var i=[],g=[],h=!1;if(b==="singleGroup")return[c];else{for(var m=0;m<c.length;m++){for(var n=c[m],v=!0,u=0;u<b.length;u++){var E=b[u],A=null;if(E.token==="var")A=E.value,h==!1&&i.push(A);else if(E.token==="aliased_expression")if(A=E.alias.value,h==!1&&i.push(A),E.expression.primaryexpression==="var")n[E.alias.value]=n[E.expression.value.value];else if(A=this.copyDenormalizedBindings([n],j.outCache),A=QueryFilters.runFilter(E.expression,A[0],this,e,j),QueryFilters.isEbvError(A))v=
!1;else{if(A.value!=null)A.value=""+A.value;n[E.alias.value]=A}else A=this.copyDenormalizedBindings([n],j.outCache),A=QueryFilters.runFilter(E,A[0],this,j),QueryFilters.isEbvError(A)?v=!1:(n["groupCondition"+env._i]=A,A="groupCondition"+env._i,h==!1&&i.push(A))}h==!1&&(h=!0);v===!0&&g.push(n)}c={};for(m=0;m<g.length;m++){b=g[m];e="";for(u=0;u<i.length;u++)j=b[i[u]],e+=typeof j==="object"?j.value:j;c[e]==null?c[e]=[b]:c[e].push(b)}var i=[],F;for(F in c)i.push(c[F]);return i}};QueryEngine.QueryEngine.prototype.executeSelectUnit=
function(c,b,e,j){return e.kind==="BGP"?this.executeAndBGP(c,b,e,j):e.kind==="UNION"?this.executeUNION(c,b,e.value,j):e.kind==="JOIN"?this.executeJOIN(c,b,e,j):e.kind==="LEFT_JOIN"?this.executeLEFT_JOIN(c,b,e,j):e.kind==="FILTER"?(c=this.executeSelectUnit(c,b,e.value,j),c!=null?c=QueryFilters.checkFilters(e,c,!1,b,j,this):[]):e.kind==="EMPTY_PATTERN"?[]:(console.log("Cannot execute query pattern "+e.kind+". Not implemented yet."),null)};QueryEngine.QueryEngine.prototype.executeUNION=function(c,b,
e,j){var i=e[0],g=e[1],h=null,m=null;if(e.length!=2)throw"SPARQL algebra UNION with more than two components";h=this.executeSelectUnit(c,b,i,j);if(h==null)return null;m=this.executeSelectUnit(c,b,g,j);if(m==null)return null;c=QueryPlan.unionBindings(h,m);return c=QueryFilters.checkFilters(e,c,!1,b,j,this)};QueryEngine.QueryEngine.prototype.executeAndBGP=function(c,b,e,j){c=QueryPlan.executeAndBGPs(e.value,b,this,j);return c!=null?QueryFilters.checkFilters(e,c,!1,b,j,this):null};QueryEngine.QueryEngine.prototype.executeLEFT_JOIN=
function(c,b,e,j){var i=e.rvalue,g=null,h=null,g=this.executeSelectUnit(c,b,e.lvalue,j);if(g==null)return null;h=this.executeSelectUnit(c,b,i,j);if(h==null)return null;c=QueryPlan.leftOuterJoinBindings(g,h);b=QueryFilters.checkFilters(e,c,!0,b,j,this);if(g.length>1&&h.length>1){var e=[],j={},m;for(m in g[0])j[m]=!0;for(m in h[0])j[m]!=!0&&e.push(m);acum=[];duplicates={};for(g=0;g<b.length;g++)if(b[g].__nullify__===!0){for(j=0;j<e.length;j++)b[g].bindings[e[j]]=null;j=[];h=[];for(m in b[g].bindings)b[g].bindings[m]!=
null&&(j.push(m+b[g].bindings[m]),j.sort(),h.push(j.join("")));if(duplicates[j.join("")]==null){for(j=0;j<h.length;j++)duplicates[h[j]]=!0;acum.push(b[g].bindings)}}else for(m in acum.push(b[g]),j=[],b[g])j.push(m+b[g][m]),j.sort(),duplicates[j.join("")]=!0;return acum}else return b};QueryEngine.QueryEngine.prototype.executeJOIN=function(c,b,e,j){var i=e.rvalue,g=null,h=null,g=this.executeSelectUnit(c,b,e.lvalue,j);if(g==null)return null;h=this.executeSelectUnit(c,b,i,j);if(h==null)return null;c=
QueryPlan.joinBindings(g,h);return c=QueryFilters.checkFilters(e,c,!1,b,j,this)};QueryEngine.QueryEngine.prototype.rangeQuery=function(c,b){var e=this.normalizeQuad(c,b,!1);return e!=null?(e=this.backend.range(new QuadIndexCommon.Pattern(e)),e==null||e.length==0?[]:e):(console.log("ERROR normalizing quad"),null)};QueryEngine.QueryEngine.prototype.executeUpdate=function(c,b){var e=c.units,j=this,i={blanks:{},outCache:{}};this.registerNsInEnvironment(c.prologue,i);for(var g=0;g<e.length;g++){var h=
j.abstractQueryTree.parseExecutableUnit(e[g]);if(h.kind==="insertdata"){for(var m=0;m<h.quads.length;m++){var n=h.quads[m];if(j._executeQuadInsert(n,i)!==!0)return b(!1,error)}b(!0)}else if(h.kind==="deletedata"){for(m=0;m<h.quads.length;m++)n=h.quads[m],this._executeQuadDelete(n,i);b(!0)}else if(h.kind==="modify")this._executeModifyQuery(h,i,b);else if(h.kind==="create")b(!0);else if(h.kind==="load")m={uri:Utils.lexicalFormBaseUri(h.sourceGraph,i)},h.destinyGraph!=null&&(m={uri:Utils.lexicalFormBaseUri(h.destinyGraph,
i)}),j=this,this.rdfLoader.load(h.sourceGraph.value,m,function(c,e){c==!1?(console.log("Error loading graph"),console.log(e)):(e=j.batchLoad(e),b(e!=null,e||"error batch loading quads"))});else if(h.kind==="drop")this._executeClearGraph(h.destinyGraph,i,b);else if(h.kind==="clear")this._executeClearGraph(h.destinyGraph,i,b);else throw Error("not supported execution unit");}};QueryEngine.QueryEngine.prototype.batchLoad=function(c,b){var e=null,j=null,i=null,g=null,h=0,m=!0,n={},v,u;this.eventsOnBatchLoad&&
this.callbacksBackend.startGraphModification();for(var E=0;E<c.length;E++)if(u=c[E],u.subject.uri||u.subject.token==="uri"?v=this.lexicon.registerUri(u.subject.uri||u.subject.value):u.subject.literal||u.subject.token==="literal"?v=this.lexicon.registerLiteral(u.subject.literal||u.subject.value):(v=n[u.subject.blank||u.subject.value],v==null&&(v=this.lexicon.registerBlank(u.subject.blank||u.subject.value),n[u.subject.blank||u.subject.value]=v)),e=v,u.predicate.uri||u.predicate.token==="uri"?v=this.lexicon.registerUri(u.predicate.uri||
u.predicate.value):u.predicate.literal||u.predicate.token==="literal"?v=this.lexicon.registerLiteral(u.predicate.literal||u.predicate.value):(v=n[u.predicate.blank||u.predicate.value],v==null&&(v=this.lexicon.registerBlank(u.predicate.blank||u.predicate.value),n[u.predicate.blank||u.predicate.value]=v)),j=v,u.object.uri||u.object.token==="uri"?v=this.lexicon.registerUri(u.object.uri||u.object.value):u.object.literal||u.object.token==="literal"?v=this.lexicon.registerLiteral(u.object.literal||u.object.value):
(v=n[u.object.blank||u.object.value],v==null&&(v=this.lexicon.registerBlank(u.object.blank||u.object.value),n[u.object.blank||u.object.value]=v)),i=v,u.graph.uri||u.graph.token==="uri"?(v=this.lexicon.registerUri(u.graph.uri||u.graph.value),this.lexicon.registerGraph(v)):u.graph.literal||u.graph.token==="literal"?v=this.lexicon.registerLiteral(u.graph.literal||u.graph.value):(v=n[u.graph.blank||u.graph.value],v==null&&(v=this.lexicon.registerBlank(u.graph.blank||u.graph.value),n[u.graph.blank||u.graph.value]=
v)),g=v,v=u,u={subject:e,predicate:j,object:i,graph:g},e=new QuadIndexCommon.NodeKey(u),this.backend.index(e)==!0)this.eventsOnBatchLoad&&this.callbacksBackend.nextGraphModification(Callbacks.added,[v,u]),h+=1;else{m=!1;break}var A=function(){m?b&&b(!0,h):b&&b(!1,null)};this.eventsOnBatchLoad?this.callbacksBackend.endGraphModification(function(){A()}):A();return m?h:null};QueryEngine.QueryEngine.prototype._executeModifyQuery=function(c,b,e){var j=this,i=!0,g=null,h=["subject","predicate","object",
"graph"];c.insert=c.insert==null?[]:c.insert;c["delete"]=c["delete"]==null?[]:c["delete"];Utils.seq(function(e){var h=[],v=[];c["with"]!=null&&h.push(c["with"]);if(c.using!=null)for(var v=[],u=0;u<c.using.length;u++){var E=c.using[u];E.kind==="named"?v.push(E.uri):h.push(E.uri)}c.dataset={};c.projection=[{token:"variable",kind:"*"}];j.executeSelect(c,b,h,v,function(c,h){c?(h=j.denormalizeBindingsList(h,b.outCache),h!=null?g=h:i=!1):i=!1;return e()})},function(e){var n=c["with"];if(i){for(var v=[],
u=0;u<c["delete"].length;u++)for(var E=c["delete"][u],A=0;A<g.length;A++){for(var F={},G=g[A],L=0;L<h.length;L++){var J=h[L];J=="graph"&&E[J]==null?F.graph=n:F[J]=E[J].token==="var"?G[E[J].value]:E[J]}v.push(F)}for(A=0;A<v.length;A++)F=v[A],j._executeQuadDelete(F,b)}e()},function(e){var n=c["with"];if(i){for(var v=[],u=0;u<c.insert.length;u++)for(var E=c.insert[u],A=0;A<g.length;A++){for(var F={},G=g[A],L=0;L<h.length;L++){var J=h[L];J=="graph"&&E[J]==null?F.graph=n:F[J]=E[J].token==="var"?G[E[J].value]:
E[J]}v.push(F)}for(u=0;u<v.length;u++)F=v[u],j._executeQuadInsert(F,b)}e()})(function(){e(i)})};QueryEngine.QueryEngine.prototype._executeQuadInsert=function(c,b){var e=this.normalizeQuad(c,b,!0);if(e!=null){var j=new QuadIndexCommon.NodeKey(e),i=this.backend.search(j);return i?i:(i=this.backend.index(j),i==!0?(this.callbacksBackend.nextGraphModification(Callbacks.added,[c,e]),!0):(console.log("ERROR inserting quad"),!1))}else return console.log("ERROR normalizing quad"),!1};QueryEngine.QueryEngine.prototype._executeQuadDelete=
function(c,b){var e=this.normalizeQuad(c,b,!1);if(e!=null){var j=new QuadIndexCommon.NodeKey(e);this.backend["delete"](j);return this.lexicon.unregister(c,j)==!0?(this.callbacksBackend.nextGraphModification(Callbacks.deleted,[c,e]),!0):(console.log("ERROR unregistering quad"),!1)}else return console.log("ERROR normalizing quad"),!1};QueryEngine.QueryEngine.prototype._executeClearGraph=function(c,b,e){if(c==="default")this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",e);else if(c==="named"){var j=
this,i=this.lexicon.registeredGraphs(!0);if(i!=null){var g=!1;Utils.repeat(0,i.length,function(b,c){var e=i[c._i],v=arguments.callee;g?b(v,c):j.execute("DELETE { GRAPH <"+e+"> { ?s ?p ?o } } WHERE { GRAPH <"+e+"> { ?s ?p ?o } }",function(e){g=!e;b(v,c)})},function(){e(!g)})}else e(!1,"Error deleting named graphs")}else c==="all"?(j=this,this.execute("CLEAR DEFAULT",function(b,c){b?j.execute("CLEAR NAMED",e):e(!1,c)})):c.token=="uri"?(c=Utils.lexicalFormBaseUri(c,b),c!=null?this.execute("DELETE { GRAPH <"+
c+"> { ?s ?p ?o } } WHERE { GRAPH <"+c+"> { ?s ?p ?o } }",e):e(!1,"wrong graph URI")):e(!1,"wrong graph URI")};QueryEngine.QueryEngine.prototype.checkGroupSemantics=function(c,b){if(c==="singleGroup")return!0;for(var e={},j=0;j<c.length;j++){var i=c[j];i.token==="var"?e[i.value]=!0:i.token==="aliased_expression"&&(e[i.alias.value]=!0)}for(j=0;j<b.length;j++)if(i=b[j],i.kind==="var"){if(e[i.value.value]==null)return!1}else if(i.kind==="aliased"&&i.expression&&i.expression.primaryexpression==="var"&&
e[i.expression.value.value]==null)return!1;return!0};QueryEngine.QueryEngine.prototype.registerDefaultNamespace=function(c,b){this.defaultPrefixes[c]=b};Callbacks={ANYTHING:{token:"var",value:"_"},added:"added",deleted:"deleted",eventsFlushed:"eventsFlushed",CallbacksBackend:function(c){this.aqt=new AbstractQueryTree.AbstractQueryTree;this.engine=c;this.indexMap={};this.observersMap={};this.queriesIndexMap={};this.emptyNotificationsMap={};this.queriesList=[];this.pendingQueries=[];this.matchedQueries=
[];this.updateInProgress=null;this.indices=["SPOG","GP","OGS","POG","GSP","OS"];this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};this.callbackCounter=0;this.callbacksMap={};this.callbacksInverseMap={};this.queryCounter=0;this.queriesMap={};this.queriesCallbacksMap=
{};this.queriesInverseMap={};for(c=0;c<this.indices.length;c++){var b=this.indices[c];this.indexMap[b]={};this.queriesIndexMap[b]={}}}};Callbacks.CallbacksBackend.prototype.startGraphModification=function(){this.pendingQueries=[].concat(this.queriesList);this.matchedQueries=[];if(this.updateInProgress==null)this.updateInProgress={added:[],deleted:[]}};Callbacks.CallbacksBackend.prototype.nextGraphModification=function(c,b){this.updateInProgress[c].push(b)};Callbacks.CallbacksBackend.prototype.endGraphModification=
function(c){var b=this;if(this.updateInProgress!=null){var e=b.updateInProgress;b.updateInProgress=null;this.sendNotification(Callbacks.deleted,e[Callbacks.deleted],function(){b.sendNotification(Callbacks.added,e[Callbacks.added],function(){b.sendEmptyNotification(Callbacks.eventsFlushed,null,function(){b.dispatchQueries(function(){c(!0)})})})})}else c(!0)};Callbacks.CallbacksBackend.prototype.cancelGraphModification=function(){this.updateInProgress=null};Callbacks.CallbacksBackend.prototype.sendNotification=
function(c,b,e){for(var j={},i=0;i<b.length;i++){var g=b[i],h;for(h in this.indexMap){var m=this.indexMap[h],n=this.componentOrders[h];this._searchCallbacksInIndex(m,n,c,g,j);this.pendingQueries.length!=0&&(m=this.queriesIndexMap[h],this._searchQueriesInIndex(m,n,g))}}this.dispatchNotifications(j);e!=null&&e(!0)};Callbacks.CallbacksBackend.prototype.sendEmptyNotification=function(c,b,e){for(var j=this.emptyNotificationsMap[c]||[],i=0;i<j.length;i++)j[i](c,b);e()};Callbacks.CallbacksBackend.prototype.dispatchNotifications=
function(c){for(var b in c){var e=this.callbacksMap[b],j=c[b][Callbacks.deleted];j!=null&&e(Callbacks.deleted,j);for(var i in c[b])i!=Callbacks.deleted&&e(i,c[b][i])}};Callbacks.CallbacksBackend.prototype._searchCallbacksInIndex=function(c,b,e,j,i){for(var g=j[1],j=j[0],h=0;h<b.length+1;h++){for(var m=c._||[],n=[],v=0;v<m.length;v++){var u=m[v];this.callbacksMap[u]!=null&&(i[u]=i[u]||{},i[u][e]=i[u][e]||[],i[u][e].push(j),n.push(u))}c._=n;m=b[h];if(c[""+g[m]]!=null)c=c[""+g[m]];else break}};Callbacks.CallbacksBackend.prototype.subscribeEmpty=
function(c,b){var e=this.emptyNotificationsMap[c]||[];e.push(b);this.emptyNotificationsMap[c]=e};Callbacks.CallbacksBackend.prototype.unsubscribeEmpty=function(c,b){var e=this.emptyNotificationsMap[c];e!=null&&(e=Utils.remove(e,b));this.emptyNotificationsMap[c]=e};Callbacks.CallbacksBackend.prototype.subscribe=function(c,b,e,j,i,g){c=this.engine.normalizeQuad(this._tokenizeComponents(c,b,e,j),{blanks:{},outCache:{}},!0);e=this._indexForPattern(new QuadIndexCommon.Pattern(c));b=this.componentOrders[e];
e=this.indexMap[e];for(j=0;j<b.length;j++){var h=c[b[j]];if(h==="_"){e._==null&&(e._=[]);this.callbackCounter++;e._.push(this.callbackCounter);this.callbacksMap[this.callbackCounter]=i;this.callbacksInverseMap[i]=this.callbackCounter;break}else j===b.length-1?(e[h]=e[h]||{_:[]},this.callbackCounter++,e[h]._.push(this.callbackCounter),this.callbacksMap[this.callbackCounter]=i,this.callbacksInverseMap[i]=this.callbackCounter):(e[h]=e[h]||{},e=e[h])}g!=null&&g(!0)};Callbacks.CallbacksBackend.prototype.unsubscribe=
function(c){var b=this.callbacksInverseMap[c];b!=null&&(delete this.callbacksInverseMap[c],delete this.callbacksMap[b])};Callbacks.CallbacksBackend.prototype._tokenizeComponents=function(c,b,e,j){var i={};c==null?i.subject=Callbacks.ANYTHING:c.indexOf("_:")==0?(console.log("BLANK!!"),i.subject={token:"blank",value:c}):i.subject={token:"uri",value:c};i.predicate=b==null?Callbacks.ANYTHING:{token:"uri",value:b};i.object=e==null?Callbacks.ANYTHING:{token:"uri",value:e};i.graph=j==null?Callbacks.ANYTHING:
{token:"uri",value:j};return i};Callbacks.CallbacksBackend.prototype._indexForPattern=function(c){for(var c=c.indexKey,b=this.indices,e=0;e<b.length;e++)for(var j=b[e],i=this.componentOrders[j],g=0;g<i.length;g++){if(Utils.include(c,i[g])===!1)break;if(g==c.length-1)return j}return"SPOG"};Callbacks.CallbacksBackend.prototype.observeNode=function(){var c,b,e,j;arguments.length===4?(c=arguments[0],b=arguments[1],e=arguments[2],j=arguments[3]):(c=arguments[0],b=this.engine.lexicon.defaultGraphUri,e=
arguments[1],j=arguments[2]);var i=this,g={blanks:{},outCache:{}},h=[];this.engine.execute("CONSTRUCT { <"+c+"> ?p ?o } WHERE { GRAPH <"+b+"> { <"+c+"> ?p ?o } }",function(b,n){if(b){var v=!1,u=function(b,c){if(b==="eventsFlushed"&&v)v=!1,e(n);else if(b!=="eventsFlushed"){v=!0;for(var j=0;j<c.length;j++){var m=c[j],u=RDFJSInterface.buildRDFResource(m.subject,h,i.engine,g),J=RDFJSInterface.buildRDFResource(m.predicate,h,i.engine,g),m=RDFJSInterface.buildRDFResource(m.object,h,i.engine,g);u!=null&&
J!=null&&m!=null&&(m=new RDFJSInterface.Triple(u,J,m),b===Callbacks.added?n.add(m):b===Callbacks.deleted&&n.remove(m))}}};i.observersMap[e]=u;i.subscribeEmpty(Callbacks.eventsFlushed,u);i.subscribe(c,null,null,null,u,function(){e(n);j&&j(!0)})}else j&&j(!1)})};Callbacks.CallbacksBackend.prototype.stopObservingNode=function(c){return(c=this.observersMap[c])?(this.unsubscribe(c),this.unsubscribeEmpty(Callbacks.eventsFlushed,c),!0):!1};Callbacks.CallbacksBackend.prototype.observeQuery=function(c,b,e){var j=
this.aqt.collectBasicTriples(this.aqt.parseSelect(this.aqt.parseQueryString(c).units[0])),i={blanks:{},outCache:{}},g,h,m,n=this.queryCounter;this.queryCounter++;this.queriesMap[n]=c;this.queriesInverseMap[c]=n;this.queriesList.push(n);this.queriesCallbacksMap[n]=b;for(var v=0;v<j.length;v++){h=j[v];if(h.graph==null)h.graph=this.engine.lexicon.defaultGraphUriTerm;h=this.engine.normalizeQuad(h,i,!0);g=new QuadIndexCommon.Pattern(h);m=this._indexForPattern(g);g=this.componentOrders[m];m=this.queriesIndexMap[m];
for(var u=0;u<g.length;u++){var E=h[g[u]];if(typeof E==="string"){m._==null&&(m._=[]);m._.push(n);break}else u===g.length-1?(m[E]=m[E]||{_:[]},m[E]._.push(n)):(m[E]=m[E]||{},m=m[E])}}this.engine.execute(c,function(c,e){c?b(e):console.log("ERROR in query callback "+e)});e!=null&&e()};Callbacks.CallbacksBackend.prototype.stopObservingQuery=function(c){var b=this.queriesInverseMap[c];if(b!=null)delete this.queriesInverseMap[c],delete this.queriesMap[b],this.queriesList=Utils.remove(this.queriesList,
b)};Callbacks.CallbacksBackend.prototype._searchQueriesInIndex=function(c,b,e){for(var e=e[1],j=0;j<b.length+1;j++){for(var i=c._||[],g=[],h=0;h<i.length;h++){var m=i[h];Utils.include(this.pendingQueries,m)&&(Utils.remove(this.pendingQueries,m),this.matchedQueries.push(m));this.queriesMap[m]!=null&&g.push(m)}c._=g;i=b[j];if(c[""+e[i]]!=null)c=c[""+e[i]];else break}};Callbacks.CallbacksBackend.prototype.dispatchQueries=function(c){var b=this,e,j,i,g;Utils.repeat(0,this.matchedQueries.length,function(c,
m){e=arguments.callee;i=b.matchedQueries[m._i];j=b.queriesMap[i];g=b.queriesCallbacksMap[i];Utils.recur(function(){b.engine.execute(j,function(b,i){b?g(i):console.log("ERROR executing query callback "+i);c(e,m)})})},function(){c()})};var W=require("webworker");RDFStoreClient={};try{console.log("*** Checking if web workers are available"),console.log("*** Web workers available")}catch(Ac){W=null}if(W)RDFStoreClient.RDFStoreClient=function(c,b,e){this.connection=W.Worker?new W.Worker(c):new W(c);this.callbacksCounter=
1;var j=this;this.rdf=RDFJSInterface.rdf;j=this;this.connection.onmessage=function(b){j.receive(b)};this.observingCallbacks={};this.callbacks={0:{cb:function(b,c){b===!0?e(!0,j):e(!1,c)},fn:"create"}};this.connection.postMessage({fn:"create",args:b,callback:"0"})},RDFStoreClient.RDFStoreClient.prototype.receive=function(c){event=c.data||c;if(c=this.callbacks[event.callback])c.fn==="create"||c.fn==="execute"||c.fn==="insert"||c.fn=="graph"||c.fn==="node"||c.fn==="insert"||c.fn==="delete"||c.fn==="clear"||
c.fn==="load"||c.fn==="startObservingQueryEndCb"||c.fn==="registeredGraphs"?(delete this.callbacks[event.callback],c.cb(event.success,event.result)):c.fn==="startObservingQuery"?c.cb(event.result):c.fn==="startObservingNode"?c.cb(event.result):c.fn==="subscribe"&&c.cb(event.event,event.result)},RDFStoreClient.RDFStoreClient.prototype.registerCallback=function(c,b){var e=""+this.callbacksCounter;this.callbacks[e]={fn:c,cb:b};this.callbacksCounter++;return e},RDFStoreClient.RDFStoreClient.prototype.execute=
function(){if(arguments.length===3)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(arguments.length===4)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var c,b;arguments.length===1?(c=arguments[0],b=function(){}):arguments.length===2&&(c=arguments[0],b=arguments[1]);b=this.registerCallback("execute",b);this.connection.postMessage({fn:"execute",args:[c],callback:b})}},RDFStoreClient.RDFStoreClient.prototype.insert=function(){var c,b,
e;if(arguments.length===1)b=arguments[0],this.connection.postMessage({fn:"insert",args:[b]});else if(arguments.length===2)b=arguments[0],e=arguments[1]||function(){},e=this.registerCallback("insert",e),this.connection.postMessage({fn:"insert",args:[b],callback:e});else if(arguments.length===3)b=arguments[0],c=arguments[1],e=arguments[2]||function(){},e=this.registerCallback("insert",e),this.connection.postMessage({fn:"insert",args:[b,c],callback:e});else throw"The triples to insert, an optional graph and callback must be provided";
},RDFStoreClient.RDFStoreClient.prototype.graph=function(){var c=null,b=null;if(arguments.length===1)b=arguments[0]||function(){};else if(arguments.length===2)b=arguments[1]||function(){},c=arguments[0];else throw"An optional graph URI and a callback function must be provided";var e=this,j=this.registerCallback("insert",function(c,g){if(c){for(var h,j=0;j<g.triples.length;j++)h=g.triples[j],g.triples[j]=new RDFJSInterface.Triple(e.adaptJSInterface(h.subject),e.adaptJSInterface(h.predicate),e.adaptJSInterface(h.object));
b(c,e.rdf.createGraph(g.triples))}else b(c,g)});c==null?this.connection.postMessage({fn:"graph",args:[],callback:j}):this.connection.postMessage({fn:"graph",args:[c],callback:j})},RDFStoreClient.RDFStoreClient.prototype.node=function(){var c=null,b=null,e=null;if(arguments.length===2)e=arguments[0],b=arguments[1]||function(){};else if(arguments.length===3)e=arguments[0],c=arguments[1],b=arguments[2]||function(){};else throw"An optional graph URI and a callback function must be provided";var j=this,
i=this.registerCallback("insert",function(c,e){if(c){for(var i,n=0;n<e.triples.length;n++)i=e.triples[n],e.triples[n]=new RDFJSInterface.Triple(j.adaptJSInterface(i.subject),j.adaptJSInterface(i.predicate),j.adaptJSInterface(i.object));b(c,j.rdf.createGraph(e.triples))}else b(c,e)});c==null?this.connection.postMessage({fn:"node",args:[e],callback:i}):this.connection.postMessage({fn:"node",args:[e,c],callback:i})},RDFStoreClient.RDFStoreClient.prototype.setPrefix=function(c,b){this.rdf.setPrefix(c,
b);this.connection.postMessage({fn:"rdf/setPrefix",args:[c,b],callback:null})},RDFStoreClient.RDFStoreClient.prototype.setDefaultPrefix=function(c){this.rdf.setDefaultPrefix(c);this.connection.postMessage({fn:"rdf/setDefaultPrefix",args:[c],callback:null})},RDFStoreClient.RDFStoreClient.prototype["delete"]=function(){var c,b,e;if(arguments.length===1)b=arguments[0],this.connection.postMessage({fn:"delete",args:[b]});else if(arguments.length===2)b=arguments[0],e=arguments[1]||function(){},e=this.registerCallback("delete",
e),this.connection.postMessage({fn:"delete",args:[b],callback:e});else if(arguments.length===3)b=arguments[0],c=arguments[1],e=arguments[2]||function(){},e=this.registerCallback("delete",e),this.connection.postMessage({fn:"delete",args:[b,c],callback:e});else throw"The triples to delete, an optional graph and callback must be provided";},RDFStoreClient.RDFStoreClient.prototype.clear=function(){var c,b;if(arguments.length===1)b=arguments[0]||function(){},b=this.registerCallback("clear",b),this.connection.postMessage({fn:"clear",
args:[],callback:b});else if(arguments.length===2)c=arguments[0],b=arguments[1]||function(){},b=this.registerCallback("clear",b),this.connection.postMessage({fn:"clear",args:[c],callback:b});else throw"The optional graph and a callback must be provided";},RDFStoreClient.RDFStoreClient.prototype.setBatchLoadEvents=function(c){this.connection.postMessage({fn:"setBatchLoadEvents",args:[c]})},RDFStoreClient.RDFStoreClient.prototype.registerDefaultNamespace=function(c,b){this.connection.postMessage({fn:"registerDefaultNamespace",
args:[c,b]})},RDFStoreClient.RDFStoreClient.prototype.registerDefaultProfileNamespaces=function(){this.connection.postMessage({fn:"registerDefaultProfileNamespaces",args:[]})},RDFStoreClient.RDFStoreClient.prototype.load=function(){var c,b,e,j;if(arguments.length===3)c=arguments[0],b=arguments[1],j=arguments[2]||function(){},j=this.registerCallback("load",j),this.connection.postMessage({fn:"load",args:[c,b],callback:j});else if(arguments.length===4)c=arguments[0],b=arguments[1],e=arguments[2],j=arguments[3]||
function(){},j=this.registerCallback("load",j),this.connection.postMessage({fn:"load",args:[c,b,e],callback:j});else if(arguments.length===2)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";},RDFStoreClient.RDFStoreClient.prototype.startObservingQuery=function(c,b,e){e!=null?(b=this.registerCallback("startObservingQuery",b),this.observingCallbacks[c]=b,e=this.registerCallback("startObservingQueryEndCb",e),this.connection.postMessage({fn:"startObservingQuery",
args:[c],callback:[b,e]})):(b=this.registerCallback("startObservingQuery",b),this.observingCallbacks[c]=b,this.connection.postMessage({fn:"startObservingQuery",args:[c],callback:[b]}))},RDFStoreClient.RDFStoreClient.prototype.stopObservingQuery=function(c){var b=this.observingCallbacks[c];delete this.observingCallbacks[c];delete this.callbacks[b];this.connection.postMessage({fn:"stopObservingQuery",args:[c],callback:[]})},RDFStoreClient.RDFStoreClient.prototype.startObservingNode=function(){var c,
b,e;if(arguments.length===2){c=arguments[0];e=arguments[1];var j=this,i=this.registerCallback("startObservingNode",function(b){for(var c,i=0;i<b.triples.length;i++)c=b.triples[i],b.triples[i]=new RDFJSInterface.Triple(j.adaptJSInterface(c.subject),j.adaptJSInterface(c.predicate),j.adaptJSInterface(c.object));e(j.rdf.createGraph(b.triples))});this.observingCallbacks[e]=i;this.connection.postMessage({fn:"startObservingNode",args:[c],callback:i})}else arguments.length===3&&(c=arguments[0],b=arguments[1],
e=arguments[2],j=this,i=this.registerCallback("startObservingNode",function(b){for(var c,i=0;i<b.triples.length;i++)c=b.triples[i],b.triples[i]=new RDFJSInterface.Triple(j.adaptJSInterface(c.subject),j.adaptJSInterface(c.predicate),j.adaptJSInterface(c.object));e(j.rdf.createGraph(b.triples))}),this.observingCallbacks[e]=i,this.connection.postMessage({fn:"startObservingNode",args:[c,b],callback:i}))},RDFStoreClient.RDFStoreClient.prototype.stopObservingNode=function(c){var b=this.observingCallbacks[c];
delete this.observingCallbacks[c];delete this.callbacks[b];this.connection.postMessage({fn:"stopObservingNode",args:[b],callback:[]})},RDFStoreClient.RDFStoreClient.prototype.subscribe=function(c,b,e,j,i){var g=this,h=this.registerCallback("subscribe",function(b,c){for(var e,h=0;h<c.length;h++)e=c[h],c[h]=new RDFJSInterface.Triple(g.adaptJSInterface(e.subject),g.adaptJSInterface(e.predicate),g.adaptJSInterface(e.object));i(b,c)});this.observingCallbacks[i]=h;this.connection.postMessage({fn:"subscribe",
args:[c,b,e,j],callback:h})},RDFStoreClient.RDFStoreClient.prototype.unsubscribe=function(c){var b=this.observingCallbacks[c];delete this.observingCallbacks[c];delete this.callbacks[b];this.connection.postMessage({fn:"unsubscribe",args:[b],callback:[]})},RDFStoreClient.RDFStoreClient.prototype.registeredGraphs=function(c){var b=this;this.connection.postMessage({fn:"registeredGraphs",args:[],callback:this.registerCallback("registeredGraphs",function(e,j){if(e)for(var i=0;i<j.length;i++)graph=j[i],
j[i]=b.adaptJSInterface(graph);c(e,j)})})},RDFStoreClient.RDFStoreClient.prototype.adaptJSInterface=function(c){if(c.interfaceName==="BlankNode")return new RDFJSInterface.BlankNode(c.bnodeId);else if(c.interfaceName==="Literal")return new RDFJSInterface.Literal(c.nominalValue,c.language,c.datatype);else if(c.interfaceName==="NamedNode")return new RDFJSInterface.NamedNode(c.nominalValue)},RDFStoreClient.RDFStoreClient.prototype.isWebWorkerConnection=!0;Store={};W=require("webworker");Store.VERSION=
"0.4.9";Store.connect=function(){var c,b,e;arguments.length==1&&(c=__dirname,b={},e=arguments[0]);arguments.length==2?(typeof arguments[0]==="string"?(c=arguments[0],b={}):(c=__dirname+"/index.js",b=arguments[0]),e=arguments[1]):(c=arguments[0],b=arguments[1],e=arguments[2]);try{W?new RDFStoreClient.RDFStoreClient(c,b,function(b,c){e(b,c)}):Store.create(b,function(b){e(!1,b)})}catch(j){console.log(j),Store.create(b,function(b){e(!1,b)})}};Store.create=function(){return arguments.length==1?new Store.Store(arguments[0]):
arguments.length==2?new Store.Store(arguments[0],arguments[1]):new Store.Store};Store.Store=function(c,b){var e=null,j=null;if(arguments.length==0)j={};else if(arguments.length==1)j={},e=c;else if(arguments.length>1)j=c,e=b;else throw"An optional argument map and a callback must be provided";j.treeOrder==null&&(j.treeOrder=15);this.rdf=RDFJSInterface.rdf;this.functionMap={};var i=this;new Lexicon.Lexicon(function(b){j.overwrite===!0&&b.clear();new QuadBackend.QuadBackend(j,function(c){j.overwrite===
!0&&c.clear();j.backend=c;j.lexicon=b;i.engine=new QueryEngine.QueryEngine(j);e&&e(i)})},j.name)};Store.Store.prototype.execute=function(){if(arguments.length===3)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(arguments.length===4)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var c,b;arguments.length===1?(c=arguments[0],b=function(){}):arguments.length===2&&(c=arguments[0],b=arguments[1]);this.engine.execute(c,b)}};Store.Store.prototype.executeWithEnvironment=
function(){var c,b,e,j;arguments.length===3?(c=arguments[0],b=function(){},e=arguments[1],j=arguments[2]):arguments.length===4&&(c=arguments[0],b=arguments[3],e=arguments[1],j=arguments[2]);this.engine.execute(c,b,e,j)};Store.Store.prototype.graph=function(){var c=null,b=null;if(arguments.length===1)b=arguments[0]||function(){},c=this.engine.lexicon.defaultGraphUri;else if(arguments.length===2)b=arguments[1]||function(){},c=arguments[0];else throw"An optional graph URI and a callback function must be provided";
this.rdf.resolve(c)!=null&&(c=this.rdf.resolve(c));this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+c+"> { ?s ?p ?o } }",b)};Store.Store.prototype.node=function(){var c=null,b=null,e=null;if(arguments.length===2)e=arguments[0],b=arguments[1]||function(){},c=this.engine.lexicon.defaultGraphUri;else if(arguments.length===3)e=arguments[0],c=arguments[1],b=arguments[2]||function(){};else throw"An optional graph URI and a callback function must be provided";this.rdf.resolve(c)!=null&&(c=this.rdf.resolve(c));
this.rdf.resolve(e)!=null&&(e=this.rdf.resolve(e));this.engine.execute("CONSTRUCT { <"+e+"> ?p ?o } WHERE { GRAPH <"+c+"> { <"+e+"> ?p ?o } }",b)};Store.Store.prototype.startObservingNode=function(){var c,b,e;arguments.length===2?(c=arguments[0],e=arguments[1],this.engine.callbacksBackend.observeNode(c,e,function(){})):arguments.length===3&&(c=arguments[0],b=arguments[1],e=arguments[2],this.engine.callbacksBackend.observeNode(c,b,e,function(){}))};Store.Store.prototype.stopObservingNode=function(c){this.engine.callbacksBackend.stopObservingNode(c)};
Store.Store.prototype.startObservingQuery=function(c,b,e){e!=null?this.engine.callbacksBackend.observeQuery(c,b,e):this.engine.callbacksBackend.observeQuery(c,b,function(){})};Store.Store.prototype.stopObservingQuery=function(c){this.engine.callbacksBackend.stopObservingQuery(c)};Store.Store.prototype.subscribe=function(c,b,e,j,i){var g=function(b,c){for(var e=[],g={blanks:{},outCache:{}},j=[],E=0;E<c.length;E++){var A=c[E],F=RDFJSInterface.buildRDFResource(A.subject,j,this.engine,g),G=RDFJSInterface.buildRDFResource(A.predicate,
j,this.engine,g),A=RDFJSInterface.buildRDFResource(A.object,j,this.engine,g);F!=null&&G!=null&&A!=null&&(A=new RDFJSInterface.Triple(F,G,A),e.push(A))}i(b,e)};this.functionMap[i]=g;this.engine.callbacksBackend.subscribe(c,b,e,j,g,function(){})};Store.Store.prototype.unsubscribe=function(c){this.engine.callbacksBackend.unsubscribe(this.functionMap[c]);delete this.functionMap[c]};Store.Store.prototype.setPrefix=function(c,b){this.rdf.setPrefix(c,b)};Store.Store.prototype.setDefaultPrefix=function(c){this.rdf.setDefaultPrefix(c)};
Store.Store.prototype.insert=function(){var c,b,e;if(arguments.length===1)b=arguments[0];else if(arguments.length===2)c=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0],e=arguments[1]||function(){};else if(arguments.length===3)b=arguments[0],c=this.rdf.createNamedNode(arguments[1]),e=arguments[2]||function(){};else throw"The triples to insert, an optional graph and callback must be provided";var j="",i=this;b.forEach(function(b){j=j+i._nodeToQuery(b.subject)+i._nodeToQuery(b.predicate)+
i._nodeToQuery(b.object)+"."});j=c!=null?"INSERT DATA { GRAPH "+this._nodeToQuery(c)+" { "+j+" } }":"INSERT DATA { "+this._nodeToQuery(c)+" { "+j+" }";this.engine.execute(j,e)};Store.Store.prototype._nodeToQuery=function(c){if(c.interfaceName==="NamedNode"){var b=this.rdf.resolve(c.valueOf());return b!=null?"<"+b+">":"<"+c.valueOf()+">"}else{if(c.interfaceName!=="")if(c.lang!=null)return'"'+c.valueOf()+'"@'+c.lang;else if(c.datatype!=null)return'"'+c.valueOf()+'"^^<'+c.datatype+">";return c.toString()}};
Store.Store.prototype["delete"]=function(){var c,b,e;if(arguments.length===1)b=arguments[0];else if(arguments.length===2)c=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0],e=arguments[1]||function(){};else if(arguments.length===3)b=arguments[0],c=this.rdf.createNamedNode(arguments[1]),e=arguments[2]||function(){};else throw"The triples to delete, an optional graph and callback must be provided";var j="",i=this;b.forEach(function(b){j=j+i._nodeToQuery(b.subject)+i._nodeToQuery(b.predicate)+
i._nodeToQuery(b.object)+"."});j=c!=null?"DELETE DATA { GRAPH "+this._nodeToQuery(c)+" { "+j+" } }":"DELETE DATA { "+this._nodeToQuery(c)+" { "+j+" }";this.engine.execute(j,e)};Store.Store.prototype.clear=function(){var c,b;if(arguments.length===1)c=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0]||function(){};else if(arguments.length===2)c=this.rdf.createNamedNode(arguments[0]),b=arguments[1]||function(){};else throw"The optional graph and a callback must be provided";
this.engine.execute("CLEAR GRAPH "+this._nodeToQuery(c),b)};Store.Store.prototype.setBatchLoadEvents=function(c){this.engine.eventsOnBatchLoad=c};Store.Store.prototype.registerDefaultNamespace=function(c,b){this.engine.registerDefaultNamespace(c,b)};Store.Store.prototype.registerDefaultProfileNamespaces=function(){var c=this.rdf.prefixes.values(),b;for(b in c)this.registerDefaultNamespace(b,c[b])};Store.Store.prototype.load=function(){var c,b,e,j;if(arguments.length===3)e=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),
c=arguments[0],b=arguments[1],j=arguments[2]||function(){};else if(arguments.length===4)c=arguments[0],b=arguments[1],e=this.rdf.createNamedNode(arguments[2]),j=arguments[3]||function(){};else if(arguments.length===2)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";if(c==="remote")b=this.rdf.createNamedNode(b),this.engine.execute("LOAD <"+b.valueOf()+"> INTO GRAPH <"+e.valueOf()+">",j);else if(b&&typeof b==="string"&&b.indexOf("file://")===0){c=this.engine.rdfLoader.parsers[c];
var i=this;this.engine.rdfLoader.loadFromFile(c,{token:"uri",value:e.valueOf()},b,function(b,c){b?i.engine.batchLoad(c,j):j(b,c)})}else c=this.engine.rdfLoader.parsers[c],i=this,this.engine.rdfLoader.tryToParse(c,{token:"uri",value:e.valueOf()},b,function(b,c){b?i.engine.batchLoad(c,j):j(b,c)})};Store.Store.prototype.registerParser=function(c,b){this.engine.rdfLoader.registerParser(c,b)};Store.Store.prototype.registeredGraphs=function(c){for(var b=this.engine.lexicon.registeredGraphs(!0),e=[],j=0;j<
b.length;j++){var i=new RDFJSInterface.NamedNode(b[j]);e.push(i)}return c(!0,e)};Store.Store.prototype._nodeToQuery=function(c){if(c.interfaceName==="NamedNode"){var b=this.rdf.resolve(c.valueOf());return b!=null?"<"+b+">":"<"+c.valueOf()+">"}else return c.toString()};Store.Store.prototype.getNetworkTransport=function(){return NetworkTransport};Store.Store.prototype.setNetworkTransport=function(c){NetworkTransport=c};RDFStoreWorker={observingCallbacks:{}};RDFStoreWorker.handleCreate=function(c,b){args=
[c];args.push(function(c){RDFStoreWorker.store=c;postMessage({callback:b,result:"created",success:!0})});Store.create.apply(Store,args)};RDFStoreWorker.receive=function(c){var b=c.data||c;if(b.fn==="create"&&b.args!=null)RDFStoreWorker.handleCreate(b.args,b.callback);else if(b.fn==="setBatchLoadEvents")RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,b.args);else if(b.fn==="registerDefaultNamespace")RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,b.args);else if(b.fn==="registerDefaultProfileNamespaces")RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,
b.args);else if((b.fn==="execute"||b.fn==="executeWithEnvironment"||b.fn==="graph"||b.fn==="node"||b.fn==="clear"||b.fn==="load")&&b.args!=null){b.args.push(function(c,e){b.callback!=null&&postMessage({callback:b.callback,result:e,success:c})});try{RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,b.args)}catch(e){console.log("Error executing method through connection"),console.log(e)}}else if((b.fn==="insert"||b.fn==="delete")&&b.args!=null)try{b.args.push(function(c,e){b.callback!=null&&postMessage({callback:b.callback,
result:e,success:c})});for(var j,i=b.args[0],c=0;c<i.triples.length;c++)j=i.triples[c],i.triples[c]=new RDFJSInterface.Triple(RDFStoreWorker.adaptJSInterface(j.subject),RDFStoreWorker.adaptJSInterface(j.predicate),RDFStoreWorker.adaptJSInterface(j.object));b.args[1].interfaceName!=null&&(b.args[1]=RDFStoreWorker.adaptJSInterface(b.args[1]));b.args[0]=RDFStoreWorker.store.rdf.createGraph(i.triples);RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,b.args)}catch(g){console.log("Error executing method through connection"),
console.log(g)}else b.fn==="rdf/setPrefix"&&b.args!=null?RDFStoreWorker.store.rdf.setPrefix(b.args[0],b.args[1]):b.fn==="rdf/setDefaultPrefix"&&b.args!=null?RDFStoreWorker.store.rdf.setDefaultPrefix(b.args[0]):b.fn==="startObservingQuery"&&b.args!=null?(j=function(c,e){postMessage({callback:b.callback[0],result:e,success:c})},RDFStoreWorker.observingCallbacks[b.args[0]]=j,b.args.push(j),b.args.push(function(c,e){b.callback&&b.callback[1]!=null&&postMessage({callback:b.callback[1],result:e,success:c})}),
RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,b.args)):b.fn==="stopObservingQuery"?((j=RDFStoreWorker.observingCallbacks[b.args[0]])&&RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,[j]),delete RDFStoreWorker.observingCallbacks[b.args[0]]):b.fn==="startObservingNode"&&b.args!=null?(j=function(c){postMessage({callback:b.callback,result:c})},RDFStoreWorker.observingCallbacks[b.callback]=j,b.args.push(j),RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,b.args)):b.fn==="stopObservingNode"&&
b.args!=null?((j=RDFStoreWorker.observingCallbacks[b.args[0]])&&RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,[j]),delete RDFStoreWorker.observingCallbacks[b.args[0]]):b.fn==="subscribe"&&b.args!=null?(j=function(c,e){postMessage({callback:b.callback,event:c,result:e})},RDFStoreWorker.observingCallbacks[b.callback]=j,b.args.push(j),RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,b.args)):b.fn==="stopObservingNode"&&b.args!=null?((j=RDFStoreWorker.observingCallbacks[b.args[0]])&&RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,
[j]),delete RDFStoreWorker.observingCallbacks[b.args[0]]):b.fn==="registeredGraphs"&&b.args!=null&&RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,[function(c,e){b.callback!=null&&postMessage({callback:b.callback,result:e,success:c})}])};RDFStoreWorker.adaptJSInterface=function(c){if(c.interfaceName==="BlankNode")return new RDFJSInterface.BlankNode(c.bnodeId);else if(c.interfaceName==="Literal")return new RDFJSInterface.Literal(c.nominalValue,c.language,c.datatype);else if(c.interfaceName===
"NamedNode")return new RDFJSInterface.NamedNode(c.nominalValue)};onmessage=RDFStoreWorker.receive;NetworkTransport={};oa=require("http");pa=require("url");NetworkTransport.load=function(c,b,e,j){var i=j==null?3:j,c=pa.parse(c),c=oa.createClient(c.port||80,c.hostname).request("GET",(c.pathname||"/")+(c.search||""),{host:c.hostname,Accept:b});c.end();c.on("response",function(c){var h=c.headers,j="";(""+c.statusCode)[0]=="2"?(c.on("end",function(){e(!0,{headers:h,data:j})}),c.on("data",function(b){j+=
b})):(""+c.statusCode)[0]=="3"?i==0?e(!1,500):(c=h.Location||h.location,c!=null?NetworkTransport.load(c,b,e,i-1):e(!1,500)):e(!1,c.statusCode)})};try{module.exports=Store}catch(Bc){}})();
