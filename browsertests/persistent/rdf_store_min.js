(function(){typeof console=="undefined"&&(console={log:function(){}});var x={"extends":function(b,c){c.prototype=new b},stackCounterLimit:1E3,stackCounter:0};x.recur=function(b){x.stackCounter===x.stackCounterLimit?(x.stackCounter=0,setTimeout(b,0)):(x.stackCounter++,b())};x.clone=function(b){return JSON.parse(JSON.stringify(b))};x.shuffle=function(b){for(var c,d,j=b.length;j;c=parseInt(Math.random()*j),d=b[--j],b[j]=b[c],b[c]=d);return b};x.include=function(b,c,d){for(var j=b.length-1;j>=0;j--){var k=
!1,k=d==null?b[j]===c:d(b[j],c)===0;if(k===!0)return!0}return!1};x.remove=function(b,c){for(var d=[],j=0;j<b.length;j++)b[j]!==c&&d.push(b[j]);return d};x.repeat=function(b,c,d,j,k){arguments.length===4&&(k={});b<c?(k._i=b,d(function(h,d){x.recur(function(){x.repeat(b+1,c,h,j,d)})},k)):j(k)};Utilsmeanwhile=function(b,c,d,j){arguments.length===3&&(j={});j._stack_counter==null&&(j._stack_counter=0);b===!0?c(function(c,b,j){j._stack_counter%40==39?(j._stack_counter+=1,setTimeout(function(){Utilsmeanwhile(c,
b,d,j)},0)):(j._stack_counter+=1,Utilsmeanwhile(c,b,d,j))},j):d(j)};x.seq=function(){var b=arguments;return function(c){x.repeat(0,b.length,function(c,j){var k=arguments.callee;b[j._i](function(){c(k,j)})},function(){c()})}};x.partition=function(b,c){for(var d=b.length%c,j=[],k=0;k<d;k++)j.push(null);d=[];for(k=0;k<b.length;k++)j.push(b[k]),j.length%c==0&&(d.push(j),j=[]);return d};x.keys=function(b){var c=[],d;for(d in b)c.push(d);return c};x.iso8601=function(b){function c(c){return c<10?"0"+c:c}
return b.getUTCFullYear()+"-"+c(b.getUTCMonth()+1)+"-"+c(b.getUTCDate())+"T"+c(b.getUTCHours())+":"+c(b.getUTCMinutes())+":"+c(b.getUTCSeconds())+"Z"};x.parseStrictISO8601=function(b){var b=b.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),c=0,d=new Date(b[1],0,1);if(b[3])d.setMonth(b[3]-1);else throw"missing ISO8061 component";if(b[5])d.setDate(b[5]);else throw"missing ISO8061 component";if(b[7])d.setHours(b[7]);
else throw"missing ISO8061 component";if(b[8])d.setMinutes(b[8]);else throw"missing ISO8061 component";if(b[10])d.setSeconds(b[10]);else throw"missing ISO8061 component";b[12]&&d.setMilliseconds(Number("0."+b[12])*1E3);b[14]&&(c=Number(b[16])*60+Number(b[17]),c*=b[15]=="-"?1:-1);c-=d.getTimezoneOffset();time=Number(d)+c*6E4;b=new Date;b.setTime(Number(time));return b};x.parseISO8601=function(b){var b=b.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),
c=0,d=new Date(b[1],0,1);b[3]&&d.setMonth(b[3]-1);b[5]&&d.setDate(b[5]);b[7]&&d.setHours(b[7]);b[8]&&d.setMinutes(b[8]);b[10]&&d.setSeconds(b[10]);b[12]&&d.setMilliseconds(Number("0."+b[12])*1E3);b[14]&&(c=Number(b[16])*60+Number(b[17]),c*=b[15]=="-"?1:-1);c-=d.getTimezoneOffset();time=Number(d)+c*6E4;b=new Date;b.setTime(Number(time));return b};x.parseISO8601Components=function(b){var b=b.match(RegExp("([0-9]{4})(-([0-9]{2}))(-([0-9]{2}))(T([0-9]{2}):([0-9]{2})(:([0-9]{2}))?(.([0-9]+))?)?(Z|([-+])([0-9]{2})(:([0-9]{2}))?)?")),
c,d,j,k,h,i,g,o;c=Number(b[1]);d=b[3]-1;j=Number(b[5]);k=Number(b[7]);h=Number(b[8]);i=Number(b[10]);b[12]&&(g=Number("0."+b[12])*1E3);b[13]==="Z"?o=0:b[14]?(o=0,b[17]&&(o=Number(b[17])),o+=Number(b[15])*60,o*=b[14]=="-"?-1:1):b[14]==null&&b[11]&&(o=Number(b[12])*60);return{year:isNaN(c)?null:c,month:isNaN(d)?null:d,date:isNaN(j)?null:j,hours:isNaN(k)?null:k,minutes:isNaN(h)?null:h,seconds:isNaN(i)?null:i,millisecs:isNaN(g)?null:g,timezone:isNaN(o)?null:o}};x.compareDateComponents=function(b,c){var d=
x.parseISO8601Components(b),j=x.parseISO8601Components(c);return d.timezone==null&&j.timezone==null||d.timezone!=null&&j.timezone!=null?(da=x.parseISO8601(b),db=x.parseISO8601(c),da.getTime()==db.getTime()?0:da.getTime()<db.getTime()?-1:1):d.timezone!=null&&j.timezone==null?(da=x.parseISO8601(b),db=x.parseISO8601(c),ta=da.getTime(),tb=db.getTime(),d=50400,ta<tb&&ta<tb+d?-1:ta>tb&&ta>tb-d?1:null):(da=x.parseISO8601(b),db=x.parseISO8601(c),ta=da.getTime(),tb=db.getTime(),d=50400,ta<tb&&ta+d<tb?-1:ta>
tb&&ta+d>tb?1:null)};x.lexicalFormLiteral=function(b,c){var d=b.value,j=b.lang,k=b.type,h=null;if(d!=null&&k!=null&&typeof k!="string"){d=k.value;if(d==null)d=k.suffix,k=c.namespaces[k.prefix],b.type=k+d,d=k+d;h=d.indexOf("hexBinary")!=-1?'"'+b.value.toLowerCase()+'"^^<'+d+">":'"'+b.value+'"^^<'+d+">"}else h=j==null&&k==null?'"'+d+'"':k==null?'"'+d+'"@'+j:k.indexOf("hexBinary")!=-1?'"'+b.value.toLowerCase()+'"^^<'+k+">":'"'+b.value+'"^^<'+k+">";return h};x.lexicalFormBaseUri=function(b,c){var d=null;
if(b.value==null)var d=b.prefix,j=b.suffix,k=c.namespaces[d],d=k!=null?k+j:d+":"+j;else d=b.value;if(d===null)return null;else d.indexOf(":")==-1&&(d=(c.base||"")+d);return d};x.lexicalFormTerm=function(b,c){if(b.token==="uri")return{uri:x.lexicalFormBaseUri(b,c)};else if(b.token==="literal")return{literal:x.lexicalFormLiteral(b,c)};else if(b.token==="blank")return{blank:"_:"+b.value};else throw"Error, cannot get lexical form of unknown token: "+b.token;};x.normalizeUnicodeLiterals=function(b){for(var c=
b.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||[],d={},j=0;j<c.length;j++)d[c[j]]==null&&(d[c[j]]=!0,b=b.replace(RegExp("\\"+c[j],"g"),eval("'"+c[j]+"'")));return b};x.hashTerm=function(b){try{if(b==null)return"";if(b.token==="uri")return"u"+b.value;else if(b.token==="blank")return"b"+b.value;else if(b.token==="literal")return l="l"+b.value,l+=b.type||"",l+=b.lang||"",l}catch(c){if(typeof b==="object"){var d="";for(p in b)d=d+p+b[p];return d}return b}};var wa={PriorityQueue:function(b){var c=[],d={},j=!1,
k,h=b.maxSize||10;k=function(c,b){return d[b].priority-d[c].priority};var i=function(){c.sort(k);j=!0};return{debugContents:c,debugStore:d,debugSort:i,push:function(b,k){c.length===h?(j||i(),d[b]==null?(delete d[c[0]],c[0]=b,priority=d[c[c.length-1]].priority-1,d[b]={object:k,priority:priority}):(priority=d[c[c.length-1]].priority-1,d[b].priority=priority),j=!1):c.length===0?(c.push(b),d[b]={object:k,priority:1E3}):(priority=d[c[c.length-1]].priority-1,d[b]==null?(d[b]={object:k,priority:priority},
c.push(b)):(d[b].priority=priority,j=!1))},remove:function(b){if(d[b]!=null){delete d[b];for(var h=null,j=0;j<c.length;j++)if(c[j]===b){h=j;break}h!=null&&c.splice(h,1)}},fetch:function(b){var h=d[b];return d[b]!=null?(j||i(),priority=d[c[c.length-1]].priority-1,d[b].priority=priority,j=!1,h.object):null}}}},E={};E.Tree=function(b,c,d,j){if(arguments.length!=0){var k=null;if(d===!0)try{if(k=window.localStorage,k==null)throw"not found";}catch(h){throw"Local storage is not present, cannot create persistent storage";
}k==null&&(k=function(){var c={};return{setItem:function(b,h){c[b]=h},getItem:function(b){return c[b]||null},removeItem:function(b){delete c[b]},get:function(b){var h=0,d;for(d in c){if(b===h)return d;h++}return""},length:c.length}}());this.storage=k;this.order=b;this.name=c;this.diskManager=new E.LocalStorageManager(c,k,j);this.root=this.diskManager._readRootNode();this.root==null?(this.root=this._allocateNode(),this.root.isLeaf=!0,this.root.level=0,this._diskWrite(this.root),this._updateRootNode(this.root),
this.root=this.root.pointer):this.root=this.diskManager._diskRead(this.root).pointer;this.comparator=function(c,b){return c<b?-1:c>b?1:0};this.merger=null}};E.Tree.prototype._allocateNode=function(){return new E.Node};E.Tree.prototype._diskWrite=function(b){this.diskManager._diskWrite(b)};E.Tree.prototype._diskRead=function(b){return this.diskManager._diskRead(b)};E.Tree.prototype._diskDelete=function(b){this.diskManager._diskDelete(b)};E.Tree.prototype._updateRootNode=function(b){this.diskManager._updateRootNode(b);
return b};E.Tree.prototype.search=function(b,c){for(var d=!0,j=this._diskRead(this.root);d;){for(var k=0;k<j.numberActives&&this.comparator(b,j.keys[k].key)===1;)k++;if(k<j.numberActives&&this.comparator(j.keys[k].key,b)===0)return c!=null&&c==!0?!0:j.keys[k].data;else j.isLeaf===!0?d=!1:j=this._diskRead(j.children[k])}return null};E.Tree.prototype.walk=function(b){this._walk(b,this._diskRead(this.root))};E.Tree.prototype._walk=function(b,c){if(c.isLeaf)for(var d=0;d<c.numberActives;d++)b(c.keys[d]);
else{for(d=0;d<c.numberActives;d++)this._walk(b,this._diskRead(c.children[d])),b(c.keys[d]);this._walk(b,this._diskRead(c.children[c.numberActives]))}};E.Tree.prototype.walkNodes=function(b){this._walkNodes(b,this._diskRead(this.root))};E.Tree.prototype._walkNodes=function(b,c){if(c.isLeaf)b(c);else{b(c);for(var d=0;d<c.numberActives;d++)this._walkNodes(b,this._diskRead(c.children[d]));this._walkNodes(b,this._diskRead(c.children[c.numberActives]))}};E.Tree.prototype._splitChild=function(b,c,d){var j=
this._allocateNode();j.isLeaf=d.isLeaf;j.level=d.level;j.numberActives=this.order-1;var k=d.keys[this.order-1];d.keys[this.order-1]=null;for(var h=0;h<this.order-1;h++)j.keys[h]=d.keys[h+this.order],d.keys[h+this.order]=null,d.isLeaf||(j.children[h]=d.children[h+this.order],d.children[h+this.order]=null);d.isLeaf||(j.children[h]=d.children[h+this.order],d.children[h+this.order]=null);d.numberActives=this.order-1;for(h=b.numberActives+1;h>c+1;h--)b.children[h]=b.children[h-1];this._diskWrite(j);b.children[c+
1]=j.pointer;for(h=b.numberActives;h>c;h--)b.keys[h]=b.keys[h-1];b.keys[c]=k;b.numberActives++;this._diskWrite(b);this._diskWrite(d)};E.Tree.prototype.insert=function(b,c){var d=this._diskRead(this.root);if(d.numberActives===2*this.order-1){var j=this._allocateNode();j.isLeaf=!1;j.level=d.level+1;j.numberActives=0;j.children[0]=d.pointer;this._diskWrite(j);this._splitChild(j,0,d);this.root=j.pointer;this._updateRootNode(j);this._insertNonFull(j,b,c)}else this._insertNonFull(d,b,c)};E.Tree.prototype._insertNonFull=
function(b,c,d){for(var j=b.numberActives-1;!b.isLeaf;){for(;j>=0&&this.comparator(c,b.keys[j].key)===-1;)j--;j++;var k=this._diskRead(b.children[j]);k.numberActives===2*this.order-1&&(this._splitChild(b,j,k),this.comparator(c,b.keys[j].key)===1&&j++);b=this._diskRead(b.children[j]);j=b.numberActives-1}for(;j>=0&&this.comparator(c,b.keys[j].key)===-1;)b.keys[j+1]=b.keys[j],j--;b.keys[j+1]={key:c,data:d};b.numberActives++;this._diskWrite(b)};E.Tree.prototype["delete"]=function(b){for(var c=this._diskRead(this.root),
d=null,j=!0,k=null,h=null,i=null,g=!0;g===!0;){for(g=!1;j===!0;){q=0;if(c.numberActives===0)return!1;for(;q<c.numberActives&&this.comparator(b,c.keys[q].key)===1;)q++;k=q;q<c.numberActives&&this.comparator(b,c.keys[q].key)===0&&(j=!1);if(j===!0){if(c.isLeaf===!0)return!1;d=c;c=this._diskRead(c.children[q]);if(c===null)return!1;k===d.numberActives?(h=this._diskRead(d.children[k-1]),i=null):k===0?(h=null,i=this._diskRead(d.children[1])):(h=this._diskRead(d.children[k-1]),i=this._diskRead(d.children[k+
1]));c.numberActives===this.order-1&&d!=null&&(i!=null&&i.numberActives>this.order-1?(this._moveKey(d,q,-1),c=this._diskRead(c.pointer)):h!=null&&h.numberActives>this.order-1?(this._moveKey(d,q,1),c=this._diskRead(c.pointer)):h!=null&&h.numberActives===this.order-1?c=this._mergeSiblings(d,q,-1):i!=null&&i.numberActives===this.order-1&&(c=this._mergeSiblings(d,q,1)))}}if(c.isLeaf&&c.numberActives>this.order-1)return this._deleteKeyFromNode(c,k),!0;if(c.isLeaf&&c.pointer===this.root)return this._deleteKeyFromNode(c,
k),!0;try{if(c.isLeaf===!1)if(h=d=null,(d=this._diskRead(c.children[k])).numberActives>this.order-1){var o=this._getMaxKeyPos(d),b=o.node.keys[o.index];c.keys[k]=b;this._diskWrite(c);c=d;b=b.key;j=g=!0}else if((d=this._diskRead(c.children[k+1])).numberActives>this.order-1)o=this._getMinKeyPos(d),b=o.node.keys[o.index],c.keys[k]=b,this._diskWrite(c),c=d,b=b.key,j=g=!0;else if((d=this._diskRead(c.children[k])).numberActives===this.order-1&&(h=this._diskRead(c.children[k+1])).numberActives===this.order-
1){var t=this._mergeNodes(d,c.keys[k],h);c.children[k]=t.pointer;k++;for(var q=k;q<c.numberActives;q++)c.children[q]=c.children[q+1],c.keys[q-1]=c.keys[q];c.children[q]=null;c.keys[q-1]=null;c.numberActives--;if(c.numberActives===0&&this.root===c.pointer)this.root=t.pointer,this._updateRootNode(t);this._diskWrite(c);c=t;j=g=!0}}catch(v){console.log("!!!"),console.log(v)}c.isLeaf&&c.numberActives>this.order-1&&j===!1&&this._deleteKeyFromNode(c,k);if(g===!1)return!0}};E.Tree.prototype._moveKey=function(b,
c,d){d===1&&c--;var j=this._diskRead(b.children[c]),k=this._diskRead(b.children[c+1]);if(d==-1){j.keys[j.numberActives]=b.keys[c];j.children[j.numberActives+1]=k.children[0];k.children[0]=null;j.numberActives++;b.keys[c]=k.keys[0];for(d=1;d<k.numberActives;d++)k.keys[d-1]=k.keys[d],k.children[d-1]=k.children[d];k.children[k.numberActives-1]=k.children[k.numberActives];k.numberActives--}else{k.children[k.numberActives+1]=k.children[k.numberActives];for(d=k.numberActives;d>0;d--)k.children[d]=k.children[d-
1],k.keys[d]=k.keys[d-1];k.keys[0]=null;k.children[0]=null;k.children[0]=j.children[j.numberActives];k.keys[0]=b.keys[c];k.numberActives++;j.children[j.numberActives]=null;b.keys[c]=j.keys[j.numberActives-1];j.keys[j.numberActives-1]=null;j.numberActives--}this._diskWrite(j);this._diskWrite(k);this._diskWrite(b)};E.Tree.prototype._mergeSiblings=function(b,c){var d,j,k;c===b.numberActives?(c--,j=this._diskRead(b.children[b.numberActives-1]),k=this._diskRead(b.children[b.numberActives])):(j=this._diskRead(b.children[c]),
k=this._diskRead(b.children[c+1]));var h=this._allocateNode();h.isLeaf=j.isLeaf;h.level=j.level;for(d=0;d<this.order-1;d++)h.keys[d]=j.keys[d],h.children[d]=j.children[d];h.keys[this.order-1]=b.keys[c];h.children[this.order-1]=j.children[this.order-1];for(d=0;d<this.order-1;d++)h.keys[d+this.order]=k.keys[d],h.children[d+this.order]=k.children[d];h.children[2*this.order-1]=k.children[this.order-1];this._diskWrite(h);b.children[c]=h.pointer;for(d=c;d<b.numberActives;d++)b.keys[d]=b.keys[d+1],b.children[d+
1]=b.children[d+2];h.numberActives=j.numberActives+k.numberActives+1;b.numberActives--;for(d=b.numberActives;d<2*this.order-1;d++)b.keys[d]=null;if(b.numberActives===0&&this.root===b.pointer)this.root=h.pointer,h.isLeaf=h.level?!1:!0;this._diskWrite(h);this.root===h.pointer&&this._updateRootNode(h);this._diskWrite(b);this._diskDelete(j);this._diskDelete(k);return h};E.Tree.prototype._deleteKeyFromNode=function(b,c){var d=2*this.order-1;if(b.numberActives<d)d=b.numberActives;var j;if(b.isLeaf===!1)return!1;
for(j=c;j<d-1;j++)b.keys[j]=b.keys[j+1];b.keys.splice(d-1,b.keys.length-(d-1));b.numberActives--;this._diskWrite(b);return!0};E.Tree.prototype._mergeNodes=function(b,c,d){var j,k;j=this._allocateNode();j.isLeaf=!0;for(k=0;k<b.numberActives;k++)j.keys[k]=b.keys[k],j.children[k]=b.children[k];j.children[b.numberActives]=b.children[b.numberActives];j.keys[b.numberActives]=c;for(k=0;k<d.numberActives;k++)j.keys[k+b.numberActives+1]=d.keys[k],j.children[k+b.numberActives+1]=d.children[k];j.children[2*
this.order-1]=d.children[d.numberActives];j.numberActives=b.numberActives+d.numberActives+1;j.isLeaf=b.isLeaf;j.level=b.level;this._diskWrite(j);this._diskDelete(b);this._diskDelete(d);return j};E.Tree.prototype.audit=function(b){var c=[],d=[],j=this,k=function(h){for(var k=0;k<d.length;k++)if(j.comparator(d[k],h)===0){var g=" !!! duplicated key "+h;b===!0&&console.log(g);c.push(g)}},h=null,j=this;this.walkNodes(function(i){b===!0&&(console.log("--- Node at "+i.level+" level"),console.log(" - pointer: "+
i.pointer),console.log(" - leaf? "+i.isLeaf),console.log(" - num actives? "+i.numberActives),console.log(" - keys: "));for(var g=i.numberActives;g<i.keys.length;g++)i.keys[g]!=null&&b===!0&&(console.log(" * warning : redundant key data"),c.push(" * warning : redundant key data"));for(g=i.numberActives+1;g<i.children.length;g++)i.children[g]!=null&&b===!0&&(console.log(" * warning : redundant children data"),c.push(" * warning : redundant key data"));if(i.isLeaf===!1)for(g=0;g<i.numberActives;g++){var o=
j._diskRead(i.children[g]).keys[j._diskRead(i.children[g]).numberActives-1].key,t=j._diskRead(i.children[g+1]).keys[0].key;b===!0&&console.log("   "+i.keys[g].key+"("+o+","+t+")");if(j.comparator(i.keys[g].key,o)===-1){var q=" !!! value max left "+o+" > key "+i.keys[g].key;b===!0&&console.log(q);c.push(q)}j.comparator(i.keys[g].key,t)===1&&(q=" !!! value min right "+t+" < key "+i.keys[g].key,b===!0&&console.log(q),c.push(q));k(i.keys[g].key);d.push(i.keys[g].key)}else{h===null?h=i.level:h!=i.level&&
(q=" !!! Leaf node with wrong level value",b===!0&&console.log(q),c.push(q));for(g=0;g<i.numberActives;g++)b===!0&&console.log(" "+i.keys[g].key),k(i.keys[g].key),d.push(i.keys[g].key)}i.pointer!=j.root&&(i.numberActives>2*j.order-1&&(b===!0&&(q=" !!!! MAX num keys restriction violated "),console.log(q),c.push(q)),i.numberActives<j.order-1&&(b===!0&&(q=" !!!! MIN num keys restriction violated "),console.log(q),c.push(q)))});return c};E.Tree.prototype.clear=function(){this.diskManager.clear();this.root=
this._allocateNode();this.root.isLeaf=!0;this.root.level=0;this._diskWrite(this.root);this._updateRootNode(this.root);this.root=this.root.pointer};E.Tree.prototype._getMaxKeyPos=function(b){for(var c={};;){if(b===null)break;if(b.isLeaf===!0){c.node=b;c.index=b.numberActives-1;break}else c.node=b,c.index=b.numberActives-1,b=this._diskRead(b.children[b.numberActives])}return c};E.Tree.prototype._getMinKeyPos=function(b){for(var c={};;){if(b===null)break;if(b.isLeaf===!0){c.node=b;c.index=0;break}else c.node=
b,c.index=0,b=this._diskRead(b.children[0])}return c};E.Node=function(){this.numberActives=0;this.isLeaf=null;this.keys=[];this.children=[];this.level=0};E.LocalStorageManager=function(b,c,d){this.name=b;this.storage=c;this.maxSize=d;this.bufferCache=new wa.PriorityQueue({maxSize:d});this.counter=this.storage.getItem("__"+this.name+"__ID_COUNTER__")||0};E.LocalStorageManager.prototype.clear=function(){for(var b=this.storage.length,c=[],d=0;d<b;d++){var j=this.storage.key(d);(j.indexOf(this.name)==
0||j.indexOf("__"+this.name)==0)&&c.push(j)}for(d=0;d<c.length;d++)this.storage.removeItem(c[d]);this.bufferCache=new wa.PriorityQueue({maxSize:this.maxSize})};E.LocalStorageManager.prototype._genIndex=function(){var b=this.name+this.counter;this.counter++;this.storage.setItem("__"+this.name+"__ID_COUNTER__",this.counter);return b};E.LocalStorageManager.prototype._diskRead=function(b){if(typeof b==="object")b=b.pointer;var c=this.bufferCache.fetch(b);if(c==null&&(c=this.storage.getItem(b),c!=null))c=
this._decode(c),c.pointer=b,this.bufferCache.push(b,c);return c};E.LocalStorageManager.prototype._diskWrite=function(b){if(b.pointer==null)b.pointer=this._genIndex();var c=b.children,d=[];if(b.isLeaf===!1)for(var j=0;j<c.length;j++)c[j]==null?d.push(null):typeof c[j]==="object"?d.push(c[j].pointer):d.push(c[j]);b.children=d;this.storage.setItem(b.pointer,this._encode(b));b.children=c;this.bufferCache.push(b.pointer,b)};E.LocalStorageManager.prototype._diskDelete=function(b){this.storage.removeItem(b.pointer);
this.bufferCache.remove(b.pointer)};E.LocalStorageManager.prototype._updateRootNode=function(b){if(b.pointer)this.storage.setItem("__"+this.name+"__ROOT_NODE__",b.pointer);else throw"Cannot set as root of the b-tree a node without pointer";};E.LocalStorageManager.prototype._readRootNode=function(){var b=this.storage.getItem("__"+this.name+"__ROOT_NODE__");return b==null?null:this._diskRead(b)};E.LocalStorageManager.prototype._encode=function(b){encoded=""+b.numberActives;encoded=encoded+":"+b.pointer;
encoded=encoded+":"+b.level;encoded=encoded+":"+(b.isLeaf?1:0);for(var c=0,d="",j=0;j<b.keys.length;j++)b.keys[j]!=null&&(d=typeof b.keys[j].key==="number"?d+":"+b.keys[j].key:d+":"+("_"+(b.keys[j].key.subject||"")+"_"+(b.keys[j].key.predicate||"")+"_"+(b.keys[j].key.object||"")+"_"+(b.keys[j].key.graph||"")),b.keys[j].data==null?d+=":n:":d=typeof b.keys[j].data=="string"?d+":s:"+b.keys[j].data:typeof b.keys[j].data=="number"?b.keys[j]%1==0?d+":i:"+b.keys[j].data:d+":f:"+b.keys[j].data:d+":o:"+JSON.stringify(b.keys[j].data).replace(":",
"&colon;"),c++);encoded=encoded+":"+c+d;if(b.isLeaf===!1){c="";for(j=d=0;j<b.children.length;j++)b.children[j]!=null&&(c=c+":"+b.children[j],d++);encoded=encoded+":"+d+c}return encoded};E.LocalStorageManager.prototype._decode=function(b){var c=new E.Node,b=b.split(":");c.numberActives=parseInt(b[0]);c.pointer=b[1];c.level=parseInt(b[2]);c.isLeaf=b[3]==="1"?!0:!1;for(var d=parseInt(b[4]),j=5,k,h,i,g=0;g<d;g++)k=b[j],k[0]=="_"?(k=k.split("_"),k={subject:parseInt(k[1])||null,predicate:parseInt(k[2])||
null,object:parseInt(k[3])||null,graph:parseInt(k[4]||null)}):k=parseInt(b[j]),h=b[j+1],i=b[j+2],h==="n"?i=void 0:h==="i"?i=parseInt(i):h==="f"?i=parseFloat(i):h==="o"&&(i=JSON.parse(i.replace("&colon;",":"))),c.keys.push({key:k,data:i}),j+=3;if(c.isLeaf===!1){d=parseInt(b[j]);j++;for(g=0;g<d;g++)c.children[g]=b[j],j++}return c};var V={NodeKey:function(b,c){this.subject=b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.order=c}};V.NodeKey.prototype.comparator=function(b){for(var c=
0;c<this.order.length;c++){var d=this.order[c];if(b[d]==null)break;else if(this[d]<b[d])return-1;else if(this[d]>b[d])return 1}return 0};V.Pattern=function(b){this.subject=b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.indexKey=[];this.keyComponents={};for(var c=[],d=[],b=["subject","predicate","object","graph"],j=0;j<b.length;j++)typeof this[b[j]]==="string"?(d.push(b[j]),this.keyComponents[b[j]]=null):(c.push(b[j]),this.keyComponents[b[j]]=this[b[j]],this.indexKey.push(b[j]));
this.order=c.concat(d);this.key=new V.NodeKey(this.keyComponents,this.order)};var $={Tree:function(b,c){if(arguments!=0)this.componentOrder=b.componentOrder,E.Tree.call(this,b.order,b.name,b.persistent,b.cacheMaxSize),this.comparator=function(c,b){for(var k=0;k<this.componentOrder.length;k++){var h=this.componentOrder[k],i=c[h],h=b[h];if(i<h)return-1;else if(i>h)return 1}return 0},this.rangeComparator=function(c,b){for(var k=0;k<this.componentOrder.length;k++){var h=this.componentOrder[k];if(b[h]==
null||c[h]==null)break;else if(c[h]<b[h])return-1;else if(c[h]>b[h])return 1}return 0},c!=null&&c(this)}};x["extends"](E.Tree,$.Tree);$.Tree.prototype.insert=function(b,c){E.Tree.prototype.insert.call(this,b,null);c&&c(!0);return!0};$.Tree.prototype.search=function(b,c){var d=E.Tree.prototype.search.call(this,b,!0);c&&c(d);return d};$.Tree.prototype.range=function(b,c){var d=null,d=typeof this.root==="string"?this._rangeTraverse(this,this._diskRead(this.root),b):this._rangeTraverse(this,this.root,
b);c&&c(d);return d};$.Tree.prototype._rangeTraverse=function(b,c,d){for(var d=d.key,j=[],k=[c],h;k.length>0;){c=k.shift();for(h=0;h<c.numberActives&&b.rangeComparator(c.keys[h].key,d)===-1;)h++;if(c.isLeaf===!0)for(;h<c.numberActives&&b.rangeComparator(c.keys[h].key,d)===0;)j.push(c.keys[h].key),h++;else{var i=b._diskRead(c.children[h]);for(k.push(i);;)if(h<c.numberActives&&b.rangeComparator(c.keys[h].key,d)===0)j.push(c.keys[h].key),h++,i=b._diskRead(c.children[h]),k.push(i);else break}}return j};
var X={QuadBackend:function(b,c){if(arguments!=0){this.indexMap={};this.treeOrder=b.treeOrder;this.indices=["SPOG","GP","OGS","POG","GSP","OS"];this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};for(var d=0;d<this.indices.length;d++){var j=this.indices[d],k=new $.Tree({order:this.treeOrder,
componentOrder:this.componentOrders[j],persistent:b.persistent,name:(b.name||"")+j,cacheMaxSize:b.cacheMaxSize});this.indexMap[j]=k}c&&c(this)}}};X.QuadBackend.prototype.clear=function(){for(var b=0;b<this.indices.length;b++)this.indexMap[this.indices[b]].clear()};X.QuadBackend.prototype._indexForPattern=function(b){for(var b=b.indexKey,c=this.indices,d=0;d<c.length;d++)for(var j=c[d],k=this.componentOrders[j],h=0;h<k.length;h++){if(x.include(b,k[h])===!1)break;if(h==b.length-1)return j}return"SPOG"};
X.QuadBackend.prototype.index=function(b,c){for(var d=0;d<this.indices.length;d++)this.indexMap[this.indices[d]].insert(b);c&&c(!0);return!0};X.QuadBackend.prototype.range=function(b,c){var d=this.indexMap[this._indexForPattern(b)].range(b);c&&c(d);return d};X.QuadBackend.prototype.search=function(b,c){var d=this.indexMap[this.indices[0]].search(b);c&&c(d!=null);return d!=null};X.QuadBackend.prototype["delete"]=function(b,c){for(var d,j=0;j<this.indices.length;j++)d=this.indices[j],d=this.indexMap[d],
d["delete"](b);c&&c(!0);return!0};var P={Lexicon:function(b,c){this.name=c||"";this.storage=null;try{this.storage=window.localStorage}catch(d){}if(this.storage==null)this.storage={setItem:function(){},getItem:function(){return null},removeItem:function(){},key:function(){return""},length:0};this.uriToOID={};this.OIDToUri={};this.literalToOID={};this.OIDToLiteral={};this.blankToOID={};this.OIDToBlank={};this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";
this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri,oid:this.defaultGraphOid};this.oidCounter=parseInt(this.storage.getItem(this.pointer("oidCounter")))||1;this.storage.getItem(this.pointer("knownGraphs"))==null?(this.knownGraphs={},this.storage.setItem(this.pointer("knownGraphs"),JSON.stringify(this.knownGraphs))):this.knownGraphs=JSON.parse(this.storage.getItem(this.pointer("knownGraphs")));b!=null&&b(this)}};P.Lexicon.prototype.updateAfterWrite=function(){this.storage.setItem(this.pointer("oidCounter"),
""+this.oidCounter)};P.Lexicon.prototype.pointer=function(b,c){b=="uriToOID"?b="uo":b=="OIDToUri"?b="ou":b=="literalToOID"?b="lo":b=="OIDToLiteral"?b="ok":b=="blankToOID"?b="bo":b=="OIDToBlank"&&(b="ob");return c==null?this.name+"_l_"+b:this.name+"_l_"+b+"_"+c};P.Lexicon.prototype.clear=function(){this.uriToOID={};this.OIDToUri={};this.literalToOID={};this.OIDToLiteral={};this.blankToOID={};this.OIDToBlank={};for(var b=this.storage.length,c=this.name+"_l_",d=[],j=0;j<b;j++){var k=this.storage.key(j);
k.indexOf(c)==0&&d.push(k)}for(j=0;j<d.length;j++)this.storage.removeItem(d[j])};P.Lexicon.prototype.registerGraph=function(b){b!=this.defaultGraphOid&&(this.knownGraphs[b]=!0,this.storage.setItem(this.pointer("knownGraphs"),JSON.stringify(this.knownGraphs)));return!0};P.Lexicon.prototype.registeredGraphs=function(b){var c=[],d;for(d in this.knownGraphs)b===!0?c.push(this.retrieve(d)):c.push(d);return c};P.Lexicon.prototype.registerUri=function(b){if(b===this.defaultGraphUri)return this.defaultGraphOid;
else{if(this.uriToOID[b]==null){var c=this.storage.getItem(this.pointer("uriToOID",b));if(c==null){var c=this.oidCounter,d="u"+c;this.oidCounter++;this.uriToOID[b]=[c,0];this.OIDToUri[d]=b;this.storage.setItem(this.pointer("uriToOID",b),c+":0");this.storage.setItem(this.pointer("OIDToUri",d),b)}else{var j=c.split(":"),c=parseInt(j[0]),d="u"+c,j=parseInt(j[1])+1;this.uriToOID[b]=[c,j];this.OIDToUri[d]=b;this.storage.setItem(this.pointer("uriToOID",b),c+":0")}}else d=this.uriToOID[b],c=d[0],j=d[1]+
1,this.uriToOID[b]=[c,j],this.storage.setItem(this.pointer("uriToOID",b),c+":"+j);return c}};P.Lexicon.prototype.resolveUri=function(b){if(b===this.defaultGraphUri)return this.defaultGraphOid;else{var c=this.uriToOID[b];if(c!=null)return c[0];else if(c=this.storage.getItem(this.pointer("uriToOID",b)),c==null)return-1;else{var d=c.split(":"),c=parseInt(d[0]),j="u"+c,d=parseInt(d[1]);this.uriToOID[b]=[c,d];this.OIDToUri[j]=b;return c}}};P.Lexicon.prototype.resolveUriCost=function(b){return b===this.defaultGraphUri?
this.defaultGraphOid:(b=this.uriToOID[b],b!=null?b[1]:-1)};P.Lexicon.prototype.registerBlank=function(){var b=this.oidCounter;this.oidCounter++;b=""+b;this.storage.setItem(this.pointer("OIDToBlank",b),!0);this.OIDToBlank[b]=!0;return b};P.Lexicon.prototype.resolveBlank=function(){var b=this.oidCounter;this.oidCounter++;return""+b};P.Lexicon.prototype.resolveBlankCost=function(){return 0};P.Lexicon.prototype.registerLiteral=function(b){if(this.literalToOID[b]==null){var c=this.storage.getItem(this.pointer("literalToOID",
b));if(c==null){var c=this.oidCounter,d="l"+c;this.oidCounter++;this.literalToOID[b]=[c,0];this.OIDToLiteral[d]=b;this.storage.setItem(this.pointer("literalToOID",b),c+":0");this.storage.setItem(this.pointer("OIDToLiteral",d),b)}else d=c.split(":"),c=parseInt(d[0]),d=parseInt(d[1])+1,this.literalToOID[b]=[c,d],this.storage.setItem(this.pointer("literalToOID",b),c+":"+d)}else d=this.literalToOID[b],c=d[0],d=d[1]+1,this.storage.setItem(this.pointer("literalToOID",b),c+":"+d),this.literalToOID[b]=[c,
d];return c};P.Lexicon.prototype.resolveLiteral=function(b){var c=this.literalToOID[b];if(c!=null)return c[0];else if(fromStorage=this.storage.getItem(this.pointer("literalToOID",b)),fromStorage!=null){var c=fromStorage.split(":"),d=parseInt(c[0]),c=parseInt(c[1]);this.literalToOID[b]=[d,c];this.OIDToLiteral["l"+d]=b;return d}else return-1};P.Lexicon.prototype.resolveLiteralCost=function(b){b=this.literalToOID[b];return b!=null?b[1]:0};P.Lexicon.prototype.parseLiteral=function(b){var c=b.lastIndexOf("@");
if(c!=-1&&b[c-1]==='"'){var d=b.substring(1,c-1),b=b.substring(c+1,b.length);return{token:"literal",value:d,lang:b}}c=b.lastIndexOf("^^");if(c!=-1&&b[c-1]==='"'&&b[c+2]==="<"&&b[b.length-1]===">")return d=b.substring(1,c-1),b=b.substring(c+3,b.length-1),{token:"literal",value:d,type:b};d=b.substring(1,b.length-1);return{token:"literal",value:d}};P.Lexicon.prototype.parseUri=function(b){return{token:"uri",value:b}};P.Lexicon.prototype.retrieve=function(b){var c;try{if(b===this.defaultGraphOid)return{token:"uri",
value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0};else{var d=this.OIDToUri["u"+b];if(d!=null)return this.parseUri(d);else{var j=this.OIDToLiteral["l"+b];if(j!=null)return this.parseLiteral(j);else{var k=this.OIDToBlank[""+b];if(k!=null)return{token:"blank",value:"_:"+b};else if(d=this.storage.getItem(this.pointer("OIDToUri","u"+b)),d!=null){this.OIDToUri["u"+b]=d;c=this.storage.getItem(this.pointer("uriToOID",d));var h=c.split(":"),i=parseInt(h[1]);this.uriToOID[d]=[b,i];return this.parseUri(d)}else if(j=
this.storage.getItem(this.pointer("OIDToLiteral","l"+b)),j!=null){this.OIDToLiteral["l"+b]=j;c=this.storage.getItem(this.pointer("literalToOID",j));var g=c.split(":"),b=parseInt(g[0]),i=parseInt(g[1]);this.literalToOID[j]=[b,i];return this.parseLiteral(j)}else if(k=this.storage.getItem(this.pointer("OIDToBlank",""+b)),k!=null)return this.OIDToBlank[""+b]=!0,{token:"blank",value:"_:"+b};else throw"Null value for OID";}}}}catch(o){throw console.log("error in lexicon retrieving OID:"),console.log(b),
o.message&&console.log(o.message),o.stack&&console.log(o.stack),Error("Unknown retrieving OID in lexicon:"+b);}};P.Lexicon.prototype.unregister=function(b,c){try{return this.unregisterTerm(b.subject.token,c.subject),this.unregisterTerm(b.predicate.token,c.predicate),this.unregisterTerm(b.object.token,c.object),b.graph!=null&&this.unregisterTerm(b.graph.token,c.graph),!0}catch(d){return console.log("Error unregistering quad"),console.log(d.message),!1}};P.Lexicon.prototype.unregisterTerm=function(b,
c){if(b==="uri"){if(c!=this.defaultGraphOid){var d="u"+c,j=this.OIDToUri[d],k=this.uriToOID[j],h=k[1];if(""+k[0]===""+c)h===0?(delete this.OIDToUri[d],delete this.uriToOID[j],delete this.knownGraphs[c]):this.uriToOID[j]=[c,h-1];else throw"Not matching OID : "+c+" vs "+k[0];}}else if(b==="literal")if(this.oidCounter++,d="l"+c,j=this.OIDToLiteral[d],k=this.literalToOID[j],h=k[1],""+k[0]===""+c)h===0?(delete this.OIDToLiteral[d],delete this.literalToOID[j]):this.literalToOID[j]=[c,h-1];else throw"Not matching OID : "+
c+" vs "+k[0];else b==="blank"&&delete this.OIDToBlank[""+c]};var S={};S.load=function(b,c,d){jQuery.ajax({url:b,headers:{Accept:c},success:function(c,b,h){if((""+h.status)[0]=="2"){for(var b=h.getAllResponseHeaders().split("\n"),h={},i=0;i<b.length;i++){var g=b[i].split(":");h[g[0]]=g[1]}d(!0,{headers:h,data:c})}},error:function(b){(""+b.status)[0]=="3"?redirection==0?d(!1,500):(b=b.getAllResponseHeaders().Location||b.getAllResponseHeaders().location,b!=null?S.load(b,c,d,redirection-1):d(!1,500)):
d(!1,b.statusCode())}})};var xa=null;(function(){var b=function(c,b){c.stack="";for(var h in b)c[h]=b[h]};if(typeof window!=="undefined"){var c=window.jsonld=window.jsonld||{};Exception=function(c){b(this,c)};if(!Object.keys)Object.keys=function(c){if(c!==Object(c))throw new TypeError("Object.keys called on non-object");var b=[],h;for(h in c)Object.prototype.hasOwnProperty.call(c,h)&&b.push(h);return b};if(!Array.prototype.filter)Array.prototype.filter=function(c,b){if(this==null)throw new TypeError;
var h=Object(this),d=h.length>>>0;if(typeof c!="function")throw new TypeError;for(var j=[],i=0;i<d;i++)if(i in h){var k=h[i];c.call(b,k,i,h)&&j.push(k)}return j}}else typeof module!=="undefined"&&module.exports&&(c={},Exception=function(c){b(this,c);this.stack=Error().stack});xa=c;var d={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",
cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#"},j={xsd:"http://www.w3.org/2001/XMLSchema#"},k={"boolean":j.xsd+"boolean","double":j.xsd+
"double",integer:j.xsd+"integer"},h=function(c,b,h){b in c?c[b].constructor===Array?c[b].push(h):c[b]=[c[b],h]:c[b]=h},i=function(c){var b;if(c.constructor===Object){b={};var h=Object.keys(c).sort(),d;for(d in h){var j=h[d];b[j]=i(c[j])}}else if(c.constructor===Array)for(d in b=[],c)b[d]=i(c[d]);else b=c;return b},g=function(c){var b={"@id":"@id","@language":"@language","@literal":"@literal","@type":"@type"};if(c){var h={},d;for(d in c)c[d].constructor===String&&c[d]in b&&(h[c[d]]=d);for(d in h)b[d]=
h[d]}return b},o=function(c,b){var h=null;b in c&&(c[b].constructor===String?h=c[b]:c[b].constructor===Object&&"@id"in c[b]&&(h=c[b]["@id"]));return h},t=function(c,b,h){var d=null,j;for(j in c)if(j.length>0&&j[0]!=="@"&&b===o(c,j)){d=j;h!==null&&(h[j]=i(c[j]));break}d===null&&b==="@type"&&(d=g(c)["@type"]);if(d===null)for(j in c)if(j.length>0&&j[0]!=="@"){var k=o(c,j);if(k!==null&&b.indexOf(k)===0&&b.length>k.length){d=j+":"+b.substr(k.length);h!==null&&(h[j]=i(c[j]));break}}d===null&&(d=b);return d},
q=function(c,b,h){var d=b,j=g(c),k=b.indexOf(":");if(k!==-1)j=b.substr(0,k),j in c&&(d=o(c,j)+b.substr(k+1),h!==null&&(h[j]=i(c[j])));else if(b in c)d=o(c,b),h!==null&&(h[b]=i(c[b]));else for(var q in j)if(b===j[q]){d=q;break}return d},v=function(c){var b=!1;c!==null&&c.constructor===Object&&!("@literal"in c)&&(b=Object.keys(c).length>1||!("@id"in c));return b};c.normalize=function(c){return(new B).normalize(c)};c.expand=function(c){return(new B).expand({},null,c)};c.compact=function(b,h){var d=null;
if(h!==null){var h=c.expand(h),j;h.constructor===Array?(d=[],j=h):j=[h];b.constructor===Array&&(b=c.mergeContexts({},b));for(var k in j){var g={},n=(new B).compact(i(b),null,j[k],g);if(Object.keys(g).length>0){var o=g,g={},q=Object.keys(o).sort(),t=void 0;for(t in q){var v=q[t];g[v]=o[v]}o=Object.keys(n);o.sort();o.unshift("@context");n["@context"]=g;var g={},x;for(x in o)q=o[x],g[q]=n[q];n=g}d===null?d=n:d.push(n)}}return d};c.mergeContexts=function(b,h){b.constructor===Array&&(b=c.mergeContexts({},
b));var d=i(b);if(h.constructor===Array)for(var j in h)d=c.mergeContexts(d,h[j]);else{for(var k in h)if(k.indexOf("@")!==0)for(var g in d)if(d[g]===h[k]){delete d[g];break}for(k in h)d[k]=i(h[k])}return d};c.expandTerm=q;c.compactIri=function(c,b){return t(c,b,null)};c.frame=function(c,b,h){return(new B).frame(c,b,h)};c.toTriples=function(b,h,d){var j=null,b=c.normalize(b),d=d||null;d===null&&(j=[],d=function(c,b,d){j.push({subject:x.lexicalFormTerm(c),predicate:x.lexicalFormTerm(b),object:x.lexicalFormTerm(d),
graph:h})});var k=!1,i;for(i in b){var g=b[i],n=g["@id"],n=n[0]=="_"?{token:"blank",value:n.split(":")[1]}:{token:"uri",value:n},o;for(o in g)if(o!=="@id"){var q=g[o];q.constructor!==Array&&(q=[q]);for(var t in q)if(k=q[t],o==="@type"?(o="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",k={token:"uri",value:k}):typeof k==="string"?k={token:"literal",value:k}:k["@id"]!=null?k=k["@id"][0]=="_"?{token:"blank",value:k["@id"].split(":")[1]}:{token:"uri",value:k["@id"]}:k["@type"]!=null?k={token:"literal",
value:k["@literal"],type:k["@type"]}:k["@language"]!=null&&(k={token:"literal",value:k["@literal"],lang:k["@language"]}),k=d(n,{token:"uri",value:o},k)===!1)break;if(k)break}if(k)break}return j};c.resolve=function(c,b,h){var d={},j=function(c,b){if(c.constructor===Array)for(var h in c)j(c[h]);else if(c.constructor===Object)for(var k in c)if(k==="@context")if(c[k].constructor===Array){var i=c[k];for(h in i)i[h].constructor===String&&(b?i[h]=d[i[h]]:d[i[h]]={})}else c[k].constructor===String&&(b?c[k]=
d[c[k]]:d[c[k]]={})};j(c,!1);var k=Object.keys(d).length,i=null;if(k===0)h(c,i);else for(var g in d)b(g,function(b,n){--k;if(b===null)i=i||[],i.push({url:g,error:n});else try{d[g]=b.constructor===String?JSON.parse(b)["@context"]:b["@context"]}catch(o){i=i||[],i.push({url:g,error:o})}k===0&&(i===null&&j(c,!0),h(c,i))})};var B=function(){};B.prototype.compact=function(c,b,h,d){var j,o=g(c);if(h===null)j=null,this.getCoerceType(c,b,d);else if(h.constructor===Array){j=[];for(var q in h)j.push(this.compact(c,
b,h[q],d))}else if(h.constructor===Object&&"@id"in h&&h["@id"].constructor===Array)j={},j[o["@id"]]=this.compact(c,b,h["@id"],d);else if(v(h)){j={};for(var x in h)if(h[x]!=="@context"&&(o=t(c,x,d),o!==x||!(o in j)))j[o]=this.compact(c,x,h[x],d)}else{b=this.getCoerceType(c,b,d);q=null;h.constructor===Object?"@language"in h||(q="@type"in h?h["@type"]:"@id"in h?"@id":b):h.constructor===String&&(q=b);if(b===null&&(q===k["boolean"]||q===k.integer||q===k["double"]))b=q;if(b!==null)if(q===null)throw{message:"Cannot coerce type when a language is specified. The language information would be lost."};
else if(q!==b)throw new Exception({message:"Cannot coerce type because the type does not match.",type:q,expected:b});else h.constructor===Object?"@id"in h?j=h["@id"]:"@literal"in h&&(j=h["@literal"]):j=h,b===k["boolean"]?j=j==="true"||j!=0:b===k["double"]?j=parseFloat(j):b===k.integer&&(j=parseInt(j));else if(h.constructor===Object)for(x in j={},h)j[o[x]]=h[x];else j=i(h);q==="@id"&&(j.constructor===Object?j[o["@id"]]=t(c,j[o["@id"]],d):j=t(c,j,d))}return j};B.prototype.expand=function(b,d,j){var o;
if(j===null)o=null;else if(d===null&&j.constructor===String)o=q(b,j,null);else if(j.constructor===Array){o=[];for(var t in j)o.push(this.expand(b,d,j[t]))}else if(j.constructor===Object){"@context"in j&&(b=c.mergeContexts(b,j["@context"]));o={};for(var v in j)v==="@embed"||v==="@explicit"||v==="@default"||v==="@omitDefault"?h(o,v,i(j[v])):v!=="@context"&&h(o,q(b,v,null),this.expand(b,v,j[v]))}else{t=this.getCoerceType(b,d,null);o=g(b);if(t===null&&(j.constructor===Number||j.constructor===Boolean))t=
j.constructor===Boolean?k["boolean"]:(""+j).indexOf(".")==-1?k.integer:k["double"];d===o["@id"]||d===o["@type"]?o=q(b,j,null):t!==null?(o={},t==="@id"?o["@id"]=q(b,j,null):(o["@type"]=t,t===k["double"]&&(j=j.toExponential(6).replace(/(e(?:\+|-))([0-9])$/,"$10$2")),o["@literal"]=""+j)):o=""+j}return o};B.prototype.normalize=function(c){var b=[];if(c!==null){this.ng={tmp:null,c14n:null};var h=this.expand(d,null,c);this.nameBlankNodes(h);c={};L(null,null,h,c);for(var j in c){var h=c[j],k={},i=Object.keys(h).sort(),
g;for(g in i){var n=i[g];k[n]=h[n]}b.push(k)}this.canonicalizeBlankNodes(b);b.sort(function(c,b){return M(c["@id"],b["@id"])})}return b};B.prototype.getCoerceType=function(c,b,h){var d=null,b=q(c,b,null);b==="@id"||b==="@type"?d="@id":(b=t(c,b,null),b in c&&c[b].constructor===Object&&"@type"in c[b]&&(d=q(c,c[b]["@type"],h),h!==null&&(h[b]=i(c[b]))));return d};var D=function(c){return c.indexOf("_:")===0},F=function(c){return c.constructor===Object&&"@id"in c&&D(c["@id"])},M=function(c,b){var h=0;
if(c.constructor===Array&&b.constructor===Array)for(var d=0;d<c.length&&h===0;++d)h=M(c[d],b[d]);else h=c<b?-1:c>b?1:0;return h},E=function(c,b,h){var d=0;h in c?d=h in b?M(c[h],b[h]):-1:h in b&&(d=1);return d},J=function(c,b){var h=0;c.constructor===String?h=b.constructor!==String?-1:M(c,b):b.constructor===String?h=1:(h=E(c,b,"@literal"),h===0&&("@literal"in c?(h=E(c,b,"@type"),h===0&&(h=E(c,b,"@language"))):h=M(c["@id"],b["@id"])));return h},I=function(c,b){var h=0,d;for(d in c)if(d!=="@id"){h=
M(c[d].constructor===Array?c[d].length:1,b[d].constructor===Array?b[d].length:1);if(h===0){var j=c[d],k=b[d];j.constructor!==Array&&(j=[j],k=[k]);j=j.filter(function(c){return!F(c)});k=k.filter(function(c){return!F(c)});h=M(j.length,k.length)}if(h===0){j.sort(J);k.sort(J);for(var i=0;i<j.length&&h===0;++i)h=J(j[i],k[i])}if(h!==0)break}return h},K=function(c){var b=-1,h={next:function(){++b;return h.current()},current:function(){return"_:"+c+b},inNamespace:function(b){return b.indexOf("_:"+c)===0}};
return h},O=function(c,b,h){if(c!==null)if(c.constructor===Array)for(var d in c)O(c[d],b,h);else if(c.constructor===Object){"@id"in c?c["@id"].constructor==Array?O(c["@id"],b,h):v(c)&&(b[c["@id"]]=c):v(c)&&(!("@id"in c)||F(c))&&h.push(c);for(var j in c)O(c[j],b,h)}},L=function(c,b,h,d){var j=null;if(h!==null)if(h.constructor===Array)for(var k in h)L(c,b,h[k],d);else if(h.constructor===Object)if("@literal"in h||b==="@type")j=i(h);else if(h["@id"].constructor===Array){if(c!==null)throw{message:"Embedded graph literals cannot be flattened."};
for(var g in h["@id"])L(c,b,h["@id"][g],d)}else{h["@id"]in d?k=d[h["@id"]]:(k={"@id":h["@id"]},d[h["@id"]]=k);var j={"@id":k["@id"]},n;for(n in h)g=h[n],g!==null&&n!=="@id"&&(n in k?k[n].constructor!==Array&&(k[n]=[k[n]]):k[n]=[],L(k[n],n,g,d),k[n].length===1&&(k[n]=k[n][0]))}else j=h;j!==null&&c!==null&&(c.constructor===Array?(b=!1,j.constructor===Object&&"@id"in j&&(b=c.filter(function(c){return c.constructor===Object&&"@id"in c&&c["@id"]===j["@id"]}).length>0),b||c.push(j)):c[b]=j)};B.prototype.nameBlankNodes=
function(c){var b=this.ng.tmp=K("tmp"),h={},d=[];O(c,h,d);for(var j in d)if(c=d[j],!("@id"in c)){for(;b.next()in h;);c["@id"]=b.current();h[b.current()]=c}};B.prototype.renameBlankNode=function(c,b){var h=c["@id"];c["@id"]=b;var d=this.subjects;d[b]=d[h];delete d[h];this.edges.refs[b]=this.edges.refs[h];this.edges.props[b]=this.edges.props[h];delete this.edges.refs[h];delete this.edges.props[h];var j=this.edges.refs[b].all,k;for(k in j){var i=j[k].s;i===h&&(i=b);var g=d[i],n=this.edges.props[i].all,
o;for(o in n)if(n[o].s===h){n[o].s=b;var i=n[o].p,i=g[i].constructor===Object?[g[i]]:g[i].constructor===Array?g[i]:[],q;for(q in i)i[q].constructor===Object&&"@id"in i[q]&&i[q]["@id"]===h&&(i[q]["@id"]=b)}}n=this.edges.props[b].all;for(k in n){var i=n[k].s,j=this.edges.refs[i].all,t;for(t in j)if(j[t].s===h)j[t].s=b}};B.prototype.canonicalizeBlankNodes=function(c){this.renamed={};this.mappings={};this.serializations={};var b=this.edges={refs:{},props:{}},h=this.subjects={},d=[],j;for(j in c){var k=
c[j]["@id"];h[k]=c[j];b.refs[k]={all:[],bnodes:[]};b.props[k]={all:[],bnodes:[]};D(k)&&d.push(c[j])}this.collectEdges();var c=this.ng.c14n=K("c14n"),i=this.ng.tmp;for(j in d){var g=d[j],k=g["@id"];if(c.inNamespace(k)){for(;i.next()in h;);this.renameBlankNode(g,i.current());k=g["@id"]}this.serializations[k]={props:null,refs:null}}for(var i=!0,n=this;d.length>0;){i&&(i=!1,d.sort(function(c,b){return n.deepCompareBlankNodes(c,b)}));var g=d.shift(),k=g["@id"],g=["props","refs"],o;for(o in g){var q=g[o];
if(this.serializations[k][q]===null){var t={};t[k]="s1"}else t=this.serializations[k][q].m;var v=Object.keys(t);v.sort(function(c,b){return M(t[c],t[b])});var x=[];for(j in v){var B=v[j];!c.inNamespace(k)&&B in h&&(this.renameBlankNode(h[B],c.next()),x.push(B))}v=d;d=[];for(j in v){var B=v[j],H=B["@id"];if(!c.inNamespace(H)){for(var F in x)this.markSerializationDirty(H,x[F],q)&&(i=!0);d.push(B)}}}}for(var E in b.props)if(b.props[E].bnodes.length>0){var g=h[E],I;for(I in g)I.indexOf("@")!==0&&g[I].constructor===
Array&&g[I].sort(J)}};MappingBuilder=function(){this.count=1;this.processed={};this.mapping={};this.adj={};this.keyStack=[{keys:["s1"],idx:0}];this.done={};this.s=""};MappingBuilder.prototype.copy=function(){var c=new MappingBuilder;c.count=this.count;c.processed=i(this.processed);c.mapping=i(this.mapping);c.adj=i(this.adj);c.keyStack=i(this.keyStack);c.done=i(this.done);c.s=this.s;return c};MappingBuilder.prototype.mapNode=function(c){c in this.mapping||(this.mapping[c]=c.indexOf("_:c14n")===0?"c"+
c.substr(6):"s"+this.count++);return this.mapping[c]};MappingBuilder.prototype.serialize=function(c,b){if(this.keyStack.length>0)for(var h=this.keyStack.pop();h.idx<h.keys.length;++h.idx){var d=h.keys[h.idx];if(!(d in this.adj)){this.keyStack.push(h);break}if(d in this.done)this.s+="_"+d;else{this.done[d]=!0;var j=d,d=this.adj[d],k=d.i;if(k in c){var i=c[k],g="",n=!0,o=void 0;for(o in i)if(o!=="@id"){n?n=!1:g+="|";g+="<"+o+">";var q=i[o].constructor===Array?i[o]:[i[o]],t;for(t in q){var v=q[t];v.constructor===
Object?"@id"in v?g+=D(v["@id"])?"_:":"<"+v["@id"]+">":(g+='"'+v["@literal"]+'"',"@type"in v?g+="^^<"+v["@type"]+">":"@language"in v&&(g+="@"+v["@language"])):g+='"'+v+'"'}}j+="["+g+"]";i=!0;j+="[";var k=b.refs[k].all,x;for(x in k)i?i=!1:j+="|",j+="<"+k[x].p+">",j+=D(k[x].s)?"_:":"<"+k[x].s+">";j+="]"}j+=d.k.join("");this.s+=j;this.keyStack.push({keys:d.k,idx:0});this.serialize(c,b)}}};B.prototype.markSerializationDirty=function(c,b,h){var d=!1,c=this.serializations[c];c[h]!==null&&b in c[h].m&&(c[h]=
null,d=!0);return d};var P=function(c,b){var h=0;return h=c.length==b.length?M(c,b):c.length>b.length?M(c.substr(0,b.length),b):M(c,b.substr(0,c.length))};B.prototype.serializeCombos=function(c,b,h,d,j,k,g){if(g.length>0){k=i(k);k[d.mapNode(g[0].s)]=g[0].s;for(var n=d.copy(),g=g.slice(1),o=Math.max(1,g.length),q=0;q<o;++q){var t=q===0?d:n.copy();this.serializeCombos(c,b,h,t,j,k,g);g.unshift.apply(g,g.splice(1,g.length))}}else if(g=Object.keys(k).sort(),d.adj[h]={i:b,k:g,m:k},d.serialize(this.subjects,
this.edges),c[j]===null||P(d.s,c[j].s)<=0){for(n in g)this.serializeBlankNode(c,k[g[n]],d,j);d.serialize(this.subjects,this.edges);if(c[j]===null||P(d.s,c[j].s)<=0&&d.s.length>=c[j].s.length)c[j]={s:d.s,m:d.mapping}}};B.prototype.serializeBlankNode=function(c,b,h,d){if(!(b in h.processed)){h.processed[b]=!0;var j=h.mapNode(b),k=h.copy(),i=this.edges[d][b].bnodes,g={},n=[],o;for(o in i)i[o].s in h.mapping?g[h.mapping[i[o].s]]=i[o].s:n.push(i[o]);i=Math.max(1,n.length);for(o=0;o<i;++o){var q=o===0?
h:k.copy();this.serializeCombos(c,b,j,q,d,g,n)}}};B.prototype.deepCompareBlankNodes=function(c,b){var h=0,d=c["@id"],j=b["@id"];if(d===j)h=0;else if(h=this.shallowCompareBlankNodes(c,b),h===0)for(var k=["props","refs"],g=0;h===0&&g<k.length;++g){var h=k[g],n=this.serializations[d],o=this.serializations[j];if(n[h]===null){var q=new MappingBuilder;if(h==="refs")q.mapping=i(n.props.m),q.count=Object.keys(q.mapping).length+1;this.serializeBlankNode(n,d,q,h)}if(o[h]===null){q=new MappingBuilder;if(h===
"refs")q.mapping=i(o.props.m),q.count=Object.keys(q.mapping).length+1;this.serializeBlankNode(o,j,q,h)}h=M(n[h].s,o[h].s)}return h};B.prototype.shallowCompareBlankNodes=function(c,b){var h=0,d=Object.keys(c),j=Object.keys(b),h=M(d.length,j.length);h===0&&(h=M(d.sort(),j.sort()));h===0&&(h=I(c,b));if(h===0)var k=this.edges.refs[c["@id"]].all,i=this.edges.refs[b["@id"]].all,h=M(k.length,i.length);if(h===0)for(d=0;d<k.length&&h===0;++d)h=this.compareEdges(k[d],i[d]);return h};B.prototype.compareEdges=
function(c,b){var h=0,d=D(c.s),j=D(b.s),k=this.ng.c14n;d!=j?h=d?1:-1:(d||(h=M(c.s,b.s)),h===0&&(h=M(c.p,b.p)),h===0&&k!==null&&(d=k.inNamespace(c.s),k=k.inNamespace(b.s),d!=k?h=d?1:-1:d&&(h=M(c.s,b.s))));return h};B.prototype.collectEdges=function(){var c=this.edges.refs,b=this.edges.props,h;for(h in this.subjects){var d=this.subjects[h],j;for(j in d)if(j!=="@id"){var k=d[j],k=k.constructor!==Array?[k]:k,i;for(i in k){var g=k[i];g.constructor===Object&&"@id"in g&&g["@id"]in this.subjects&&(g=g["@id"],
c[g].all.push({s:h,p:j}),b[h].all.push({s:g,p:j}))}}}var n=this;for(h in c)c[h].all.sort(function(c,b){return n.compareEdges(c,b)}),c[h].bnodes=c[h].all.filter(function(c){return D(c.s)});for(h in b)b[h].all.sort(function(c,b){return n.compareEdges(c,b)}),b[h].bnodes=b[h].all.filter(function(c){return D(c.s)})};var S=function(c,b){var h=!1;if(!("@type"in b)){var d=Object.keys(b).filter(function(c){return c.indexOf("@")!==0});if(d.length===0)h=!0;else if(c.constructor===Object&&"@id"in c){var h=!0,
j;for(j in d)if(!(d[j]in c)){h=!1;break}}}return h},V=function(c,b,h,d,j,k,i,g){var n=b["@id"],o=n in d?d[n]:null;if(("@embed"in h&&h["@embed"]||!("@embed"in h)&&g.defaults.embedOn)&&(o===null||o.autoembed&&!j)){if(o===null)o={},d[n]=o;else if(o.parent!==null){if(o.parent[o.key].constructor===Array){var q=o.parent[o.key],t;for(t in q)if(q[t].constructor===Object&&"@id"in q[t]&&q[t]["@id"]===n){q[t]={"@id":b["@id"]};break}}else o.parent[o.key]={"@id":b["@id"]};var v=function(c){var b=Object.keys(d),
h;for(h in b)h=b[h],h in d&&d[h].parent!==null&&d[h].parent["@id"]===c&&(delete d[h],v(h))};v(n)}o.autoembed=j;o.parent=k;o.key=i;if(h["@explicit"]===!0||g.defaults.explicitOn)for(x in b)x!=="@id"&&!(x in h)&&delete b[x];j=Object.keys(b);for(t in j){var x=j[t];if(x.indexOf("@")!==0){x in h?(k=h[x],i=!1):(k=b[x].constructor===Array?[]:{},i=!0);var n=b[x],n=n.constructor===Array?n:[n],B;for(B in n)n[B].constructor===Object&&"@id"in n[B]&&n[B]["@id"]in c&&(n[B]=c[n[B]["@id"]]);b[x]=ca(c,n,k,d,i,b,x,
g)}}for(x in h)if(x.indexOf("@")!==0&&(!(x in b)||b[x]===null))k=h[x],k.constructor===Array?b[x]=[]:(k.constructor===Array&&(k=k.length>0?k[0]:{}),k["@omitDefault"]===!0||g.defaults.omitDefaultOn||(b[x]="@default"in k?k["@default"]:null))}else b={"@id":b["@id"]};return b},ca=function(c,b,h,d,j,k,i,g){var n=null,o=-1,q;h.constructor===Array?(n=[],q=h,q.length===0&&q.push({})):(q=[h],o=1);for(var t=[],x=0;x<q.length&&o!==0;++x){h=q[x];if(h.constructor!==Object)throw{message:"Invalid JSON-LD frame. Frame must be an object or an array.",
frame:h};t[x]=[];for(var B=0;B<b.length&&o!==0;++B){var D=b[B],M=!1,F="@type";if("@type"in h&&D.constructor===Object&&F in D)for(var E=D[F].constructor===Array?D[F]:[D[F]],I=h[F].constructor===Array?h[F]:[h[F]],J=0;J<I.length&&!M;++J){var F=I[J],K;for(K in E)if(E[K]===F){M=!0;break}}if(M||S(D,h))t[x].push(D),--o}}for(var ab in t)for(var Cc in t[ab])h=q[ab],b=t[ab][Cc],v(b)&&(b=V(c,b,h,d,j,k,i,g)),n===null?n=b:(h=b!==null&&b.constructor===Object&&"@id"in b&&Object.keys(b).length===1&&b["@id"]in d,
k===null&&h||n.push(b));return n};B.prototype.frame=function(b,h,d){var b=c.normalize(b),j=null;if("@context"in h)j=i(h["@context"]),h=c.expand(h);else if(h.constructor===Array){h.length>0&&"@context"in h[0]&&(j=i(h[0]["@context"]));var d=[],k;for(k in h)d.push(c.expand(h[k]));h=d}var d={defaults:{embedOn:!0,explicitOn:!1,omitDefaultOn:!1}},g={};for(k in b)g[b[k]["@id"]]=b[k];b=ca(g,b,h,{},!1,null,null,d);j!==null&&b!==null&&(b=c.compact(j,b));return b}})();var za={parser:{}};za.parser.parse=function(b,
c){typeof b==="string"&&(b=JSON.parse(b));return xa.toTriples(b,c)};var aa={RDFLoader:function(b){this.precedences=["text/turtle","text/n3","application/json"];this.parsers={"text/turtle":ea.parser,"text/n3":ea.parser,"application/json":za.parser};if(b!=null)for(var c in b.parsers)this.parsers[c]=b.parsers[c];if(b&&b.precedences!=null)for(c in this.precedences=b.precedences,b.parsers)x.include(this.precedences,c)||this.precedences.push(c);this.acceptHeaderValue="";for(b=0;b<this.precedences.length;b++)b!=
0?this.acceptHeaderValue=this.acceptHeaderValue+","+this.precedences[b]:this.acceptHeaderValue+=this.precedences[b]}};aa.RDFLoader.prototype.registerParser=function(b,c){this.parsers[b]=c;this.precedences.push(b)};aa.RDFLoader.prototype.unregisterParser=function(b){delete this.parsers[b];for(var c=[],d=0;d<this.precedences.length;d++)this.precedences[d]!=b&&c.push(this.precedences[d]);this.precedences=c};aa.RDFLoader.prototype.setAcceptHeaderPrecedence=function(b){this.precedences=b};aa.RDFLoader.prototype.load=
function(b,c,d){var j=this;S.load(b,this.acceptHeaderValue,function(k,h){if(k==!0){var i=h.headers["Content-Type"]||h.headers["content-type"],g=h.data;if(i!=null){var i=i.split(";")[0],o;for(o in j.parsers)if(o.indexOf("/")!=-1){var t=o.split("/");if(t[1]==="*"){if(i.indexOf(t[0])!=-1)return j.tryToParse(j.parsers[o],c,g,d)}else if(i.indexOf(o)!=-1)return j.tryToParse(j.parsers[o],c,g,d);else if(i.indexOf(t[1])!=-1)return j.tryToParse(j.parsers[o],c,g,d)}else if(i.indexOf(o)!=-1)return j.tryToParse(j.parsers[o],
b,c,d);d(!1,"Unknown media type : "+i)}else console.log("Unknown media type"),console.log(h.headers),d(!1,"Uknown media type")}else d(!1,"Network error: "+h)})};aa.RDFLoader.prototype.loadFromFile=function(b,c,d,j){try{var k=this;fs=require("fs");fs.readFile(d.split("file:/")[1],function(h,d){if(h)throw h;d=d.toString("utf8");k.tryToParse(b,c,d,j)})}catch(h){j(!1,h)}};aa.RDFLoader.prototype.tryToParse=function(b,c,d,j){try{typeof d==="string"&&(d=x.normalizeUnicodeLiterals(d));var k=b.parse(d,c);
k!=null?j(!0,k):j(!1,"parsing error")}catch(h){console.log(h.message),console.log(h.stack),j(!1,"parsing error with mime type : "+h)}};var L={AbstractQueryTree:function(){}};L.AbstractQueryTree.prototype.parseQueryString=function(b){return ka.parser.parse(b)};L.AbstractQueryTree.prototype.parseExecutableUnit=function(b){if(b.kind==="select")return this.parseSelect(b);else if(b.kind==="ask")return this.parseSelect(b);else if(b.kind==="modify")return this.parseSelect(b);else if(b.kind==="construct")return this.parseSelect(b);
else if(b.kind==="insertdata")return this.parseInsertData(b);else if(b.kind==="deletedata")return this.parseInsertData(b);else if(b.kind==="load")return b;else if(b.kind==="clear")return b;else if(b.kind==="drop")return b;else if(b.kind==="create")return b;else throw Error("unknown executable unit: "+b.kind);};L.AbstractQueryTree.prototype.parseSelect=function(b){return b==null?(console.log("error parsing query"),null):(b.pattern=this.build(b.pattern,{freshCounter:0}),b)};L.AbstractQueryTree.prototype.parseInsertData=
function(b){return b==null?(console.log("error parsing query"),null):b};L.AbstractQueryTree.prototype.build=function(b,c){if(b.token==="groupgraphpattern")return this._buildGroupGraphPattern(b,c);else if(b.token==="basicgraphpattern"){var d={kind:"BGP",value:b.triplesContext};return d=L.translatePathExpressionsInBGP(d,c)}else if(b.token==="graphunionpattern"){var d=this.build(b.value[0],c),j=this.build(b.value[1],c);return{kind:"UNION",value:[d,j]}}else if(b.token==="graphgraphpattern")return{kind:"GRAPH",
value:this.build(b.value,c),graph:b.graph};else throw Error("not supported token in query:"+b.token);};L.translatePathExpressionsInBGP=function(b,c){var d,j=[],k,h;for(h=0;h<b.value.length;h++)if(b.value[h].predicate&&b.value[h].predicate.token==="path"){d=b.value[h];k=b.value.slice(h+1);var i=L.translatePathExpression(d,c);d=null;if(i.kind==="BGP")j=j.concat(i.value);else if(i.kind==="ZERO_OR_MORE_PATH"||i.kind==="ONE_OR_MORE_PATH"){h=j.length>0?{kind:"JOIN",lvalue:{kind:"BGP",value:j},rvalue:i}:
i;if(i.kind==="ZERO_OR_MORE_PATH")if(i.y.token==="var"&&i.y.value.indexOf("fresh:")===0&&i.x.token==="var"&&i.x.value.indexOf("fresh:")===0)for(var g=0;g<b.value.length;g++){if(b.value[g].object&&b.value[g].object.token==="var"&&b.value[g].object.value===i.x.value)d=x.clone(b.value[g]),d.object=i.y}else if(i.y.token==="var"&&i.y.value.indexOf("fresh:")===0)for(g=0;g<b.value.length;g++)if(b.value[g].subject&&b.value[g].subject.token==="var"&&b.value[g].subject.value===i.y.value)d=x.clone(b.value[g]),
d.subject=i.x;return k.length>0?(i=L.translatePathExpressionsInBGP({kind:"BGP",value:k},c),d!=null?(j=j.concat([d]).concat(k),{kind:"UNION",value:[{kind:"JOIN",lvalue:h,rvalue:i},{kind:"BGP",value:j}]}):{kind:"JOIN",lvalue:h,rvalue:i}):h}else return i}else j.push(b.value[h]);b.value=j;return b};L.translatePathExpression=function(b,c){if(b.predicate.kind==="element")if(b.predicate.modifier==="+"){b.predicate.modifier=null;var d=L.translatePathExpression(b,c);return{kind:"ONE_OR_MORE_PATH",path:d,x:b.subject,
y:b.object}}else return b.predicate.modifier==="*"?(b.predicate.modifier=null,d=L.translatePathExpression(b,c),{kind:"ZERO_OR_MORE_PATH",path:d,x:b.subject,y:b.object}):(b.predicate=b.predicate.value,{kind:"BGP",value:[b]});else if(b.predicate.kind==="sequence"){for(var d=b.subject,j=b.object,k=b.graph,h,i,g=[],o=0;o<b.predicate.value.length;o++){o!=b.predicate.value.length-1?(h={token:"var",value:"fresh:"+c.freshCounter},c.freshCounter++):h=j;i={subject:d,predicate:b.predicate.value[o],object:h};
if(k!=null)i.graph=x.clone(k);g.push(i);o!=b.predicate.value.length-1&&(d=x.clone(h))}return L.translatePathExpressionsInBGP({kind:"BGP",value:g},c)}};L.AbstractQueryTree.prototype._buildGroupGraphPattern=function(b,c){for(var d=b.filters||[],j={kind:"EMPTY_PATTERN"},k=0;k<b.patterns.length;k++){var h=b.patterns[k];h.token==="optionalgraphpattern"?(h=this.build(h.value,c),j=h.kind==="FILTER"?{kind:"LEFT_JOIN",lvalue:j,rvalue:h.value,filter:h.filter}:{kind:"LEFT_JOIN",lvalue:j,rvalue:h,filter:!0}):
(h=this.build(h,c),j=j.kind=="EMPTY_PATTERN"?h:{kind:"JOIN",lvalue:j,rvalue:h})}if(d.length!=0)if(j.kind==="EMPTY_PATTERN")return{kind:"FILTER",filter:d,value:j};else if(j.kind==="LEFT_JOIN"&&j.filter===!0)return{kind:"FILTER",filter:d,value:j};else if(j.kind==="LEFT_JOIN")return{kind:"FILTER",filter:d,value:j};else if(j.kind==="JOIN")return{kind:"FILTER",filter:d,value:j};else if(j.kind==="UNION")return{kind:"FILTER",filter:d,value:j};else if(j.kind==="GRAPH")return{kind:"FILTER",filter:d,value:j};
else if(j.kind==="BGP")return{kind:"FILTER",filter:d,value:j};else throw Error("Unknow kind of algebra expression: "+j.kind);else return j};L.AbstractQueryTree.prototype.collectBasicTriples=function(b,c){c==null&&(c=[]);if(b.kind==="select")c=this.collectBasicTriples(b.pattern,c);else if(b.kind==="BGP")c=c.concat(b.value);else if(b.kind==="ZERO_OR_MORE_PATH")c=this.collectBasicTriples(b.path);else if(b.kind==="UNION")c=this.collectBasicTriples(b.value[0],c),c=this.collectBasicTriples(b.value[1],c);
else if(b.kind==="GRAPH")c=this.collectBasicTriples(b.value,c);else if(b.kind==="LEFT_JOIN"||b.kind==="JOIN")c=this.collectBasicTriples(b.lvalue,c),c=this.collectBasicTriples(b.rvalue,c);else if(b.kind==="FILTER")c=this.collectBasicTriples(b.value,c);else if(b.kind==="construct")c=this.collectBasicTriples(b.pattern,c);else if(b.kind!=="EMPTY_PATTERN")throw"Unknown pattern: "+b.kind;return c};L.AbstractQueryTree.prototype.bind=function(b,c){if(b.graph!=null&&b.graph.token&&b.graph.token==="var"&&c[b.graph.value]!=
null)b.graph=c[b.graph.value];if(b.filter!=null){for(var d=[],j=0;j<b.filter.length;j++)b.filter[j].value=this._bindFilter(b.filter[j].value,c),d.push(b.filter[j]);b.filter=d}if(b.kind==="select")b.pattern=this.bind(b.pattern,c);else if(b.kind==="BGP")b.value=this._bindTripleContext(b.value,c);else if(b.kind==="ZERO_OR_MORE_PATH"){b.path=this._bindTripleContext(b.path,c);if(b.x&&b.x.token==="var"&&c[b.x.value]!=null)b.x=c[b.x.value];if(b.y&&b.y.token==="var"&&c[b.y.value]!=null)b.y=c[b.y.value]}else if(b.kind===
"UNION")b.value[0]=this.bind(b.value[0],c),b.value[1]=this.bind(b.value[1],c);else if(b.kind==="GRAPH")b.value=this.bind(b.value,c);else if(b.kind==="LEFT_JOIN"||b.kind==="JOIN")b.lvalue=this.bind(b.lvalue,c),b.rvalue=this.bind(b.rvalue,c);else if(b.kind==="FILTER")b.filter=this._bindFilter(b.filter[j].value,c);else if(b.kind!=="EMPTY_PATTERN")throw"Unknown pattern: "+b.kind;return b};L.AbstractQueryTree.prototype._bindTripleContext=function(b,c){for(var d=0;d<b.length;d++){delete b[d].graph;delete b[d].variables;
for(var j in b[d]){var k=b[d][j];k.token==="var"&&c[k.value]!=null&&(b[d][j]=c[k.value])}}return b};L.AbstractQueryTree.prototype._bindFilter=function(b,c){if(b.expressionType!=null){var d=b.expressionType;if(d=="relationalexpression")b.op1=this._bindFilter(b.op1,c),b.op2=this._bindFilter(b.op2,c);else if(d=="conditionalor"||d=="conditionaland")for(d=0;d<b.operands.length;d++)b.operands[d]=this._bindFilter(b.operands[d],c);else if(d=="additiveexpression"){b.summand=this._bindFilter(b.summand,c);for(d=
0;d<b.summands.length;d++)b.summands[d].expression=this._bindFilter(b.summands[d].expression,c)}else if(d=="builtincall")for(d=0;d<b.args.length;d++)b.args[d]=this._bindFilter(b.args[d],c);else if(d=="multiplicativeexpression"){b.factor=this._bindFilter(b.factor,c);for(d=0;d<b.factors.length;d++)b.factors[d].expression=this._bindFilter(b.factors[d].expression,c)}else if(d=="unaryexpression")b.expression=this._bindFilter(b.expression,c);else if(d=="irireforfunction")for(d=0;d<b.factors.args;d++)b.args[d]=
this._bindFilter(b.args[d],c);else if(d=="atomic"&&b.primaryexpression=="var"&&c[b.value.value]!=null)d=c[b.value.value],b.primaryexpression=d.token==="uri"?"iri":"literal",b.value=d}return b};L.AbstractQueryTree.prototype.replace=function(b,c,d,j){if(b.graph!=null&&b.graph.token&&b.graph.token===c.token&&b.graph.value==c.value)b.graph=x.clone(d);if(b.filter!=null){for(var k=[],h=0;h<b.filter.length;h++)b.filter[h].value=this._replaceFilter(b.filter[h].value,c,d,j),k.push(b.filter[h]);b.filter=k}if(b.kind===
"select")b.pattern=this.replace(b.pattern,c,d,j);else if(b.kind==="BGP")b.value=this._replaceTripleContext(b.value,c,d,j);else if(b.kind==="ZERO_OR_MORE_PATH"){b.path=this._replaceTripleContext(b.path,c,d,j);if(b.x&&b.x.token===c.token&&b.value===c.value)b.x=x.clone(d);if(b.y&&b.y.token===c.token&&b.value===c.value)b.y=x.clone(d)}else if(b.kind==="UNION")b.value[0]=this.replace(b.value[0],c,d,j),b.value[1]=this.replace(b.value[1],c,d,j);else if(b.kind==="GRAPH")b.value=this.replace(b.value,c,d);else if(b.kind===
"LEFT_JOIN"||b.kind==="JOIN")b.lvalue=this.replace(b.lvalue,c,d,j),b.rvalue=this.replace(b.rvalue,c,d,j);else if(b.kind==="FILTER")b.value=this._replaceFilter(b.value,c,d,j);else if(b.kind!=="EMPTY_PATTERN")throw"Unknown pattern: "+b.kind;return b};L.AbstractQueryTree.prototype._replaceTripleContext=function(b,c,d,j){for(var k=0;k<b.length;k++)for(var h in b[k]){var i=b[k][h];if(i.token==="var"&&c.token==="var"&&i.value===c.value)b[k][h]=d;else if(i.token==="blank"&&c.token==="blank"&&i.value===c.value)b[k][h]=
d;else if((i.token==="literal"||i.token==="uri")&&(c.token==="literal"||c.token==="uri")&&i.token===c.token&&x.lexicalFormTerm(i,j)[i.token]===x.lexicalFormTerm(c,j)[i.token])b[k][h]=d}return b};L.AbstractQueryTree.prototype._replaceFilter=function(b,c,d,j){if(b.expressionType!=null){var k=b.expressionType;if(k=="relationalexpression")b.op1=this._replaceFilter(b.op1,c,d,j),b.op2=this._replaceFilter(b.op2,c,d,j);else if(k=="conditionalor"||k=="conditionaland")for(k=0;k<b.operands.length;k++)b.operands[k]=
this._replaceFilter(b.operands[k],c,d,j);else if(k=="additiveexpression"){b.summand=this._replaceFilter(b.summand,c,d,j);for(k=0;k<b.summands.length;k++)b.summands[k].expression=this._replaceFilter(b.summands[k].expression,c,d,j)}else if(k=="builtincall")for(k=0;k<b.args.length;k++)b.args[k]=this._replaceFilter(b.args[k],c,d,j);else if(k=="multiplicativeexpression"){b.factor=this._replaceFilter(b.factor,c,d,j);for(k=0;k<b.factors.length;k++)b.factors[k].expression=this._replaceFilter(b.factors[k].expression,
c,d,j)}else if(k=="unaryexpression")b.expression=this._replaceFilter(b.expression,c,d,j);else if(k=="irireforfunction")for(k=0;k<b.factors.args;k++)b.args[k]=this._replaceFilter(b.args[k],c,d,j);else if(k=="atomic"){j=null;if(b.primaryexpression==c.token&&b.value==c.value)j=d.value;else if(b.primaryexpression=="iri"&&c.token=="uri"&&b.value==c.value)j=d.value;if(j!=null)b.primaryexpression=d.token==="uri"?"iri":d.token,b.value=j}}return b};L.AbstractQueryTree.prototype.treeWithUnion=function(b){if(b==
null)return!1;if(b.kind==null)return!1;if(b.kind==="select")return this.treeWithUnion(b.pattern);else if(b.kind==="BGP")return this.treeWithUnion(b.value);else if(b.kind==="ZERO_OR_MORE_PATH")return!1;else if(b.kind==="UNION")if(console.log("UNION!!"),b.value[0].value!=null&&b.value[0].value.variables!=null&&b.value[1].value!=null&&b.value[1].value.variables!=null){if(console.log("COMPARING:"+b.value[0].variables.join("/")),console.log("VS "+b.values[1].variables.join("/")),b.value[0].variables.join("/")===
b.values[1].variables.join("/"))return this.treeWithUnion(b.value[0])?!0:this.treeWithUnion(b.value[1])}else return!0;else if(b.kind==="GRAPH")return!1;else if(b.kind==="LEFT_JOIN"||b.kind==="JOIN")if(this.treeWithUnion(b.lvalue))return!0;else this.treeWithUnion(b.rvalue);else return!1};var ka={};ka.parser=function(){var b={parse:function(c,b){function j(a){var c=a.charCodeAt(0);if(c<=255)var a="x",b=2;else a="u",b=4;var a="\\"+a,f=c.toString(16).toUpperCase(),c=f;b-=f.length;for(f=0;f<b;f++)c="0"+
c;return a+c}function k(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,j)+'"'}function h(c){a<Aa||(a>Aa&&(Aa=a,cb=[]),cb.push(c))}function i(){var c="SPARQL@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=g();b===null&&(b=$a(),b=b!==null?b:null);z[c]={nextPos:a,result:b};return b}function g(){var c="Query@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=a,e=o();if(e!==null){var y=E();y===null&&(y=K(),y===null&&
(y=O(),y===null&&(y=L(),y=y!==null?y:null)));y!==null?e=[e,y]:(e=null,a=f)}else e=null,a=f;f=e!==null?{token:"query",kind:"query",prologue:e[0],units:[e[1]]}:null;f===null&&(f=null,a=d);(m=b)&&f===null&&h("[2] Query");z[c]={nextPos:a,result:f};return f}function o(){var c="Prologue@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=a,e=t(),e=e!==null?e:"";if(e!==null){for(var y=[],u=r();u!==null;)y.push(u),u=r();if(y!==null){for(var u=[],w=q();w!==null;)u.push(w),w=q();u!==null?e=[e,y,
u]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;f=e!==null?{token:"prologue",base:e[0],prefixes:e[2]}:null;f===null&&(f=null,a=d);(m=b)&&f===null&&h("[3] Prologue");z[c]={nextPos:a,result:f};return f}function t(){var b="BaseDecl@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],y=r();y!==null;)e.push(y),y=r();if(e!==null)if(c.substr(a,1)==="B"?(y="B",a+=1):(y=null,m&&h('"B"')),y===null&&(c.substr(a,1)==="b"?(y="b",a+=1):(y=null,m&&h('"b"')),y=y!==null?y:null),y!==null){if(c.substr(a,
1)==="A"){var u="A";a+=1}else u=null,m&&h('"A"');u===null&&(c.substr(a,1)==="a"?(u="a",a+=1):(u=null,m&&h('"a"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="S"){var w="S";a+=1}else w=null,m&&h('"S"');w===null&&(c.substr(a,1)==="s"?(w="s",a+=1):(w=null,m&&h('"s"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="E"){var C="E";a+=1}else C=null,m&&h('"E"');C===null&&(c.substr(a,1)==="e"?(C="e",a+=1):(C=null,m&&h('"e"')),C=C!==null?C:null);if(C!==null){for(var k=[],s=r();s!==null;)k.push(s),
s=r();k!==null?(s=oa(),s!==null?e=[e,y,u,w,C,k,s]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?function(a){base={token:"base"};base.value=a;return base}(e[6]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[4] BaseDecl");z[b]={nextPos:a,result:f};return f}function q(){var b="PrefixDecl@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],y=r();y!==null;)e.push(y),y=r();if(e!==null)if(c.substr(a,1)==="P"?
(y="P",a+=1):(y=null,m&&h('"P"')),y===null&&(c.substr(a,1)==="p"?(y="p",a+=1):(y=null,m&&h('"p"')),y=y!==null?y:null),y!==null){if(c.substr(a,1)==="R"){var u="R";a+=1}else u=null,m&&h('"R"');u===null&&(c.substr(a,1)==="r"?(u="r",a+=1):(u=null,m&&h('"r"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var w="E";a+=1}else w=null,m&&h('"E"');w===null&&(c.substr(a,1)==="e"?(w="e",a+=1):(w=null,m&&h('"e"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="F"){var C="F";a+=1}else C=null,m&&
h('"F"');C===null&&(c.substr(a,1)==="f"?(C="f",a+=1):(C=null,m&&h('"f"')),C=C!==null?C:null);if(C!==null){if(c.substr(a,1)==="I"){var k="I";a+=1}else k=null,m&&h('"I"');k===null&&(c.substr(a,1)==="i"?(k="i",a+=1):(k=null,m&&h('"i"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="X"){var s="X";a+=1}else s=null,m&&h('"X"');s===null&&(c.substr(a,1)==="x"?(s="x",a+=1):(s=null,m&&h('"x"')),s=s!==null?s:null);if(s!==null){for(var i=[],g=r();g!==null;)i.push(g),g=r();if(i!==null)if(g=Ga(),g!==null){for(var N=
[],n=r();n!==null;)N.push(n),n=r();N!==null?(n=oa(),n!==null?e=[e,y,u,w,C,k,s,i,g,N,n]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){prefix={token:"prefix"};prefix.prefix=a;prefix.local=c;return prefix}(e[8],e[10]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[5] PrefixDecl");z[b]={nextPos:a,result:f};return f}function v(){var c="TURTLE@"+a,b=z[c];
if(b)return a=b.nextPos,b.result;for(var b=a,h=[],f=x();f!==null;)h.push(f),f=x();h=h!==null?h:null;h===null&&(h=null,a=b);z[c]={nextPos:a,result:h};return h}function x(){var b="statement@"+a,d=z[b];if(d)return a=d.nextPos,d.result;for(var j=d=a,f=[],e=r();e!==null;)f.push(e),e=r();if(f!==null)if(e=D(),e!==null){for(var y=[],u=r();u!==null;)y.push(u),u=r();if(y!==null)if(c.substr(a,1)==="."?(u=".",a+=1):(u=null,m&&h('"."')),u!==null){for(var w=[],C=r();C!==null;)w.push(C),C=r();w!==null?f=[f,e,y,
u,w]:(f=null,a=j)}else f=null,a=j;else f=null,a=j}else f=null,a=j;else f=null,a=j;j=f!==null?f[1]:null;j===null&&(j=null,a=d);if(j!==null)d=j;else{j=d=a;f=[];for(e=r();e!==null;)f.push(e),e=r();if(f!==null)if(e=pa(),e!==null){y=[];for(u=r();u!==null;)y.push(u),u=r();y!==null?f=[f,e,y]:(f=null,a=j)}else f=null,a=j;else f=null,a=j;j=f!==null?f[1]:null;j===null&&(j=null,a=d);if(j!==null)d=j;else{d=r();if(d!==null)for(j=[];d!==null;)j.push(d),d=r();else j=null;d=j!==null?j:null}}z[b]={nextPos:a,result:d};
return d}function D(){var c="directive@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=M();b===null&&(b=F(),b=b!==null?b:null);z[c]={nextPos:a,result:b};return b}function F(){var b="base@"+a,d=z[b];if(d)return a=d.nextPos,d.result;for(var j=d=a,f=[],e=r();e!==null;)f.push(e),e=r();if(f!==null)if(c.substr(a,5)==="@base"?(e="@base",a+=5):(e=null,m&&h('"@base"')),e!==null){var y=r();if(y!==null)for(var u=[];y!==null;)u.push(y),y=r();else u=null;u!==null?(y=oa(),y!==null?f=[f,e,u,y]:(f=null,a=j)):(f=null,
a=j)}else f=null,a=j;else f=null,a=j;j=f!==null?function(a){base={token:"base"};base.value=a;return base}(f[3]):null;j===null&&(j=null,a=d);z[b]={nextPos:a,result:j};return j}function M(){var b="prefixID@"+a,d=z[b];if(d)return a=d.nextPos,d.result;for(var j=d=a,f=[],e=r();e!==null;)f.push(e),e=r();if(f!==null)if(c.substr(a,7)==="@prefix"?(e="@prefix",a+=7):(e=null,m&&h('"@prefix"')),e!==null){var y=r();if(y!==null)for(var u=[];y!==null;)u.push(y),y=r();else u=null;if(u!==null)if(y=eb(),y=y!==null?
y:"",y!==null){if(c.substr(a,1)===":"){var w=":";a+=1}else w=null,m&&h('":"');if(w!==null){for(var C=[],k=r();k!==null;)C.push(k),k=r();C!==null?(k=oa(),k!==null?f=[f,e,u,y,w,C,k]:(f=null,a=j)):(f=null,a=j)}else f=null,a=j}else f=null,a=j;else f=null,a=j}else f=null,a=j;else f=null,a=j;j=f!==null?function(a,c){prefix={token:"prefix"};prefix.prefix=a;prefix.local=c;return prefix}(f[3],f[6]):null;j===null&&(j=null,a=d);z[b]={nextPos:a,result:j};return j}function E(){var c="SelectQuery@"+a,b=z[c];if(b)return a=
b.nextPos,b.result;b=m;m=!1;var d=a,f=a,e=J();if(e!==null){for(var y=[],u=r();u!==null;)y.push(u),u=r();if(y!==null){for(var u=[],w=P();w!==null;)u.push(w),w=P();if(u!==null){for(var w=[],j=r();j!==null;)w.push(j),j=r();if(w!==null)if(j=ca(),j!==null){for(var k=[],s=r();s!==null;)k.push(s),s=r();if(k!==null)if(s=X(),s!==null){for(var i=[],g=r();g!==null;)i.push(g),g=r();i!==null?(g=xa(),g!==null?e=[e,y,u,w,j,k,s,i,g]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=
null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c,b,e){for(var f={named:[],"default":[]},h=0;h<c.length;h++){var d=c[h];d.kind==="default"?f["default"].push(d.graph):f.named.push(d.graph)}f.named.length===0&&f["default"].length===0&&f["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});c={kind:"select",token:"executableunit"};c.dataset=f;c.projection=a.vars;c.modifier=a.modifier;c.pattern=b;if(e!=
null&&e.limit!=null)c.limit=e.limit;if(e!=null&&e.offset!=null)c.offset=e.offset;if(e!=null&&e.order!=null&&e.order!="")c.order=e.order;if(e!=null&&e.group!=null)c.group=e.group;return c}(e[0],e[2],e[4],e[6]):null;f===null&&(f=null,a=d);(m=b)&&f===null&&h("[6] SelectQuery");z[c]={nextPos:a,result:f};return f}function I(){var c="SubSelect@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=J();if(f!==null){var e=ca();if(e!==null){var y=X();y!==null?f=[f,e,y]:(f=null,a=d)}else f=null,a=d}else f=
null,a=d;(m=b)&&f===null&&h("[7] SubSelect");z[c]={nextPos:a,result:f};return f}function J(){var b="SelectClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],y=r();y!==null;)e.push(y),y=r();if(e!==null)if(c.substr(a,1)==="S"?(y="S",a+=1):(y=null,m&&h('"S"')),y===null&&(c.substr(a,1)==="s"?(y="s",a+=1):(y=null,m&&h('"s"')),y=y!==null?y:null),y!==null){if(c.substr(a,1)==="E"){var u="E";a+=1}else u=null,m&&h('"E"');u===null&&(c.substr(a,1)==="e"?(u="e",a+=1):(u=null,m&&h('"e"')),
u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="L"){var w="L";a+=1}else w=null,m&&h('"L"');w===null&&(c.substr(a,1)==="l"?(w="l",a+=1):(w=null,m&&h('"l"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="E"){var C="E";a+=1}else C=null,m&&h('"E"');C===null&&(c.substr(a,1)==="e"?(C="e",a+=1):(C=null,m&&h('"e"')),C=C!==null?C:null);if(C!==null){if(c.substr(a,1)==="C"){var k="C";a+=1}else k=null,m&&h('"C"');k===null&&(c.substr(a,1)==="c"?(k="c",a+=1):(k=null,m&&h('"c"')),k=k!==null?k:null);if(k!==
null){if(c.substr(a,1)==="T"){var s="T";a+=1}else s=null,m&&h('"T"');s===null&&(c.substr(a,1)==="t"?(s="t",a+=1):(s=null,m&&h('"t"')),s=s!==null?s:null);if(s!==null){for(var i=[],g=r();g!==null;)i.push(g),g=r();if(i!==null){g=a;if(c.substr(a,1)==="D"){var N="D";a+=1}else N=null,m&&h('"D"');N===null&&(c.substr(a,1)==="d"?(N="d",a+=1):(N=null,m&&h('"d"')),N=N!==null?N:null);if(N!==null){if(c.substr(a,1)==="I"){var n="I";a+=1}else n=null,m&&h('"I"');n===null&&(c.substr(a,1)==="i"?(n="i",a+=1):(n=null,
m&&h('"i"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="S"){var A="S";a+=1}else A=null,m&&h('"S"');A===null&&(c.substr(a,1)==="s"?(A="s",a+=1):(A=null,m&&h('"s"')),A=A!==null?A:null);if(A!==null){if(c.substr(a,1)==="T"){var o="T";a+=1}else o=null,m&&h('"T"');o===null&&(c.substr(a,1)==="t"?(o="t",a+=1):(o=null,m&&h('"t"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="I"){var q="I";a+=1}else q=null,m&&h('"I"');q===null&&(c.substr(a,1)==="i"?(q="i",a+=1):(q=null,m&&h('"i"')),q=q!==null?
q:null);if(q!==null){if(c.substr(a,1)==="N"){var t="N";a+=1}else t=null,m&&h('"N"');t===null&&(c.substr(a,1)==="n"?(t="n",a+=1):(t=null,m&&h('"n"')),t=t!==null?t:null);if(t!==null){if(c.substr(a,1)==="C"){var v="C";a+=1}else v=null,m&&h('"C"');v===null&&(c.substr(a,1)==="c"?(v="c",a+=1):(v=null,m&&h('"c"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="T"){var x="T";a+=1}else x=null,m&&h('"T"');x===null&&(c.substr(a,1)==="t"?(x="t",a+=1):(x=null,m&&h('"t"')),x=x!==null?x:null);x!==null?N=[N,
n,A,o,q,t,v,x]:(N=null,a=g)}else N=null,a=g}else N=null,a=g}else N=null,a=g}else N=null,a=g}else N=null,a=g}else N=null,a=g}else N=null,a=g;N!==null?g=N:(g=a,c.substr(a,1)==="R"?(N="R",a+=1):(N=null,m&&h('"R"')),N===null&&(c.substr(a,1)==="r"?(N="r",a+=1):(N=null,m&&h('"r"')),N=N!==null?N:null),N!==null?(c.substr(a,1)==="E"?(n="E",a+=1):(n=null,m&&h('"E"')),n===null&&(c.substr(a,1)==="e"?(n="e",a+=1):(n=null,m&&h('"e"')),n=n!==null?n:null),n!==null?(c.substr(a,1)==="D"?(A="D",a+=1):(A=null,m&&h('"D"')),
A===null&&(c.substr(a,1)==="d"?(A="d",a+=1):(A=null,m&&h('"d"')),A=A!==null?A:null),A!==null?(c.substr(a,1)==="U"?(o="U",a+=1):(o=null,m&&h('"U"')),o===null&&(c.substr(a,1)==="u"?(o="u",a+=1):(o=null,m&&h('"u"')),o=o!==null?o:null),o!==null?(c.substr(a,1)==="C"?(q="C",a+=1):(q=null,m&&h('"C"')),q===null&&(c.substr(a,1)==="c"?(q="c",a+=1):(q=null,m&&h('"c"')),q=q!==null?q:null),q!==null?(c.substr(a,1)==="E"?(t="E",a+=1):(t=null,m&&h('"E"')),t===null&&(c.substr(a,1)==="e"?(t="e",a+=1):(t=null,m&&h('"e"')),
t=t!==null?t:null),t!==null?(c.substr(a,1)==="D"?(v="D",a+=1):(v=null,m&&h('"D"')),v===null&&(c.substr(a,1)==="d"?(v="d",a+=1):(v=null,m&&h('"d"')),v=v!==null?v:null),v!==null?N=[N,n,A,o,q,t,v]:(N=null,a=g)):(N=null,a=g)):(N=null,a=g)):(N=null,a=g)):(N=null,a=g)):(N=null,a=g)):(N=null,a=g),g=N!==null?N:null);g=g!==null?g:"";if(g!==null){N=[];for(n=r();n!==null;)N.push(n),n=r();if(N!==null){A=a;o=[];for(q=r();q!==null;)o.push(q),q=r();if(o!==null)if(q=T(),q!==null){t=[];for(v=r();v!==null;)t.push(v),
v=r();t!==null?o=[o,q,t]:(o=null,a=A)}else o=null,a=A;else o=null,a=A;if(o!==null)A=o;else{A=a;o=[];for(q=r();q!==null;)o.push(q),q=r();if(o!==null)if(c.substr(a,1)==="("?(q="(",a+=1):(q=null,m&&h('"("')),q!==null){t=[];for(v=r();v!==null;)t.push(v),v=r();if(t!==null)if(v=Q(),v!==null){for(var x=[],R=r();R!==null;)x.push(R),R=r();if(x!==null)if(c.substr(a,1)==="A"?(R="A",a+=1):(R=null,m&&h('"A"')),R===null&&(c.substr(a,1)==="a"?(R="a",a+=1):(R=null,m&&h('"a"')),R=R!==null?R:null),R!==null){if(c.substr(a,
1)==="S"){var B="S";a+=1}else B=null,m&&h('"S"');B===null&&(c.substr(a,1)==="s"?(B="s",a+=1):(B=null,m&&h('"s"')),B=B!==null?B:null);if(B!==null){for(var D=[],H=r();H!==null;)D.push(H),H=r();if(D!==null)if(H=T(),H!==null){for(var F=[],E=r();E!==null;)F.push(E),E=r();if(F!==null)if(c.substr(a,1)===")"?(E=")",a+=1):(E=null,m&&h('")"')),E!==null){for(var M=[],I=r();I!==null;)M.push(I),I=r();M!==null?o=[o,q,t,v,x,R,B,D,H,F,E,M]:(o=null,a=A)}else o=null,a=A;else o=null,a=A}else o=null,a=A;else o=null,
a=A}else o=null,a=A}else o=null,a=A;else o=null,a=A}else o=null,a=A;else o=null,a=A}else o=null,a=A;else o=null,a=A;A=o!==null?o:null}if(A!==null)for(n=[];A!==null;){n.push(A);A=a;o=[];for(q=r();q!==null;)o.push(q),q=r();if(o!==null)if(q=T(),q!==null){t=[];for(v=r();v!==null;)t.push(v),v=r();t!==null?o=[o,q,t]:(o=null,a=A)}else o=null,a=A;else o=null,a=A;if(o!==null)A=o;else{A=a;o=[];for(q=r();q!==null;)o.push(q),q=r();if(o!==null)if(c.substr(a,1)==="("?(q="(",a+=1):(q=null,m&&h('"("')),q!==null){t=
[];for(v=r();v!==null;)t.push(v),v=r();if(t!==null)if(v=Q(),v!==null){x=[];for(R=r();R!==null;)x.push(R),R=r();if(x!==null)if(c.substr(a,1)==="A"?(R="A",a+=1):(R=null,m&&h('"A"')),R===null&&(c.substr(a,1)==="a"?(R="a",a+=1):(R=null,m&&h('"a"')),R=R!==null?R:null),R!==null)if(c.substr(a,1)==="S"?(B="S",a+=1):(B=null,m&&h('"S"')),B===null&&(c.substr(a,1)==="s"?(B="s",a+=1):(B=null,m&&h('"s"')),B=B!==null?B:null),B!==null){D=[];for(H=r();H!==null;)D.push(H),H=r();if(D!==null)if(H=T(),H!==null){F=[];
for(E=r();E!==null;)F.push(E),E=r();if(F!==null)if(c.substr(a,1)===")"?(E=")",a+=1):(E=null,m&&h('")"')),E!==null){M=[];for(I=r();I!==null;)M.push(I),I=r();M!==null?o=[o,q,t,v,x,R,B,D,H,F,E,M]:(o=null,a=A)}else o=null,a=A;else o=null,a=A}else o=null,a=A;else o=null,a=A}else o=null,a=A;else o=null,a=A;else o=null,a=A}else o=null,a=A;else o=null,a=A}else o=null,a=A;else o=null,a=A;A=o!==null?o:null}}else n=null;if(n===null){n=a;A=[];for(o=r();o!==null;)A.push(o),o=r();if(A!==null)if(c.substr(a,1)===
"*"?(o="*",a+=1):(o=null,m&&h('"*"')),o!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();q!==null?A=[A,o,q]:(A=null,a=n)}else A=null,a=n;else A=null,a=n;n=A!==null?A:null}n!==null?e=[e,y,u,w,C,k,s,i,g,N,n]:(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){var b=[];if(c.length===3&&c[1]==="*")return{vars:[{token:"variable",kind:"*"}],modifier:Ib(a)};for(var e=
0;e<c.length;e++){var f=c[e];f.length===3?b.push({token:"variable",kind:"var",value:f[1]}):b.push({token:"variable",kind:"aliased",expression:f[3],alias:f[8]})}return{vars:b,modifier:Ib(a)}}(e[8],e[10]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[8] SelectClause");z[b]={nextPos:a,result:f};return f}function K(){var b="ConstructQuery@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],y=r();y!==null;)e.push(y),y=r();if(e!==null)if(c.substr(a,1)==="C"?(y="C",a+=1):(y=null,
m&&h('"C"')),y===null&&(c.substr(a,1)==="c"?(y="c",a+=1):(y=null,m&&h('"c"')),y=y!==null?y:null),y!==null){if(c.substr(a,1)==="O"){var u="O";a+=1}else u=null,m&&h('"O"');u===null&&(c.substr(a,1)==="o"?(u="o",a+=1):(u=null,m&&h('"o"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="N"){var w="N";a+=1}else w=null,m&&h('"N"');w===null&&(c.substr(a,1)==="n"?(w="n",a+=1):(w=null,m&&h('"n"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="S"){var C="S";a+=1}else C=null,m&&h('"S"');C===null&&(c.substr(a,
1)==="s"?(C="s",a+=1):(C=null,m&&h('"s"')),C=C!==null?C:null);if(C!==null){if(c.substr(a,1)==="T"){var k="T";a+=1}else k=null,m&&h('"T"');k===null&&(c.substr(a,1)==="t"?(k="t",a+=1):(k=null,m&&h('"t"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="R"){var s="R";a+=1}else s=null,m&&h('"R"');s===null&&(c.substr(a,1)==="r"?(s="r",a+=1):(s=null,m&&h('"r"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="U"){var i="U";a+=1}else i=null,m&&h('"U"');i===null&&(c.substr(a,1)==="u"?(i="u",a+=1):
(i=null,m&&h('"u"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="C"){var g="C";a+=1}else g=null,m&&h('"C"');g===null&&(c.substr(a,1)==="c"?(g="c",a+=1):(g=null,m&&h('"c"')),g=g!==null?g:null);if(g!==null){if(c.substr(a,1)==="T"){var n="T";a+=1}else n=null,m&&h('"T"');n===null&&(c.substr(a,1)==="t"?(n="t",a+=1):(n=null,m&&h('"t"')),n=n!==null?n:null);if(n!==null){for(var o=[],q=r();q!==null;)o.push(q),q=r();if(o!==null)if(q=Jb(),q!==null){for(var t=[],v=r();v!==null;)t.push(v),v=r();if(t!==
null){for(var v=[],x=P();x!==null;)v.push(x),x=P();if(v!==null){for(var x=[],B=r();B!==null;)x.push(B),B=r();if(x!==null)if(B=ca(),B!==null){for(var gb=[],R=r();R!==null;)gb.push(R),R=r();gb!==null?(R=X(),R!==null?e=[e,y,u,w,C,k,s,i,g,n,o,q,t,v,x,B,gb,R]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,
a=f}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c,b,e){for(var f={named:[],"default":[]},h=0;h<c.length;h++){var d=c[h];d.kind==="default"?f["default"].push(d.graph):f.named.push(d.graph)}f.named.length===0&&f["default"].length===0&&f["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});c={kind:"construct",token:"executableunit"};c.dataset=f;c.template=a;c.pattern=b;if(e!=null&&e.limit!=null)c.limit=e.limit;if(e!=null&&
e.offset!=null)c.offset=e.offset;if(e!=null&&e.order!=null&&e.order!="")c.order=e.order;return c}(e[11],e[13],e[15],e[17]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[9] ConstructQuery");z[b]={nextPos:a,result:f};return f}function O(){var b="DescribeQuery@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a;if(c.substr(a,8)==="DESCRIBE"){var f="DESCRIBE";a+=8}else f=null,m&&h('"DESCRIBE"');if(f!==null){var e=la();if(e!==null)for(var y=[];e!==null;)y.push(e),e=la();else y=null;y!==null?
e=y:(c.substr(a,1)==="*"?(e="*",a+=1):(e=null,m&&h('"*"')),e=e!==null?e:null);if(e!==null){for(var y=[],u=P();u!==null;)y.push(u),u=P();if(y!==null)if(u=ca(),u=u!==null?u:"",u!==null){var w=X();w!==null?f=[f,e,y,u,w]:(f=null,a=j)}else f=null,a=j;else f=null,a=j}else f=null,a=j}else f=null,a=j;(m=d)&&f===null&&h("[10] DescribeQuery");z[b]={nextPos:a,result:f};return f}function L(){var b="AskQuery@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],y=r();y!==null;)e.push(y),y=
r();if(e!==null)if(c.substr(a,1)==="A"?(y="A",a+=1):(y=null,m&&h('"A"')),y===null&&(c.substr(a,1)==="a"?(y="a",a+=1):(y=null,m&&h('"a"')),y=y!==null?y:null),y!==null){if(c.substr(a,1)==="S"){var u="S";a+=1}else u=null,m&&h('"S"');u===null&&(c.substr(a,1)==="s"?(u="s",a+=1):(u=null,m&&h('"s"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="K"){var w="K";a+=1}else w=null,m&&h('"K"');w===null&&(c.substr(a,1)==="k"?(w="k",a+=1):(w=null,m&&h('"k"')),w=w!==null?w:null);if(w!==null){for(var C=[],k=
r();k!==null;)C.push(k),k=r();if(C!==null){for(var k=[],s=P();s!==null;)k.push(s),s=P();if(k!==null){for(var s=[],i=r();i!==null;)s.push(i),i=r();s!==null?(i=ca(),i!==null?e=[e,y,u,w,C,k,s,i]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){for(var b={named:[],"default":[]},e=0;e<a.length;e++){var f=a[e];f.kind==="default"?b["default"].push(f.graph):b.named.push(f.graph)}b.named.length===0&&b["default"].length===
0&&b["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});e={kind:"ask",token:"executableunit"};e.dataset=b;e.pattern=c;return e}(e[5],e[7]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[11] AskQuery");z[b]={nextPos:a,result:f};return f}function P(){var b="DatasetClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="F"){var e="F";a+=1}else e=null,m&&h('"F"');e===null&&(c.substr(a,1)==="f"?
(e="f",a+=1):(e=null,m&&h('"f"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="R"){var y="R";a+=1}else y=null,m&&h('"R"');y===null&&(c.substr(a,1)==="r"?(y="r",a+=1):(y=null,m&&h('"r"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="O"){var u="O";a+=1}else u=null,m&&h('"O"');u===null&&(c.substr(a,1)==="o"?(u="o",a+=1):(u=null,m&&h('"o"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="M"){var w="M";a+=1}else w=null,m&&h('"M"');w===null&&(c.substr(a,1)==="m"?(w="m",a+=1):(w=null,
m&&h('"m"')),w=w!==null?w:null);if(w!==null){for(var C=[],k=r();k!==null;)C.push(k),k=r();if(C!==null)if(k=S(),k===null&&(k=V(),k=k!==null?k:null),k!==null){for(var s=[],i=r();i!==null;)s.push(i),i=r();s!==null?e=[e,y,u,w,C,k,s]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?e[5]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[12] DatasetClause");z[b]={nextPos:a,result:f};return f}function S(){var c="DefaultGraphClause@"+a,
b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;for(var d=a,f=a,e=[],y=r();y!==null;)e.push(y),y=r();e!==null?(y=U(),y!==null?e=[e,y]:(e=null,a=f)):(e=null,a=f);f=e!==null?{graph:e[1],kind:"default",token:"graphClause"}:null;f===null&&(f=null,a=d);(m=b)&&f===null&&h("[13] DefaultGraphClause");z[c]={nextPos:a,result:f};return f}function V(){var b="NamedGraphClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="N"){var e="N";a+=1}else e=null,m&&h('"N"');e===null&&
(c.substr(a,1)==="n"?(e="n",a+=1):(e=null,m&&h('"n"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="A"){var y="A";a+=1}else y=null,m&&h('"A"');y===null&&(c.substr(a,1)==="a"?(y="a",a+=1):(y=null,m&&h('"a"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="M"){var u="M";a+=1}else u=null,m&&h('"M"');u===null&&(c.substr(a,1)==="m"?(u="m",a+=1):(u=null,m&&h('"m"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var w="E";a+=1}else w=null,m&&h('"E"');w===null&&(c.substr(a,1)==="e"?
(w="e",a+=1):(w=null,m&&h('"e"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="D"){var C="D";a+=1}else C=null,m&&h('"D"');C===null&&(c.substr(a,1)==="d"?(C="d",a+=1):(C=null,m&&h('"d"')),C=C!==null?C:null);if(C!==null){for(var k=[],s=r();s!==null;)k.push(s),s=r();k!==null?(s=U(),s!==null?e=[e,y,u,w,C,k,s]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?{graph:e[6],kind:"named",token:"graphCluase"}:null;f===null&&(f=null,
a=j);(m=d)&&f===null&&h("[14] NamedGraphClause");z[b]={nextPos:a,result:f};return f}function ca(){var b="WhereClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=a;if(c.substr(a,1)==="W"){var y="W";a+=1}else y=null,m&&h('"W"');y===null&&(c.substr(a,1)==="w"?(y="w",a+=1):(y=null,m&&h('"w"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="H"){var u="H";a+=1}else u=null,m&&h('"H"');u===null&&(c.substr(a,1)==="h"?(u="h",a+=1):(u=null,m&&h('"h"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,
1)==="E"){var w="E";a+=1}else w=null,m&&h('"E"');w===null&&(c.substr(a,1)==="e"?(w="e",a+=1):(w=null,m&&h('"e"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="R"){var C="R";a+=1}else C=null,m&&h('"R"');C===null&&(c.substr(a,1)==="r"?(C="r",a+=1):(C=null,m&&h('"r"')),C=C!==null?C:null);if(C!==null){if(c.substr(a,1)==="E"){var k="E";a+=1}else k=null,m&&h('"E"');k===null&&(c.substr(a,1)==="e"?(k="e",a+=1):(k=null,m&&h('"e"')),k=k!==null?k:null);k!==null?y=[y,u,w,C,k]:(y=null,a=e)}else y=null,
a=e}else y=null,a=e}else y=null,a=e}else y=null,a=e;e=y!==null?y:"";if(e!==null){y=[];for(u=r();u!==null;)y.push(u),u=r();if(y!==null)if(u=Y(),u!==null){w=[];for(C=r();C!==null;)w.push(C),C=r();w!==null?e=[e,y,u,w]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?e[2]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[16] WhereClause");z[b]={nextPos:a,result:f};return f}function X(){var c="SolutionModifier@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=a,e=aa(),
e=e!==null?e:"";if(e!==null){var y=ea(),y=y!==null?y:"";if(y!==null){var u=ia(),u=u!==null?u:"";if(u!==null){var w=wa(),w=w!==null?w:"";w!==null?e=[e,y,u,w]:(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c,b){var e={};if(b!=null){if(b.limit!=null)e.limit=b.limit;if(b.offset!=null)e.offset=b.offset}if(a!=null)e.group=a;e.order=c;return e}(e[0],e[2],e[3]):null;f===null&&(f=null,a=d);(m=b)&&f===null&&h("[17] SolutionModifier");z[c]={nextPos:a,result:f};return f}function aa(){var b=
"GroupClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="G"){var e="G";a+=1}else e=null,m&&h('"G"');e===null&&(c.substr(a,1)==="g"?(e="g",a+=1):(e=null,m&&h('"g"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="R"){var y="R";a+=1}else y=null,m&&h('"R"');y===null&&(c.substr(a,1)==="r"?(y="r",a+=1):(y=null,m&&h('"r"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="O"){var u="O";a+=1}else u=null,m&&h('"O"');u===null&&(c.substr(a,1)==="o"?(u="o",a+=
1):(u=null,m&&h('"o"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="U"){var w="U";a+=1}else w=null,m&&h('"U"');w===null&&(c.substr(a,1)==="u"?(w="u",a+=1):(w=null,m&&h('"u"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="P"){var C="P";a+=1}else C=null,m&&h('"P"');C===null&&(c.substr(a,1)==="p"?(C="p",a+=1):(C=null,m&&h('"p"')),C=C!==null?C:null);if(C!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();if(k!==null)if(c.substr(a,1)==="B"?(i="B",a+=1):(i=null,m&&h('"B"')),i===null&&(c.substr(a,
1)==="b"?(i="b",a+=1):(i=null,m&&h('"b"')),i=i!==null?i:null),i!==null){if(c.substr(a,1)==="Y"){var g="Y";a+=1}else g=null,m&&h('"Y"');g===null&&(c.substr(a,1)==="y"?(g="y",a+=1):(g=null,m&&h('"y"')),g=g!==null?g:null);if(g!==null){for(var G=[],n=r();n!==null;)G.push(n),n=r();if(G!==null){n=$();if(n!==null)for(var o=[];n!==null;)o.push(n),n=$();else o=null;o!==null?e=[e,y,u,w,C,k,i,g,G,o]:(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=
null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?e[9]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[18] GroupClause");z[b]={nextPos:a,result:f};return f}function $(){var b="GroupCondition@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],y=r();y!==null;)e.push(y),y=r();if(e!==null)if(y=Ha(),y!==null){for(var u=[],w=r();w!==null;)u.push(w),w=r();u!==null?e=[e,y,u]:(e=null,a=f)}else e=null,a=f;else e=null,a=f;f=e!==null?e[1]:null;f===null&&(f=null,a=j);if(f!==null)j=f;
else{f=j=a;e=[];for(y=r();y!==null;)e.push(y),y=r();if(e!==null)if(y=hb(),y!==null){u=[];for(w=r();w!==null;)u.push(w),w=r();u!==null?e=[e,y,u]:(e=null,a=f)}else e=null,a=f;else e=null,a=f;f=e!==null?e[1]:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;e=[];for(y=r();y!==null;)e.push(y),y=r();if(e!==null)if(c.substr(a,1)==="("?(y="(",a+=1):(y=null,m&&h('"("')),y!==null){u=[];for(w=r();w!==null;)u.push(w),w=r();if(u!==null)if(w=Q(),w!==null){for(var C=[],k=r();k!==null;)C.push(k),k=r();if(C!==
null){k=a;if(c.substr(a,1)==="A"){var i="A";a+=1}else i=null,m&&h('"A"');i===null&&(c.substr(a,1)==="a"?(i="a",a+=1):(i=null,m&&h('"a"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="S"){var g="S";a+=1}else g=null,m&&h('"S"');g===null&&(c.substr(a,1)==="s"?(g="s",a+=1):(g=null,m&&h('"s"')),g=g!==null?g:null);if(g!==null){for(var G=[],n=r();n!==null;)G.push(n),n=r();G!==null?(n=T(),n!==null?i=[i,g,G,n]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k}else i=null,a=k;k=i!==null?i:"";if(k!==null){i=
[];for(g=r();g!==null;)i.push(g),g=r();if(i!==null)if(c.substr(a,1)===")"?(g=")",a+=1):(g=null,m&&h('")"')),g!==null){G=[];for(n=r();n!==null;)G.push(n),n=r();G!==null?e=[e,y,u,w,C,k,i,g,G]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?e[5].length!=0?{token:"aliased_expression",expression:e[3],alias:e[5][3]}:e[3]:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;e=[];for(y=r();y!==null;)e.push(y),
y=r();if(e!==null)if(y=T(),y!==null){u=[];for(w=r();w!==null;)u.push(w),w=r();u!==null?e=[e,y,u]:(e=null,a=f)}else e=null,a=f;else e=null,a=f;f=e!==null?e[1]:null;f===null&&(f=null,a=j);j=f!==null?f:null}}}(m=d)&&j===null&&h("[19] GroupCondition");z[b]={nextPos:a,result:j};return j}function ea(){var b="HavingClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a;if(c.substr(a,6)==="HAVING"){var f="HAVING";a+=6}else f=null,m&&h('"HAVING"');if(f!==null){var e=Ba();if(e!==null)for(var y=
[];e!==null;)y.push(e),e=Ba();else y=null;y!==null?f=[f,y]:(f=null,a=j)}else f=null,a=j;(m=d)&&f===null&&h("[20] HavingClause");z[b]={nextPos:a,result:f};return f}function ia(){var b="OrderClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="O"){var e="O";a+=1}else e=null,m&&h('"O"');e===null&&(c.substr(a,1)==="o"?(e="o",a+=1):(e=null,m&&h('"o"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="R"){var y="R";a+=1}else y=null,m&&h('"R"');y===null&&(c.substr(a,
1)==="r"?(y="r",a+=1):(y=null,m&&h('"r"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="D"){var u="D";a+=1}else u=null,m&&h('"D"');u===null&&(c.substr(a,1)==="d"?(u="d",a+=1):(u=null,m&&h('"d"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var w="E";a+=1}else w=null,m&&h('"E"');w===null&&(c.substr(a,1)==="e"?(w="e",a+=1):(w=null,m&&h('"e"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="R"){var C="R";a+=1}else C=null,m&&h('"R"');C===null&&(c.substr(a,1)==="r"?(C="r",a+=1):
(C=null,m&&h('"r"')),C=C!==null?C:null);if(C!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();if(k!==null)if(c.substr(a,1)==="B"?(i="B",a+=1):(i=null,m&&h('"B"')),i===null&&(c.substr(a,1)==="b"?(i="b",a+=1):(i=null,m&&h('"b"')),i=i!==null?i:null),i!==null){if(c.substr(a,1)==="Y"){var g="Y";a+=1}else g=null,m&&h('"Y"');g===null&&(c.substr(a,1)==="y"?(g="y",a+=1):(g=null,m&&h('"y"')),g=g!==null?g:null);if(g!==null){for(var G=[],n=r();n!==null;)G.push(n),n=r();if(G!==null){var o=ka();if(o!==null)for(n=
[];o!==null;)n.push(o),o=ka();else n=null;if(n!==null){for(var o=[],q=r();q!==null;)o.push(q),q=r();o!==null?e=[e,y,u,w,C,k,i,g,G,n,o]:(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?e[9]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[22] OrderClause");z[b]={nextPos:a,result:f};return f}function ka(){var b="OrderCondition@"+a,d=z[b];if(d)return a=d.nextPos,d.result;
d=m;m=!1;var j=a,f=a;if(c.substr(a,3)==="ASC"){var e="ASC";a+=3}else e=null,m&&h('"ASC"');e===null&&(c.substr(a,4)==="DESC"?(e="DESC",a+=4):(e=null,m&&h('"DESC"')),e=e!==null?e:null);if(e!==null){for(var y=[],u=r();u!==null;)y.push(u),u=r();if(y!==null)if(u=Ia(),u!==null){for(var w=[],C=r();C!==null;)w.push(C),C=r();w!==null?e=[e,y,u,w]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?{direction:e[0],expression:e[2]}:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;e=
Ba();e===null&&(e=T(),e=e!==null?e:null);if(e!==null){y=[];for(u=r();u!==null;)y.push(u),u=r();y!==null?e=[e,y]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){a.token==="var"&&(a={token:"expression",expressionType:"atomic",primaryexpression:"var",value:a});return{direction:"ASC",expression:a}}(e[0]):null;f===null&&(f=null,a=j);j=f!==null?f:null}(m=d)&&j===null&&h("[23] OrderCondition");z[b]={nextPos:a,result:j};return j}function wa(){var c="LimitOffsetClauses@"+a,b=z[c];if(b)return a=b.nextPos,
b.result;b=m;m=!1;var d=a,f=a,e=Ya();if(e!==null){var j=Za(),j=j!==null?j:"";j!==null?e=[e,j]:(e=null,a=f)}else e=null,a=f;e!==null?f=e:(f=a,e=Za(),e!==null?(j=Ya(),j=j!==null?j:"",j!==null?e=[e,j]:(e=null,a=f)):(e=null,a=f),f=e!==null?e:null);f=f!==null?function(a){for(var c={},b=0;b<a.length;b++){var e=a[b];if(e.limit!=null)c.limit=e.limit;else if(e.offset!=null)c.offset=e.offset}return c}(f):null;f===null&&(f=null,a=d);(m=b)&&f===null&&h("[24] LimitOffsetClauses");z[c]={nextPos:a,result:f};return f}
function Ya(){var b="LimitClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="L"){var e="L";a+=1}else e=null,m&&h('"L"');e===null&&(c.substr(a,1)==="l"?(e="l",a+=1):(e=null,m&&h('"l"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="I"){var y="I";a+=1}else y=null,m&&h('"I"');y===null&&(c.substr(a,1)==="i"?(y="i",a+=1):(y=null,m&&h('"i"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="M"){var u="M";a+=1}else u=null,m&&h('"M"');u===null&&(c.substr(a,
1)==="m"?(u="m",a+=1):(u=null,m&&h('"m"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="I"){var w="I";a+=1}else w=null,m&&h('"I"');w===null&&(c.substr(a,1)==="i"?(w="i",a+=1):(w=null,m&&h('"i"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="T"){var C="T";a+=1}else C=null,m&&h('"T"');C===null&&(c.substr(a,1)==="t"?(C="t",a+=1):(C=null,m&&h('"t"')),C=C!==null?C:null);if(C!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();if(k!==null)if(i=fa(),i!==null){for(var g=[],G=r();G!==null;)g.push(G),
G=r();g!==null?e=[e,y,u,w,C,k,i,g]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?{limit:parseInt(e[6].value)}:null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[25] LimitClause");z[b]={nextPos:a,result:f};return f}function Za(){var b="OffsetClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="O"){var e="O";a+=1}else e=null,m&&h('"O"');e===null&&(c.substr(a,1)==="o"?(e="o",
a+=1):(e=null,m&&h('"o"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="F"){var y="F";a+=1}else y=null,m&&h('"F"');y===null&&(c.substr(a,1)==="f"?(y="f",a+=1):(y=null,m&&h('"f"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="F"){var u="F";a+=1}else u=null,m&&h('"F"');u===null&&(c.substr(a,1)==="f"?(u="f",a+=1):(u=null,m&&h('"f"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="S"){var w="S";a+=1}else w=null,m&&h('"S"');w===null&&(c.substr(a,1)==="s"?(w="s",a+=1):(w=null,m&&h('"s"')),
w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="E"){var C="E";a+=1}else C=null,m&&h('"E"');C===null&&(c.substr(a,1)==="e"?(C="e",a+=1):(C=null,m&&h('"e"')),C=C!==null?C:null);if(C!==null){if(c.substr(a,1)==="T"){var k="T";a+=1}else k=null,m&&h('"T"');k===null&&(c.substr(a,1)==="t"?(k="t",a+=1):(k=null,m&&h('"t"')),k=k!==null?k:null);if(k!==null){for(var i=[],g=r();g!==null;)i.push(g),g=r();if(i!==null)if(g=fa(),g!==null){for(var G=[],n=r();n!==null;)G.push(n),n=r();G!==null?e=[e,y,u,w,C,k,i,g,
G]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?{offset:parseInt(e[7].value)}:null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[26] OffsetClause");z[b]={nextPos:a,result:f};return f}function xa(){var b="BindingsClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a;if(c.substr(a,8)==="BINDINGS"){var f="BINDINGS";a+=8}else f=null,m&&h('"BINDINGS"');if(f!==null){for(var e=[],y=T();y!==
null;)e.push(y),y=T();if(e!==null)if(c.substr(a,1)==="{"?(y="{",a+=1):(y=null,m&&h('"{"')),y!==null){var u=[],w=a;if(c.substr(a,1)==="("){var C="(";a+=1}else C=null,m&&h('"("');if(C!==null){var k=ya();if(k!==null)for(var i=[];k!==null;)i.push(k),k=ya();else i=null;i!==null?(c.substr(a,1)===")"?(k=")",a+=1):(k=null,m&&h('")"')),k!==null?C=[C,i,k]:(C=null,a=w)):(C=null,a=w)}else C=null,a=w;C!==null?w=C:(w=ma(),w=w!==null?w:null);for(;w!==null;){u.push(w);w=a;c.substr(a,1)==="("?(C="(",a+=1):(C=null,
m&&h('"("'));if(C!==null){k=ya();if(k!==null)for(i=[];k!==null;)i.push(k),k=ya();else i=null;i!==null?(c.substr(a,1)===")"?(k=")",a+=1):(k=null,m&&h('")"')),k!==null?C=[C,i,k]:(C=null,a=w)):(C=null,a=w)}else C=null,a=w;C!==null?w=C:(w=ma(),w=w!==null?w:null)}u!==null?(c.substr(a,1)==="}"?(w="}",a+=1):(w=null,m&&h('"}"')),w!==null?f=[f,e,y,u,w]:(f=null,a=j)):(f=null,a=j)}else f=null,a=j;else f=null,a=j}else f=null,a=j;j=f!==null?f:"";(m=d)&&j===null&&h("[27] BindingsClause");z[b]={nextPos:a,result:j};
return j}function ya(){var b="BindingValue@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=U();j===null&&(j=Ja(),j===null&&(j=Ka(),j===null&&(j=La(),j===null&&(c.substr(a,5)==="UNDEF"?(j="UNDEF",a+=5):(j=null,m&&h('"UNDEF"')),j=j!==null?j:null))));(m=d)&&j===null&&h("[28] BindingValue");z[b]={nextPos:a,result:j};return j}function $a(){var b="Update@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=o();if(e!==null){for(var y=[],u=r();u!==null;)y.push(u),u=r();if(y!==null)if(u=
za(),u!==null){for(var w=a,C=[],k=r();k!==null;)C.push(k),k=r();if(C!==null)if(c.substr(a,1)===";"?(k=";",a+=1):(k=null,m&&h('";"')),k!==null){for(var i=[],g=r();g!==null;)i.push(g),g=r();i!==null?(g=$a(),g=g!==null?g:"",g!==null?C=[C,k,i,g]:(C=null,a=w)):(C=null,a=w)}else C=null,a=w;else C=null,a=w;w=C!==null?C:"";w!==null?e=[e,y,u,w]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c,b){var e={token:"query",kind:"update"};e.prologue=a;a=[c];b.length!=null&&b[3]!=
null&&b[3].units!=null&&(a=a.concat(b[3].units));e.units=a;return e}(e[0],e[2],e[3]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[30] Update");z[b]={nextPos:a,result:f};return f}function za(){var c="Update1@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=zb();d===null&&(d=Cb(),d===null&&(d=Db(),d===null&&(d=Eb(),d===null&&(d=Fb(),d===null&&(d=Gb(),d===null&&(d=Ab(),d===null&&(d=Bb(),d=d!==null?d:null)))))));(m=b)&&d===null&&h("[31] Update1");z[c]={nextPos:a,result:d};return d}function zb(){var b=
"Load@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="L"){var e="L";a+=1}else e=null,m&&h('"L"');e===null&&(c.substr(a,1)==="l"?(e="l",a+=1):(e=null,m&&h('"l"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="O"){var y="O";a+=1}else y=null,m&&h('"O"');y===null&&(c.substr(a,1)==="o"?(y="o",a+=1):(y=null,m&&h('"o"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="A"){var u="A";a+=1}else u=null,m&&h('"A"');u===null&&(c.substr(a,1)==="a"?(u="a",a+=1):(u=
null,m&&h('"a"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="D"){var w="D";a+=1}else w=null,m&&h('"D"');w===null&&(c.substr(a,1)==="d"?(w="d",a+=1):(w=null,m&&h('"d"')),w=w!==null?w:null);if(w!==null){for(var C=[],k=r();k!==null;)C.push(k),k=r();if(C!==null)if(k=U(),k!==null){for(var i=[],g=r();g!==null;)i.push(g),g=r();if(i!==null){g=a;if(c.substr(a,1)==="I"){var G="I";a+=1}else G=null,m&&h('"I"');G===null&&(c.substr(a,1)==="i"?(G="i",a+=1):(G=null,m&&h('"i"')),G=G!==null?G:null);if(G!==
null){if(c.substr(a,1)==="N"){var n="N";a+=1}else n=null,m&&h('"N"');n===null&&(c.substr(a,1)==="n"?(n="n",a+=1):(n=null,m&&h('"n"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="T"){var o="T";a+=1}else o=null,m&&h('"T"');o===null&&(c.substr(a,1)==="t"?(o="t",a+=1):(o=null,m&&h('"t"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="O"){var q="O";a+=1}else q=null,m&&h('"O"');q===null&&(c.substr(a,1)==="o"?(q="o",a+=1):(q=null,m&&h('"o"')),q=q!==null?q:null);if(q!==null){for(var t=[],v=
r();v!==null;)t.push(v),v=r();t!==null?(v=Ma(),v!==null?G=[G,n,o,q,t,v]:(G=null,a=g)):(G=null,a=g)}else G=null,a=g}else G=null,a=g}else G=null,a=g}else G=null,a=g;g=G!==null?G:"";g!==null?e=[e,y,u,w,C,k,i,g]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c){var b={kind:"load",token:"executableunit"};b.sourceGraph=a;b.destinyGraph=c[5];return b}(e[5],e[7]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&
h("[32] Load");z[b]={nextPos:a,result:f};return f}function Cb(){var b="Clear@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="C"){var e="C";a+=1}else e=null,m&&h('"C"');e===null&&(c.substr(a,1)==="c"?(e="c",a+=1):(e=null,m&&h('"c"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="L"){var y="L";a+=1}else y=null,m&&h('"L"');y===null&&(c.substr(a,1)==="l"?(y="l",a+=1):(y=null,m&&h('"l"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="E"){var u="E";a+=1}else u=
null,m&&h('"E"');u===null&&(c.substr(a,1)==="e"?(u="e",a+=1):(u=null,m&&h('"e"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="A"){var w="A";a+=1}else w=null,m&&h('"A"');w===null&&(c.substr(a,1)==="a"?(w="a",a+=1):(w=null,m&&h('"a"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="R"){var C="R";a+=1}else C=null,m&&h('"R"');C===null&&(c.substr(a,1)==="r"?(C="r",a+=1):(C=null,m&&h('"r"')),C=C!==null?C:null);if(C!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();if(k!==null){i=a;if(c.substr(a,
1)==="S"){var g="S";a+=1}else g=null,m&&h('"S"');g===null&&(c.substr(a,1)==="s"?(g="s",a+=1):(g=null,m&&h('"s"')),g=g!==null?g:null);if(g!==null){if(c.substr(a,1)==="I"){var n="I";a+=1}else n=null,m&&h('"I"');n===null&&(c.substr(a,1)==="i"?(n="i",a+=1):(n=null,m&&h('"i"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="L"){var o="L";a+=1}else o=null,m&&h('"L"');o===null&&(c.substr(a,1)==="l"?(o="l",a+=1):(o=null,m&&h('"l"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="E"){var q="E";a+=
1}else q=null,m&&h('"E"');q===null&&(c.substr(a,1)==="e"?(q="e",a+=1):(q=null,m&&h('"e"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="N"){var A="N";a+=1}else A=null,m&&h('"N"');A===null&&(c.substr(a,1)==="n"?(A="n",a+=1):(A=null,m&&h('"n"')),A=A!==null?A:null);if(A!==null){if(c.substr(a,1)==="T"){var t="T";a+=1}else t=null,m&&h('"T"');t===null&&(c.substr(a,1)==="t"?(t="t",a+=1):(t=null,m&&h('"t"')),t=t!==null?t:null);t!==null?g=[g,n,o,q,A,t]:(g=null,a=i)}else g=null,a=i}else g=null,a=i}else g=
null,a=i}else g=null,a=i}else g=null,a=i;i=g!==null?g:"";if(i!==null){g=[];for(n=r();n!==null;)g.push(n),n=r();g!==null?(n=ib(),n!==null?e=[e,y,u,w,C,k,i,g,n]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={kind:"clear",token:"executableunit"};c.destinyGraph=a;return c}(e[8]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[33] Clear");z[b]={nextPos:a,result:f};return f}function Db(){var b=
"Drop@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="D"){var e="D";a+=1}else e=null,m&&h('"D"');e===null&&(c.substr(a,1)==="d"?(e="d",a+=1):(e=null,m&&h('"d"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="R"){var y="R";a+=1}else y=null,m&&h('"R"');y===null&&(c.substr(a,1)==="r"?(y="r",a+=1):(y=null,m&&h('"r"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="O"){var u="O";a+=1}else u=null,m&&h('"O"');u===null&&(c.substr(a,1)==="o"?(u="o",a+=1):(u=
null,m&&h('"o"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="P"){var w="P";a+=1}else w=null,m&&h('"P"');w===null&&(c.substr(a,1)==="p"?(w="p",a+=1):(w=null,m&&h('"p"')),w=w!==null?w:null);if(w!==null){for(var C=[],k=r();k!==null;)C.push(k),k=r();if(C!==null){k=a;if(c.substr(a,1)==="S"){var i="S";a+=1}else i=null,m&&h('"S"');i===null&&(c.substr(a,1)==="s"?(i="s",a+=1):(i=null,m&&h('"s"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="I"){var g="I";a+=1}else g=null,m&&h('"I"');g===null&&
(c.substr(a,1)==="i"?(g="i",a+=1):(g=null,m&&h('"i"')),g=g!==null?g:null);if(g!==null){if(c.substr(a,1)==="L"){var n="L";a+=1}else n=null,m&&h('"L"');n===null&&(c.substr(a,1)==="l"?(n="l",a+=1):(n=null,m&&h('"l"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="E"){var o="E";a+=1}else o=null,m&&h('"E"');o===null&&(c.substr(a,1)==="e"?(o="e",a+=1):(o=null,m&&h('"e"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="N"){var q="N";a+=1}else q=null,m&&h('"N"');q===null&&(c.substr(a,1)==="n"?
(q="n",a+=1):(q=null,m&&h('"n"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="T"){var t="T";a+=1}else t=null,m&&h('"T"');t===null&&(c.substr(a,1)==="t"?(t="t",a+=1):(t=null,m&&h('"t"')),t=t!==null?t:null);t!==null?i=[i,g,n,o,q,t]:(i=null,a=k)}else i=null,a=k}else i=null,a=k}else i=null,a=k}else i=null,a=k}else i=null,a=k;k=i!==null?i:"";if(k!==null){i=[];for(g=r();g!==null;)i.push(g),g=r();i!==null?(g=ib(),g!==null?e=[e,y,u,w,C,k,i,g]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,
a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={kind:"drop",token:"executableunit"};c.destinyGraph=a;return c}(e[7]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[34] Drop");z[b]={nextPos:a,result:f};return f}function Eb(){var b="Create@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="C"){var e="C";a+=1}else e=null,m&&h('"C"');e===null&&(c.substr(a,1)==="c"?(e="c",a+=1):(e=null,m&&h('"c"')),e=e!==null?e:null);
if(e!==null){if(c.substr(a,1)==="R"){var y="R";a+=1}else y=null,m&&h('"R"');y===null&&(c.substr(a,1)==="r"?(y="r",a+=1):(y=null,m&&h('"r"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="E"){var u="E";a+=1}else u=null,m&&h('"E"');u===null&&(c.substr(a,1)==="e"?(u="e",a+=1):(u=null,m&&h('"e"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="A"){var w="A";a+=1}else w=null,m&&h('"A"');w===null&&(c.substr(a,1)==="a"?(w="a",a+=1):(w=null,m&&h('"a"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,
1)==="T"){var k="T";a+=1}else k=null,m&&h('"T"');k===null&&(c.substr(a,1)==="t"?(k="t",a+=1):(k=null,m&&h('"t"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="E"){var i="E";a+=1}else i=null,m&&h('"E"');i===null&&(c.substr(a,1)==="e"?(i="e",a+=1):(i=null,m&&h('"e"')),i=i!==null?i:null);if(i!==null){for(var g=[],n=r();n!==null;)g.push(n),n=r();if(g!==null){n=a;if(c.substr(a,1)==="S"){var G="S";a+=1}else G=null,m&&h('"S"');G===null&&(c.substr(a,1)==="s"?(G="s",a+=1):(G=null,m&&h('"s"')),G=G!==
null?G:null);if(G!==null){if(c.substr(a,1)==="I"){var o="I";a+=1}else o=null,m&&h('"I"');o===null&&(c.substr(a,1)==="i"?(o="i",a+=1):(o=null,m&&h('"i"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="L"){var q="L";a+=1}else q=null,m&&h('"L"');q===null&&(c.substr(a,1)==="l"?(q="l",a+=1):(q=null,m&&h('"l"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="E"){var t="E";a+=1}else t=null,m&&h('"E"');t===null&&(c.substr(a,1)==="e"?(t="e",a+=1):(t=null,m&&h('"e"')),t=t!==null?t:null);if(t!==null){if(c.substr(a,
1)==="N"){var v="N";a+=1}else v=null,m&&h('"N"');v===null&&(c.substr(a,1)==="n"?(v="n",a+=1):(v=null,m&&h('"n"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="T"){var x="T";a+=1}else x=null,m&&h('"T"');x===null&&(c.substr(a,1)==="t"?(x="t",a+=1):(x=null,m&&h('"t"')),x=x!==null?x:null);x!==null?G=[G,o,q,t,v,x]:(G=null,a=n)}else G=null,a=n}else G=null,a=n}else G=null,a=n}else G=null,a=n}else G=null,a=n;n=G!==null?G:"";if(n!==null){G=[];for(o=r();o!==null;)G.push(o),o=r();G!==null?(o=Ma(),o!==
null?e=[e,y,u,w,k,i,g,n,G,o]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={kind:"create",token:"executableunit"};c.destinyGraph=a;return c}(e[9]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[35] Create");z[b]={nextPos:a,result:f};return f}function Fb(){var b="InsertData@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="I"){var e=
"I";a+=1}else e=null,m&&h('"I"');e===null&&(c.substr(a,1)==="i"?(e="i",a+=1):(e=null,m&&h('"i"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="N"){var y="N";a+=1}else y=null,m&&h('"N"');y===null&&(c.substr(a,1)==="n"?(y="n",a+=1):(y=null,m&&h('"n"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="S"){var u="S";a+=1}else u=null,m&&h('"S"');u===null&&(c.substr(a,1)==="s"?(u="s",a+=1):(u=null,m&&h('"s"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var w="E";a+=1}else w=null,
m&&h('"E"');w===null&&(c.substr(a,1)==="e"?(w="e",a+=1):(w=null,m&&h('"e"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="R"){var k="R";a+=1}else k=null,m&&h('"R"');k===null&&(c.substr(a,1)==="r"?(k="r",a+=1):(k=null,m&&h('"r"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="T"){var i="T";a+=1}else i=null,m&&h('"T"');i===null&&(c.substr(a,1)==="t"?(i="t",a+=1):(i=null,m&&h('"t"')),i=i!==null?i:null);if(i!==null){for(var g=[],n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,1)===
"D"?(n="D",a+=1):(n=null,m&&h('"D"')),n===null&&(c.substr(a,1)==="d"?(n="d",a+=1):(n=null,m&&h('"d"')),n=n!==null?n:null),n!==null){if(c.substr(a,1)==="A"){var G="A";a+=1}else G=null,m&&h('"A"');G===null&&(c.substr(a,1)==="a"?(G="a",a+=1):(G=null,m&&h('"a"')),G=G!==null?G:null);if(G!==null){if(c.substr(a,1)==="T"){var o="T";a+=1}else o=null,m&&h('"T"');o===null&&(c.substr(a,1)==="t"?(o="t",a+=1):(o=null,m&&h('"t"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="A"){var q="A";a+=1}else q=null,
m&&h('"A"');q===null&&(c.substr(a,1)==="a"?(q="a",a+=1):(q=null,m&&h('"a"')),q=q!==null?q:null);if(q!==null){for(var t=[],v=r();v!==null;)t.push(v),v=r();t!==null?(v=jb(),v!==null?e=[e,y,u,w,k,i,g,n,G,o,q,t,v]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={kind:"insertdata",token:"executableunit"};c.quads=a;return c}(e[12]):
null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[36] InsertData");z[b]={nextPos:a,result:f};return f}function Gb(){var b="DeleteData@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="D"){var e="D";a+=1}else e=null,m&&h('"D"');e===null&&(c.substr(a,1)==="d"?(e="d",a+=1):(e=null,m&&h('"d"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="E"){var y="E";a+=1}else y=null,m&&h('"E"');y===null&&(c.substr(a,1)==="e"?(y="e",a+=1):(y=null,m&&h('"e"')),y=y!==null?y:null);
if(y!==null){if(c.substr(a,1)==="L"){var u="L";a+=1}else u=null,m&&h('"L"');u===null&&(c.substr(a,1)==="l"?(u="l",a+=1):(u=null,m&&h('"l"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var w="E";a+=1}else w=null,m&&h('"E"');w===null&&(c.substr(a,1)==="e"?(w="e",a+=1):(w=null,m&&h('"e"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="T"){var k="T";a+=1}else k=null,m&&h('"T"');k===null&&(c.substr(a,1)==="t"?(k="t",a+=1):(k=null,m&&h('"t"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,
1)==="E"){var i="E";a+=1}else i=null,m&&h('"E"');i===null&&(c.substr(a,1)==="e"?(i="e",a+=1):(i=null,m&&h('"e"')),i=i!==null?i:null);if(i!==null){for(var g=[],n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,1)==="D"?(n="D",a+=1):(n=null,m&&h('"D"')),n===null&&(c.substr(a,1)==="d"?(n="d",a+=1):(n=null,m&&h('"d"')),n=n!==null?n:null),n!==null){if(c.substr(a,1)==="A"){var G="A";a+=1}else G=null,m&&h('"A"');G===null&&(c.substr(a,1)==="a"?(G="a",a+=1):(G=null,m&&h('"a"')),G=G!==null?G:null);
if(G!==null){if(c.substr(a,1)==="T"){var o="T";a+=1}else o=null,m&&h('"T"');o===null&&(c.substr(a,1)==="t"?(o="t",a+=1):(o=null,m&&h('"t"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="A"){var q="A";a+=1}else q=null,m&&h('"A"');q===null&&(c.substr(a,1)==="a"?(q="a",a+=1):(q=null,m&&h('"a"')),q=q!==null?q:null);if(q!==null){var t=jb();t!==null?e=[e,y,u,w,k,i,g,n,G,o,q,t]:(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,
a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={kind:"deletedata",token:"executableunit"};c.quads=a;return c}(e[11]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[37] DeleteData");z[b]={nextPos:a,result:f};return f}function Ab(){var b="DeleteWhere@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="D"){var e="D";a+=1}else e=null,m&&h('"D"');e===null&&(c.substr(a,1)==="d"?(e="d",a+=1):(e=null,m&&h('"d"')),e=e!==null?
e:null);if(e!==null){if(c.substr(a,1)==="E"){var y="E";a+=1}else y=null,m&&h('"E"');y===null&&(c.substr(a,1)==="e"?(y="e",a+=1):(y=null,m&&h('"e"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="L"){var u="L";a+=1}else u=null,m&&h('"L"');u===null&&(c.substr(a,1)==="l"?(u="l",a+=1):(u=null,m&&h('"l"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var w="E";a+=1}else w=null,m&&h('"E"');w===null&&(c.substr(a,1)==="e"?(w="e",a+=1):(w=null,m&&h('"e"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,
1)==="T"){var k="T";a+=1}else k=null,m&&h('"T"');k===null&&(c.substr(a,1)==="t"?(k="t",a+=1):(k=null,m&&h('"t"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="E"){var i="E";a+=1}else i=null,m&&h('"E"');i===null&&(c.substr(a,1)==="e"?(i="e",a+=1):(i=null,m&&h('"e"')),i=i!==null?i:null);if(i!==null){for(var g=[],n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,1)==="W"?(n="W",a+=1):(n=null,m&&h('"W"')),n===null&&(c.substr(a,1)==="w"?(n="w",a+=1):(n=null,m&&h('"w"')),n=n!==null?n:null),
n!==null){if(c.substr(a,1)==="H"){var G="H";a+=1}else G=null,m&&h('"H"');G===null&&(c.substr(a,1)==="h"?(G="h",a+=1):(G=null,m&&h('"h"')),G=G!==null?G:null);if(G!==null){if(c.substr(a,1)==="E"){var o="E";a+=1}else o=null,m&&h('"E"');o===null&&(c.substr(a,1)==="e"?(o="e",a+=1):(o=null,m&&h('"e"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="R"){var q="R";a+=1}else q=null,m&&h('"R"');q===null&&(c.substr(a,1)==="r"?(q="r",a+=1):(q=null,m&&h('"r"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,
1)==="E"){var t="E";a+=1}else t=null,m&&h('"E"');t===null&&(c.substr(a,1)==="e"?(t="e",a+=1):(t=null,m&&h('"e"')),t=t!==null?t:null);if(t!==null){for(var v=[],x=r();x!==null;)v.push(x),x=r();v!==null?(x=Y(),x!==null?e=[e,y,u,w,k,i,g,n,G,o,q,t,v,x]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var c={kind:"modify"};
c.pattern=a;c["with"]=null;c.using=null;for(var b=[],a=a.patterns[0],a=a.triplesContext==null&&a.patterns!=null?a.patterns[0].triplesContext:a.triplesContext,e=0;e<a.length;e++){var f={},h=a[e];f.subject=h.subject;f.predicate=h.predicate;f.object=h.object;f.graph=h.graph;b.push(f)}c["delete"]=b;return c}(e[13]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[38] DeleteWhere");z[b]={nextPos:a,result:f};return f}function Bb(){var b="Modify@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=
a,f=a,e=a;if(c.substr(a,1)==="W"){var y="W";a+=1}else y=null,m&&h('"W"');y===null&&(c.substr(a,1)==="w"?(y="w",a+=1):(y=null,m&&h('"w"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="I"){var u="I";a+=1}else u=null,m&&h('"I"');u===null&&(c.substr(a,1)==="i"?(u="i",a+=1):(u=null,m&&h('"i"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="T"){var w="T";a+=1}else w=null,m&&h('"T"');w===null&&(c.substr(a,1)==="t"?(w="t",a+=1):(w=null,m&&h('"t"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,
1)==="H"){var k="H";a+=1}else k=null,m&&h('"H"');k===null&&(c.substr(a,1)==="h"?(k="h",a+=1):(k=null,m&&h('"h"')),k=k!==null?k:null);if(k!==null){for(var i=[],g=r();g!==null;)i.push(g),g=r();i!==null?(g=U(),g!==null?y=[y,u,w,k,i,g]:(y=null,a=e)):(y=null,a=e)}else y=null,a=e}else y=null,a=e}else y=null,a=e}else y=null,a=e;e=y!==null?y:"";if(e!==null){y=[];for(u=r();u!==null;)y.push(u),u=r();if(y!==null){u=a;w=Hb();if(w!==null){k=[];for(i=r();i!==null;)k.push(i),i=r();k!==null?(i=bb(),i=i!==null?i:
"",i!==null?w=[w,k,i]:(w=null,a=u)):(w=null,a=u)}else w=null,a=u;w!==null?u=w:(u=bb(),u=u!==null?u:null);if(u!==null){w=[];for(k=r();k!==null;)w.push(k),k=r();if(w!==null){k=[];for(i=kb();i!==null;)k.push(i),i=kb();if(k!==null){i=[];for(g=r();g!==null;)i.push(g),g=r();if(i!==null)if(c.substr(a,1)==="W"?(g="W",a+=1):(g=null,m&&h('"W"')),g===null&&(c.substr(a,1)==="w"?(g="w",a+=1):(g=null,m&&h('"w"')),g=g!==null?g:null),g!==null){if(c.substr(a,1)==="H"){var n="H";a+=1}else n=null,m&&h('"H"');n===null&&
(c.substr(a,1)==="h"?(n="h",a+=1):(n=null,m&&h('"h"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="E"){var o="E";a+=1}else o=null,m&&h('"E"');o===null&&(c.substr(a,1)==="e"?(o="e",a+=1):(o=null,m&&h('"e"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="R"){var q="R";a+=1}else q=null,m&&h('"R"');q===null&&(c.substr(a,1)==="r"?(q="r",a+=1):(q=null,m&&h('"r"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="E"){var t="E";a+=1}else t=null,m&&h('"E"');t===null&&(c.substr(a,1)==="e"?
(t="e",a+=1):(t=null,m&&h('"e"')),t=t!==null?t:null);if(t!==null){for(var A=[],v=r();v!==null;)A.push(v),v=r();if(A!==null)if(v=Y(),v!==null){for(var x=[],B=r();B!==null;)x.push(B),B=r();x!==null?e=[e,y,u,w,k,i,g,n,o,q,t,A,v,x]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c,b,e){var f={kind:"modify"};f["with"]=
a!=""?a[5]:null;c.length===3&&c[2]===""?(f["delete"]=c[0],f.insert=null):c.length===3&&c[0].length!=null&&c[1].length!=null&&c[2].length!=null?(f["delete"]=c[0],f.insert=c[2]):(f.insert=c,f["delete"]=null);b!=""&&(f.using=b);f.pattern=e;return f}(e[0],e[2],e[4],e[12]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[39] Modify");z[b]={nextPos:a,result:f};return f}function Hb(){var b="DeleteClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="D"){var e="D";a+=
1}else e=null,m&&h('"D"');e===null&&(c.substr(a,1)==="d"?(e="d",a+=1):(e=null,m&&h('"d"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="E"){var y="E";a+=1}else y=null,m&&h('"E"');y===null&&(c.substr(a,1)==="e"?(y="e",a+=1):(y=null,m&&h('"e"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="L"){var u="L";a+=1}else u=null,m&&h('"L"');u===null&&(c.substr(a,1)==="l"?(u="l",a+=1):(u=null,m&&h('"l"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var w="E";a+=1}else w=null,m&&h('"E"');
w===null&&(c.substr(a,1)==="e"?(w="e",a+=1):(w=null,m&&h('"e"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="T"){var k="T";a+=1}else k=null,m&&h('"T"');k===null&&(c.substr(a,1)==="t"?(k="t",a+=1):(k=null,m&&h('"t"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="E"){var i="E";a+=1}else i=null,m&&h('"E"');i===null&&(c.substr(a,1)==="e"?(i="e",a+=1):(i=null,m&&h('"e"')),i=i!==null?i:null);if(i!==null){var g=lb();g!==null?e=[e,y,u,w,k,i,g]:(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=
null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?e[6]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[40] DeleteClause");z[b]={nextPos:a,result:f};return f}function bb(){var b="InsertClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="I"){var e="I";a+=1}else e=null,m&&h('"I"');e===null&&(c.substr(a,1)==="i"?(e="i",a+=1):(e=null,m&&h('"i"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="N"){var y="N";a+=1}else y=null,m&&h('"N"');y===
null&&(c.substr(a,1)==="n"?(y="n",a+=1):(y=null,m&&h('"n"')),y=y!==null?y:null);if(y!==null){if(c.substr(a,1)==="S"){var u="S";a+=1}else u=null,m&&h('"S"');u===null&&(c.substr(a,1)==="s"?(u="s",a+=1):(u=null,m&&h('"s"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="E"){var w="E";a+=1}else w=null,m&&h('"E"');w===null&&(c.substr(a,1)==="e"?(w="e",a+=1):(w=null,m&&h('"e"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="R"){var k="R";a+=1}else k=null,m&&h('"R"');k===null&&(c.substr(a,1)===
"r"?(k="r",a+=1):(k=null,m&&h('"r"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="T"){var i="T";a+=1}else i=null,m&&h('"T"');i===null&&(c.substr(a,1)==="t"?(i="t",a+=1):(i=null,m&&h('"t"')),i=i!==null?i:null);if(i!==null){var g=lb();g!==null?e=[e,y,u,w,k,i,g]:(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?e[6]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[41] InsertClause");z[b]={nextPos:a,result:f};return f}function kb(){var b=
"UsingClause@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],y=r();y!==null;)e.push(y),y=r();if(e!==null)if(c.substr(a,1)==="U"?(y="U",a+=1):(y=null,m&&h('"U"')),y===null&&(c.substr(a,1)==="u"?(y="u",a+=1):(y=null,m&&h('"u"')),y=y!==null?y:null),y!==null){if(c.substr(a,1)==="S"){var u="S";a+=1}else u=null,m&&h('"S"');u===null&&(c.substr(a,1)==="s"?(u="s",a+=1):(u=null,m&&h('"s"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="I"){var w="I";a+=1}else w=null,m&&h('"I"');
w===null&&(c.substr(a,1)==="i"?(w="i",a+=1):(w=null,m&&h('"i"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="N"){var k="N";a+=1}else k=null,m&&h('"N"');k===null&&(c.substr(a,1)==="n"?(k="n",a+=1):(k=null,m&&h('"n"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="G"){var i="G";a+=1}else i=null,m&&h('"G"');i===null&&(c.substr(a,1)==="g"?(i="g",a+=1):(i=null,m&&h('"g"')),i=i!==null?i:null);if(i!==null){for(var g=[],n=r();n!==null;)g.push(n),n=r();if(g!==null){n=U();if(n===null){n=a;if(c.substr(a,
1)==="N"){var o="N";a+=1}else o=null,m&&h('"N"');o===null&&(c.substr(a,1)==="n"?(o="n",a+=1):(o=null,m&&h('"n"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="A"){var q="A";a+=1}else q=null,m&&h('"A"');q===null&&(c.substr(a,1)==="a"?(q="a",a+=1):(q=null,m&&h('"a"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,1)==="M"){var t="M";a+=1}else t=null,m&&h('"M"');t===null&&(c.substr(a,1)==="m"?(t="m",a+=1):(t=null,m&&h('"m"')),t=t!==null?t:null);if(t!==null){if(c.substr(a,1)==="E"){var A="E";a+=
1}else A=null,m&&h('"E"');A===null&&(c.substr(a,1)==="e"?(A="e",a+=1):(A=null,m&&h('"e"')),A=A!==null?A:null);if(A!==null){if(c.substr(a,1)==="D"){var v="D";a+=1}else v=null,m&&h('"D"');v===null&&(c.substr(a,1)==="d"?(v="d",a+=1):(v=null,m&&h('"d"')),v=v!==null?v:null);if(v!==null){for(var x=[],B=r();B!==null;)x.push(B),B=r();x!==null?(B=U(),B!==null?o=[o,q,t,A,v,x,B]:(o=null,a=n)):(o=null,a=n)}else o=null,a=n}else o=null,a=n}else o=null,a=n}else o=null,a=n}else o=null,a=n;n=o!==null?o:null}n!==null?
e=[e,y,u,w,k,i,g,n]:(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?e[7].length!=null?{kind:"named",uri:e[7][6]}:{kind:"default",uri:e[7]}:null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[42] UsingClause");z[b]={nextPos:a,result:f};return f}function Ma(){var b="GraphRef@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="G"){var e="G";a+=1}else e=null,m&&h('"G"');e===null&&(c.substr(a,
1)==="g"?(e="g",a+=1):(e=null,m&&h('"g"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="R"){var k="R";a+=1}else k=null,m&&h('"R"');k===null&&(c.substr(a,1)==="r"?(k="r",a+=1):(k=null,m&&h('"r"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="A"){var u="A";a+=1}else u=null,m&&h('"A"');u===null&&(c.substr(a,1)==="a"?(u="a",a+=1):(u=null,m&&h('"a"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="P"){var w="P";a+=1}else w=null,m&&h('"P"');w===null&&(c.substr(a,1)==="p"?(w="p",a+=1):
(w=null,m&&h('"p"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="H"){var i="H";a+=1}else i=null,m&&h('"H"');i===null&&(c.substr(a,1)==="h"?(i="h",a+=1):(i=null,m&&h('"h"')),i=i!==null?i:null);if(i!==null){for(var g=[],s=r();s!==null;)g.push(s),s=r();g!==null?(s=U(),s!==null?e=[e,k,u,w,i,g,s]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?e[6]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[43] GraphRef");z[b]={nextPos:a,
result:f};return f}function ib(){var b="GraphRefAll@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=Ma(),f=f!==null?f:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;if(c.substr(a,1)==="D"){var e="D";a+=1}else e=null,m&&h('"D"');e===null&&(c.substr(a,1)==="d"?(e="d",a+=1):(e=null,m&&h('"d"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="E"){var k="E";a+=1}else k=null,m&&h('"E"');k===null&&(c.substr(a,1)==="e"?(k="e",a+=1):(k=null,m&&h('"e"')),k=k!==null?k:null);if(k!==
null){if(c.substr(a,1)==="F"){var u="F";a+=1}else u=null,m&&h('"F"');u===null&&(c.substr(a,1)==="f"?(u="f",a+=1):(u=null,m&&h('"f"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="A"){var w="A";a+=1}else w=null,m&&h('"A"');w===null&&(c.substr(a,1)==="a"?(w="a",a+=1):(w=null,m&&h('"a"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="U"){var i="U";a+=1}else i=null,m&&h('"U"');i===null&&(c.substr(a,1)==="u"?(i="u",a+=1):(i=null,m&&h('"u"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)===
"L"){var g="L";a+=1}else g=null,m&&h('"L"');g===null&&(c.substr(a,1)==="l"?(g="l",a+=1):(g=null,m&&h('"l"')),g=g!==null?g:null);if(g!==null){if(c.substr(a,1)==="T"){var s="T";a+=1}else s=null,m&&h('"T"');s===null&&(c.substr(a,1)==="t"?(s="t",a+=1):(s=null,m&&h('"t"')),s=s!==null?s:null);s!==null?e=[e,k,u,w,i,g,s]:(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?"default":null;f===null&&(f=null,a=j);f!==null?j=f:(f=j=a,c.substr(a,
1)==="N"?(e="N",a+=1):(e=null,m&&h('"N"')),e===null&&(c.substr(a,1)==="n"?(e="n",a+=1):(e=null,m&&h('"n"')),e=e!==null?e:null),e!==null?(c.substr(a,1)==="A"?(k="A",a+=1):(k=null,m&&h('"A"')),k===null&&(c.substr(a,1)==="a"?(k="a",a+=1):(k=null,m&&h('"a"')),k=k!==null?k:null),k!==null?(c.substr(a,1)==="M"?(u="M",a+=1):(u=null,m&&h('"M"')),u===null&&(c.substr(a,1)==="m"?(u="m",a+=1):(u=null,m&&h('"m"')),u=u!==null?u:null),u!==null?(c.substr(a,1)==="E"?(w="E",a+=1):(w=null,m&&h('"E"')),w===null&&(c.substr(a,
1)==="e"?(w="e",a+=1):(w=null,m&&h('"e"')),w=w!==null?w:null),w!==null?(c.substr(a,1)==="D"?(i="D",a+=1):(i=null,m&&h('"D"')),i===null&&(c.substr(a,1)==="d"?(i="d",a+=1):(i=null,m&&h('"d"')),i=i!==null?i:null),i!==null?e=[e,k,u,w,i]:(e=null,a=f)):(e=null,a=f)):(e=null,a=f)):(e=null,a=f)):(e=null,a=f),f=e!==null?"named":null,f===null&&(f=null,a=j),f!==null?j=f:(f=j=a,c.substr(a,1)==="A"?(e="A",a+=1):(e=null,m&&h('"A"')),e===null&&(c.substr(a,1)==="a"?(e="a",a+=1):(e=null,m&&h('"a"')),e=e!==null?e:
null),e!==null?(c.substr(a,1)==="L"?(k="L",a+=1):(k=null,m&&h('"L"')),k===null&&(c.substr(a,1)==="l"?(k="l",a+=1):(k=null,m&&h('"l"')),k=k!==null?k:null),k!==null?(c.substr(a,1)==="L"?(u="L",a+=1):(u=null,m&&h('"L"')),u===null&&(c.substr(a,1)==="l"?(u="l",a+=1):(u=null,m&&h('"l"')),u=u!==null?u:null),u!==null?e=[e,k,u]:(e=null,a=f)):(e=null,a=f)):(e=null,a=f),f=e!==null?"all":null,f===null&&(f=null,a=j),j=f!==null?f:null))}(m=d)&&j===null&&h("[44] GraphRefAll");z[b]={nextPos:a,result:j};return j}
function lb(){var b="QuadPattern@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],k=r();k!==null;)e.push(k),k=r();if(e!==null)if(c.substr(a,1)==="{"?(k="{",a+=1):(k=null,m&&h('"{"')),k!==null){for(var u=[],w=r();w!==null;)u.push(w),w=r();if(u!==null)if(w=mb(),w!==null){for(var i=[],g=r();g!==null;)i.push(g),g=r();if(i!==null)if(c.substr(a,1)==="}"?(g="}",a+=1):(g=null,m&&h('"}"')),g!==null){for(var s=[],n=r();n!==null;)s.push(n),n=r();s!==null?e=[e,k,u,w,i,g,s]:(e=null,a=
f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?e[3].quadsContext:null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[45] QuadPattern");z[b]={nextPos:a,result:f};return f}function jb(){var b="QuadData@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],k=r();k!==null;)e.push(k),k=r();if(e!==null)if(c.substr(a,1)==="{"?(k="{",a+=1):(k=null,m&&h('"{"')),k!==null){for(var u=[],w=r();w!==null;)u.push(w),w=r();if(u!==null)if(w=
mb(),w!==null){for(var i=[],g=r();g!==null;)i.push(g),g=r();if(i!==null)if(c.substr(a,1)==="}"?(g="}",a+=1):(g=null,m&&h('"}"')),g!==null){for(var s=[],n=r();n!==null;)s.push(n),n=r();s!==null?e=[e,k,u,w,i,g,s]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?e[3].quadsContext:null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[46] QuadData");z[b]={nextPos:a,result:f};return f}function mb(){var b="Quads@"+a,d=z[b];if(d)return a=d.nextPos,
d.result;d=m;m=!1;var j=a,f=a,e=qa(),e=e!==null?e:"";if(e!==null){var k=[],u=a,w=nb();if(w!==null){if(c.substr(a,1)==="."){var i=".";a+=1}else i=null,m&&h('"."');i=i!==null?i:"";if(i!==null){var g=qa(),g=g!==null?g:"";g!==null?w=[w,i,g]:(w=null,a=u)}else w=null,a=u}else w=null,a=u;for(;w!==null;)k.push(w),u=a,w=nb(),w!==null?(c.substr(a,1)==="."?(i=".",a+=1):(i=null,m&&h('"."')),i=i!==null?i:"",i!==null?(g=qa(),g=g!==null?g:"",g!==null?w=[w,i,g]:(w=null,a=u)):(w=null,a=u)):(w=null,a=u);k!==null?e=
[e,k]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){var b=[];if(a.triplesContext!=null&&a.triplesContext!=null)for(var e=0;e<a.triplesContext.length;e++){var f=a.triplesContext[e];f.graph=null;b.push(f)}if(c&&c.length>0&&c[0].length>0&&(b=b.concat(c[0][0].quadsContext),c[0][2]!=null&&c[0][2].triplesContext!=null))for(e=0;e<c[0][2].triplesContext.length;e++)f=c[0][2].triplesContext[e],f.graph=null,b.push(f);return{token:"quads",quadsContext:b}}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&
f===null&&h("[47] Quads");z[b]={nextPos:a,result:f};return f}function nb(){var b="QuadsNotTriples@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],k=r();k!==null;)e.push(k),k=r();if(e!==null)if(c.substr(a,1)==="G"?(k="G",a+=1):(k=null,m&&h('"G"')),k===null&&(c.substr(a,1)==="g"?(k="g",a+=1):(k=null,m&&h('"g"')),k=k!==null?k:null),k!==null){if(c.substr(a,1)==="R"){var u="R";a+=1}else u=null,m&&h('"R"');u===null&&(c.substr(a,1)==="r"?(u="r",a+=1):(u=null,m&&h('"r"')),u=u!==
null?u:null);if(u!==null){if(c.substr(a,1)==="A"){var w="A";a+=1}else w=null,m&&h('"A"');w===null&&(c.substr(a,1)==="a"?(w="a",a+=1):(w=null,m&&h('"a"')),w=w!==null?w:null);if(w!==null){if(c.substr(a,1)==="P"){var i="P";a+=1}else i=null,m&&h('"P"');i===null&&(c.substr(a,1)==="p"?(i="p",a+=1):(i=null,m&&h('"p"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="H"){var g="H";a+=1}else g=null,m&&h('"H"');g===null&&(c.substr(a,1)==="h"?(g="h",a+=1):(g=null,m&&h('"h"')),g=g!==null?g:null);if(g!==null){for(var s=
[],n=r();n!==null;)s.push(n),n=r();if(s!==null)if(n=la(),n!==null){for(var o=[],q=r();q!==null;)o.push(q),q=r();if(o!==null)if(c.substr(a,1)==="{"?(q="{",a+=1):(q=null,m&&h('"{"')),q!==null){for(var t=[],v=r();v!==null;)t.push(v),v=r();if(t!==null)if(v=qa(),v=v!==null?v:"",v!==null){for(var x=[],B=r();B!==null;)x.push(B),B=r();if(x!==null)if(c.substr(a,1)==="}"?(B="}",a+=1):(B=null,m&&h('"}"')),B!==null){for(var fb=[],D=r();D!==null;)fb.push(D),D=r();fb!==null?e=[e,k,u,w,i,g,s,n,o,q,t,v,x,B,fb]:(e=
null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){for(var b=[],e=0;e<c.triplesContext.length;e++){var f=c.triplesContext[e];f.graph=a;b.push(f)}return{token:"quadsnottriples",quadsContext:b}}(e[7],e[11]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[48] QuadsNotTriples");z[b]={nextPos:a,result:f};
return f}function qa(){var b="TriplesTemplate@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=ob();if(e!==null){for(var k=a,u=[],w=r();w!==null;)u.push(w),w=r();if(u!==null)if(c.substr(a,1)==="."?(w=".",a+=1):(w=null,m&&h('"."')),w!==null){for(var i=[],g=r();g!==null;)i.push(g),g=r();i!==null?(g=qa(),g=g!==null?g:"",g!==null?u=[u,w,i,g]:(u=null,a=k)):(u=null,a=k)}else u=null,a=k;else u=null,a=k;k=u!==null?u:"";k!==null?e=[e,k]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,
c){var b=a.triplesContext;typeof c==="object"&&c.length!=null&&c[3].triplesContext!=null&&(b=b.concat(c[3].triplesContext));return{token:"triplestemplate",triplesContext:b}}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[49] TriplesTemplate");z[b]={nextPos:a,result:f};return f}function Y(){var b="GroupGraphPattern@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="{"){var e="{";a+=1}else e=null,m&&h('"{"');if(e!==null){for(var k=[],u=r();u!==null;)k.push(u),
u=r();if(k!==null)if(u=I(),u!==null){for(var w=[],i=r();i!==null;)w.push(i),i=r();w!==null?(c.substr(a,1)==="}"?(i="}",a+=1):(i=null,m&&h('"}"')),i!==null?e=[e,k,u,w,i]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?e[2]:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,1)==="{"?(e="{",a+=1):(e=null,m&&h('"{"'));if(e!==null){k=[];for(u=r();u!==null;)k.push(u),u=r();if(k!==null)if(u=Kb(),u!==null){w=[];for(i=r();i!==null;)w.push(i),i=r();w!==null?
(c.substr(a,1)==="}"?(i="}",a+=1):(i=null,m&&h('"}"')),i!==null?e=[e,k,u,w,i]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?e[2]:null;f===null&&(f=null,a=j);j=f!==null?f:null}(m=d)&&j===null&&h("[50] GroupGraphPattern");z[b]={nextPos:a,result:j};return j}function Kb(){var b="GroupGraphPatternSub@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=pa(),e=e!==null?e:"";if(e!==null){for(var k=[],u=r();u!==null;)k.push(u),u=r();if(k!==null){var u=
[],w=a,i=pb();if(i!==null){for(var g=[],s=r();s!==null;)g.push(s),s=r();if(g!==null)if(c.substr(a,1)==="."?(s=".",a+=1):(s=null,m&&h('"."')),s=s!==null?s:"",s!==null){for(var n=[],o=r();o!==null;)n.push(o),o=r();n!==null?(o=pa(),o=o!==null?o:"",o!==null?i=[i,g,s,n,o]:(i=null,a=w)):(i=null,a=w)}else i=null,a=w;else i=null,a=w}else i=null,a=w;for(;i!==null;)if(u.push(i),w=a,i=pb(),i!==null){g=[];for(s=r();s!==null;)g.push(s),s=r();if(g!==null)if(c.substr(a,1)==="."?(s=".",a+=1):(s=null,m&&h('"."')),
s=s!==null?s:"",s!==null){n=[];for(o=r();o!==null;)n.push(o),o=r();n!==null?(o=pa(),o=o!==null?o:"",o!==null?i=[i,g,s,n,o]:(i=null,a=w)):(i=null,a=w)}else i=null,a=w;else i=null,a=w}else i=null,a=w;u!==null?e=[e,k,u]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c){var b=[];a!=null&&a!=[]&&b.push(a);for(var e=0;e<c.length;e++)for(var f=0;f<c[e].length;f++)c[e][f].token!=null&&b.push(c[e][f]);for(var h=[],d=[],m=[],e=0;e<b.length;e++)if(b[e].token!="triplespattern"&&b[e].token!=
"filter"){if(d.length!=0||m.length!=0){for(var u=[],f=0;f<d.length;f++)u=u.concat(d[f].triplesContext);u.length>0&&h.push({token:"basicgraphpattern",triplesContext:u});d=[]}h.push(b[e])}else b[e].token==="triplespattern"?d.push(b[e]):m.push(b[e]);if(d.length!=0||m.length!=0){u=[];for(f=0;f<d.length;f++)u=u.concat(d[f].triplesContext);u.length>0&&h.push({token:"basicgraphpattern",triplesContext:u})}return{token:"groupgraphpattern",patterns:h,filters:m}}(e[0],e[2]):null;f===null&&(f=null,a=j);(m=d)&&
f===null&&h("[51] GroupGraphPatternSub");z[b]={nextPos:a,result:f};return f}function pa(){var b="TriplesBlock@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=Lb();if(e!==null){for(var k=a,u=[],i=r();i!==null;)u.push(i),i=r();if(u!==null)if(c.substr(a,1)==="."?(i=".",a+=1):(i=null,m&&h('"."')),i!==null){var g=pa(),g=g!==null?g:"";g!==null?u=[u,i,g]:(u=null,a=k)}else u=null,a=k;else u=null,a=k;k=u!==null?u:"";k!==null?e=[e,k]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){var b=
a.triplesContext;typeof c==="object"&&c.length!=null&&c[2].triplesContext!=null&&(b=b.concat(c[2].triplesContext));return{token:"triplespattern",triplesContext:b}}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[54] TriplesBlock");z[b]={nextPos:a,result:f};return f}function pb(){var c="GraphPatternNotTriples@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=Mb();d===null&&(d=Nb(),d===null&&(d=Ob(),d===null&&(d=Pb(),d===null&&(d=Qb(),d===null&&(d=Rb(),d=d!==null?d:null)))));(m=
b)&&d===null&&h("[53] GraphPatternNotTriples");z[c]={nextPos:a,result:d};return d}function Nb(){var b="OptionalGraphPattern@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],k=r();k!==null;)e.push(k),k=r();if(e!==null)if(c.substr(a,8)==="OPTIONAL"?(k="OPTIONAL",a+=8):(k=null,m&&h('"OPTIONAL"')),k!==null){for(var u=[],i=r();i!==null;)u.push(i),i=r();u!==null?(i=Y(),i!==null?e=[e,k,u,i]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f;f=e!==null?{token:"optionalgraphpattern",
value:e[3]}:null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[54] OptionalGraphPattern");z[b]={nextPos:a,result:f};return f}function Pb(){var b="GraphGraphPattern@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],k=r();k!==null;)e.push(k),k=r();if(e!==null)if(c.substr(a,1)==="G"?(k="G",a+=1):(k=null,m&&h('"G"')),k===null&&(c.substr(a,1)==="g"?(k="g",a+=1):(k=null,m&&h('"g"')),k=k!==null?k:null),k!==null){if(c.substr(a,1)==="R"){var u="R";a+=1}else u=null,m&&h('"R"');u===null&&
(c.substr(a,1)==="r"?(u="r",a+=1):(u=null,m&&h('"r"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="A"){var i="A";a+=1}else i=null,m&&h('"A"');i===null&&(c.substr(a,1)==="a"?(i="a",a+=1):(i=null,m&&h('"a"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="P"){var g="P";a+=1}else g=null,m&&h('"P"');g===null&&(c.substr(a,1)==="p"?(g="p",a+=1):(g=null,m&&h('"p"')),g=g!==null?g:null);if(g!==null){if(c.substr(a,1)==="H"){var n="H";a+=1}else n=null,m&&h('"H"');n===null&&(c.substr(a,1)==="h"?
(n="h",a+=1):(n=null,m&&h('"h"')),n=n!==null?n:null);if(n!==null){for(var s=[],o=r();o!==null;)s.push(o),o=r();if(s!==null)if(o=la(),o!==null){for(var q=[],t=r();t!==null;)q.push(t),t=r();q!==null?(t=Y(),t!==null?e=[e,k,u,i,g,n,s,o,q,t]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){for(var b=0;b<c.patterns.length;b++)for(var e=c.patterns[b],f=0;f<e.triplesContext.length;f++)e.triplesContext[f].graph=
a;c.token="groupgraphpattern";return c}(e[7],e[9]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[55] GraphGraphPattern");z[b]={nextPos:a,result:f};return f}function Qb(){var b="ServiceGraphPattern@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,7)==="SERVICE"){var e="SERVICE";a+=7}else e=null,m&&h('"SERVICE"');if(e!==null){var k=la();if(k!==null){var u=Y();u!==null?e=[e,k,u]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;f=e!==null?{token:"servicegraphpattern",status:"todo",
value:[e[1],e[2]]}:null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[56] ServiceGraphPattern");z[b]={nextPos:a,result:f};return f}function Ob(){var b="MinusGraphPattern@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,5)==="MINUS"){var e="MINUS";a+=5}else e=null,m&&h('"MINUS"');if(e!==null){var k=Y();k!==null?e=[e,k]:(e=null,a=f)}else e=null,a=f;f=e!==null?{token:"minusgraphpattern",status:"todo",value:e[1]}:null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[57] MinusGraphPattern");
z[b]={nextPos:a,result:f};return f}function Mb(){var b="GroupOrUnionGraphPattern@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=Y();if(e!==null){for(var k=[],u=a,i=[],g=r();g!==null;)i.push(g),g=r();if(i!==null)if(c.substr(a,1)==="U"?(g="U",a+=1):(g=null,m&&h('"U"')),g===null&&(c.substr(a,1)==="u"?(g="u",a+=1):(g=null,m&&h('"u"')),g=g!==null?g:null),g!==null){if(c.substr(a,1)==="N"){var n="N";a+=1}else n=null,m&&h('"N"');n===null&&(c.substr(a,1)==="n"?(n="n",a+=1):(n=null,m&&h('"n"')),
n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="I"){var s="I";a+=1}else s=null,m&&h('"I"');s===null&&(c.substr(a,1)==="i"?(s="i",a+=1):(s=null,m&&h('"i"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="O"){var o="O";a+=1}else o=null,m&&h('"O"');o===null&&(c.substr(a,1)==="o"?(o="o",a+=1):(o=null,m&&h('"o"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="N"){var q="N";a+=1}else q=null,m&&h('"N"');q===null&&(c.substr(a,1)==="n"?(q="n",a+=1):(q=null,m&&h('"n"')),q=q!==null?q:null);if(q!==
null){for(var t=[],v=r();v!==null;)t.push(v),v=r();t!==null?(v=Y(),v!==null?i=[i,g,n,s,o,q,t,v]:(i=null,a=u)):(i=null,a=u)}else i=null,a=u}else i=null,a=u}else i=null,a=u}else i=null,a=u}else i=null,a=u;else i=null,a=u;for(;i!==null;){k.push(i);u=a;i=[];for(g=r();g!==null;)i.push(g),g=r();if(i!==null)if(c.substr(a,1)==="U"?(g="U",a+=1):(g=null,m&&h('"U"')),g===null&&(c.substr(a,1)==="u"?(g="u",a+=1):(g=null,m&&h('"u"')),g=g!==null?g:null),g!==null)if(c.substr(a,1)==="N"?(n="N",a+=1):(n=null,m&&h('"N"')),
n===null&&(c.substr(a,1)==="n"?(n="n",a+=1):(n=null,m&&h('"n"')),n=n!==null?n:null),n!==null)if(c.substr(a,1)==="I"?(s="I",a+=1):(s=null,m&&h('"I"')),s===null&&(c.substr(a,1)==="i"?(s="i",a+=1):(s=null,m&&h('"i"')),s=s!==null?s:null),s!==null)if(c.substr(a,1)==="O"?(o="O",a+=1):(o=null,m&&h('"O"')),o===null&&(c.substr(a,1)==="o"?(o="o",a+=1):(o=null,m&&h('"o"')),o=o!==null?o:null),o!==null)if(c.substr(a,1)==="N"?(q="N",a+=1):(q=null,m&&h('"N"')),q===null&&(c.substr(a,1)==="n"?(q="n",a+=1):(q=null,
m&&h('"n"')),q=q!==null?q:null),q!==null){t=[];for(v=r();v!==null;)t.push(v),v=r();t!==null?(v=Y(),v!==null?i=[i,g,n,s,o,q,t,v]:(i=null,a=u)):(i=null,a=u)}else i=null,a=u;else i=null,a=u;else i=null,a=u;else i=null,a=u;else i=null,a=u;else i=null,a=u}k!==null?e=[e,k]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){if(c.length===0)return a;else{for(var b={token:"graphunionpattern",value:[a]},e=0;e<c.length;e++)e==c.length-1?b.value.push(c[e][7]):(b.value.push(c[e][7]),b={token:"graphunionpattern",
value:[b]});return b}}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[58] GroupOrUnionGraphPattern");z[b]={nextPos:a,result:f};return f}function Rb(){var b="Filter@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],k=r();k!==null;)e.push(k),k=r();if(e!==null)if(c.substr(a,1)==="F"?(k="F",a+=1):(k=null,m&&h('"F"')),k===null&&(c.substr(a,1)==="f"?(k="f",a+=1):(k=null,m&&h('"f"')),k=k!==null?k:null),k!==null){if(c.substr(a,1)==="I"){var u="I";a+=1}else u=null,m&&h('"I"');
u===null&&(c.substr(a,1)==="i"?(u="i",a+=1):(u=null,m&&h('"i"')),u=u!==null?u:null);if(u!==null){if(c.substr(a,1)==="L"){var i="L";a+=1}else i=null,m&&h('"L"');i===null&&(c.substr(a,1)==="l"?(i="l",a+=1):(i=null,m&&h('"l"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="T"){var g="T";a+=1}else g=null,m&&h('"T"');g===null&&(c.substr(a,1)==="t"?(g="t",a+=1):(g=null,m&&h('"t"')),g=g!==null?g:null);if(g!==null){if(c.substr(a,1)==="E"){var n="E";a+=1}else n=null,m&&h('"E"');n===null&&(c.substr(a,
1)==="e"?(n="e",a+=1):(n=null,m&&h('"e"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="R"){var s="R";a+=1}else s=null,m&&h('"R"');s===null&&(c.substr(a,1)==="r"?(s="r",a+=1):(s=null,m&&h('"r"')),s=s!==null?s:null);if(s!==null){for(var o=[],q=r();q!==null;)o.push(q),q=r();o!==null?(q=Ba(),q!==null?e=[e,k,u,i,g,n,s,o,q]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?{token:"filter",value:e[8]}:
null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[59] Filter");z[b]={nextPos:a,result:f};return f}function Ba(){var c="Constraint@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=Ia();d===null&&(d=Ha(),d===null&&(d=hb(),d=d!==null?d:null));(m=b)&&d===null&&h("[60] Constraint");z[c]={nextPos:a,result:d};return d}function hb(){var c="FunctionCall@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=a,e=U();if(e!==null){var j=qb();j!==null?e=[e,j]:(e=null,a=f)}else e=null,a=f;f=e!==
null?function(a,c){var b={token:"expression",expressionType:"irireforfunction"};b.iriref=a;b.args=c.value;return b}(e[0],e[1]):null;f===null&&(f=null,a=d);(m=b)&&f===null&&h("[61] FunctionCall");z[c]={nextPos:a,result:f};return f}function qb(){var b="ArgList@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=ma()!==null?{token:"args",value:[]}:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;if(c.substr(a,1)==="("){var e="(";a+=1}else e=null,m&&h('"("');if(e!==null){if(c.substr(a,
8)==="DISTINCT"){var k="DISTINCT";a+=8}else k=null,m&&h('"DISTINCT"');k=k!==null?k:"";if(k!==null){var u=Q();if(u!==null){var i=[],g=a;if(c.substr(a,1)===","){var n=",";a+=1}else n=null,m&&h('","');if(n!==null){var r=Q();r!==null?n=[n,r]:(n=null,a=g)}else n=null,a=g;for(;n!==null;)i.push(n),g=a,c.substr(a,1)===","?(n=",",a+=1):(n=null,m&&h('","')),n!==null?(r=Q(),r!==null?n=[n,r]:(n=null,a=g)):(n=null,a=g);i!==null?(c.substr(a,1)===")"?(g=")",a+=1):(g=null,m&&h('")"')),g!==null?e=[e,k,u,i,g]:(e=null,
a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c,b){cleanEx=[];for(var e=0;e<b.length;e++)cleanEx.push(b[e][1]);b={token:"args"};b.value=[c].concat(cleanEx);b.distinct=a==="DISTINCT"?!0:!1;return b}(e[1],e[2],e[3]):null;f===null&&(f=null,a=j);j=f!==null?f:null}(m=d)&&j===null&&h("[62] ArgList");z[b]={nextPos:a,result:j};return j}function Sb(){var b="ExpressionList@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=ma()!==null?{token:"args",value:[]}:
null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;if(c.substr(a,1)==="("){var e="(";a+=1}else e=null,m&&h('"("');if(e!==null){var k=Q();if(k!==null){var u=[],i=a;if(c.substr(a,1)===","){var g=",";a+=1}else g=null,m&&h('","');if(g!==null){var n=Q();n!==null?g=[g,n]:(g=null,a=i)}else g=null,a=i;for(;g!==null;)u.push(g),i=a,c.substr(a,1)===","?(g=",",a+=1):(g=null,m&&h('","')),g!==null?(n=Q(),n!==null?g=[g,n]:(g=null,a=i)):(g=null,a=i);u!==null?(c.substr(a,1)===")"?(i=")",a+=1):(i=null,m&&h('")"')),
i!==null?e=[e,k,u,i]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c){cleanEx=[];for(var b=0;b<c.length;b++)cleanEx.push(c[b][1]);b={token:"args"};b.value=[a].concat(cleanEx);return b}(e[1],e[2]):null;f===null&&(f=null,a=j);j=f!==null?f:null}(m=d)&&j===null&&h("[63] ExpressionList");z[b]={nextPos:a,result:j};return j}function Jb(){var b="ConstructTemplate@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="{"){var e="{";a+=1}else e=
null,m&&h('"{"');if(e!==null){for(var k=[],u=r();u!==null;)k.push(u),u=r();if(k!==null)if(u=rb(),u=u!==null?u:"",u!==null){for(var i=[],g=r();g!==null;)i.push(g),g=r();i!==null?(c.substr(a,1)==="}"?(g="}",a+=1):(g=null,m&&h('"}"')),g!==null?e=[e,k,u,i,g]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?e[2]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[64] ConstructTemplate");z[b]={nextPos:a,result:f};return f}function rb(){var b="ConstructTriples@"+a,d=z[b];
if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=ob();if(e!==null){for(var k=a,u=[],i=r();i!==null;)u.push(i),i=r();if(u!==null)if(c.substr(a,1)==="."?(i=".",a+=1):(i=null,m&&h('"."')),i!==null){for(var g=[],n=r();n!==null;)g.push(n),n=r();g!==null?(n=rb(),n=n!==null?n:"",n!==null?u=[u,i,g,n]:(u=null,a=k)):(u=null,a=k)}else u=null,a=k;else u=null,a=k;k=u!==null?u:"";k!==null?e=[e,k]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){var b=a.triplesContext;typeof c==="object"&&c.length!=
null&&c[3].triplesContext!=null&&(b=b.concat(c[3].triplesContext));return{token:"triplestemplate",triplesContext:b}}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[65] ConstructTriples");z[b]={nextPos:a,result:f};return f}function ob(){var c="TriplesSameSubject@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;for(var d=a,f=a,e=[],j=r();j!==null;)e.push(j),j=r();if(e!==null)if(j=Na(),j!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();k!==null?(i=Ca(),i!==null?e=[e,j,k,i]:(e=null,
a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){var b=c.triplesContext;if(c.pairs)for(var e=0;e<c.pairs.length;e++){var f=c.pairs[e],h=null;f[1].length!=null&&(f[1]=f[1][0]);a.token&&a.token==="triplesnodecollection"?(h={subject:a.chainSubject[0],predicate:f[0],object:f[1]},b.push(h),b=b.concat(a.triplesContext)):(h={subject:a,predicate:f[0],object:f[1]},b.push(h))}e={token:"triplessamesubject"};e.triplesContext=b;e.chainSubject=a;return e}(e[1],e[3]):null;f===null&&(f=
null,a=d);if(f!==null)d=f;else{f=d=a;e=[];for(j=r();j!==null;)e.push(j),j=r();if(e!==null)if(j=Oa(),j!==null){k=[];for(i=r();i!==null;)k.push(i),i=r();k!==null?(i=Tb(),i!==null?e=[e,j,k,i]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){var b=a.triplesContext,e=a.chainSubject;if(c.pairs)for(var f=0;f<c.pairs.length;f++){var h=c.pairs[f];h[1].length!=null&&(h[1]=h[1][0]);if(a.token==="triplesnodecollection")for(var d=0;d<e.length;d++){var m=e[d];if(m.triplesContext!=
null){var j={subject:m.chainSubject,predicate:h[0],object:h[1]};b.concat(m.triplesContext)}else j={subject:e[d],predicate:h[0],object:h[1]},b.push(j)}else j={subject:e,predicate:h[0],object:h[1]},b.push(j)}f={token:"triplessamesubject"};f.triplesContext=b;f.chainSubject=e;return f}(e[1],e[3]):null;f===null&&(f=null,a=d);d=f!==null?f:null}(m=b)&&d===null&&h("[66] TriplesSameSubject");z[c]={nextPos:a,result:d};return d}function Ca(){var b="PropertyListNotEmpty@"+a,d=z[b];if(d)return a=d.nextPos,d.result;
d=m;m=!1;var j=a,f=a,e=Pa();if(e!==null){for(var k=[],u=r();u!==null;)k.push(u),u=r();if(k!==null)if(u=na(),u!==null){for(var i=[],g=a,n=[],s=r();s!==null;)n.push(s),s=r();if(n!==null)if(c.substr(a,1)===";"?(s=";",a+=1):(s=null,m&&h('";"')),s!==null){for(var o=[],q=r();q!==null;)o.push(q),q=r();if(o!==null){var q=a,t=Pa();if(t!==null){for(var v=[],A=r();A!==null;)v.push(A),A=r();v!==null?(A=na(),A!==null?t=[t,v,A]:(t=null,a=q)):(t=null,a=q)}else t=null,a=q;q=t!==null?t:"";q!==null?n=[n,s,o,q]:(n=
null,a=g)}else n=null,a=g}else n=null,a=g;else n=null,a=g;for(;n!==null;){i.push(n);g=a;n=[];for(s=r();s!==null;)n.push(s),s=r();if(n!==null)if(c.substr(a,1)===";"?(s=";",a+=1):(s=null,m&&h('";"')),s!==null){o=[];for(q=r();q!==null;)o.push(q),q=r();if(o!==null){q=a;t=Pa();if(t!==null){v=[];for(A=r();A!==null;)v.push(A),A=r();v!==null?(A=na(),A!==null?t=[t,v,A]:(t=null,a=q)):(t=null,a=q)}else t=null,a=q;q=t!==null?t:"";q!==null?n=[n,s,o,q]:(n=null,a=g)}else n=null,a=g}else n=null,a=g;else n=null,a=
g}i!==null?e=[e,k,u,i]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c,b){token={token:"propertylist"};for(var e=[],f=[],h=0;h<c.length;h++)c[h].triplesContext!=null?(e=e.concat(c[h].triplesContext),c[h].token==="triplesnodecollection"&&c[h].chainSubject.length!=null?f.push([a,c[h].chainSubject[0]]):f.push([a,c[h].chainSubject])):f.push([a,c[h]]);for(h=0;h<b.length;h++)for(var c=b[h][3],a=c[0],c=c[2]||[],d=0;d<c.length;d++)c[d].triplesContext!=null?(e=e.concat(c[d].triplesContext),
f.push([a,c[d].chainSubject])):f.push([a,c[d]]);token.pairs=f;token.triplesContext=e;return token}(e[0],e[2],e[3]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[67] PropertyListNotEmpty");z[b]={nextPos:a,result:f};return f}function Tb(){var c="PropertyList@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=Ca(),d=d!==null?d:"";(m=b)&&d===null&&h("[68] PropertyList");z[c]={nextPos:a,result:d};return d}function na(){var b="ObjectList@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=
a,f=a,e=ra();if(e!==null){for(var k=[],u=r();u!==null;)k.push(u),u=r();if(k!==null){var u=[],i=a;if(c.substr(a,1)===","){var g=",";a+=1}else g=null,m&&h('","');if(g!==null){for(var n=[],s=r();s!==null;)n.push(s),s=r();n!==null?(s=ra(),s!==null?g=[g,n,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;for(;g!==null;)if(u.push(g),i=a,c.substr(a,1)===","?(g=",",a+=1):(g=null,m&&h('","')),g!==null){n=[];for(s=r();s!==null;)n.push(s),s=r();n!==null?(s=ra(),s!==null?g=[g,n,s]:(g=null,a=i)):(g=null,a=i)}else g=
null,a=i;u!==null?e=[e,k,u]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c){var b=[];b.push(a);for(var e=0;e<c.length;e++)for(var f=0;f<c[e].length;f++)typeof c[e][f]=="object"&&c[e][f].token!=null&&b.push(c[e][f]);return b}(e[0],e[2]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[69] ObjectList");z[b]={nextPos:a,result:f};return f}function Pa(){var b="Verb@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=la();if(j===null){j=a;if(c.substr(a,1)==="a"){var f="a";a+=
1}else f=null,m&&h('"a"');f=f!==null?{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}:null;f===null&&(f=null,a=j);j=f!==null?f:null}(m=d)&&j===null&&h("[71] Verb");z[b]={nextPos:a,result:j};return j}function Lb(){var c="TriplesSameSubjectPath@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;for(var d=a,f=a,e=[],j=r();j!==null;)e.push(j),j=r();if(e!==null)if(j=Na(),j!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();k!==null?(i=Ub(),i!==null?e=[e,
j,k,i]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){var b=c.triplesContext;if(c.pairs)for(var e=0;e<c.pairs.length;e++){var f=c.pairs[e],h=null;f[1].length!=null&&(f[1]=f[1][0]);a.token&&a.token==="triplesnodecollection"?(h={subject:a.chainSubject[0],predicate:f[0],object:f[1]},b.push(h),b=b.concat(a.triplesContext)):(h={subject:a,predicate:f[0],object:f[1]},b.push(h))}e={token:"triplessamesubject"};e.triplesContext=b;e.chainSubject=a;return e}(e[1],e[3]):null;
f===null&&(f=null,a=d);if(f!==null)d=f;else{f=d=a;e=[];for(j=r();j!==null;)e.push(j),j=r();if(e!==null)if(j=Oa(),j!==null){k=[];for(i=r();i!==null;)k.push(i),i=r();k!==null?(i=Vb(),i!==null?e=[e,j,k,i]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f;f=e!==null?function(a,c){var b=a.triplesContext,e=a.chainSubject;if(c.pairs)for(var f=0;f<c.pairs.length;f++){var h=c.pairs[f];h[1].length!=null&&(h[1]=h[1][0]);if(a.token==="triplesnodecollection")for(var d=0;d<e.length;d++){var m=e[d];if(m.triplesContext!=
null){var j={subject:m.chainSubject,predicate:h[0],object:h[1]};b.concat(m.triplesContext)}else j={subject:e[d],predicate:h[0],object:h[1]},b.push(j)}else j={subject:e,predicate:h[0],object:h[1]},b.push(j)}f={token:"triplessamesubject"};f.triplesContext=b;f.chainSubject=e;return f}(e[1],e[3]):null;f===null&&(f=null,a=d);d=f!==null?f:null}(m=b)&&d===null&&h("[72] TriplesSameSubjectPath");z[c]={nextPos:a,result:d};return d}function Ub(){var b="PropertyListNotEmptyPath@"+a,d=z[b];if(d)return a=d.nextPos,
d.result;d=m;m=!1;var j=a,f=a,e=Qa();e===null&&(e=T(),e=e!==null?e:null);if(e!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();if(k!==null)if(i=na(),i!==null){for(var g=[],n=a,o=[],s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)===";"?(s=";",a+=1):(s=null,m&&h('";"')),s!==null){for(var q=[],t=r();t!==null;)q.push(t),t=r();if(q!==null){var t=a,v=Qa();v===null&&(v=T(),v=v!==null?v:null);if(v!==null){var x=na();x!==null?v=[v,x]:(v=null,a=t)}else v=null,a=t;t=v!==null?v:"";t!==null?o=
[o,s,q,t]:(o=null,a=n)}else o=null,a=n}else o=null,a=n;else o=null,a=n;for(;o!==null;){g.push(o);n=a;o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)===";"?(s=";",a+=1):(s=null,m&&h('";"')),s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();q!==null?(t=a,v=Qa(),v===null&&(v=T(),v=v!==null?v:null),v!==null?(x=na(),x!==null?v=[v,x]:(v=null,a=t)):(v=null,a=t),t=v!==null?v:"",t!==null?o=[o,s,q,t]:(o=null,a=n)):(o=null,a=n)}else o=null,a=n;else o=null,a=n}g!==null?e=[e,k,i,g]:(e=null,
a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a,c,b){token={token:"propertylist"};for(var e=[],f=[],h=0;h<c.length;h++)c[h].triplesContext!=null?(e=e.concat(c[h].triplesContext),c[h].token==="triplesnodecollection"&&c[h].chainSubject.length!=null?f.push([a,c[h].chainSubject[0]]):f.push([a,c[h].chainSubject])):f.push([a,c[h]]);for(h=0;h<b.length;h++)for(var c=b[h][3],a=c[0],c=c[1]||[],d=0;d<c.length;d++)c[d].triplesContext!=null?(e=e.concat(c[d].triplesContext),f.push([a,
c[d].chainSubject])):f.push([a,c[d]]);token.pairs=f;token.triplesContext=e;return token}(e[0],e[2],e[3]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[73] PropertyListNotEmptyPath");z[b]={nextPos:a,result:f};return f}function Vb(){var c="PropertyListPath@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=Ca(),d=d!==null?d:"";(m=b)&&d===null&&h("[74] PropertyListPath");z[c]={nextPos:a,result:d};return d}function Qa(){var c="VerbPath@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=
a,f=sb(),f=f!==null?f:null;f===null&&(f=null,a=d);(m=b)&&f===null&&h("[75]");z[c]={nextPos:a,result:f};return f}function sb(){var b="PathAlternative@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=Ra();if(e!==null){var k=[],i=a;if(c.substr(a,1)==="|"){var g="|";a+=1}else g=null,m&&h('"|"');if(g!==null){var n=Ra();n!==null?g=[g,n]:(g=null,a=i)}else g=null,a=i;for(;g!==null;)k.push(g),i=a,c.substr(a,1)==="|"?(g="|",a+=1):(g=null,m&&h('"|"')),g!==null?(n=Ra(),n!==null?g=[g,n]:(g=null,
a=i)):(g=null,a=i);k!==null?e=[e,k]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){if(c==null||c.length===0)return a;else{for(var b=[],e=0;e<c.length;e++)b.push(c[1]);e={token:"path",kind:"alternative"};e.value=b;return e}}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[78] PathAlternative");z[b]={nextPos:a,result:f};return f}function Ra(){var b="PathSequence@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=Sa();if(e!==null){var k=[],i=a;if(c.substr(a,1)==="/"){var g=
"/";a+=1}else g=null,m&&h('"/"');if(g!==null){var n=Sa();n!==null?g=[g,n]:(g=null,a=i)}else g=null,a=i;for(;g!==null;)k.push(g),i=a,c.substr(a,1)==="/"?(g="/",a+=1):(g=null,m&&h('"/"')),g!==null?(n=Sa(),n!==null?g=[g,n]:(g=null,a=i)):(g=null,a=i);k!==null?e=[e,k]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){if(c==null||c.length===0)return a;else{for(var b=[a],e=0;e<c.length;e++)b.push(c[e][1]);e={token:"path",kind:"sequence"};e.value=b;return e}}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=
d)&&f===null&&h("[79] PathSequence");z[b]={nextPos:a,result:f};return f}function ub(){var c="PathElt@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=a,e=Wb();if(e!==null){var j=Xb(),j=j!==null?j:"";j!==null?e=[e,j]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){if(a.token&&a.token!="path"&&c=="")return a;else if(a.token&&a.token!=b&&c!=""){var b={token:"path",kind:"element"};b.value=a;b.modifier=c;return b}else return a.modifier=c,a}(e[0],e[1]):null;f===null&&(f=null,a=d);(m=
b)&&f===null&&h("[88] PathElt");z[c]={nextPos:a,result:f};return f}function Sa(){var b="PathEltOrInverse@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=ub();if(j===null){var f=j=a;if(c.substr(a,1)==="^"){var e="^";a+=1}else e=null,m&&h('"^"');if(e!==null){var k=ub();k!==null?e=[e,k]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){var c={token:"path",kind:"inversePath"};c.value=a;return c}(e[1]):null;f===null&&(f=null,a=j);j=f!==null?f:null}(m=d)&&j===null&&h("[81] PathEltOrInverse");
z[b]={nextPos:a,result:j};return j}function Xb(){var b="PathMod@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;if(c.substr(a,1)==="*"){var j="*";a+=1}else j=null,m&&h('"*"');if(j===null&&(c.substr(a,1)==="?"?(j="?",a+=1):(j=null,m&&h('"?"')),j===null&&(c.substr(a,1)==="+"?(j="+",a+=1):(j=null,m&&h('"+"')),j===null))){j=a;if(c.substr(a,1)==="{"){var f="{";a+=1}else f=null,m&&h('"{"');if(f!==null){var e=a,k=fa();if(k!==null){var i=a;if(c.substr(a,1)===","){var g=",";a+=1}else g=null,m&&h('","');
if(g!==null){if(c.substr(a,1)==="}"){var n="}";a+=1}else n=null,m&&h('"}"');if(n===null){var n=a,r=fa();if(r!==null){if(c.substr(a,1)==="}"){var s="}";a+=1}else s=null,m&&h('"}"');s!==null?r=[r,s]:(r=null,a=n)}else r=null,a=n;n=r!==null?r:null}n!==null?g=[g,n]:(g=null,a=i)}else g=null,a=i;g!==null?i=g:(c.substr(a,1)==="}"?(i="}",a+=1):(i=null,m&&h('"}"')),i=i!==null?i:null);i!==null?k=[k,i]:(k=null,a=e)}else k=null,a=e;k!==null?e=k:(e=a,c.substr(a,1)===","?(k=",",a+=1):(k=null,m&&h('","')),k!==null?
(i=fa(),i!==null?(c.substr(a,1)==="}"?(g="}",a+=1):(g=null,m&&h('"}"')),g!==null?k=[k,i,g]:(k=null,a=e)):(k=null,a=e)):(k=null,a=e),e=k!==null?k:null);e!==null?f=[f,e]:(f=null,a=j)}else f=null,a=j;j=f!==null?f:null}(m=d)&&j===null&&h("[82] PathMod");z[b]={nextPos:a,result:j};return j}function Wb(){var b="PathPrimary@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=U();if(j===null){j=a;if(c.substr(a,1)==="a"){var f="a";a+=1}else f=null,m&&h('"a"');f=f!==null?{token:"uri",prefix:null,suffix:null,
value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}:null;f===null&&(f=null,a=j);if(f!==null)j=f;else{j=a;c.substr(a,1)==="!"?(f="!",a+=1):(f=null,m&&h('"!"'));if(f!==null){var e=Yb();e!==null?f=[f,e]:(f=null,a=j)}else f=null,a=j;if(f!==null)j=f;else{f=j=a;c.substr(a,1)==="("?(e="(",a+=1):(e=null,m&&h('"("'));if(e!==null){var k=sb();if(k!==null){if(c.substr(a,1)===")"){var i=")";a+=1}else i=null,m&&h('")"');i!==null?e=[e,k,i]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;f=e!==null?e[1]:null;f===
null&&(f=null,a=j);j=f!==null?f:null}}}(m=d)&&j===null&&h("[83] PathPrimary");z[b]={nextPos:a,result:j};return j}function Yb(){var b="PathNegatedPropertySet@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=Da();if(d===null){d=a;if(c.substr(a,1)==="("){var j="(";a+=1}else j=null,m&&h('"("');if(j!==null){var f=a,e=Da();if(e!==null){var k=[],i=a;if(c.substr(a,1)==="|"){var g="|";a+=1}else g=null,m&&h('"|"');if(g!==null){var n=Da();n!==null?g=[g,n]:(g=null,a=i)}else g=null,a=i;for(;g!==null;)k.push(g),i=
a,c.substr(a,1)==="|"?(g="|",a+=1):(g=null,m&&h('"|"')),g!==null?(n=Da(),n!==null?g=[g,n]:(g=null,a=i)):(g=null,a=i);k!==null?e=[e,k]:(e=null,a=f)}else e=null,a=f;f=e!==null?e:"";f!==null?(c.substr(a,1)===")"?(e=")",a+=1):(e=null,m&&h('")"')),e!==null?j=[j,f,e]:(j=null,a=d)):(j=null,a=d)}else j=null,a=d;d=j!==null?j:null}z[b]={nextPos:a,result:d};return d}function Da(){var b="PathOneInPropertySet@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=U();if(j===null&&(c.substr(a,1)==="a"?(j="a",
a+=1):(j=null,m&&h('"a"')),j===null)){j=a;if(c.substr(a,1)==="^"){var f="^";a+=1}else f=null,m&&h('"^"');if(f!==null){var e=U();e===null&&(c.substr(a,1)==="a"?(e="a",a+=1):(e=null,m&&h('"a"')),e=e!==null?e:null);e!==null?f=[f,e]:(f=null,a=j)}else f=null,a=j;j=f!==null?f:null}(m=d)&&j===null&&h("[85] PathOneInPropertySet");z[b]={nextPos:a,result:j};return j}function Oa(){var c="TriplesNode@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=a,f=Zb(),f=f!==null?function(a){triplesContext=[];
chainSubject=[];for(var c=null,b=0;b<a.length;b++)ga++,c=null,a[b].chainSubject==null&&a[b].triplesContext==null?c=a[b]:(c=a[b].chainSubject,triplesContext=triplesContext.concat(nextSubject.triplesContext)),c={subject:{token:"blank",value:"_:"+ga},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:c},b==0&&chainSubject.push(c.subject),triplesContext.push(c),c=b===a.length-1?{subject:{token:"blank",value:"_:"+ga},predicate:{token:"uri",prefix:null,
suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",value:"_:"+ga},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(ga+1)}},triplesContext.push(c);return{token:"triplesnodecollection",triplesContext:triplesContext,chainSubject:chainSubject}}(f):null;f===null&&(f=null,a=
d);f!==null?d=f:(d=$b(),d=d!==null?d:null);(m=b)&&d===null&&h("[87] TriplesNode");z[c]={nextPos:a,result:d};return d}function $b(){var b="BlankNodePropertyList@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],k=r();k!==null;)e.push(k),k=r();if(e!==null)if(c.substr(a,1)==="["?(k="[",a+=1):(k=null,m&&h('"["')),k!==null){for(var i=[],g=r();g!==null;)i.push(g),g=r();if(i!==null)if(g=Ca(),g!==null){for(var n=[],o=r();o!==null;)n.push(o),o=r();if(n!==null)if(c.substr(a,1)==="]"?
(o="]",a+=1):(o=null,m&&h('"]"')),o!==null){for(var s=[],q=r();q!==null;)s.push(q),q=r();s!==null?e=[e,k,i,g,n,o,s]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?function(a){ga++;for(var c={token:"blank",value:"_:"+ga},b=[],e=0;e<a.pairs.length;e++){var f=a.pairs[e],h={};h.subject=c;h.predicate=f[0];f[1].length!=null&&(f[1]=f[1][0]);h.object=f[1];b.push(h)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(b),
chainSubject:c}}(e[3]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[88] BlankNodePropertyList");z[b]={nextPos:a,result:f};return f}function Zb(){var b="Collection@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,f=a,e=[],k=r();k!==null;)e.push(k),k=r();if(e!==null)if(c.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&h('"("')),k!==null){for(var i=[],g=r();g!==null;)i.push(g),g=r();if(i!==null){var n=ra();if(n!==null)for(g=[];n!==null;)g.push(n),n=ra();else g=null;if(g!==null){for(var n=
[],o=r();o!==null;)n.push(o),o=r();if(n!==null)if(c.substr(a,1)===")"?(o=")",a+=1):(o=null,m&&h('")"')),o!==null){for(var s=[],q=r();q!==null;)s.push(q),q=r();s!==null?e=[e,k,i,g,n,o,s]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f;f=e!==null?e[3]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[89] Collection");z[b]={nextPos:a,result:f};return f}function ra(){var c="GraphNode@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;for(var d=
a,f=a,e=[],j=r();j!==null;)e.push(j),j=r();if(e!==null)if(j=Na(),j!==null){for(var k=[],i=r();i!==null;)k.push(i),i=r();k!==null?e=[e,j,k]:(e=null,a=f)}else e=null,a=f;else e=null,a=f;if(e!==null)f=e;else{f=a;e=[];for(j=r();j!==null;)e.push(j),j=r();if(e!==null)if(j=Oa(),j!==null){k=[];for(i=r();i!==null;)k.push(i),i=r();k!==null?e=[e,j,k]:(e=null,a=f)}else e=null,a=f;else e=null,a=f;f=e!==null?e:null}f=f!==null?f[1]:null;f===null&&(f=null,a=d);(m=b)&&f===null&&h("[90] GraphNode");z[c]={nextPos:a,
result:f};return f}function Na(){var c="VarOrTerm@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=T();d===null&&(d=ac(),d=d!==null?d:null);(m=b)&&d===null&&h("[91] VarOrTerm");z[c]={nextPos:a,result:d};return d}function la(){var c="VarOrIRIref@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=T();d===null&&(d=U(),d=d!==null?d:null);(m=b)&&d===null&&h("[92] VarOrIRIref");z[c]={nextPos:a,result:d};return d}function T(){var c="Var@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=
!1;var d=a,f=bc();f===null&&(f=cc(),f=f!==null?f:null);f=f!==null?function(a){var c={token:"var"};c.value=a;return c}(f):null;f===null&&(f=null,a=d);(m=b)&&f===null&&h("[93] Var");z[c]={nextPos:a,result:f};return f}function ac(){var c="GraphTerm@"+a,b=z[c];if(b)return a=b.nextPos,b.result;b=m;m=!1;var d=U();d===null&&(d=Ja(),d===null&&(d=Ka(),d===null&&(d=La(),d===null&&(d=dc(),d===null&&(d=ma(),d=d!==null?d:null)))));(m=b)&&d===null&&h("[94] GraphTerm");z[c]={nextPos:a,result:d};return d}function Q(){var b=
"ConditionalOrExpression@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=Ta();if(e!==null){for(var k=[],i=a,g=[],n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,2)==="||"?(n="||",a+=2):(n=null,m&&h('"||"')),n!==null){for(var o=[],s=r();s!==null;)o.push(s),s=r();o!==null?(s=Ta(),s!==null?g=[g,n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=i;for(;g!==null;){k.push(g);i=a;g=[];for(n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,2)==="||"?(n="||",
a+=2):(n=null,m&&h('"||"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=Ta(),s!==null?g=[g,n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=i}k!==null?e=[e,k]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){if(c.length===0)return a;for(var b={token:"expression",expressionType:"conditionalor"},e=[a],f=0;f<c.length;f++)e.push(c[f][3]);b.operands=e;return b}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[96] ConditionalOrExpression");z[b]={nextPos:a,
result:f};return f}function Ta(){var b="ConditionalAndExpression@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=Ua();if(e!==null){for(var k=[],i=a,g=[],n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,2)==="&&"?(n="&&",a+=2):(n=null,m&&h('"&&"')),n!==null){for(var o=[],s=r();s!==null;)o.push(s),s=r();o!==null?(s=Ua(),s!==null?g=[g,n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=i;for(;g!==null;){k.push(g);i=a;g=[];for(n=r();n!==null;)g.push(n),n=r();if(g!==
null)if(c.substr(a,2)==="&&"?(n="&&",a+=2):(n=null,m&&h('"&&"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=Ua(),s!==null?g=[g,n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=i}k!==null?e=[e,k]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){if(c.length===0)return a;for(var b={token:"expression",expressionType:"conditionaland"},e=[a],f=0;f<c.length;f++)e.push(c[f][3]);b.operands=e;return b}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[97] ConditionalAndExpression");
z[b]={nextPos:a,result:f};return f}function Ua(){var b="RelationalExpression@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=W();if(e!==null){for(var k=[],i=a,g=[],n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,1)==="="?(n="=",a+=1):(n=null,m&&h('"="')),n!==null){for(var o=[],s=r();s!==null;)o.push(s),s=r();o!==null?(s=W(),s!==null?g=[g,n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=i;if(g!==null)i=g;else{i=a;g=[];for(n=r();n!==null;)g.push(n),n=r();
if(g!==null)if(c.substr(a,2)==="!="?(n="!=",a+=2):(n=null,m&&h('"!="')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=W(),s!==null?g=[g,n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=i;if(g!==null)i=g;else{i=a;g=[];for(n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,1)==="<"?(n="<",a+=1):(n=null,m&&h('"<"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=W(),s!==null?g=[g,n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=i;
if(g!==null)i=g;else{i=a;g=[];for(n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,1)===">"?(n=">",a+=1):(n=null,m&&h('">"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=W(),s!==null?g=[g,n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=i;if(g!==null)i=g;else{i=a;g=[];for(n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,2)==="<="?(n="<=",a+=2):(n=null,m&&h('"<="')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=W(),s!==null?g=[g,
n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=i;if(g!==null)i=g;else{i=a;g=[];for(n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,2)===">="?(n=">=",a+=2):(n=null,m&&h('">="')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=W(),s!==null?g=[g,n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=i;i=g!==null?g:null}}}}}for(;i!==null;){k.push(i);i=a;g=[];for(n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,1)==="="?(n="=",a+=1):(n=null,m&&
h('"="')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=W(),s!==null?g=[g,n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=i;if(g!==null)i=g;else{i=a;g=[];for(n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,2)==="!="?(n="!=",a+=2):(n=null,m&&h('"!="')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=W(),s!==null?g=[g,n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=i;if(g!==null)i=g;else{i=a;g=[];for(n=r();n!==null;)g.push(n),
n=r();if(g!==null)if(c.substr(a,1)==="<"?(n="<",a+=1):(n=null,m&&h('"<"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=W(),s!==null?g=[g,n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=i;if(g!==null)i=g;else{i=a;g=[];for(n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,1)===">"?(n=">",a+=1):(n=null,m&&h('">"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=W(),s!==null?g=[g,n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=
i;if(g!==null)i=g;else{i=a;g=[];for(n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,2)==="<="?(n="<=",a+=2):(n=null,m&&h('"<="')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=W(),s!==null?g=[g,n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=i;if(g!==null)i=g;else{i=a;g=[];for(n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,2)===">="?(n=">=",a+=2):(n=null,m&&h('">="')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=W(),s!==null?
g=[g,n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=i;i=g!==null?g:null}}}}}}k!==null?e=[e,k]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){if(c.length===0)return a;else{var b={expressionType:"relationalexpression"};b.operator=c[0][1];b.op1=a;b.op2=c[0][3];b.token="expression";return b}}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[99] RelationalExpression");z[b]={nextPos:a,result:f};return f}function W(){var b="AdditiveExpression@"+a,d=z[b];if(d)return a=d.nextPos,
d.result;d=m;m=!1;var j=a,f=a,e=sa();if(e!==null){for(var i=[],k=a,g=[],n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,1)==="+"?(n="+",a+=1):(n=null,m&&h('"+"')),n!==null){for(var o=[],s=r();s!==null;)o.push(s),s=r();o!==null?(s=sa(),s!==null?g=[g,n,o,s]:(g=null,a=k)):(g=null,a=k)}else g=null,a=k;else g=null,a=k;if(g!==null)k=g;else{k=a;g=[];for(n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,1)==="-"?(n="-",a+=1):(n=null,m&&h('"-"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),
s=r();o!==null?(s=sa(),s!==null?g=[g,n,o,s]:(g=null,a=k)):(g=null,a=k)}else g=null,a=k;else g=null,a=k;if(g!==null)k=g;else{k=a;g=ua();g===null&&(g=ua(),g=g!==null?g:null);if(g!==null){n=a;o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)==="*"?(s="*",a+=1):(s=null,m&&h('"*"')),s!==null){for(var q=[],t=r();t!==null;)q.push(t),t=r();q!==null?(t=ba(),t!==null?o=[o,s,q,t]:(o=null,a=n)):(o=null,a=n)}else o=null,a=n;else o=null,a=n;if(o!==null)n=o;else{n=a;o=[];for(s=r();s!==null;)o.push(s),
s=r();if(o!==null)if(c.substr(a,1)==="/"?(s="/",a+=1):(s=null,m&&h('"/"')),s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();q!==null?(t=ba(),t!==null?o=[o,s,q,t]:(o=null,a=n)):(o=null,a=n)}else o=null,a=n;else o=null,a=n;n=o!==null?o:null}n=n!==null?n:"";n!==null?g=[g,n]:(g=null,a=k)}else g=null,a=k;k=g!==null?g:null}}for(;k!==null;){i.push(k);k=a;g=[];for(n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,1)==="+"?(n="+",a+=1):(n=null,m&&h('"+"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),
s=r();o!==null?(s=sa(),s!==null?g=[g,n,o,s]:(g=null,a=k)):(g=null,a=k)}else g=null,a=k;else g=null,a=k;if(g!==null)k=g;else{k=a;g=[];for(n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,1)==="-"?(n="-",a+=1):(n=null,m&&h('"-"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=sa(),s!==null?g=[g,n,o,s]:(g=null,a=k)):(g=null,a=k)}else g=null,a=k;else g=null,a=k;if(g!==null)k=g;else{k=a;g=ua();g===null&&(g=ua(),g=g!==null?g:null);if(g!==null){n=a;o=[];for(s=r();s!==null;)o.push(s),
s=r();if(o!==null)if(c.substr(a,1)==="*"?(s="*",a+=1):(s=null,m&&h('"*"')),s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();q!==null?(t=ba(),t!==null?o=[o,s,q,t]:(o=null,a=n)):(o=null,a=n)}else o=null,a=n;else o=null,a=n;if(o!==null)n=o;else{n=a;o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)==="/"?(s="/",a+=1):(s=null,m&&h('"/"')),s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();q!==null?(t=ba(),t!==null?o=[o,s,q,t]:(o=null,a=n)):(o=null,a=n)}else o=null,a=n;else o=null,
a=n;n=o!==null?o:null}n=n!==null?n:"";n!==null?g=[g,n]:(g=null,a=k)}else g=null,a=k;k=g!==null?g:null}}}i!==null?e=[e,i]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){if(c.length===0)return a;var b={token:"expression",expressionType:"additiveexpression"};b.summand=a;b.summands=[];for(var e=0;e<c.length;e++){var f=c[e],h={};if(f.length==4&&typeof f[1]==="string")h.operator=f[1],h.expression=f[3];else{var f={},d=h[0],j=h[1][1],k=h[1][3],j=null;d.value<0?(h.operator="-",d.value=-d.value):h.operator=
"+";f.token="expression";f.expressionType="multiplicativeexpression";f.operator=d;f.factors=[{operator:j,expression:k}];h.expression=f}b.summands.push(h)}return b}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[101] AdditiveExpression");z[b]={nextPos:a,result:f};return f}function sa(){var b="MultiplicativeExpression@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=ba();if(e!==null){for(var k=[],i=a,g=[],n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,1)===
"*"?(n="*",a+=1):(n=null,m&&h('"*"')),n!==null){for(var o=[],s=r();s!==null;)o.push(s),s=r();o!==null?(s=ba(),s!==null?g=[g,n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=i;if(g!==null)i=g;else{i=a;g=[];for(n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,1)==="/"?(n="/",a+=1):(n=null,m&&h('"/"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=ba(),s!==null?g=[g,n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=i;i=g!==null?g:null}for(;i!==null;){k.push(i);
i=a;g=[];for(n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,1)==="*"?(n="*",a+=1):(n=null,m&&h('"*"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=ba(),s!==null?g=[g,n,o,s]:(g=null,a=i)):(g=null,a=i)}else g=null,a=i;else g=null,a=i;if(g!==null)i=g;else{i=a;g=[];for(n=r();n!==null;)g.push(n),n=r();if(g!==null)if(c.substr(a,1)==="/"?(n="/",a+=1):(n=null,m&&h('"/"')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(s=ba(),s!==null?g=[g,n,o,s]:(g=null,a=i)):(g=
null,a=i)}else g=null,a=i;else g=null,a=i;i=g!==null?g:null}}k!==null?e=[e,k]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,c){if(c.length===0)return a;var b={token:"expression",expressionType:"multiplicativeexpression"};b.factor=a;b.factors=[];for(var e=0;e<c.length;e++){var f=c[e],h={};h.operator=f[1];h.expression=f[3];b.factors.push(h)}return b}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[102] MultiplicativeExpression");z[b]={nextPos:a,result:f};return f}function ba(){var b=
"UnaryExpression@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="!"){var e="!";a+=1}else e=null,m&&h('"!"');if(e!==null){for(var i=[],g=r();g!==null;)i.push(g),g=r();i!==null?(g=Ea(),g!==null?e=[e,i,g]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"!"};b.expression=a;return b}(e[2]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,1)==="+"?(e="+",a+=
1):(e=null,m&&h('"+"'));if(e!==null){i=[];for(g=r();g!==null;)i.push(g),g=r();i!==null?(g=Ea(),g!==null?e=[e,i,g]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"+"};b.expression=a;return b}(e[2]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,1)==="-"?(e="-",a+=1):(e=null,m&&h('"-"'));if(e!==null){i=[];for(g=r();g!==null;)i.push(g),g=r();i!==null?(g=Ea(),g!==null?e=[e,i,g]:(e=null,a=f)):
(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"-"};b.expression=a;return b}(e[2]):null;f===null&&(f=null,a=j);f!==null?j=f:(j=Ea(),j=j!==null?j:null)}}(m=d)&&j===null&&h("[103] UnaryExpression");z[b]={nextPos:a,result:j};return j}function Ea(){var b="PrimaryExpression@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=Ia();if(d===null&&(d=Ha(),d===null&&(d=ec(),d===null))){var d=a,f=Ja(),f=f!==null?function(a){var b=
{token:"expression",expressionType:"atomic",primaryexpression:"rdfliteral"};b.value=a;return b}(f):null;f===null&&(f=null,a=d);f!==null?d=f:(d=a,f=Ka(),f=f!==null?function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"numericliteral"};b.value=a;return b}(f):null,f===null&&(f=null,a=d),f!==null?d=f:(d=a,f=La(),f=f!==null?function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"booleanliteral"};b.value=a;return b}(f):null,f===null&&(f=null,a=d),f!==
null?d=f:(d=fc(),d===null&&(d=a,f=T(),f=f!==null?function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"var"};b.value=a;return b}(f):null,f===null&&(f=null,a=d),d=f!==null?f:null))))}(m=c)&&d===null&&h("[104] PrimaryExpression");z[b]={nextPos:a,result:d};return d}function Ia(){var b="BrackettedExpression@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="("){var e="(";a+=1}else e=null,m&&h('"("');if(e!==null){for(var g=[],i=r();i!==null;)g.push(i),
i=r();if(g!==null)if(i=Q(),i!==null){for(var k=[],n=r();n!==null;)k.push(n),n=r();k!==null?(c.substr(a,1)===")"?(n=")",a+=1):(n=null,m&&h('")"')),n!==null?e=[e,g,i,k,n]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?e[2]:null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[105] BrackettedExpression");z[b]={nextPos:a,result:f};return f}function Ha(){var b="BuiltInCall@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="S"){var e="S";
a+=1}else e=null,m&&h('"S"');e===null&&(c.substr(a,1)==="s"?(e="s",a+=1):(e=null,m&&h('"s"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="T"){var g="T";a+=1}else g=null,m&&h('"T"');g===null&&(c.substr(a,1)==="t"?(g="t",a+=1):(g=null,m&&h('"t"')),g=g!==null?g:null);if(g!==null){if(c.substr(a,1)==="R"){var i="R";a+=1}else i=null,m&&h('"R"');i===null&&(c.substr(a,1)==="r"?(i="r",a+=1):(i=null,m&&h('"r"')),i=i!==null?i:null);if(i!==null){for(var k=[],n=r();n!==null;)k.push(n),n=r();if(k!==null)if(c.substr(a,
1)==="("?(n="(",a+=1):(n=null,m&&h('"("')),n!==null){for(var o=[],s=r();s!==null;)o.push(s),s=r();if(o!==null)if(s=Q(),s!==null){for(var q=[],t=r();t!==null;)q.push(t),t=r();q!==null?(c.substr(a,1)===")"?(t=")",a+=1):(t=null,m&&h('")"')),t!==null?e=[e,g,i,k,n,o,s,q,t]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"str"};
b.args=[a];return b}(e[6]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,1)==="L"?(e="L",a+=1):(e=null,m&&h('"L"'));e===null&&(c.substr(a,1)==="l"?(e="l",a+=1):(e=null,m&&h('"l"')),e=e!==null?e:null);if(e!==null)if(c.substr(a,1)==="A"?(g="A",a+=1):(g=null,m&&h('"A"')),g===null&&(c.substr(a,1)==="a"?(g="a",a+=1):(g=null,m&&h('"a"')),g=g!==null?g:null),g!==null)if(c.substr(a,1)==="N"?(i="N",a+=1):(i=null,m&&h('"N"')),i===null&&(c.substr(a,1)==="n"?(i="n",a+=1):(i=null,m&&h('"n"')),
i=i!==null?i:null),i!==null)if(c.substr(a,1)==="G"?(k="G",a+=1):(k=null,m&&h('"G"')),k===null&&(c.substr(a,1)==="g"?(k="g",a+=1):(k=null,m&&h('"g"')),k=k!==null?k:null),k!==null){n=[];for(o=r();o!==null;)n.push(o),o=r();if(n!==null)if(c.substr(a,1)==="("?(o="(",a+=1):(o=null,m&&h('"("')),o!==null){s=[];for(q=r();q!==null;)s.push(q),q=r();if(s!==null)if(q=Q(),q!==null){for(var t=[],v=r();v!==null;)t.push(v),v=r();t!==null?(c.substr(a,1)===")"?(v=")",a+=1):(v=null,m&&h('")"')),v!==null?e=[e,g,i,k,n,
o,s,q,t,v]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;f=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"lang"};b.args=[a];return b}(e[7]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,11)==="LANGMATCHES"?(e="LANGMATCHES",a+=11):(e=null,m&&h('"LANGMATCHES"'));if(e!==null){g=[];for(i=r();i!==null;)g.push(i),i=r();if(g!==null)if(c.substr(a,
1)==="("?(i="(",a+=1):(i=null,m&&h('"("')),i!==null){k=[];for(n=r();n!==null;)k.push(n),n=r();if(k!==null)if(n=Q(),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)===","?(s=",",a+=1):(s=null,m&&h('","')),s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=Q(),t!==null){for(var v=[],x=r();x!==null;)v.push(x),x=r();v!==null?(c.substr(a,1)===")"?(x=")",a+=1):(x=null,m&&h('")"')),x!==null?e=[e,g,i,k,n,o,s,q,t,v,x]:(e=null,a=f)):(e=null,a=f)}else e=null,a=
f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"langmatches"};c.args=[a,b];return c}(e[4],e[8]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,1)==="D"?(e="D",a+=1):(e=null,m&&h('"D"'));e===null&&(c.substr(a,1)==="d"?(e="d",a+=1):(e=null,m&&h('"d"')),e=e!==null?e:null);if(e!==null)if(c.substr(a,1)==="A"?(g=
"A",a+=1):(g=null,m&&h('"A"')),g===null&&(c.substr(a,1)==="a"?(g="a",a+=1):(g=null,m&&h('"a"')),g=g!==null?g:null),g!==null)if(c.substr(a,1)==="T"?(i="T",a+=1):(i=null,m&&h('"T"')),i===null&&(c.substr(a,1)==="t"?(i="t",a+=1):(i=null,m&&h('"t"')),i=i!==null?i:null),i!==null)if(c.substr(a,1)==="A"?(k="A",a+=1):(k=null,m&&h('"A"')),k===null&&(c.substr(a,1)==="a"?(k="a",a+=1):(k=null,m&&h('"a"')),k=k!==null?k:null),k!==null)if(c.substr(a,1)==="T"?(n="T",a+=1):(n=null,m&&h('"T"')),n===null&&(c.substr(a,
1)==="t"?(n="t",a+=1):(n=null,m&&h('"t"')),n=n!==null?n:null),n!==null)if(c.substr(a,1)==="Y"?(o="Y",a+=1):(o=null,m&&h('"Y"')),o===null&&(c.substr(a,1)==="y"?(o="y",a+=1):(o=null,m&&h('"y"')),o=o!==null?o:null),o!==null)if(c.substr(a,1)==="P"?(s="P",a+=1):(s=null,m&&h('"P"')),s===null&&(c.substr(a,1)==="p"?(s="p",a+=1):(s=null,m&&h('"p"')),s=s!==null?s:null),s!==null)if(c.substr(a,1)==="E"?(q="E",a+=1):(q=null,m&&h('"E"')),q===null&&(c.substr(a,1)==="e"?(q="e",a+=1):(q=null,m&&h('"e"')),q=q!==null?
q:null),q!==null){t=[];for(v=r();v!==null;)t.push(v),v=r();if(t!==null)if(c.substr(a,1)==="("?(v="(",a+=1):(v=null,m&&h('"("')),v!==null){for(var x=[],A=r();A!==null;)x.push(A),A=r();if(x!==null)if(A=Q(),A!==null){for(var B=[],D=r();D!==null;)B.push(D),D=r();B!==null?(c.substr(a,1)===")"?(D=")",a+=1):(D=null,m&&h('")"')),D!==null?e=[e,g,i,k,n,o,s,q,t,v,x,A,B,D]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;else e=null,a=
f;else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;f=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"datatype"};b.args=[a];return b}(e[11]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,5)==="BOUND"?(e="BOUND",a+=5):(e=null,m&&h('"BOUND"'));if(e!==null){g=[];for(i=r();i!==null;)g.push(i),i=r();if(g!==null)if(c.substr(a,1)==="("?(i="(",a+=1):(i=null,m&&h('"("')),i!==null){k=[];for(n=r();n!==null;)k.push(n),
n=r();if(k!==null)if(n=T(),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(c.substr(a,1)===")"?(s=")",a+=1):(s=null,m&&h('")"')),s!==null?e=[e,g,i,k,n,o,s]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bound"};b.args=[a];return b}(e[4]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,3)==="IRI"?(e="IRI",a+=3):(e=null,
m&&h('"IRI"'));if(e!==null){g=[];for(i=r();i!==null;)g.push(i),i=r();if(g!==null)if(c.substr(a,1)==="("?(i="(",a+=1):(i=null,m&&h('"("')),i!==null){k=[];for(n=r();n!==null;)k.push(n),n=r();if(k!==null)if(n=Q(),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(c.substr(a,1)===")"?(s=")",a+=1):(s=null,m&&h('")"')),s!==null?e=[e,g,i,k,n,o,s]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var b={token:"expression",
expressionType:"builtincall",builtincall:"iri"};b.args=[a];return b}(e[4]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,3)==="URI"?(e="URI",a+=3):(e=null,m&&h('"URI"'));if(e!==null){g=[];for(i=r();i!==null;)g.push(i),i=r();if(g!==null)if(c.substr(a,1)==="("?(i="(",a+=1):(i=null,m&&h('"("')),i!==null){k=[];for(n=r();n!==null;)k.push(n),n=r();if(k!==null)if(n=Q(),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(c.substr(a,1)===")"?(s=")",a+=1):(s=null,m&&h('")"')),s!==
null?e=[e,g,i,k,n,o,s]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"uri"};b.args=[a];return b}(e[4]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,5)==="BNODE"?(e="BNODE",a+=5):(e=null,m&&h('"BNODE"'));if(e!==null){g=[];for(i=r();i!==null;)g.push(i),i=r();if(g!==null){i=a;c.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&h('"("'));if(k!==
null){n=[];for(o=r();o!==null;)n.push(o),o=r();if(n!==null)if(o=Q(),o!==null){s=[];for(q=r();q!==null;)s.push(q),q=r();s!==null?(c.substr(a,1)===")"?(q=")",a+=1):(q=null,m&&h('")"')),q!==null?k=[k,n,o,s,q]:(k=null,a=i)):(k=null,a=i)}else k=null,a=i;else k=null,a=i}else k=null,a=i;k!==null?i=k:(i=ma(),i=i!==null?i:null);i!==null?e=[e,g,i]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bnode"};b.args=a.length===
5?[a[2]]:null;return b}(e[2]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,8)==="COALESCE"?(e="COALESCE",a+=8):(e=null,m&&h('"COALESCE"'));if(e!==null){g=[];for(i=r();i!==null;)g.push(i),i=r();g!==null?(i=Sb(),i!==null?e=[e,g,i]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"coalesce"};b.args=a;return b}(e[2]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,2)==="IF"?(e="IF",
a+=2):(e=null,m&&h('"IF"'));if(e!==null){g=[];for(i=r();i!==null;)g.push(i),i=r();if(g!==null)if(c.substr(a,1)==="("?(i="(",a+=1):(i=null,m&&h('"("')),i!==null){k=[];for(n=r();n!==null;)k.push(n),n=r();if(k!==null)if(n=Q(),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)===","?(s=",",a+=1):(s=null,m&&h('","')),s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=Q(),t!==null){v=[];for(x=r();x!==null;)v.push(x),x=r();if(v!==null)if(c.substr(a,1)===","?
(x=",",a+=1):(x=null,m&&h('","')),x!==null){A=[];for(B=r();B!==null;)A.push(B),B=r();if(A!==null)if(B=Q(),B!==null){for(var D=[],H=r();H!==null;)D.push(H),H=r();D!==null?(c.substr(a,1)===")"?(H=")",a+=1):(H=null,m&&h('")"')),H!==null?e=[e,g,i,k,n,o,s,q,t,v,x,A,B,D,H]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=
f;f=e!==null?function(a,b,c){var e={token:"expression",expressionType:"builtincall",builtincall:"if"};e.args=[a,b,c];return e}(e[4],e[8],e[12]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,9)==="ISLITERAL"?(e="ISLITERAL",a+=9):(e=null,m&&h('"ISLITERAL"'));if(e!==null){g=[];for(i=r();i!==null;)g.push(i),i=r();if(g!==null)if(c.substr(a,1)==="("?(i="(",a+=1):(i=null,m&&h('"("')),i!==null){k=[];for(n=r();n!==null;)k.push(n),n=r();if(k!==null)if(n=Q(),n!==null){o=[];for(s=r();s!==
null;)o.push(s),s=r();o!==null?(c.substr(a,1)===")"?(s=")",a+=1):(s=null,m&&h('")"')),s!==null?e=[e,g,i,k,n,o,s]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isliteral"};b.args=[a];return b}(e[4]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,7)==="ISBLANK"?(e="ISBLANK",a+=7):(e=null,m&&h('"ISBLANK"'));if(e!==null){g=[];for(i=
r();i!==null;)g.push(i),i=r();if(g!==null)if(c.substr(a,1)==="("?(i="(",a+=1):(i=null,m&&h('"("')),i!==null){k=[];for(n=r();n!==null;)k.push(n),n=r();if(k!==null)if(n=Q(),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();o!==null?(c.substr(a,1)===")"?(s=")",a+=1):(s=null,m&&h('")"')),s!==null?e=[e,g,i,k,n,o,s]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isblank"};
b.args=[a];return b}(e[4]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,8)==="SAMETERM"?(e="SAMETERM",a+=8):(e=null,m&&h('"SAMETERM"'));if(e!==null){g=[];for(i=r();i!==null;)g.push(i),i=r();if(g!==null)if(c.substr(a,1)==="("?(i="(",a+=1):(i=null,m&&h('"("')),i!==null){k=[];for(n=r();n!==null;)k.push(n),n=r();if(k!==null)if(n=Q(),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)===","?(s=",",a+=1):(s=null,m&&h('","')),s!==null){q=[];for(t=r();t!==
null;)q.push(t),t=r();if(q!==null)if(t=Q(),t!==null){v=[];for(x=r();x!==null;)v.push(x),x=r();v!==null?(c.substr(a,1)===")"?(x=")",a+=1):(x=null,m&&h('")"')),x!==null?e=[e,g,i,k,n,o,s,q,t,v,x]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;f=e!==null?function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"sameterm"};c.args=[a,b];return c}(e[4],e[8]):
null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,1)==="I"?(e="I",a+=1):(e=null,m&&h('"I"'));e===null&&(c.substr(a,1)==="i"?(e="i",a+=1):(e=null,m&&h('"i"')),e=e!==null?e:null);if(e!==null)if(c.substr(a,1)==="S"?(g="S",a+=1):(g=null,m&&h('"S"')),g===null&&(c.substr(a,1)==="s"?(g="s",a+=1):(g=null,m&&h('"s"')),g=g!==null?g:null),g!==null)if(c.substr(a,1)==="U"?(i="U",a+=1):(i=null,m&&h('"U"')),i===null&&(c.substr(a,1)==="u"?(i="u",a+=1):(i=null,m&&h('"u"')),i=i!==null?i:null),i!==null)if(c.substr(a,
1)==="R"?(k="R",a+=1):(k=null,m&&h('"R"')),k===null&&(c.substr(a,1)==="r"?(k="r",a+=1):(k=null,m&&h('"r"')),k=k!==null?k:null),k!==null)if(c.substr(a,1)==="I"?(n="I",a+=1):(n=null,m&&h('"I"')),n===null&&(c.substr(a,1)==="i"?(n="i",a+=1):(n=null,m&&h('"i"')),n=n!==null?n:null),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)==="("?(s="(",a+=1):(s=null,m&&h('"("')),s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=Q(),t!==null){v=[];for(x=r();x!==null;)v.push(x),
x=r();v!==null?(c.substr(a,1)===")"?(x=")",a+=1):(x=null,m&&h('")"')),x!==null?e=[e,g,i,k,n,o,s,q,t,v,x]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;f=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isuri"};b.args=[a];return b}(e[8]):null;f===null&&(f=null,a=j);if(f!==null)j=f;else{f=j=a;c.substr(a,1)==="I"?(e="I",a+=1):(e=null,m&&
h('"I"'));e===null&&(c.substr(a,1)==="i"?(e="i",a+=1):(e=null,m&&h('"i"')),e=e!==null?e:null);if(e!==null)if(c.substr(a,1)==="S"?(g="S",a+=1):(g=null,m&&h('"S"')),g===null&&(c.substr(a,1)==="s"?(g="s",a+=1):(g=null,m&&h('"s"')),g=g!==null?g:null),g!==null)if(c.substr(a,1)==="I"?(i="I",a+=1):(i=null,m&&h('"I"')),i===null&&(c.substr(a,1)==="i"?(i="i",a+=1):(i=null,m&&h('"i"')),i=i!==null?i:null),i!==null)if(c.substr(a,1)==="R"?(k="R",a+=1):(k=null,m&&h('"R"')),k===null&&(c.substr(a,1)==="r"?(k="r",
a+=1):(k=null,m&&h('"r"')),k=k!==null?k:null),k!==null)if(c.substr(a,1)==="I"?(n="I",a+=1):(n=null,m&&h('"I"')),n===null&&(c.substr(a,1)==="i"?(n="i",a+=1):(n=null,m&&h('"i"')),n=n!==null?n:null),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)==="("?(s="(",a+=1):(s=null,m&&h('"("')),s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=Q(),t!==null){v=[];for(x=r();x!==null;)v.push(x),x=r();v!==null?(c.substr(a,1)===")"?(x=")",a+=1):(x=null,m&&h('")"')),
x!==null?e=[e,g,i,k,n,o,s,q,t,v,x]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;f=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isuri"};b.args=[a];return b}(e[8]):null;f===null&&(f=null,a=j);f!==null?j=f:(j=gc(),j===null&&(j=hc(),j===null&&(j=ic(),j=j!==null?j:null)))}}}}}}}}}}}}}}(m=d)&&j===null&&h("[106] BuiltInCall");z[b]={nextPos:a,
result:j};return j}function gc(){var b="RegexExpression@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var i=a,f=a;if(c.substr(a,1)==="R"){var e="R";a+=1}else e=null,m&&h('"R"');e===null&&(c.substr(a,1)==="r"?(e="r",a+=1):(e=null,m&&h('"r"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="E"){var g="E";a+=1}else g=null,m&&h('"E"');g===null&&(c.substr(a,1)==="e"?(g="e",a+=1):(g=null,m&&h('"e"')),g=g!==null?g:null);if(g!==null){if(c.substr(a,1)==="G"){var j="G";a+=1}else j=null,m&&h('"G"');
j===null&&(c.substr(a,1)==="g"?(j="g",a+=1):(j=null,m&&h('"g"')),j=j!==null?j:null);if(j!==null){if(c.substr(a,1)==="E"){var k="E";a+=1}else k=null,m&&h('"E"');k===null&&(c.substr(a,1)==="e"?(k="e",a+=1):(k=null,m&&h('"e"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="X"){var n="X";a+=1}else n=null,m&&h('"X"');n===null&&(c.substr(a,1)==="x"?(n="x",a+=1):(n=null,m&&h('"x"')),n=n!==null?n:null);if(n!==null){for(var o=[],s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)==="("?(s="(",
a+=1):(s=null,m&&h('"("')),s!==null){for(var q=[],t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=Q(),t!==null){for(var v=[],x=r();x!==null;)v.push(x),x=r();if(v!==null)if(c.substr(a,1)===","?(x=",",a+=1):(x=null,m&&h('","')),x!==null){for(var A=[],B=r();B!==null;)A.push(B),B=r();if(A!==null)if(B=Q(),B!==null){for(var D=[],H=r();H!==null;)D.push(H),H=r();if(D!==null){H=a;if(c.substr(a,1)===","){var E=",";a+=1}else E=null,m&&h('","');if(E!==null){for(var F=[],M=r();M!==null;)F.push(M),M=r();F!==null?
(M=Q(),M!==null?E=[E,F,M]:(E=null,a=H)):(E=null,a=H)}else E=null,a=H;H=E!==null?E:"";if(H!==null){E=[];for(F=r();F!==null;)E.push(F),F=r();E!==null?(c.substr(a,1)===")"?(F=")",a+=1):(F=null,m&&h('")"')),F!==null?e=[e,g,j,k,n,o,s,q,t,v,x,A,B,D,H,E,F]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=
null,a=f;f=e!==null?function(a,b,c){var e={token:"expression",expressionType:"regex"};e.text=a;e.pattern=b;e.flags=c[2];return e}(e[8],e[12],e[14]):null;f===null&&(f=null,a=i);(m=d)&&f===null&&h("[107] RegexExpression");z[b]={nextPos:a,result:f};return f}function hc(){var b="ExistsFunc@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var i=a,f=a;if(c.substr(a,1)==="E"){var e="E";a+=1}else e=null,m&&h('"E"');e===null&&(c.substr(a,1)==="e"?(e="e",a+=1):(e=null,m&&h('"e"')),e=e!==null?e:null);if(e!==
null){if(c.substr(a,1)==="X"){var g="X";a+=1}else g=null,m&&h('"X"');g===null&&(c.substr(a,1)==="x"?(g="x",a+=1):(g=null,m&&h('"x"')),g=g!==null?g:null);if(g!==null){if(c.substr(a,1)==="I"){var j="I";a+=1}else j=null,m&&h('"I"');j===null&&(c.substr(a,1)==="i"?(j="i",a+=1):(j=null,m&&h('"i"')),j=j!==null?j:null);if(j!==null){if(c.substr(a,1)==="S"){var k="S";a+=1}else k=null,m&&h('"S"');k===null&&(c.substr(a,1)==="s"?(k="s",a+=1):(k=null,m&&h('"s"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)===
"T"){var n="T";a+=1}else n=null,m&&h('"T"');n===null&&(c.substr(a,1)==="t"?(n="t",a+=1):(n=null,m&&h('"t"')),n=n!==null?n:null);if(n!==null){if(c.substr(a,1)==="S"){var o="S";a+=1}else o=null,m&&h('"S"');o===null&&(c.substr(a,1)==="s"?(o="s",a+=1):(o=null,m&&h('"s"')),o=o!==null?o:null);if(o!==null){for(var s=[],q=r();q!==null;)s.push(q),q=r();s!==null?(q=Y(),q!==null?e=[e,g,j,k,n,o,s,q]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=
null,a=f;f=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"exists"};b.args=[a];return b}(e[7]):null;f===null&&(f=null,a=i);(m=d)&&f===null&&h("[108] ExistsFunc");z[b]={nextPos:a,result:f};return f}function ic(){var b="NotExistsFunc@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var i=a,f=a;if(c.substr(a,1)==="N"){var e="N";a+=1}else e=null,m&&h('"N"');e===null&&(c.substr(a,1)==="n"?(e="n",a+=1):(e=null,m&&h('"n"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,
1)==="O"){var g="O";a+=1}else g=null,m&&h('"O"');g===null&&(c.substr(a,1)==="o"?(g="o",a+=1):(g=null,m&&h('"o"')),g=g!==null?g:null);if(g!==null){if(c.substr(a,1)==="T"){var j="T";a+=1}else j=null,m&&h('"T"');j===null&&(c.substr(a,1)==="t"?(j="t",a+=1):(j=null,m&&h('"t"')),j=j!==null?j:null);if(j!==null){for(var k=[],n=r();n!==null;)k.push(n),n=r();if(k!==null)if(c.substr(a,1)==="E"?(n="E",a+=1):(n=null,m&&h('"E"')),n===null&&(c.substr(a,1)==="e"?(n="e",a+=1):(n=null,m&&h('"e"')),n=n!==null?n:null),
n!==null){if(c.substr(a,1)==="X"){var o="X";a+=1}else o=null,m&&h('"X"');o===null&&(c.substr(a,1)==="x"?(o="x",a+=1):(o=null,m&&h('"x"')),o=o!==null?o:null);if(o!==null){if(c.substr(a,1)==="I"){var s="I";a+=1}else s=null,m&&h('"I"');s===null&&(c.substr(a,1)==="i"?(s="i",a+=1):(s=null,m&&h('"i"')),s=s!==null?s:null);if(s!==null){if(c.substr(a,1)==="S"){var q="S";a+=1}else q=null,m&&h('"S"');q===null&&(c.substr(a,1)==="s"?(q="s",a+=1):(q=null,m&&h('"s"')),q=q!==null?q:null);if(q!==null){if(c.substr(a,
1)==="T"){var t="T";a+=1}else t=null,m&&h('"T"');t===null&&(c.substr(a,1)==="t"?(t="t",a+=1):(t=null,m&&h('"t"')),t=t!==null?t:null);if(t!==null){if(c.substr(a,1)==="S"){var v="S";a+=1}else v=null,m&&h('"S"');v===null&&(c.substr(a,1)==="s"?(v="s",a+=1):(v=null,m&&h('"s"')),v=v!==null?v:null);if(v!==null){for(var x=[],A=r();A!==null;)x.push(A),A=r();x!==null?(A=Y(),A!==null?e=[e,g,j,k,n,o,s,q,t,v,x,A]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=
null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"notexists"};b.args=[a];return b}(e[11]):null;f===null&&(f=null,a=i);(m=d)&&f===null&&h("[109] NotExistsFunc");z[b]={nextPos:a,result:f};return f}function fc(){var b="Aggregate@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var i=a,f=a;if(c.substr(a,1)==="C"){var e="C";a+=1}else e=null,m&&h('"C"');e===null&&(c.substr(a,
1)==="c"?(e="c",a+=1):(e=null,m&&h('"c"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="O"){var g="O";a+=1}else g=null,m&&h('"O"');g===null&&(c.substr(a,1)==="o"?(g="o",a+=1):(g=null,m&&h('"o"')),g=g!==null?g:null);if(g!==null){if(c.substr(a,1)==="U"){var j="U";a+=1}else j=null,m&&h('"U"');j===null&&(c.substr(a,1)==="u"?(j="u",a+=1):(j=null,m&&h('"u"')),j=j!==null?j:null);if(j!==null){if(c.substr(a,1)==="N"){var k="N";a+=1}else k=null,m&&h('"N"');k===null&&(c.substr(a,1)==="n"?(k="n",a+=1):
(k=null,m&&h('"n"')),k=k!==null?k:null);if(k!==null){if(c.substr(a,1)==="T"){var n="T";a+=1}else n=null,m&&h('"T"');n===null&&(c.substr(a,1)==="t"?(n="t",a+=1):(n=null,m&&h('"t"')),n=n!==null?n:null);if(n!==null){for(var o=[],s=r();s!==null;)o.push(s),s=r();if(o!==null)if(c.substr(a,1)==="("?(s="(",a+=1):(s=null,m&&h('"("')),s!==null){for(var q=[],t=r();t!==null;)q.push(t),t=r();if(q!==null){t=a;if(c.substr(a,1)==="D"){var v="D";a+=1}else v=null,m&&h('"D"');v===null&&(c.substr(a,1)==="d"?(v="d",a+=
1):(v=null,m&&h('"d"')),v=v!==null?v:null);if(v!==null){if(c.substr(a,1)==="I"){var x="I";a+=1}else x=null,m&&h('"I"');x===null&&(c.substr(a,1)==="i"?(x="i",a+=1):(x=null,m&&h('"i"')),x=x!==null?x:null);if(x!==null){if(c.substr(a,1)==="S"){var A="S";a+=1}else A=null,m&&h('"S"');A===null&&(c.substr(a,1)==="s"?(A="s",a+=1):(A=null,m&&h('"s"')),A=A!==null?A:null);if(A!==null){if(c.substr(a,1)==="T"){var B="T";a+=1}else B=null,m&&h('"T"');B===null&&(c.substr(a,1)==="t"?(B="t",a+=1):(B=null,m&&h('"t"')),
B=B!==null?B:null);if(B!==null){if(c.substr(a,1)==="I"){var D="I";a+=1}else D=null,m&&h('"I"');D===null&&(c.substr(a,1)==="i"?(D="i",a+=1):(D=null,m&&h('"i"')),D=D!==null?D:null);if(D!==null){if(c.substr(a,1)==="N"){var H="N";a+=1}else H=null,m&&h('"N"');H===null&&(c.substr(a,1)==="n"?(H="n",a+=1):(H=null,m&&h('"n"')),H=H!==null?H:null);if(H!==null){if(c.substr(a,1)==="C"){var E="C";a+=1}else E=null,m&&h('"C"');E===null&&(c.substr(a,1)==="c"?(E="c",a+=1):(E=null,m&&h('"c"')),E=E!==null?E:null);if(E!==
null){if(c.substr(a,1)==="T"){var F="T";a+=1}else F=null,m&&h('"T"');F===null&&(c.substr(a,1)==="t"?(F="t",a+=1):(F=null,m&&h('"t"')),F=F!==null?F:null);F!==null?v=[v,x,A,B,D,H,E,F]:(v=null,a=t)}else v=null,a=t}else v=null,a=t}else v=null,a=t}else v=null,a=t}else v=null,a=t}else v=null,a=t}else v=null,a=t;t=v!==null?v:"";if(t!==null){v=[];for(x=r();x!==null;)v.push(x),x=r();if(v!==null)if(c.substr(a,1)==="*"?(x="*",a+=1):(x=null,m&&h('"*"')),x===null&&(x=Q(),x=x!==null?x:null),x!==null){A=[];for(B=
r();B!==null;)A.push(B),B=r();if(A!==null)if(c.substr(a,1)===")"?(B=")",a+=1):(B=null,m&&h('")"')),B!==null){D=[];for(H=r();H!==null;)D.push(H),H=r();D!==null?e=[e,g,j,k,n,o,s,q,t,v,x,A,B,D]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"count"};
exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(e[8],e[10]):null;f===null&&(f=null,a=i);if(f!==null)i=f;else{f=i=a;c.substr(a,1)==="S"?(e="S",a+=1):(e=null,m&&h('"S"'));e===null&&(c.substr(a,1)==="s"?(e="s",a+=1):(e=null,m&&h('"s"')),e=e!==null?e:null);if(e!==null)if(c.substr(a,1)==="U"?(g="U",a+=1):(g=null,m&&h('"U"')),g===null&&(c.substr(a,1)==="u"?(g="u",a+=1):(g=null,m&&h('"u"')),g=g!==null?g:null),g!==null)if(c.substr(a,1)==="M"?(j="M",a+=1):(j=null,m&&h('"M"')),j===null&&(c.substr(a,
1)==="m"?(j="m",a+=1):(j=null,m&&h('"m"')),j=j!==null?j:null),j!==null){k=[];for(n=r();n!==null;)k.push(n),n=r();if(k!==null)if(c.substr(a,1)==="("?(n="(",a+=1):(n=null,m&&h('"("')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(s=a,c.substr(a,1)==="D"?(q="D",a+=1):(q=null,m&&h('"D"')),q===null&&(c.substr(a,1)==="d"?(q="d",a+=1):(q=null,m&&h('"d"')),q=q!==null?q:null),q!==null?(c.substr(a,1)==="I"?(t="I",a+=1):(t=null,m&&h('"I"')),t===null&&(c.substr(a,1)==="i"?(t="i",a+=1):(t=
null,m&&h('"i"')),t=t!==null?t:null),t!==null?(c.substr(a,1)==="S"?(v="S",a+=1):(v=null,m&&h('"S"')),v===null&&(c.substr(a,1)==="s"?(v="s",a+=1):(v=null,m&&h('"s"')),v=v!==null?v:null),v!==null?(c.substr(a,1)==="T"?(x="T",a+=1):(x=null,m&&h('"T"')),x===null&&(c.substr(a,1)==="t"?(x="t",a+=1):(x=null,m&&h('"t"')),x=x!==null?x:null),x!==null?(c.substr(a,1)==="I"?(A="I",a+=1):(A=null,m&&h('"I"')),A===null&&(c.substr(a,1)==="i"?(A="i",a+=1):(A=null,m&&h('"i"')),A=A!==null?A:null),A!==null?(c.substr(a,
1)==="N"?(B="N",a+=1):(B=null,m&&h('"N"')),B===null&&(c.substr(a,1)==="n"?(B="n",a+=1):(B=null,m&&h('"n"')),B=B!==null?B:null),B!==null?(c.substr(a,1)==="C"?(D="C",a+=1):(D=null,m&&h('"C"')),D===null&&(c.substr(a,1)==="c"?(D="c",a+=1):(D=null,m&&h('"c"')),D=D!==null?D:null),D!==null?(c.substr(a,1)==="T"?(H="T",a+=1):(H=null,m&&h('"T"')),H===null&&(c.substr(a,1)==="t"?(H="t",a+=1):(H=null,m&&h('"t"')),H=H!==null?H:null),H!==null?q=[q,t,v,x,A,B,D,H]:(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,
a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s),s=q!==null?q:"",s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=Q(),t!==null){v=[];for(x=r();x!==null;)v.push(x),x=r();if(v!==null)if(c.substr(a,1)===")"?(x=")",a+=1):(x=null,m&&h('")"')),x!==null){A=[];for(B=r();B!==null;)A.push(B),B=r();A!==null?e=[e,g,j,k,n,o,s,q,t,v,x,A]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=
null,a=f;else e=null,a=f;else e=null,a=f;f=e!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"sum"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(e[6],e[8]):null;f===null&&(f=null,a=i);if(f!==null)i=f;else{f=i=a;c.substr(a,1)==="M"?(e="M",a+=1):(e=null,m&&h('"M"'));e===null&&(c.substr(a,1)==="m"?(e="m",a+=1):(e=null,m&&h('"m"')),e=e!==null?e:null);if(e!==null)if(c.substr(a,1)==="I"?(g="I",a+=1):(g=null,m&&h('"I"')),g===null&&(c.substr(a,1)==="i"?
(g="i",a+=1):(g=null,m&&h('"i"')),g=g!==null?g:null),g!==null)if(c.substr(a,1)==="N"?(j="N",a+=1):(j=null,m&&h('"N"')),j===null&&(c.substr(a,1)==="n"?(j="n",a+=1):(j=null,m&&h('"n"')),j=j!==null?j:null),j!==null){k=[];for(n=r();n!==null;)k.push(n),n=r();if(k!==null)if(c.substr(a,1)==="("?(n="(",a+=1):(n=null,m&&h('"("')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(s=a,c.substr(a,1)==="D"?(q="D",a+=1):(q=null,m&&h('"D"')),q===null&&(c.substr(a,1)==="d"?(q="d",a+=1):(q=null,m&&
h('"d"')),q=q!==null?q:null),q!==null?(c.substr(a,1)==="I"?(t="I",a+=1):(t=null,m&&h('"I"')),t===null&&(c.substr(a,1)==="i"?(t="i",a+=1):(t=null,m&&h('"i"')),t=t!==null?t:null),t!==null?(c.substr(a,1)==="S"?(v="S",a+=1):(v=null,m&&h('"S"')),v===null&&(c.substr(a,1)==="s"?(v="s",a+=1):(v=null,m&&h('"s"')),v=v!==null?v:null),v!==null?(c.substr(a,1)==="T"?(x="T",a+=1):(x=null,m&&h('"T"')),x===null&&(c.substr(a,1)==="t"?(x="t",a+=1):(x=null,m&&h('"t"')),x=x!==null?x:null),x!==null?(c.substr(a,1)==="I"?
(A="I",a+=1):(A=null,m&&h('"I"')),A===null&&(c.substr(a,1)==="i"?(A="i",a+=1):(A=null,m&&h('"i"')),A=A!==null?A:null),A!==null?(c.substr(a,1)==="N"?(B="N",a+=1):(B=null,m&&h('"N"')),B===null&&(c.substr(a,1)==="n"?(B="n",a+=1):(B=null,m&&h('"n"')),B=B!==null?B:null),B!==null?(c.substr(a,1)==="C"?(D="C",a+=1):(D=null,m&&h('"C"')),D===null&&(c.substr(a,1)==="c"?(D="c",a+=1):(D=null,m&&h('"c"')),D=D!==null?D:null),D!==null?(c.substr(a,1)==="T"?(H="T",a+=1):(H=null,m&&h('"T"')),H===null&&(c.substr(a,1)===
"t"?(H="t",a+=1):(H=null,m&&h('"t"')),H=H!==null?H:null),H!==null?q=[q,t,v,x,A,B,D,H]:(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s),s=q!==null?q:"",s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=Q(),t!==null){v=[];for(x=r();x!==null;)v.push(x),x=r();if(v!==null)if(c.substr(a,1)===")"?(x=")",a+=1):(x=null,m&&h('")"')),x!==null){A=[];for(B=r();B!==null;)A.push(B),B=r();A!==null?e=[e,g,j,k,n,o,s,q,t,v,x,A]:(e=null,
a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;else e=null,a=f;f=e!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"min"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(e[6],e[8]):null;f===null&&(f=null,a=i);if(f!==null)i=f;else{f=i=a;c.substr(a,1)==="M"?(e="M",a+=1):(e=null,m&&h('"M"'));e===null&&(c.substr(a,1)==="m"?(e="m",a+=1):
(e=null,m&&h('"m"')),e=e!==null?e:null);if(e!==null)if(c.substr(a,1)==="A"?(g="A",a+=1):(g=null,m&&h('"A"')),g===null&&(c.substr(a,1)==="a"?(g="a",a+=1):(g=null,m&&h('"a"')),g=g!==null?g:null),g!==null)if(c.substr(a,1)==="X"?(j="X",a+=1):(j=null,m&&h('"X"')),j===null&&(c.substr(a,1)==="x"?(j="x",a+=1):(j=null,m&&h('"x"')),j=j!==null?j:null),j!==null){k=[];for(n=r();n!==null;)k.push(n),n=r();if(k!==null)if(c.substr(a,1)==="("?(n="(",a+=1):(n=null,m&&h('"("')),n!==null){o=[];for(s=r();s!==null;)o.push(s),
s=r();if(o!==null)if(s=a,c.substr(a,1)==="D"?(q="D",a+=1):(q=null,m&&h('"D"')),q===null&&(c.substr(a,1)==="d"?(q="d",a+=1):(q=null,m&&h('"d"')),q=q!==null?q:null),q!==null?(c.substr(a,1)==="I"?(t="I",a+=1):(t=null,m&&h('"I"')),t===null&&(c.substr(a,1)==="i"?(t="i",a+=1):(t=null,m&&h('"i"')),t=t!==null?t:null),t!==null?(c.substr(a,1)==="S"?(v="S",a+=1):(v=null,m&&h('"S"')),v===null&&(c.substr(a,1)==="s"?(v="s",a+=1):(v=null,m&&h('"s"')),v=v!==null?v:null),v!==null?(c.substr(a,1)==="T"?(x="T",a+=1):
(x=null,m&&h('"T"')),x===null&&(c.substr(a,1)==="t"?(x="t",a+=1):(x=null,m&&h('"t"')),x=x!==null?x:null),x!==null?(c.substr(a,1)==="I"?(A="I",a+=1):(A=null,m&&h('"I"')),A===null&&(c.substr(a,1)==="i"?(A="i",a+=1):(A=null,m&&h('"i"')),A=A!==null?A:null),A!==null?(c.substr(a,1)==="N"?(B="N",a+=1):(B=null,m&&h('"N"')),B===null&&(c.substr(a,1)==="n"?(B="n",a+=1):(B=null,m&&h('"n"')),B=B!==null?B:null),B!==null?(c.substr(a,1)==="C"?(D="C",a+=1):(D=null,m&&h('"C"')),D===null&&(c.substr(a,1)==="c"?(D="c",
a+=1):(D=null,m&&h('"c"')),D=D!==null?D:null),D!==null?(c.substr(a,1)==="T"?(H="T",a+=1):(H=null,m&&h('"T"')),H===null&&(c.substr(a,1)==="t"?(H="t",a+=1):(H=null,m&&h('"t"')),H=H!==null?H:null),H!==null?q=[q,t,v,x,A,B,D,H]:(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s),s=q!==null?q:"",s!==null){q=[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=Q(),t!==null){v=[];for(x=r();x!==null;)v.push(x),x=r();if(v!==null)if(c.substr(a,1)===
")"?(x=")",a+=1):(x=null,m&&h('")"')),x!==null){A=[];for(B=r();B!==null;)A.push(B),B=r();A!==null?e=[e,g,j,k,n,o,s,q,t,v,x,A]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;else e=null,a=f;f=e!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"max"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(e[6],e[8]):null;f===null&&(f=
null,a=i);if(f!==null)i=f;else{f=i=a;c.substr(a,1)==="A"?(e="A",a+=1):(e=null,m&&h('"A"'));e===null&&(c.substr(a,1)==="a"?(e="a",a+=1):(e=null,m&&h('"a"')),e=e!==null?e:null);if(e!==null)if(c.substr(a,1)==="V"?(g="V",a+=1):(g=null,m&&h('"V"')),g===null&&(c.substr(a,1)==="v"?(g="v",a+=1):(g=null,m&&h('"v"')),g=g!==null?g:null),g!==null)if(c.substr(a,1)==="G"?(j="G",a+=1):(j=null,m&&h('"G"')),j===null&&(c.substr(a,1)==="g"?(j="g",a+=1):(j=null,m&&h('"g"')),j=j!==null?j:null),j!==null){k=[];for(n=r();n!==
null;)k.push(n),n=r();if(k!==null)if(c.substr(a,1)==="("?(n="(",a+=1):(n=null,m&&h('"("')),n!==null){o=[];for(s=r();s!==null;)o.push(s),s=r();if(o!==null)if(s=a,c.substr(a,1)==="D"?(q="D",a+=1):(q=null,m&&h('"D"')),q===null&&(c.substr(a,1)==="d"?(q="d",a+=1):(q=null,m&&h('"d"')),q=q!==null?q:null),q!==null?(c.substr(a,1)==="I"?(t="I",a+=1):(t=null,m&&h('"I"')),t===null&&(c.substr(a,1)==="i"?(t="i",a+=1):(t=null,m&&h('"i"')),t=t!==null?t:null),t!==null?(c.substr(a,1)==="S"?(v="S",a+=1):(v=null,m&&
h('"S"')),v===null&&(c.substr(a,1)==="s"?(v="s",a+=1):(v=null,m&&h('"s"')),v=v!==null?v:null),v!==null?(c.substr(a,1)==="T"?(x="T",a+=1):(x=null,m&&h('"T"')),x===null&&(c.substr(a,1)==="t"?(x="t",a+=1):(x=null,m&&h('"t"')),x=x!==null?x:null),x!==null?(c.substr(a,1)==="I"?(A="I",a+=1):(A=null,m&&h('"I"')),A===null&&(c.substr(a,1)==="i"?(A="i",a+=1):(A=null,m&&h('"i"')),A=A!==null?A:null),A!==null?(c.substr(a,1)==="N"?(B="N",a+=1):(B=null,m&&h('"N"')),B===null&&(c.substr(a,1)==="n"?(B="n",a+=1):(B=
null,m&&h('"n"')),B=B!==null?B:null),B!==null?(c.substr(a,1)==="C"?(D="C",a+=1):(D=null,m&&h('"C"')),D===null&&(c.substr(a,1)==="c"?(D="c",a+=1):(D=null,m&&h('"c"')),D=D!==null?D:null),D!==null?(c.substr(a,1)==="T"?(H="T",a+=1):(H=null,m&&h('"T"')),H===null&&(c.substr(a,1)==="t"?(H="t",a+=1):(H=null,m&&h('"t"')),H=H!==null?H:null),H!==null?q=[q,t,v,x,A,B,D,H]:(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s),s=q!==null?q:"",s!==null){q=
[];for(t=r();t!==null;)q.push(t),t=r();if(q!==null)if(t=Q(),t!==null){v=[];for(x=r();x!==null;)v.push(x),x=r();if(v!==null)if(c.substr(a,1)===")"?(x=")",a+=1):(x=null,m&&h('")"')),x!==null){A=[];for(B=r();B!==null;)A.push(B),B=r();A!==null?e=[e,g,j,k,n,o,s,q,t,v,x,A]:(e=null,a=f)}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f}else e=null,a=f;else e=null,a=f;else e=null,a=f;f=e!==null?function(a,b){exp={token:"expression",
expressionType:"aggregate",aggregateType:"avg"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(e[6],e[8]):null;f===null&&(f=null,a=i);i=f!==null?f:null}}}}(m=d)&&i===null&&h("[110] Aggregate");z[b]={nextPos:a,result:i};return i}function ec(){var b="IRIrefOrFunction@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,f=a,e=U();if(e!==null){var g=qb(),g=g!==null?g:"";g!==null?e=[e,g]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,b){var c={token:"expression",expressionType:"irireforfunction"};
c.iriref=a;c.args=b.value;return c}(e[0],e[1]):null;f===null&&(f=null,a=d);(m=c)&&f===null&&h("[117] IRIrefOrFunction");z[b]={nextPos:a,result:f};return f}function Ja(){var b="RDFLiteral@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a,f=a,e=jc();if(e!==null){var i=kc();if(i===null){i=a;if(c.substr(a,2)==="^^"){var j="^^";a+=2}else j=null,m&&h('"^^"');if(j!==null){var k=U();k!==null?j=[j,k]:(j=null,a=i)}else j=null,a=i;i=j!==null?j:null}i=i!==null?i:"";i!==null?e=[e,i]:(e=null,a=f)}else e=
null,a=f;f=e!==null?function(a,b){return typeof b==="string"&&b.length>0?{token:"literal",value:a.value,lang:b.slice(1),type:null}:typeof b==="object"?(b.shift(),{token:"literal",value:a.value,lang:null,type:b[0]}):{token:"literal",value:a.value,lang:null,type:null}}(e[0],e[1]):null;f===null&&(f=null,a=g);(m=d)&&f===null&&h("[112] RDFLiteral");z[b]={nextPos:a,result:f};return f}function Ka(){var b="NumericLiteral@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=lc();d===null&&(d=mc(),d===
null&&(d=ua(),d=d!==null?d:null));(m=c)&&d===null&&h("[113] NumericLiteral");z[b]={nextPos:a,result:d};return d}function lc(){var b="NumericLiteralUnsigned@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=Va();d===null&&(d=Wa(),d===null&&(d=fa(),d=d!==null?d:null));(m=c)&&d===null&&h("[114] NumericLiteralUnsigned");z[b]={nextPos:a,result:d};return d}function mc(){var b="NumericLiteralPositive@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=nc();d===null&&(d=oc(),d===null&&(d=
pc(),d=d!==null?d:null));(m=c)&&d===null&&h("[115] NumericLiteralPositive");z[b]={nextPos:a,result:d};return d}function ua(){var b="NumericLiteralNegative@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=qc();d===null&&(d=rc(),d===null&&(d=sc(),d=d!==null?d:null));(m=c)&&d===null&&h("[116] NumericLiteralNegative");z[b]={nextPos:a,result:d};return d}function La(){var b="BooleanLiteral@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a,f=a;if(c.substr(a,1)==="T"){var e="T";a+=1}else e=
null,m&&h('"T"');e===null&&(c.substr(a,1)==="t"?(e="t",a+=1):(e=null,m&&h('"t"')),e=e!==null?e:null);if(e!==null){if(c.substr(a,1)==="R"){var i="R";a+=1}else i=null,m&&h('"R"');i===null&&(c.substr(a,1)==="r"?(i="r",a+=1):(i=null,m&&h('"r"')),i=i!==null?i:null);if(i!==null){if(c.substr(a,1)==="U"){var j="U";a+=1}else j=null,m&&h('"U"');j===null&&(c.substr(a,1)==="u"?(j="u",a+=1):(j=null,m&&h('"u"')),j=j!==null?j:null);if(j!==null){if(c.substr(a,1)==="E"){var k="E";a+=1}else k=null,m&&h('"E"');k===
null&&(c.substr(a,1)==="e"?(k="e",a+=1):(k=null,m&&h('"e"')),k=k!==null?k:null);k!==null?e=[e,i,j,k]:(e=null,a=f)}else e=null,a=f}else e=null,a=f}else e=null,a=f;f=e!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}:null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;c.substr(a,1)==="F"?(e="F",a+=1):(e=null,m&&h('"F"'));e===null&&(c.substr(a,1)==="f"?(e="f",a+=1):(e=null,m&&h('"f"')),e=e!==null?e:null);if(e!==null)if(c.substr(a,1)==="A"?(i="A",a+=1):
(i=null,m&&h('"A"')),i===null&&(c.substr(a,1)==="a"?(i="a",a+=1):(i=null,m&&h('"a"')),i=i!==null?i:null),i!==null)if(c.substr(a,1)==="L"?(j="L",a+=1):(j=null,m&&h('"L"')),j===null&&(c.substr(a,1)==="l"?(j="l",a+=1):(j=null,m&&h('"l"')),j=j!==null?j:null),j!==null)if(c.substr(a,1)==="S"?(k="S",a+=1):(k=null,m&&h('"S"')),k===null&&(c.substr(a,1)==="s"?(k="s",a+=1):(k=null,m&&h('"s"')),k=k!==null?k:null),k!==null){if(c.substr(a,1)==="E"){var n="E";a+=1}else n=null,m&&h('"E"');n===null&&(c.substr(a,1)===
"e"?(n="e",a+=1):(n=null,m&&h('"e"')),n=n!==null?n:null);n!==null?e=[e,i,j,k,n]:(e=null,a=f)}else e=null,a=f;else e=null,a=f;else e=null,a=f;else e=null,a=f;f=e!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}:null;f===null&&(f=null,a=g);g=f!==null?f:null}(m=d)&&g===null&&h("[117] BooleanLiteral");z[b]={nextPos:a,result:g};return g}function jc(){var b="String@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,f=tc(),f=f!==null?{token:"string",
value:f}:null;f===null&&(f=null,a=d);f!==null?d=f:(d=a,f=uc(),f=f!==null?{token:"string",value:f}:null,f===null&&(f=null,a=d),f!==null?d=f:(d=a,f=vc(),f=f!==null?{token:"string",value:f}:null,f===null&&(f=null,a=d),f!==null?d=f:(d=a,f=wc(),f=f!==null?{token:"string",value:f}:null,f===null&&(f=null,a=d),d=f!==null?f:null)));(m=c)&&d===null&&h("[118] String");z[b]={nextPos:a,result:d};return d}function U(){var b="IRIref@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,f=oa(),f=f!==null?
{token:"uri",prefix:null,suffix:null,value:f}:null;f===null&&(f=null,a=d);f!==null?d=f:(d=a,f=xc(),f=f!==null?f:null,f===null&&(f=null,a=d),d=f!==null?f:null);(m=c)&&d===null&&h("[119] IRIref");z[b]={nextPos:a,result:d};return d}function xc(){var b="PrefixedName@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,f=yc(),f=f!==null?{token:"uri",prefix:f[0],suffix:f[1],value:null}:null;f===null&&(f=null,a=d);f!==null?d=f:(d=a,f=Ga(),f=f!==null?{token:"uri",prefix:f,suffix:"",value:null}:null,
f===null&&(f=null,a=d),d=f!==null?f:null);(m=c)&&d===null&&h("[120] PrefixedName");z[b]={nextPos:a,result:d};return d}function dc(){var b="BlankNode@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,f=zc(),f=f!==null?{token:"blank",value:f}:null;f===null&&(f=null,a=d);f!==null?d=f:(d=a,Ac()!==null?(ga++,f={token:"blank",value:"_:"+ga}):f=null,f===null&&(f=null,a=d),d=f!==null?f:null);(m=c)&&d===null&&h("[121] BlankNode");z[b]={nextPos:a,result:d};return d}function oa(){var b="IRI_REF@"+
a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var i=a,f=a;if(c.substr(a,1)==="<"){var e="<";a+=1}else e=null,m&&h('"<"');if(e!==null){var g=[];if(c.substr(a).match(/^[^<>"{}|^`\\]/)!==null){var j=c.charAt(a);a++}else j=null,m&&h('[^<>"{}|^`\\\\]');for(;j!==null;)g.push(j),c.substr(a).match(/^[^<>"{}|^`\\]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h('[^<>"{}|^`\\\\]'));g!==null?(c.substr(a,1)===">"?(j=">",a+=1):(j=null,m&&h('">"')),j!==null?e=[e,g,j]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;f=
e!==null?e[1].join(""):null;f===null&&(f=null,a=i);(m=d)&&f===null&&h("[122] IRI_REF");z[b]={nextPos:a,result:f};return f}function Ga(){var b="PNAME_NS@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var i=a,f=a,e=eb(),e=e!==null?e:"";if(e!==null){if(c.substr(a,1)===":"){var g=":";a+=1}else g=null,m&&h('":"');g!==null?e=[e,g]:(e=null,a=f)}else e=null,a=f;f=e!==null?e[0]:null;f===null&&(f=null,a=i);(m=d)&&f===null&&h("[123] PNAME_NS");z[b]={nextPos:a,result:f};return f}function yc(){var b="PNAME_LN@"+
a,c=z[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,f=a,e=Ga();if(e!==null){var g=vb();g!==null?e=[e,g]:(e=null,a=f)}else e=null,a=f;f=e!==null?[e[0],e[1]]:null;f===null&&(f=null,a=d);(m=c)&&f===null&&h("[124] PNAME_LN");z[b]={nextPos:a,result:f};return f}function zc(){var b="BLANK_NODE_LABEL@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a,f=a;if(c.substr(a,2)==="_:"){var e="_:";a+=2}else e=null,m&&h('"_:"');if(e!==null){var i=vb();i!==null?e=[e,i]:(e=null,a=f)}else e=null,a=f;
f=e!==null?e[1]:null;f===null&&(f=null,a=g);(m=d)&&f===null&&h("[125] BLANK_NODE_LABEL");z[b]={nextPos:a,result:f};return f}function bc(){var b="VAR1@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a,f=a;if(c.substr(a,1)==="?"){var e="?";a+=1}else e=null,m&&h('"?"');if(e!==null){var i=wb();i!==null?e=[e,i]:(e=null,a=f)}else e=null,a=f;f=e!==null?e[1]:null;f===null&&(f=null,a=g);(m=d)&&f===null&&h("[126] VAR1");z[b]={nextPos:a,result:f};return f}function cc(){var b="VAR2@"+a,d=z[b];if(d)return a=
d.nextPos,d.result;d=m;m=!1;var g=a,f=a;if(c.substr(a,1)==="$"){var e="$";a+=1}else e=null,m&&h('"$"');if(e!==null){var i=wb();i!==null?e=[e,i]:(e=null,a=f)}else e=null,a=f;f=e!==null?e[1]:null;f===null&&(f=null,a=g);(m=d)&&f===null&&h("[127] VAR2");z[b]={nextPos:a,result:f};return f}function kc(){var b="LANGTAG@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a,f=a;if(c.substr(a,1)==="@"){var e="@";a+=1}else e=null,m&&h('"@"');if(e!==null){if(c.substr(a).match(/^[a-zA-Z]/)!==null){var i=
c.charAt(a);a++}else i=null,m&&h("[a-zA-Z]");if(i!==null)for(var j=[];i!==null;)j.push(i),c.substr(a).match(/^[a-zA-Z]/)!==null?(i=c.charAt(a),a++):(i=null,m&&h("[a-zA-Z]"));else j=null;if(j!==null){var i=[],k=a;if(c.substr(a,1)==="-"){var n="-";a+=1}else n=null,m&&h('"-"');if(n!==null){if(c.substr(a).match(/^[a-zA-Z0-9]/)!==null){var o=c.charAt(a);a++}else o=null,m&&h("[a-zA-Z0-9]");if(o!==null)for(var q=[];o!==null;)q.push(o),c.substr(a).match(/^[a-zA-Z0-9]/)!==null?(o=c.charAt(a),a++):(o=null,
m&&h("[a-zA-Z0-9]"));else q=null;q!==null?n=[n,q]:(n=null,a=k)}else n=null,a=k;for(;n!==null;)if(i.push(n),k=a,c.substr(a,1)==="-"?(n="-",a+=1):(n=null,m&&h('"-"')),n!==null){c.substr(a).match(/^[a-zA-Z0-9]/)!==null?(o=c.charAt(a),a++):(o=null,m&&h("[a-zA-Z0-9]"));if(o!==null)for(q=[];o!==null;)q.push(o),c.substr(a).match(/^[a-zA-Z0-9]/)!==null?(o=c.charAt(a),a++):(o=null,m&&h("[a-zA-Z0-9]"));else q=null;q!==null?n=[n,q]:(n=null,a=k)}else n=null,a=k;i!==null?e=[e,j,i]:(e=null,a=f)}else e=null,a=f}else e=
null,a=f;f=e!==null?e[2].length===0?("@"+e[1].join("")).toLowerCase():("@"+e[1].join("")+"-"+e[2][0][1].join("")).toLowerCase():null;f===null&&(f=null,a=g);(m=d)&&f===null&&h("[128] LANGTAG");z[b]={nextPos:a,result:f};return f}function fa(){var b="INTEGER@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var i=a;if(c.substr(a).match(/^[0-9]/)!==null){var f=c.charAt(a);a++}else f=null,m&&h("[0-9]");if(f!==null)for(var e=[];f!==null;)e.push(f),c.substr(a).match(/^[0-9]/)!==null?(f=c.charAt(a),a++):
(f=null,m&&h("[0-9]"));else e=null;f=e!==null?function(a){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#integer"};lit.value=Z(a);return lit}(e):null;f===null&&(f=null,a=i);(m=d)&&f===null&&h("[129] INTEGER");z[b]={nextPos:a,result:f};return f}function Wa(){var b="DECIMAL@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var i=a,f=a;if(c.substr(a).match(/^[0-9]/)!==null){var e=c.charAt(a);a++}else e=null,m&&h("[0-9]");if(e!==null)for(var g=[];e!==null;)g.push(e),c.substr(a).match(/^[0-9]/)!==
null?(e=c.charAt(a),a++):(e=null,m&&h("[0-9]"));else g=null;if(g!==null)if(c.substr(a,1)==="."?(e=".",a+=1):(e=null,m&&h('"."')),e!==null){var j=[];if(c.substr(a).match(/^[0-9]/)!==null){var k=c.charAt(a);a++}else k=null,m&&h("[0-9]");for(;k!==null;)j.push(k),c.substr(a).match(/^[0-9]/)!==null?(k=c.charAt(a),a++):(k=null,m&&h("[0-9]"));j!==null?g=[g,e,j]:(g=null,a=f)}else g=null,a=f;else g=null,a=f;f=g!==null?function(a,b,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};
lit.value=Z([a,b,c]);return lit}(g[0],g[1],g[2]):null;f===null&&(f=null,a=i);if(f!==null)i=f;else{f=i=a;c.substr(a,1)==="."?(g=".",a+=1):(g=null,m&&h('"."'));if(g!==null){c.substr(a).match(/^[0-9]/)!==null?(e=c.charAt(a),a++):(e=null,m&&h("[0-9]"));if(e!==null)for(j=[];e!==null;)j.push(e),c.substr(a).match(/^[0-9]/)!==null?(e=c.charAt(a),a++):(e=null,m&&h("[0-9]"));else j=null;j!==null?g=[g,j]:(g=null,a=f)}else g=null,a=f;f=g!==null?function(a,b){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};
lit.value=Z([a,b]);return lit}(g[0],g[1]):null;f===null&&(f=null,a=i);i=f!==null?f:null}(m=d)&&i===null&&h("[130] DECIMAL");z[b]={nextPos:a,result:i};return i}function Va(){var b="DOUBLE@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a,f=a;if(c.substr(a).match(/^[0-9]/)!==null){var e=c.charAt(a);a++}else e=null,m&&h("[0-9]");if(e!==null)for(var i=[];e!==null;)i.push(e),c.substr(a).match(/^[0-9]/)!==null?(e=c.charAt(a),a++):(e=null,m&&h("[0-9]"));else i=null;if(i!==null)if(c.substr(a,1)===
"."?(e=".",a+=1):(e=null,m&&h('"."')),e!==null){var j=[];if(c.substr(a).match(/^[0-9]/)!==null){var k=c.charAt(a);a++}else k=null,m&&h("[0-9]");for(;k!==null;)j.push(k),c.substr(a).match(/^[0-9]/)!==null?(k=c.charAt(a),a++):(k=null,m&&h("[0-9]"));j!==null?(k=Xa(),k!==null?i=[i,e,j,k]:(i=null,a=f)):(i=null,a=f)}else i=null,a=f;else i=null,a=f;f=i!==null?function(a,b,c,e){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=Z([a,b,c,e]);return lit}(i[0],i[1],i[2],
i[3]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;c.substr(a,1)==="."?(i=".",a+=1):(i=null,m&&h('"."'));if(i!==null){c.substr(a).match(/^[0-9]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[0-9]"));if(j!==null)for(e=[];j!==null;)e.push(j),c.substr(a).match(/^[0-9]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[0-9]"));else e=null;e!==null?(j=Xa(),j!==null?i=[i,e,j]:(i=null,a=f)):(i=null,a=f)}else i=null,a=f;f=i!==null?function(a,b,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};
lit.value=Z([a,b,c]);return lit}(i[0],i[1],i[2]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;c.substr(a).match(/^[0-9]/)!==null?(e=c.charAt(a),a++):(e=null,m&&h("[0-9]"));if(e!==null)for(i=[];e!==null;)i.push(e),c.substr(a).match(/^[0-9]/)!==null?(e=c.charAt(a),a++):(e=null,m&&h("[0-9]"));else i=null;i!==null?(e=Xa(),e!==null?i=[i,e]:(i=null,a=f)):(i=null,a=f);f=i!==null?function(a,b){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=Z([a,b]);return lit}(i[0],
i[1]):null;f===null&&(f=null,a=g);g=f!==null?f:null}}(m=d)&&g===null&&h("[131] DOUBLE");z[b]={nextPos:a,result:g};return g}function pc(){var b="INTEGER_POSITIVE@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var i=a,f=a;if(c.substr(a,1)==="+"){var e="+";a+=1}else e=null,m&&h('"+"');if(e!==null){var g=fa();g!==null?e=[e,g]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){a.value="+"+a.value;return a}(e[1]):null;f===null&&(f=null,a=i);(m=d)&&f===null&&h("[132] INTEGER_POSITIVE");z[b]={nextPos:a,
result:f};return f}function oc(){var b="DECIMAL_POSITIVE@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var i=a,f=a;if(c.substr(a,1)==="+"){var e="+";a+=1}else e=null,m&&h('"+"');if(e!==null){var g=Wa();g!==null?e=[e,g]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){a.value="+"+a.value;return a}(e[1]):null;f===null&&(f=null,a=i);(m=d)&&f===null&&h("[133] DECIMAL_POSITIVE");z[b]={nextPos:a,result:f};return f}function nc(){var b="DOUBLE_POSITIVE@"+a,d=z[b];if(d)return a=d.nextPos,d.result;
d=m;m=!1;var i=a,f=a;if(c.substr(a,1)==="+"){var e="+";a+=1}else e=null,m&&h('"+"');if(e!==null){var g=Va();g!==null?e=[e,g]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){a.value="+"+a.value;return a}(e[1]):null;f===null&&(f=null,a=i);(m=d)&&f===null&&h("[134] DOUBLE_POSITIVE");z[b]={nextPos:a,result:f};return f}function sc(){var b="INTEGER_NEGATIVE@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var i=a,f=a;if(c.substr(a,1)==="-"){var e="-";a+=1}else e=null,m&&h('"-"');if(e!==null){var g=
fa();g!==null?e=[e,g]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){a.value="-"+a.value;return a}(e[1]):null;f===null&&(f=null,a=i);(m=d)&&f===null&&h("[135] INTEGER_NEGATIVE");z[b]={nextPos:a,result:f};return f}function rc(){var b="DECIMAL_NEGATIVE@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var i=a,f=a;if(c.substr(a,1)==="-"){var e="-";a+=1}else e=null,m&&h('"-"');if(e!==null){var g=Wa();g!==null?e=[e,g]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){a.value="-"+a.value;return a}(e[1]):
null;f===null&&(f=null,a=i);(m=d)&&f===null&&h("[136] DECIMAL_NEGATIVE");z[b]={nextPos:a,result:f};return f}function qc(){var b="DOUBLE_NEGATIVE@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var i=a,f=a;if(c.substr(a,1)==="-"){var e="-";a+=1}else e=null,m&&h('"-"');if(e!==null){var g=Va();g!==null?e=[e,g]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a){a.value="-"+a.value;return a}(e[1]):null;f===null&&(f=null,a=i);(m=d)&&f===null&&h("[137] DOUBLE_NEGATIVE");z[b]={nextPos:a,result:f};return f}
function Xa(){var b="EXPONENT@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var i=a,f=a;if(c.substr(a).match(/^[eE]/)!==null){var e=c.charAt(a);a++}else e=null,m&&h("[eE]");if(e!==null){if(c.substr(a).match(/^[+\-]/)!==null){var g=c.charAt(a);a++}else g=null,m&&h("[+\\-]");g=g!==null?g:"";if(g!==null){if(c.substr(a).match(/^[0-9]/)!==null){var j=c.charAt(a);a++}else j=null,m&&h("[0-9]");if(j!==null)for(var k=[];j!==null;)k.push(j),c.substr(a).match(/^[0-9]/)!==null?(j=c.charAt(a),a++):(j=null,
m&&h("[0-9]"));else k=null;k!==null?e=[e,g,k]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;f=e!==null?Z([e[0],e[1],e[2]]):null;f===null&&(f=null,a=i);(m=d)&&f===null&&h("[138] EXPONENT");z[b]={nextPos:a,result:f};return f}function vc(){var b="STRING_LITERAL1@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var i=a,f=a;if(c.substr(a,1)==="'"){var e="'";a+=1}else e=null,m&&h('"\'"');if(e!==null){var g=[];if(c.substr(a).match(/^[^'\\\n\r]/)!==null){var j=c.charAt(a);a++}else j=null,m&&h("[^'\\\\\\n\\r]");
j===null&&(j=ha(),j=j!==null?j:null);for(;j!==null;)g.push(j),c.substr(a).match(/^[^'\\\n\r]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[^'\\\\\\n\\r]")),j===null&&(j=ha(),j=j!==null?j:null);g!==null?(c.substr(a,1)==="'"?(j="'",a+=1):(j=null,m&&h('"\'"')),j!==null?e=[e,g,j]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;f=e!==null?Z(e[1]):null;f===null&&(f=null,a=i);(m=d)&&f===null&&h("[139] STRING_LITERAL1");z[b]={nextPos:a,result:f};return f}function wc(){var b="STRING_LITERAL2@"+a,d=z[b];if(d)return a=
d.nextPos,d.result;d=m;m=!1;var i=a,f=a;if(c.substr(a,1)==='"'){var e='"';a+=1}else e=null,m&&h('"\\""');if(e!==null){var g=[];if(c.substr(a).match(/^[^"\\\n\r]/)!==null){var j=c.charAt(a);a++}else j=null,m&&h('[^"\\\\\\n\\r]');j===null&&(j=ha(),j=j!==null?j:null);for(;j!==null;)g.push(j),c.substr(a).match(/^[^"\\\n\r]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h('[^"\\\\\\n\\r]')),j===null&&(j=ha(),j=j!==null?j:null);g!==null?(c.substr(a,1)==='"'?(j='"',a+=1):(j=null,m&&h('"\\""')),j!==null?e=[e,g,
j]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;f=e!==null?Z(e[1]):null;f===null&&(f=null,a=i);(m=d)&&f===null&&h("[140] STRING_LITERAL2");z[b]={nextPos:a,result:f};return f}function tc(){var b="STRING_LITERAL_LONG1@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var i=a,f=a;if(c.substr(a,3)==="'''"){var e="'''";a+=3}else e=null,m&&h("\"'''\"");if(e!==null){var g=[];if(c.substr(a).match(/^[^'\\]/)!==null){var j=c.charAt(a);a++}else j=null,m&&h("[^'\\\\]");j===null&&(j=ha(),j=j!==null?j:null);for(;j!==
null;)g.push(j),c.substr(a).match(/^[^'\\]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[^'\\\\]")),j===null&&(j=ha(),j=j!==null?j:null);g!==null?(c.substr(a,3)==="'''"?(j="'''",a+=3):(j=null,m&&h("\"'''\"")),j!==null?e=[e,g,j]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;f=e!==null?Z(e[1]):null;f===null&&(f=null,a=i);(m=d)&&f===null&&h("[141] STRING_LITERAL_LONG1");z[b]={nextPos:a,result:f};return f}function uc(){var b="STRING_LITERAL_LONG2@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var i=
a,f=a;if(c.substr(a,3)==='"""'){var e='"""';a+=3}else e=null,m&&h('"\\"\\"\\""');if(e!==null){var g=[];if(c.substr(a).match(/^[^"\\]/)!==null){var j=c.charAt(a);a++}else j=null,m&&h('[^"\\\\]');j===null&&(j=ha(),j=j!==null?j:null);for(;j!==null;)g.push(j),c.substr(a).match(/^[^"\\]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h('[^"\\\\]')),j===null&&(j=ha(),j=j!==null?j:null);g!==null?(c.substr(a,3)==='"""'?(j='"""',a+=3):(j=null,m&&h('"\\"\\"\\""')),j!==null?e=[e,g,j]:(e=null,a=f)):(e=null,a=f)}else e=
null,a=f;f=e!==null?Z(e[1]):null;f===null&&(f=null,a=i);(m=d)&&f===null&&h("[142] STRING_LITERAL_LONG2");z[b]={nextPos:a,result:f};return f}function ha(){var b="ECHAR@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a;if(c.substr(a,1)==="\\"){var f="\\";a+=1}else f=null,m&&h('"\\\\"');if(f!==null){if(c.substr(a).match(/^[tbnrf"']/)!==null){var e=c.charAt(a);a++}else e=null,m&&h("[tbnrf\"']");e!==null?f=[f,e]:(f=null,a=j)}else f=null,a=j;(m=d)&&f===null&&h("[143] ECHAR");z[b]={nextPos:a,
result:f};return f}function ma(){var b="NIL@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a;if(c.substr(a,1)==="("){var e="(";a+=1}else e=null,m&&h('"("');if(e!==null){for(var i=[],g=r();g!==null;)i.push(g),g=r();i!==null?(c.substr(a,1)===")"?(g=")",a+=1):(g=null,m&&h('")"')),g!==null?e=[e,i,g]:(e=null,a=f)):(e=null,a=f)}else e=null,a=f;f=e!==null?{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}:
null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[144] NIL");z[b]={nextPos:a,result:f};return f}function r(){var b="WS@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;if(c.substr(a).match(/^[ ]/)!==null){var j=c.charAt(a);a++}else j=null,m&&h("[ ]");j===null&&(c.substr(a).match(/^[\t]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[\t]")),j===null&&(c.substr(a).match(/^[\r]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[\\r]")),j===null&&(c.substr(a).match(/^[\n]/)!==null?(j=c.charAt(a),a++):(j=null,
m&&h("[\\n]")),j===null&&(j=Bc(),j=j!==null?j:null))));(m=d)&&j===null&&h("[145] WS");z[b]={nextPos:a,result:j};return j}function Bc(){var b="COMMENT@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a;if(c.substr(a,1)==="#"){var f="#";a+=1}else f=null,m&&h('"#"');if(f!==null){var e=[];if(c.substr(a).match(/^[^\n\r]/)!==null){var g=c.charAt(a);a++}else g=null,m&&h("[^\\n\\r]");for(;g!==null;)e.push(g),c.substr(a).match(/^[^\n\r]/)!==null?(g=c.charAt(a),a++):(g=null,m&&h("[^\\n\\r]"));e!==
null?f=[f,e]:(f=null,a=j)}else f=null,a=j;(m=d)&&f===null&&h(" COMMENT");z[b]={nextPos:a,result:f};return f}function Ac(){var b="ANON@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a;if(c.substr(a,1)==="["){var f="[";a+=1}else f=null,m&&h('"["');if(f!==null){for(var e=[],g=r();g!==null;)e.push(g),g=r();e!==null?(c.substr(a,1)==="]"?(g="]",a+=1):(g=null,m&&h('"]"')),g!==null?f=[f,e,g]:(f=null,a=j)):(f=null,a=j)}else f=null,a=j;(m=d)&&f===null&&h("[146] ANON");z[b]={nextPos:a,result:f};
return f}function xb(){var b="PN_CHARS_BASE@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;if(c.substr(a).match(/^[A-Z]/)!==null){var j=c.charAt(a);a++}else j=null,m&&h("[A-Z]");j===null&&(c.substr(a).match(/^[a-z]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[a-z]")),j===null&&(c.substr(a).match(/^[\xC0-\xD6]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[\\xC0-\\xD6]")),j===null&&(c.substr(a).match(/^[\xD8-\xF6]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[\\xD8-\\xF6]")),j===null&&(c.substr(a).match(/^[\xF8-\u02FF]/)!==
null?(j=c.charAt(a),a++):(j=null,m&&h("[\\xF8-\\u02FF]")),j===null&&(c.substr(a).match(/^[\u0370-\u037D]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[\\u0370-\\u037D]")),j===null&&(c.substr(a).match(/^[\u037F-\u1FFF]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[\\u037F-\\u1FFF]")),j===null&&(c.substr(a).match(/^[\u200C-\u200D]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[\\u200C-\\u200D]")),j===null&&(c.substr(a).match(/^[\u2070-\u218F]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[\\u2070-\\u218F]")),
j===null&&(c.substr(a).match(/^[\u2C00-\u2FEF]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[\\u2C00-\\u2FEF]")),j===null&&(c.substr(a).match(/^[\u3001-\uD7FF]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[\\u3001-\\uD7FF]")),j===null&&(c.substr(a).match(/^[\uF900-\uFDCF]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[\\uF900-\\uFDCF]")),j===null&&(c.substr(a).match(/^[\uFDF0-\uFFFD]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[\\uFDF0-\\uFFFD]")),j===null&&(c.substr(a).match(/^[\u1000-\uEFFF]/)!==null?(j=
c.charAt(a),a++):(j=null,m&&h("[\\u1000-\\uEFFF]")),j=j!==null?j:null)))))))))))));(m=d)&&j===null&&h("[147] PN_CHARS_BASE");z[b]={nextPos:a,result:j};return j}function va(){var b="PN_CHARS_U@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=xb();j===null&&(c.substr(a,1)==="_"?(j="_",a+=1):(j=null,m&&h('"_"')),j=j!==null?j:null);(m=d)&&j===null&&h("[148] PN_CHARS_U");z[b]={nextPos:a,result:j};return j}function wb(){var b="VARNAME@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=
a,f=a,e=va();e===null&&(c.substr(a).match(/^[0-9]/)!==null?(e=c.charAt(a),a++):(e=null,m&&h("[0-9]")),e=e!==null?e:null);if(e!==null){var g=[],i=va();i===null&&(c.substr(a).match(/^[0-9]/)!==null?(i=c.charAt(a),a++):(i=null,m&&h("[0-9]")),i===null&&(c.substr(a).match(/^[\xB7]/)!==null?(i=c.charAt(a),a++):(i=null,m&&h("[\\xB7]")),i===null&&(c.substr(a).match(/^[\u0300-\u036F]/)!==null?(i=c.charAt(a),a++):(i=null,m&&h("[\\u0300-\\u036F]")),i===null&&(c.substr(a).match(/^[\u203F-\u2040]/)!==null?(i=
c.charAt(a),a++):(i=null,m&&h("[\\u203F-\\u2040]")),i=i!==null?i:null))));for(;i!==null;)g.push(i),i=va(),i===null&&(c.substr(a).match(/^[0-9]/)!==null?(i=c.charAt(a),a++):(i=null,m&&h("[0-9]")),i===null&&(c.substr(a).match(/^[\xB7]/)!==null?(i=c.charAt(a),a++):(i=null,m&&h("[\\xB7]")),i===null&&(c.substr(a).match(/^[\u0300-\u036F]/)!==null?(i=c.charAt(a),a++):(i=null,m&&h("[\\u0300-\\u036F]")),i===null&&(c.substr(a).match(/^[\u203F-\u2040]/)!==null?(i=c.charAt(a),a++):(i=null,m&&h("[\\u203F-\\u2040]")),
i=i!==null?i:null))));g!==null?e=[e,g]:(e=null,a=f)}else e=null,a=f;f=e!==null?e[0]+e[1].join(""):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[149] VARNAME");z[b]={nextPos:a,result:f};return f}function Fa(){var b="PN_CHARS@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=va();j===null&&(c.substr(a,1)==="-"?(j="-",a+=1):(j=null,m&&h('"-"')),j===null&&(c.substr(a).match(/^[0-9]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[0-9]")),j===null&&(c.substr(a).match(/^[\xB7]/)!==null?(j=c.charAt(a),
a++):(j=null,m&&h("[\\xB7]")),j===null&&(c.substr(a).match(/^[\u0300-\u036F]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[\\u0300-\\u036F]")),j===null&&(c.substr(a).match(/^[\u203F-\u2040]/)!==null?(j=c.charAt(a),a++):(j=null,m&&h("[\\u203F-\\u2040]")),j=j!==null?j:null)))));(m=d)&&j===null&&h("[150] PN_CHARS");z[b]={nextPos:a,result:j};return j}function eb(){var b="PN_PREFIX@"+a,d=z[b];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=xb();if(e!==null){var i=[],g=Fa();g===null&&(c.substr(a,
1)==="."?(g=".",a+=1):(g=null,m&&h('"."')),g=g!==null?g:null);for(;g!==null;)i.push(g),g=Fa(),g===null&&(c.substr(a,1)==="."?(g=".",a+=1):(g=null,m&&h('"."')),g=g!==null?g:null);i!==null?e=[e,i]:(e=null,a=f)}else e=null,a=f;f=e!==null?function(a,b){if(b[b.length-1]==".")throw Error("Wrong PN_PREFIX, cannot finish with '.'");else return a+b.join("")}(e[0],e[1]):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[151] PN_PREFIX");z[b]={nextPos:a,result:f};return f}function vb(){var b="PN_LOCAL@"+a,d=z[b];
if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,f=a,e=va();e===null&&(c.substr(a).match(/^[0-9]/)!==null?(e=c.charAt(a),a++):(e=null,m&&h("[0-9]")),e=e!==null?e:null);if(e!==null){for(var i=[],g=Fa();g!==null;)i.push(g),g=Fa();i!==null?e=[e,i]:(e=null,a=f)}else e=null,a=f;f=e!==null?e[0]+e[1].join(""):null;f===null&&(f=null,a=j);(m=d)&&f===null&&h("[152] PN_LOCAL");z[b]={nextPos:a,result:f};return f}function yb(){var b=function(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),
b=a[d]);switch(c.length){case 0:return"end of input";case 1:return c[0];default:return c.slice(0,c.length-1).join(", ")+" or "+c[c.length-1]}}(cb),d=Math.max(a,Aa),d=d<c.length?k(c.charAt(d)):"end of input";return"Expected "+b+" but "+d+" found."}function Dc(){for(var a=1,b=1,d=!1,f=0;f<Aa;f++){var e=c.charAt(f);e==="\n"?(d||a++,b=1,d=!1):e==="\r"|e==="\u2028"||e==="\u2029"?(a++,b=1,d=!0):(b++,d=!1)}return{line:a,column:b}}var ja={ANON:Ac,AdditiveExpression:W,Aggregate:fc,ArgList:qb,AskQuery:L,BLANK_NODE_LABEL:zc,
BaseDecl:t,BindingValue:ya,BindingsClause:xa,BlankNode:dc,BlankNodePropertyList:$b,BooleanLiteral:La,BrackettedExpression:Ia,BuiltInCall:Ha,COMMENT:Bc,Clear:Cb,Collection:Zb,ConditionalAndExpression:Ta,ConditionalOrExpression:Q,Constraint:Ba,ConstructQuery:K,ConstructTemplate:Jb,ConstructTriples:rb,Create:Eb,DECIMAL:Wa,DECIMAL_NEGATIVE:rc,DECIMAL_POSITIVE:oc,DOCUMENT:function(){var b="DOCUMENT@"+a,c=z[b];if(c)return a=c.nextPos,c.result;c=i();c===null&&(c=v(),c=c!==null?c:null);z[b]={nextPos:a,result:c};
return c},DOUBLE:Va,DOUBLE_NEGATIVE:qc,DOUBLE_POSITIVE:nc,DatasetClause:P,DefaultGraphClause:S,DeleteClause:Hb,DeleteData:Gb,DeleteWhere:Ab,DescribeQuery:O,Drop:Db,ECHAR:ha,EXPONENT:Xa,ExistsFunc:hc,ExpressionList:Sb,Filter:Rb,FunctionCall:hb,GraphGraphPattern:Pb,GraphNode:ra,GraphPatternNotTriples:pb,GraphRef:Ma,GraphRefAll:ib,GraphTerm:ac,GroupClause:aa,GroupCondition:$,GroupGraphPattern:Y,GroupGraphPatternSub:Kb,GroupOrUnionGraphPattern:Mb,HavingClause:ea,INTEGER:fa,INTEGER_NEGATIVE:sc,INTEGER_POSITIVE:pc,
IRI_REF:oa,IRIref:U,IRIrefOrFunction:ec,InsertClause:bb,InsertData:Fb,LANGTAG:kc,LimitClause:Ya,LimitOffsetClauses:wa,Load:zb,MinusGraphPattern:Ob,Modify:Bb,MultiplicativeExpression:sa,NIL:ma,NamedGraphClause:V,NotExistsFunc:ic,NumericLiteral:Ka,NumericLiteralNegative:ua,NumericLiteralPositive:mc,NumericLiteralUnsigned:lc,ObjectList:na,OffsetClause:Za,OptionalGraphPattern:Nb,OrderClause:ia,OrderCondition:ka,PNAME_LN:yc,PNAME_NS:Ga,PN_CHARS:Fa,PN_CHARS_BASE:xb,PN_CHARS_U:va,PN_LOCAL:vb,PN_PREFIX:eb,
PathAlternative:sb,PathElt:ub,PathEltOrInverse:Sa,PathMod:Xb,PathNegatedPropertySet:Yb,PathOneInPropertySet:Da,PathPrimary:Wb,PathSequence:Ra,PrefixDecl:q,PrefixedName:xc,PrimaryExpression:Ea,Prologue:o,PropertyList:Tb,PropertyListNotEmpty:Ca,PropertyListNotEmptyPath:Ub,PropertyListPath:Vb,QuadData:jb,QuadPattern:lb,Quads:mb,QuadsNotTriples:nb,Query:g,RDFLiteral:Ja,RegexExpression:gc,RelationalExpression:Ua,SPARQL:i,STRING_LITERAL1:vc,STRING_LITERAL2:wc,STRING_LITERAL_LONG1:tc,STRING_LITERAL_LONG2:uc,
SelectClause:J,SelectQuery:E,ServiceGraphPattern:Qb,SolutionModifier:X,String:jc,SubSelect:I,TURTLE:v,TriplesBlock:pa,TriplesNode:Oa,TriplesSameSubject:ob,TriplesSameSubjectPath:Lb,TriplesTemplate:qa,UnaryExpression:ba,Update:$a,Update1:za,UsingClause:kb,VAR1:bc,VAR2:cc,VARNAME:wb,Var:T,VarOrIRIref:la,VarOrTerm:Na,Verb:Pa,VerbPath:Qa,WS:r,WhereClause:ca,base:F,directive:D,prefixID:M,statement:x};if(b!==void 0){if(ja[b]===void 0)throw Error("Invalid rule name: "+k(b)+".");}else b="DOCUMENT";var a=
0,m=!0,Aa=0,cb=[],z={},Z=function(a){for(var b="",c=0;c<a.length;c++)b+=typeof a[c]==="string"?a[c]:a[c].join("");return b},ga=0,Ib=function(a){for(var b="",c=0;c<a.length;c++)b+=a[c];return b.toUpperCase()},ja=ja[b]();if(ja===null||a!==c.length)throw ja=Dc(),new this.SyntaxError(yb(),ja.line,ja.column);return ja},toSource:function(){return this._source},SyntaxError:function(b,d,j){this.name="SyntaxError";this.message=b;this.line=d;this.column=j}};b.SyntaxError.prototype=Error.prototype;return b}();
var ea={};(new Date).getTime();ea.combined_parser=ka.parser;ea.parser={};ea.parser.parse=function(b,c){for(var d=[],j=ea.combined_parser.parse(b),g={},h={namespaces:g,base:"",blankCounter:0},i=0;i<j.length;i++){var n=j[i];if(n.token==="base")h.base=n.value;else if(n.token==="prefix")g[n.prefix]=n.local;else if(n.token==="triples"||n.token==="triplespattern")for(var o=0;o<n.triplesContext.length;o++){var t=n.triplesContext[o],t={subject:x.lexicalFormTerm(t.subject,h),predicate:x.lexicalFormTerm(t.predicate,
h),object:x.lexicalFormTerm(t.object,h),graph:c};d.push(t)}}return d};var v={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",
sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#"},UrisMap:function(){this.defaultNs="";this.interfaceProperties=["get","remove","set","setDefault","addAll","resolve","shrink"]}};v.UrisMap.prototype.values=function(){var b={},c;for(c in this)!x.include(this.interfaceProperties,c)&&typeof this[c]!=="function"&&
c!=="defaultNs"&&c!=="interfaceProperties"&&(b[c]=this[c]);return b};v.UrisMap.prototype.get=function(b){if(b.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";return this[b]};v.UrisMap.prototype.remove=function(b){if(b.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";delete this[b];return null};v.UrisMap.prototype.set=function(b,c){if(b.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";this[b]=c};v.UrisMap.prototype.setDefault=function(b){this.defaultNs=
b};v.UrisMap.prototype.addAll=function(b,c){for(var d in b)x.include(this.interfaceProperties,d)||(this[d]!=null?c===!0&&(this[d]=b[d]):this[d]=b[d]);return this};v.UrisMap.prototype.resolve=function(b){var c=b.split(":"),b=c[0],c=c[1];return b===""?this.defaultNs==null?null:this.defaultNs+c:this[b]!=null?this[b]+c:null};v.UrisMap.prototype.shrink=function(b){for(var c in this){var d=this[c];if(b.indexOf(d)===0&&d!==""&&c!="defaultNs")return b=b.split(d)[1],c+":"+b}return b};v.Profile=function(){this.prefixes=
new v.UrisMap;this.terms=new v.UrisMap};v.Profile.prototype.importProfile=function(b,c){this.prefixes.addAll(b.prefixes,c);this.terms.addAll(b.terms,c)};v.Profile.prototype.resolve=function(b){return b.indexOf(":")!=-1?this.prefixes.resolve(b):this.terms[b]!=null?this.terms.resolve(b):null};v.Profile.prototype.setDefaultPrefix=function(b){this.prefixes.setDefault(b)};v.Profile.prototype.setDefaultVocabulary=function(b){this.terms.setDefault(b)};v.Profile.prototype.setPrefix=function(b,c){this.prefixes.set(b,
c)};v.Profile.prototype.setTerm=function(b,c){this.terms.set(b,c)};v.RDFEnvironment=function(){this.blankNodeCounter=0;var b=this;this.filters={s:function(b){return function(c){return c.subject.equals(b)}},p:function(b){return function(c){return c.predicate.equals(b)}},o:function(b){return function(c){return c.object.equals(b)}},sp:function(b,c){return function(g){return g.subject.equals(b)&&g.predicate.equals(c)}},so:function(b,c){return function(g){return g.subject.equals(b)&&g.object.equals(c)}},
po:function(b,c){return function(g){return g.predicate.equals(b)&&g.object.equals(c)}},spo:function(b,c,g){return function(h){return h.subject.equals(b)&&h.predicate.equals(c)&&h.object.equals(g)}},describes:function(b){return function(c){return c.subject.equals(b)||c.object.equals(b)}},type:function(c){var j=b.resolve("rdf:type");return function(b){return b.predicate.equals(j)&&b.object.equals(c)}}};for(var c in v.defaultContext)this.prefixes.set(c,v.defaultContext[c])};x["extends"](v.Profile,v.RDFEnvironment);
v.RDFEnvironment.prototype.createBlankNode=function(){var b=new v.BlankNode(this.blankNodeCounter);this.blankNodeCounter++;return b};v.RDFEnvironment.prototype.createNamedNode=function(b){var c=this.resolve(b);return c!=null?new v.NamedNode(c):new v.NamedNode(b)};v.RDFEnvironment.prototype.createLiteral=function(b,c,d){return d!=null?new v.Literal(b,c,d.toString()):new v.Literal(b,c,d)};v.RDFEnvironment.prototype.createTriple=function(b,c,d){return new v.Triple(b,c,d)};v.RDFEnvironment.prototype.createGraph=
function(b){var c=new v.Graph;if(b!=null)for(var d=0;d<b.length;d++)c.add(b[d]);return c};v.RDFEnvironment.prototype.createAction=function(b,c){return function(d){return b(d)?c(d):d}};v.RDFEnvironment.prototype.createProfile=function(b){return b===!0?new v.RDFEnvironment.Profile:(b=new v.RDFEnvironment.Profile,b.importProfile(this),b)};v.RDFEnvironment.prototype.createTermMap=function(b){if(b===!0)return new v.UrisMap;else{var b=this.terms.values(),c=new v.UrisMap,d;for(d in b)c[d]=b[d];return c}};
v.RDFEnvironment.prototype.createPrefixMap=function(b){if(b===!0)return new v.UrisMap;else{var b=this.prefixes.values(),c=new v.UrisMap,d;for(d in b)c[d]=b[d];return c}};v.RDFNode=function(b){this.interfaceName=b;this.attributes=["interfaceName","nominalValue"]};v.RDFNode.prototype.equals=function(b){if(b.interfaceName==null)return this.valueOf()==b;else{for(var c in this.attributes){var d=this.attributes[c];if(this[d]!=b[d])return!1}return!0}};v.BlankNode=function(b){v.RDFNode.call(this,"BlankNode");
this.nominalValue="_:"+b;this.bnodeId=b};x["extends"](v.RDFNode,v.BlankNode);v.BlankNode.prototype.toString=function(){return this.nominalValue};v.BlankNode.prototype.toNT=function(){return this.nominalValue};v.BlankNode.prototype.valueOf=function(){return this.nominalValue};v.Literal=function(b,c,d){v.RDFNode.call(this,"Literal");this.nominalValue=b;if(c!=null)this.language=c;else if(d!=null)this.datatype=d};x["extends"](v.RDFNode,v.Literal);v.Literal.prototype.toString=function(){var b='"'+this.nominalValue+
'"';if(this.language!=null)b=b+"@"+this.language;else if(this.datatype!=null||this.type)b=b+"^^<"+(this.datatype||this.type)+">";return b};v.Literal.prototype.toNT=function(){return this.toString()};v.Literal.prototype.valueOf=function(){return g.effectiveTypeValue({token:"literal",type:this.type,value:this.nominalValue,language:this.language})};v.NamedNode=function(b){v.RDFNode.call(this,"NamedNode");this.nominalValue=b.value!=null?b.value:b};x["extends"](v.RDFNode,v.NamedNode);v.NamedNode.prototype.toString=
function(){return this.nominalValue};v.NamedNode.prototype.toNT=function(){return"<"+this.toString()+">"};v.NamedNode.prototype.valueOf=function(){return this.nominalValue};v.Triple=function(b,c,d){this.subject=b;this.predicate=c;this.object=d};v.Triple.prototype.equals=function(b){return this.subject.equals(b.subject)&&this.predicate.equals(b.predicate)&&this.object.equals(b.object)};v.Triple.prototype.toString=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+
" . \r\n"};v.Graph=function(){this.triples=[];this.duplicates={};this.actions=[]};v.Graph.prototype.add=function(b){for(var c=0;c<this.actions.length;c++)b=this.actions[c](b);c=b.subject.toString()+b.predicate.toString()+b.object.toString();this.duplicates[c]||(this.duplicates[c]=!0,this.triples.push(b));return this};v.Graph.prototype.addAction=function(b,c){this.actions.push(b);if(c==!0)for(var d=0;d<this.triples.length;d++)this.triples[d]=b(this.triples[d]);return this};v.Graph.prototype.addAll=
function(b){for(var b=b.toArray(),c=0;c<b.length;c++)this.add(b[c]);return this};v.Graph.prototype.remove=function(b){for(var c=null,d=0;d<this.triples.length;d++)if(this.triples[d].equals(b)){delete this.duplicates[b.subject.toString()+b.predicate.toString()+b.object.toString()];c=d;break}c!=null&&this.triples.splice(c,1);return this};v.Graph.prototype.toArray=function(){return this.triples};v.Graph.prototype.some=function(b){for(var c=0;c<this.triples.length;c++)if(b(this.triples[c],this)===!0)return!0;
return!1};v.Graph.prototype.every=function(b){for(var c=0;c<this.triples.length;c++)if(b(this.triples[c],this)===!1)return!1;return!0};v.Graph.prototype.filter=function(b){for(var c=new v.Graph,d=0;d<this.triples.length;d++)b(this.triples[d],this)===!0&&c.add(this.triples[d]);return c};v.Graph.prototype.forEach=function(b){for(var c=0;c<this.triples.length;c++)b(this.triples[c],this)};v.Graph.prototype.merge=function(){for(var b=new v.Graph,c=0;c<this.triples;c++){var d=this.triples[c];b.add(d)}for(c=
0;c<triples.length;c++)d=triples[c],this.add(d);return b};v.Graph.prototype.match=function(b,c,d,j){for(var g=new v.Graph,h=0,i=0;i<this.triples.length;i++){var n=this.triples[i];if(b==null||n.subject.equals(b))if(c==null||n.predicate.equals(c))if(d==null||n.object.equals(d))if(j==null||h<j)h++,g.add(n);else break}return g};v.Graph.prototype.removeMatches=function(b,c,d){for(var j=[],g=0;g<this.triples.length;g++){var h=this.triples[g];if(b==null||h.subject.equals(b))if(c==null||h.predicate.equals(c))(d==
null||h.object.equals(d))&&j.push(h)}for(g=0;g<j.length;g++)this.remove(j[g]);return this};v.Graph.prototype.toNT=function(){var b="";this.forEach(function(c){b+=c.toString()});return b};v.buildRDFResource=function(b,c,d,j){return b.token==="blank"?v.buildBlankNode(b,c,d,j):b.token==="literal"?v.buildLiteral(b,c,d,j):b.token==="uri"?v.buildNamedNode(b,c,d,j):b.token==="var"?(b=c[b.value],b!=null?v.buildRDFResource(b,c,d,j):null):null};v.buildBlankNode=function(b){if(b.valuetmp!=null)b.value=b.valuetmp;
if(b.value.indexOf("_:")===0)b.value=b.value.split("_:")[1];return new v.BlankNode(b.value)};v.buildLiteral=function(b){return new v.Literal(b.value,b.lang,b.type)};v.buildNamedNode=function(b,c,d,j){if(b.value==null&&b.prefix!=null)c=d.resolveNsInEnvironment(b.prefix,j),b.value=c+b.suffix;return new v.NamedNode(b)};v.rdf=new v.RDFEnvironment;var g={checkFilters:function(b,c,d,j,k,h){var i=b.filter,n=[];if(i==null||b.length!=null)return c;for(b=0;b<i.length;b++){for(var c=g.run(i[b].value,c,d,j,k,
h),o=[],t=0;t<c.length;t++)c[t].__nullify__!=null?n.push(c[t]):o.push(c[t]);c=o}return c.concat(n)}};g.boundVars=function(b){if(b.expressionType!=null){var c=b.expressionType;if(c=="relationalexpression")return c=b.op2,g.boundVars(b.op1)+g.boundVars(c);else if(c=="conditionalor"||c=="conditionaland"){for(var d=[],c=0;c<b.operands;c++)d=d.concat(g.boundVars(b.operands[c]));return d}else if(c=="builtincall")if(b.args==null)return[];else{d=[];for(c=0;c<b.args.length;c++)d=d.concat(g.boundVars(b.args[c]));
return d}else if(c=="multiplicativeexpression"){d=g.boundVars(b.factor);for(c=0;c<b.factors.length;c++)d=d.concat(g.boundVars(b.factors[c].expression));return d}else if(c=="additiveexpression"){d=g.boundVars(b.summand);for(c=0;c<b.summands.length;c++)d=d.concat(g.boundVars(b.summands[c].expression));return d}else if(c=="regex")return d=g.boundVars(b.expression1),d.concat(g.boundVars(b.expression2));else if(c=="unaryexpression")return g.boundVars(b.expression);else if(c=="atomic")return b.primaryexpression==
"var"?[b.value]:[]}else throw console.log("ERROR"),console.log(b),"Cannot find bound expressions in a no expression token";};g.run=function(b,c,d,j,k,h){for(var i=h.copyDenormalizedBindings(c,k.outCache),n=[],o=0;o<c.length;o++){var t=g.runFilter(b,i[o],h,j,k),t=g.ebv(t);g.isEbvError(t)?d&&(t={__nullify__:!0,bindings:c[o]},n.push(t)):t===!0?n.push(c[o]):d&&(t={__nullify__:!0,bindings:c[o]},n.push(t))}return n};g.collect=function(b,c,d,j,k){for(var h=k.copyDenormalizedBindings(c,j.outCache),i=[],n=
0;n<h.length;n++){var o=g.runFilter(b,h[n],k,d,j);i.push({binding:c[n],value:o})}return i};g.runDistinct=function(){};g.runAggregator=function(b,c,d,j,k){if(c==null||c.length===0)return g.ebvError();else if(b.token==="variable"&&b.kind=="var")return c[0][b.value.value];else if(b.token==="variable"&&b.kind==="aliased")if(b.expression.expressionType==="atomic"&&b.expression.primaryexpression==="var")return c[0][b.expression.value.value];else if(b.expression.expressionType==="aggregate")if(b.expression.aggregateType===
"max"){for(var h=null,i=0;i<c.length;i++){var n=c[i],n=g.runFilter(b.expression.expression,n,d,j,k);g.isEbvError(n)||(h===null?h=n:g.runLtFunction(h,n).value===!0&&(h=n))}return h===null?g.ebvError():h}else if(b.expression.aggregateType==="min"){h=null;for(i=0;i<c.length;i++)n=c[i],n=g.runFilter(b.expression.expression,n,d,j,k),g.isEbvError(n)||(h===null?h=n:g.runGtFunction(h,n).value===!0&&(h=n));return h===null?g.ebvError():h}else if(b.expression.aggregateType==="count"){var h={},o=0;if(b.expression.expression===
"*")if(b.expression.distinct!=null&&b.expression.distinct!="")for(i=0;i<c.length;i++){var n=c[i],t=x.hashTerm(n);h[t]==null&&(h[t]=!0,o++)}else o=c.length;else for(i=0;i<c.length;i++)n=c[i],n=g.runFilter(b.expression.expression,n,d,j,k),g.isEbvError(n)||(b.expression.distinct!=null&&b.expression.distinct!=""?(t=x.hashTerm(n),h[t]==null&&(h[t]=!0,o++)):o++);return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+o}}else if(b.expression.aggregateType==="avg"){for(var h={},q=
{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"},i=o=0;i<c.length;i++)n=c[i],n=g.runFilter(b.expression.expression,n,d,j,k),g.isEbvError(n)||(b.expression.distinct!=null&&b.expression.distinct!=""?(t=x.hashTerm(n),h[t]==null&&(h[t]=!0,g.isNumeric(n)&&(q=g.runSumFunction(q,n),o++))):g.isNumeric(n)&&(q=g.runSumFunction(q,n),o++));b=g.runDivFunction(q,{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+o});b.value=""+b.value;return b}else if(b.expression.aggregateType===
"sum"){h={};q={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"};for(i=0;i<c.length;i++)n=c[i],n=g.runFilter(b.expression.expression,n,d,j,k),g.isEbvError(n)||(b.expression.distinct!=null&&b.expression.distinct!=""?(t=x.hashTerm(n),h[t]==null&&(h[t]=!0,g.isNumeric(n)&&(q=g.runSumFunction(q,n)))):g.isNumeric(n)&&(q=g.runSumFunction(q,n)));q.value=""+q.value;return q}else return n=g.runFilter(aggregate.expression,c[0],j,{blanks:{},outCache:{}})};g.runFilter=function(b,c,d,j,
k){if(b.expressionType!=null){var h=b.expressionType;if(h=="relationalexpression"){var h=g.runFilter(b.op1,c,d,j,k),i=g.runFilter(b.op2,c,d,j,k);return g.runRelationalFilter(b,h,i,c,d,j,k)}else if(h=="conditionalor")return g.runOrFunction(b,c,d,j,k);else if(h=="conditionaland")return g.runAndFunction(b,c,d,j,k);else if(h=="additiveexpression")return g.runAddition(b.summand,b.summands,c,d,j,k);else if(h=="builtincall")return g.runBuiltInCall(b.builtincall,b.args,c,d,j,k);else if(h=="multiplicativeexpression")return g.runMultiplication(b.factor,
b.factors,c,d,j,k);else if(h=="unaryexpression")return g.runUnaryExpression(b.unaryexpression,b.expression,c,d,j,k);else if(h=="irireforfunction")return g.runIriRefOrFunction(b.iriref,b.args,c,d,j,k);else if(h=="regex")return g.runRegex(b.text,b.pattern,b.flags,c,d,j,k);else if(h=="atomic")if(b.primaryexpression=="var")return c[b.value.value];else{if(typeof b.value=="object"&&!(b.value.type==null||typeof b.value.type!="object"))b.value.type=x.lexicalFormBaseUri(b.value.type,k);return b.value}else throw"Unknown filter expression type";
}else throw"Cannot find bound expressions in a no expression token";};g.isRDFTerm=function(b){return b==null?!1:b.token&&b.token=="literal"||b.token&&b.token=="uri"||b.token&&b.token=="blank"?!0:!1};g.RDFTermEquality=function(b,c,d,j){return b.token==="literal"&&c.token==="literal"?b.lang==c.lang&&b.type==c.type&&b.value==c.value?!0:b.type!=null&&c.type!=null?g.ebvError():g.isSimpleLiteral(b)&&c.type!=null?g.ebvError():g.isSimpleLiteral(c)&&b.type!=null?g.ebvError():!1:b.token==="uri"&&c.token===
"uri"?x.lexicalFormBaseUri(b,j)==x.lexicalFormBaseUri(c,j):b.token==="blank"&&c.token==="blank"?b.value==c.value:!1};g.isInteger=function(b){return b==null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#integer"||b.type=="http://www.w3.org/2001/XMLSchema#decimal"||b.type=="http://www.w3.org/2001/XMLSchema#double"||b.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||b.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#long"||
b.type=="http://www.w3.org/2001/XMLSchema#int"||b.type=="http://www.w3.org/2001/XMLSchema#short"||b.type=="http://www.w3.org/2001/XMLSchema#byte"||b.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||b.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"?!0:!1:
!1};g.isFloat=function(b){return b==null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#float"?!0:!1:!1};g.isDecimal=function(b){return b==null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#decimal"?!0:!1:!1};g.isDouble=function(b){return b==null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#double"?!0:!1:!1};g.isNumeric=function(b){return b==null?!1:b.token==="literal"?b.type=="http://www.w3.org/2001/XMLSchema#integer"||b.type=="http://www.w3.org/2001/XMLSchema#decimal"||
b.type=="http://www.w3.org/2001/XMLSchema#float"||b.type=="http://www.w3.org/2001/XMLSchema#double"||b.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||b.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#long"||b.type=="http://www.w3.org/2001/XMLSchema#int"||b.type=="http://www.w3.org/2001/XMLSchema#short"||b.type=="http://www.w3.org/2001/XMLSchema#byte"||b.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||
b.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||b.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"?!0:!1:!1};g.isSimpleLiteral=function(b){return b&&b.token=="literal"?b.type==null&&b.lang==null?!0:!1:!1};g.isXsdType=function(b,c){return c&&c.token=="literal"?c.type=="http://www.w3.org/2001/XMLSchema#"+b:!1};g.ebv=function(b){if(b==null||g.isEbvError(b))return g.ebvError();
else if(b.token&&b.token==="literal")if(b.type=="http://www.w3.org/2001/XMLSchema#integer"||b.type=="http://www.w3.org/2001/XMLSchema#decimal"||b.type=="http://www.w3.org/2001/XMLSchema#double"||b.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||b.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#long"||b.type=="http://www.w3.org/2001/XMLSchema#int"||b.type=="http://www.w3.org/2001/XMLSchema#short"||b.type=="http://www.w3.org/2001/XMLSchema#byte"||
b.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||b.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||b.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"){var c=parseFloat(b.value);return isNaN(c)?!1:parseFloat(b.value)!=0}else return b.type==="http://www.w3.org/2001/XMLSchema#boolean"?b.value==="true"||
b.value===!0||b.value==="True":b.type==="http://www.w3.org/2001/XMLSchema#string"?b.value!="":b.type==="http://www.w3.org/2001/XMLSchema#dateTime"?new Date(b.value)!=null:g.isEbvError(b)?b:b.type==null?b.value!=""?!0:!1:g.ebvError();else return b.value===!0};g.ebvTrue=function(){return val={token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}};g.ebvFalse=function(){return val={token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}};g.ebvError=function(){return val=
{token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null}};g.isEbvError=function(b){return typeof b=="object"&&b!=null?b.type==="https://github.com/antoniogarrote/js-tools/types#error":!1};g.ebvBoolean=function(b){return g.isEbvError(b)?b:b===!0?g.ebvTrue():g.ebvFalse()};g.runRelationalFilter=function(b,c,d,j,k,h,i){b=b.operator;if(b==="=")return g.runEqualityFunction(c,d,j,k,h,i);else if(b==="!="){c=g.runEqualityFunction(c,d,j,k,h,i);if(!g.isEbvError(c))c.value=!c.value;
return c}else if(b==="<")return g.runLtFunction(c,d,j);else if(b===">")return g.runGtFunction(c,d,j);else if(b==="<=")return g.runLtEqFunction(c,d,j);else if(b===">=")return g.runGtEqFunction(c,d,j);else throw"Error applying relational filter, unknown operator";};g.effectiveTypeValue=function(b){if(b.token=="literal")if(b.type=="http://www.w3.org/2001/XMLSchema#integer")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#decimal")return b=parseFloat(b.value);else if(b.type==
"http://www.w3.org/2001/XMLSchema#float")return b=parseFloat(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#double")return b=parseFloat(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger")return b=parseFloat(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#negativeInteger")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#long")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#int")return b=parseInt(b.value);
else if(b.type=="http://www.w3.org/2001/XMLSchema#short")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#byte")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#unsignedLong")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#unsignedInt")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#unsignedShort")return b=
parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#unsignedByte")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#positiveInteger")return b=parseInt(b.value);else if(b.type=="http://www.w3.org/2001/XMLSchema#date"||b.type=="http://www.w3.org/2001/XMLSchema#dateTime")try{return x.parseISO8601(b.value)}catch(c){return null}else return b.type=="http://www.w3.org/2001/XMLSchema#boolean"?b.value===!0||b.value==="true"||b.value==="1"||b.value===1||b.value===
!0?!0:b.value===!1||b.value==="false"||b.value==="0"||b.value===0||b.value===!1?!1:void 0:b.type=="http://www.w3.org/2001/XMLSchema#string"?b.value===null||b.value===void 0?void 0:""+b.value:b.value;else throw console.log("not implemented yet"),"value not supported in operations yet";};g.runOrFunction=function(b,c,d,j,k){for(var h=null,i=0;i<b.operands.length;i++){var n=g.runFilter(b.operands[i],c,d,j,k);g.isEbvError(n)==!1&&(n=g.ebv(n));h==null?h=n:g.isEbvError(n)?h=g.isEbvError(h)?g.ebvError():
h===!0?!0:g.ebvError():n===!0?h=!0:g.isEbvError(h)&&(h=g.ebvError())}return g.ebvBoolean(h)};g.runAndFunction=function(b,c,d,j,k){for(var h=null,i=0;i<b.operands.length;i++){var n=g.runFilter(b.operands[i],c,d,j,k);g.isEbvError(n)==!1&&(n=g.ebv(n));h==null?h=n:g.isEbvError(n)?h=g.isEbvError(h)?g.ebvError():h===!0?g.ebvError():!1:n===!0?g.isEbvError(h)&&(h=g.ebvError()):h=!1}return g.ebvBoolean(h)};g.runEqualityFunction=function(b,c,d,j,k,h){if(g.isEbvError(b)||g.isEbvError(c))return g.ebvError();
if(g.isNumeric(b)&&g.isNumeric(c))return d=g.effectiveTypeValue(b),k=g.effectiveTypeValue(c),isNaN(d)||isNaN(k)?g.ebvBoolean(g.RDFTermEquality(b,c,j,h)):g.ebvBoolean(d==k);else if((g.isSimpleLiteral(b)||g.isXsdType("string",b))&&(g.isSimpleLiteral(c)||g.isXsdType("string",c)))return g.ebvBoolean(g.effectiveTypeValue(b)==g.effectiveTypeValue(c));else if(g.isXsdType("boolean",b)&&g.isXsdType("boolean",c))return g.ebvBoolean(g.effectiveTypeValue(b)==g.effectiveTypeValue(c));else if((g.isXsdType("dateTime",
b)||g.isXsdType("date",b))&&(g.isXsdType("dateTime",c)||g.isXsdType("date",c))){if(g.isXsdType("dateTime",b)&&g.isXsdType("date",c))return g.ebvFalse();if(g.isXsdType("date",b)&&g.isXsdType("dateTime",c))return g.ebvFalse();b=x.compareDateComponents(b.value,c.value);return b!=null?b==0?g.ebvTrue():g.ebvFalse():g.ebvError()}else return g.isRDFTerm(b)&&g.isRDFTerm(c)?g.ebvBoolean(g.RDFTermEquality(b,c,j,h)):g.ebvFalse()};g.runGtFunction=function(b,c){if(g.isEbvError(b)||g.isEbvError(c))return g.ebvError();
if(g.isNumeric(b)&&g.isNumeric(c))return g.ebvBoolean(g.effectiveTypeValue(b)>g.effectiveTypeValue(c));else if(g.isSimpleLiteral(b)&&g.isSimpleLiteral(c))return g.ebvBoolean(g.effectiveTypeValue(b)>g.effectiveTypeValue(c));else if(g.isXsdType("string",b)&&g.isXsdType("string",c))return g.ebvBoolean(g.effectiveTypeValue(b)>g.effectiveTypeValue(c));else if(g.isXsdType("boolean",b)&&g.isXsdType("boolean",c))return g.ebvBoolean(g.effectiveTypeValue(b)>g.effectiveTypeValue(c));else if((g.isXsdType("dateTime",
b)||g.isXsdType("date",b))&&(g.isXsdType("dateTime",c)||g.isXsdType("date",c))){if(g.isXsdType("dateTime",b)&&g.isXsdType("date",c))return g.ebvFalse();if(g.isXsdType("date",b)&&g.isXsdType("dateTime",c))return g.ebvFalse();var d=x.compareDateComponents(b.value,c.value);return d!=null?d==1?g.ebvTrue():g.ebvFalse():g.ebvError()}else return g.ebvFalse()};g.runTotalGtFunction=function(b,c){return g.isEbvError(b)||g.isEbvError(c)?g.ebvError():g.isNumeric(b)&&g.isNumeric(c)||g.isSimpleLiteral(b)&&g.isSimpleLiteral(c)||
g.isXsdType("string",b)&&g.isSimpleLiteral("string",c)||g.isXsdType("boolean",b)&&g.isSimpleLiteral("boolean",c)||g.isXsdType("dateTime",b)&&g.isSimpleLiteral("dateTime",c)?g.runGtFunction(b,c,[]):b.token&&b.token==="uri"&&c.token&&c.token==="uri"?g.ebvBoolean(b.value>c.value):b.token&&b.token==="literal"&&c.token&&c.token==="literal"?g.ebvBoolean(""+b.value+b.type+b.lang>""+c.value+c.type+c.lang):b.token&&b.token==="blank"&&c.token&&c.token==="blank"?g.ebvBoolean(b.value>c.value):b.value&&c.value?
g.ebvBoolean(b.value>c.value):g.ebvTrue()};g.runLtFunction=function(b,c){if(g.isEbvError(b)||g.isEbvError(c))return g.ebvError();if(g.isNumeric(b)&&g.isNumeric(c))return g.ebvBoolean(g.effectiveTypeValue(b)<g.effectiveTypeValue(c));else if(g.isSimpleLiteral(b)&&g.isSimpleLiteral(c))return g.ebvBoolean(g.effectiveTypeValue(b)<g.effectiveTypeValue(c));else if(g.isXsdType("string",b)&&g.isXsdType("string",c))return g.ebvBoolean(g.effectiveTypeValue(b)<g.effectiveTypeValue(c));else if(g.isXsdType("boolean",
b)&&g.isXsdType("boolean",c))return g.ebvBoolean(g.effectiveTypeValue(b)<g.effectiveTypeValue(c));else if((g.isXsdType("dateTime",b)||g.isXsdType("date",b))&&(g.isXsdType("dateTime",c)||g.isXsdType("date",c))){if(g.isXsdType("dateTime",b)&&g.isXsdType("date",c))return g.ebvFalse();if(g.isXsdType("date",b)&&g.isXsdType("dateTime",c))return g.ebvFalse();var d=x.compareDateComponents(b.value,c.value);return d!=null?d==-1?g.ebvTrue():g.ebvFalse():g.ebvError()}else return g.ebvFalse()};g.runGtEqFunction=
function(b,c){if(g.isEbvError(b)||g.isEbvError(c))return g.ebvError();if(g.isNumeric(b)&&g.isNumeric(c))return g.ebvBoolean(g.effectiveTypeValue(b)>=g.effectiveTypeValue(c));else if(g.isSimpleLiteral(b)&&g.isSimpleLiteral(c))return g.ebvBoolean(g.effectiveTypeValue(b)>=g.effectiveTypeValue(c));else if(g.isXsdType("string",b)&&g.isXsdType("string",c))return g.ebvBoolean(g.effectiveTypeValue(b)>=g.effectiveTypeValue(c));else if(g.isXsdType("boolean",b)&&g.isXsdType("boolean",c))return g.ebvBoolean(g.effectiveTypeValue(b)>=
g.effectiveTypeValue(c));else if((g.isXsdType("dateTime",b)||g.isXsdType("date",b))&&(g.isXsdType("dateTime",c)||g.isXsdType("date",c))){if(g.isXsdType("dateTime",b)&&g.isXsdType("date",c))return g.ebvFalse();if(g.isXsdType("date",b)&&g.isXsdType("dateTime",c))return g.ebvFalse();var d=x.compareDateComponents(b.value,c.value);return d!=null?d!=-1?g.ebvTrue():g.ebvFalse():g.ebvError()}else return g.ebvFalse()};g.runLtEqFunction=function(b,c){if(g.isEbvError(b)||g.isEbvError(c))return g.ebvError();
if(g.isNumeric(b)&&g.isNumeric(c))return g.ebvBoolean(g.effectiveTypeValue(b)<=g.effectiveTypeValue(c));else if(g.isSimpleLiteral(b)&&g.isSimpleLiteral(c))return g.ebvBoolean(g.effectiveTypeValue(b)<=g.effectiveTypeValue(c));else if(g.isXsdType("string",b)&&g.isXsdType("string",c))return g.ebvBoolean(g.effectiveTypeValue(b)<=g.effectiveTypeValue(c));else if(g.isXsdType("boolean",b)&&g.isXsdType("boolean",c))return g.ebvBoolean(g.effectiveTypeValue(b)<=g.effectiveTypeValue(c));else if((g.isXsdType("dateTime",
b)||g.isXsdType("date",b))&&(g.isXsdType("dateTime",c)||g.isXsdType("date",c))){if(g.isXsdType("dateTime",b)&&g.isXsdType("date",c))return g.ebvFalse();if(g.isXsdType("date",b)&&g.isXsdType("dateTime",c))return g.ebvFalse();var d=x.compareDateComponents(b.value,c.value);return d!=null?d!=1?g.ebvTrue():g.ebvFalse():g.ebvError()}else return g.ebvFalse()};g.runAddition=function(b,c,d,j,k,h){var i=g.runFilter(b,d,j,k,h);if(g.isEbvError(i))return g.ebvError();b=i;if(g.isNumeric(i)){for(i=0;i<c.length;i++){var n=
g.runFilter(c[i].expression,d,j,k,h);if(g.isNumeric(n))c[i].operator==="+"?b=g.runSumFunction(b,n):c[i].operator==="-"&&(b=g.runSubFunction(b,n));else return g.ebvFalse()}return b}else return g.ebvFalse()};g.runSumFunction=function(b,c){if(g.isEbvError(b)||g.isEbvError(c))return g.ebvError();var d=g.effectiveTypeValue(b)+g.effectiveTypeValue(c);return g.isDouble(b)||g.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:d}:g.isFloat(b)||g.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",
value:d}:g.isDecimal(b)||g.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};g.runSubFunction=function(b,c){if(g.isEbvError(b)||g.isEbvError(c))return g.ebvError();var d=g.effectiveTypeValue(b)-g.effectiveTypeValue(c);return g.isDouble(b)||g.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:d}:g.isFloat(b)||g.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",
value:d}:g.isDecimal(b)||g.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};g.runMultiplication=function(b,c,d,j,k,h){b=g.runFilter(b,d,j,k,h);if(g.isEbvError(b))return b;var i=b;if(g.isNumeric(b)){for(var n=0;n<c.length;n++){var o=g.runFilter(c[n].expression,d,j,k,h);if(g.isEbvError(o))return b;if(g.isNumeric(o))c[n].operator==="*"?i=g.runMulFunction(i,o):c[n].operator==="/"&&(i=g.runDivFunction(i,
o));else return g.ebvFalse()}return i}else return g.ebvFalse()};g.runMulFunction=function(b,c){if(g.isEbvError(b)||g.isEbvError(c))return g.ebvError();var d=g.effectiveTypeValue(b)*g.effectiveTypeValue(c);return g.isDouble(b)||g.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:d}:g.isFloat(b)||g.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:d}:g.isDecimal(b)||g.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",
value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};g.runDivFunction=function(b,c){if(g.isEbvError(b)||g.isEbvError(c))return g.ebvError();var d=g.effectiveTypeValue(b)/g.effectiveTypeValue(c);return g.isDouble(b)||g.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:d}:g.isFloat(b)||g.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:d}:g.isDecimal(b)||g.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",
value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};g.runBuiltInCall=function(b,c,d,j,k,h){if(b==="notexists"||b==="exists"){var i=JSON.parse(JSON.stringify(c[0])),i=j.abstractQueryTree.parseSelect({pattern:i},d),i=j.abstractQueryTree.bind(i.pattern,d),d=j.executeSelectUnit([{kind:"*"}],k,i,h);return b==="exists"?g.ebvBoolean(d.length!==0):g.ebvBoolean(d.length===0)}else{for(var i=[],n=0;n<c.length;n++)if(c[n].token==="var")i.push(c[n]);else{var o=g.runFilter(c[n],
d,j,k,h);if(g.isEbvError(o))return o;i.push(o)}if(b==="str")return i[0].token==="literal"?{token:"literal",type:null,value:""+i[0].value}:i[0].token==="uri"?{token:"literal",type:null,value:i[0].value}:g.ebvFalse();else if(b==="lang")return i[0].token==="literal"?i[0].lang!=null?{token:"literal",value:""+i[0].lang}:{token:"literal",value:""}:g.ebvError();else if(b==="datatype")return i[0].token==="literal"?(b=i[0],b.type!=null?typeof b.type==="string"?{token:"uri",value:b.type,prefix:null,suffix:null}:
b.type:b.lang==null?{token:"uri",value:"http://www.w3.org/2001/XMLSchema#string",prefix:null,suffix:null}:g.ebvError()):g.ebvError();else if(b==="isliteral")return i[0].token==="literal"?g.ebvTrue():g.ebvFalse();else if(b==="isblank")return i[0].token==="blank"?g.ebvTrue():g.ebvFalse();else if(b==="isuri"||b==="isiri")return i[0].token==="uri"?g.ebvTrue():g.ebvFalse();else if(b==="sameterm")return b=g.RDFTermEquality(i[0],i[1],j,h),g.isEbvError(b)&&(b=!1),g.ebvBoolean(b);else if(b==="langmatches")return b=
i[0],d=i[1],b.token==="literal"&&d.token==="literal"?d.value==="*"&&b.value!=""?g.ebvTrue():g.ebvBoolean(b.value.toLowerCase().indexOf(d.value.toLowerCase())===0):g.ebvError();else if(b==="bound")return b=i[0].value,b==null?g.ebvError():d[b]!=null?g.ebvTrue():g.ebvFalse();else throw"Builtin call "+b+" not implemented yet";}};g.runUnaryExpression=function(b,c,d,j,k,h){c=g.runFilter(c,d,j,k,h);if(g.isEbvError(c))return c;if(b==="!"){var i=g.ebv(c);return g.isEbvError(i)?g.ebvFalse():g.ebvBoolean(!i)}else if(b===
"+")return g.isNumeric(c)?c:g.ebvError();else if(b==="-")if(g.isNumeric(c)){b={};for(i in c)b[i]=c[i];b.value=-b.value;return b}else return g.ebvError()};g.runRegex=function(b,c,d,j,k,h,i){if(b!=null)b=g.runFilter(b,j,k,h,i);else return g.ebvError();if(c!=null)c=g.runFilter(c,j,k,h,i);else return g.ebvError();d!=null&&(d=g.runFilter(d,j,k,h,i));if(c!=null&&c.token==="literal"&&(d==null||d.token==="literal"))c=c.value,d=d==null?null:d.value;else return g.ebvError();if(b!=null&&b.token=="var")if(j[b.value]!=
null)b=j[b.value];else return g.ebvError();else if(b!=null&&b.token==="literal")if(b.type==null||g.isXsdType("string",b))b=b.value;else return g.ebvError();else return g.ebvError();return(d==null?RegExp(c):RegExp(c,d.toLowerCase())).exec(b)?g.ebvTrue():g.ebvFalse()};g.normalizeLiteralDatatype=function(b,c,d){if(!(b.value.type==null||typeof b.value.type!="object"))b.value.type=x.lexicalFormBaseUri(b.value.type,d);return b};g.runIriRefOrFunction=function(b,c,d,j,k,h){if(c==null)return b;else{for(var i=
[],n=0;n<c.length;n++)i.push(g.runFilter(c[n],d,j,k,h));b=x.lexicalFormBaseUri(b,h);if(b=="http://www.w3.org/2001/XMLSchema#integer"||b=="http://www.w3.org/2001/XMLSchema#decimal"||b=="http://www.w3.org/2001/XMLSchema#double"||b=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||b=="http://www.w3.org/2001/XMLSchema#negativeInteger"||b=="http://www.w3.org/2001/XMLSchema#long"||b=="http://www.w3.org/2001/XMLSchema#int"||b=="http://www.w3.org/2001/XMLSchema#short"||b=="http://www.w3.org/2001/XMLSchema#byte"||
b=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||b=="http://www.w3.org/2001/XMLSchema#unsignedLong"||b=="http://www.w3.org/2001/XMLSchema#unsignedInt"||b=="http://www.w3.org/2001/XMLSchema#unsignedShort"||b=="http://www.w3.org/2001/XMLSchema#unsignedByte"||b=="http://www.w3.org/2001/XMLSchema#positiveInteger")if(i=i[0],i.token==="literal")if(i=g.normalizeLiteralDatatype(i,j,h),i.type=="http://www.w3.org/2001/XMLSchema#integer"||i.type=="http://www.w3.org/2001/XMLSchema#decimal"||i.type==
"http://www.w3.org/2001/XMLSchema#double"||i.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||i.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||i.type=="http://www.w3.org/2001/XMLSchema#long"||i.type=="http://www.w3.org/2001/XMLSchema#int"||i.type=="http://www.w3.org/2001/XMLSchema#short"||i.type=="http://www.w3.org/2001/XMLSchema#byte"||i.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||i.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||i.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||
i.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||i.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||i.type=="http://www.w3.org/2001/XMLSchema#positiveInteger")return i.type=b,i;else if(i.type=="http://www.w3.org/2001/XMLSchema#boolean")return g.ebv(i)==!0?(i.type=b,i.value=1):(i.type=b,i.value=0),i;else if(i.type=="http://www.w3.org/2001/XMLSchema#float"||i.type=="http://www.w3.org/2001/XMLSchema#double")return i.type=b,i.value=parseInt(i.value),i;else if(i.type=="http://www.w3.org/2001/XMLSchema#string"||
i.type==null){if(i.value.split(".").length>2)return g.ebvError();else if(i.value.split("-").length>2)return g.ebvError();else if(i.value.split("/").length>2)return g.ebvError();else if(i.value.split("+").length>2)return g.ebvError();if(b=="http://www.w3.org/2001/XMLSchema#decimal"&&(i.value.indexOf("e")!=-1||i.value.indexOf("E")!=-1))return g.ebvError();if(b=="http://www.w3.org/2001/XMLSchema#int"||b=="http://www.w3.org/2001/XMLSchema#integer")if(i.value.indexOf("e")!=-1||i.value.indexOf("E")!=-1||
i.value.indexOf(".")!=-1)return g.ebvError();try{return i.value=parseInt(parseFloat(i.value)),isNaN(i.value)?g.ebvError():(i.type=b,i)}catch(o){return g.ebvError()}}else return g.ebvError();else return g.ebvError();else if(b=="http://www.w3.org/2001/XMLSchema#boolean")return i=i[0],i.token==="literal"&&i.type==null?i.value==="true"||i.value==="1"?g.ebvTrue():i.value==="false"||i.value==="0"?g.ebvFalse():g.ebvError():i.token==="literal"?g.isEbvError(i)?i:g.ebvBoolean(i):g.ebvError();else if(b=="http://www.w3.org/2001/XMLSchema#string")if(i=
i[0],i.token==="literal")if(i=g.normalizeLiteralDatatype(i,j,h),i.type=="http://www.w3.org/2001/XMLSchema#integer"||i.type=="http://www.w3.org/2001/XMLSchema#decimal"||i.type=="http://www.w3.org/2001/XMLSchema#double"||i.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||i.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||i.type=="http://www.w3.org/2001/XMLSchema#long"||i.type=="http://www.w3.org/2001/XMLSchema#int"||i.type=="http://www.w3.org/2001/XMLSchema#short"||i.type=="http://www.w3.org/2001/XMLSchema#byte"||
i.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||i.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||i.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||i.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||i.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||i.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"||i.type=="http://www.w3.org/2001/XMLSchema#float")return i.type=b,i.value=""+i.value,i;else if(i.type=="http://www.w3.org/2001/XMLSchema#string")return i;
else if(i.type=="http://www.w3.org/2001/XMLSchema#boolean")return g.ebv(i)?(i.type=b,i.value="true"):(i.type=b,i.value="false"),i;else if(i.type=="http://www.w3.org/2001/XMLSchema#dateTime"||i.type=="http://www.w3.org/2001/XMLSchema#date"){i.type=b;if(typeof i.value!="string")i.value=x.iso8601(i.value);return i}else return i.type==null?(i.value=""+i.value,i.type=b,i):g.ebvError();else return i.token==="uri"?{token:"literal",value:x.lexicalFormBaseUri(i,h),type:b,lang:null}:g.ebvError();else if(b==
"http://www.w3.org/2001/XMLSchema#dateTime"||b=="http://www.w3.org/2001/XMLSchema#date")if(i=i[0],i.type=="http://www.w3.org/2001/XMLSchema#dateTime"||i.type=="http://www.w3.org/2001/XMLSchema#date")return i;else if(i.type=="http://www.w3.org/2001/XMLSchema#string"||i.type==null)try{return i.value=x.iso8601(x.parseStrictISO8601(i.value)),i.type=b,i}catch(t){return g.ebvError()}else return g.ebvError();else if(b=="http://www.w3.org/2001/XMLSchema#float")if(i=i[0],i.token==="literal")if(i=g.normalizeLiteralDatatype(i,
j,h),i.type=="http://www.w3.org/2001/XMLSchema#decimal"||i.type=="http://www.w3.org/2001/XMLSchema#int")return i.type=b,i.value=parseFloat(i.value),i;else if(i.type=="http://www.w3.org/2001/XMLSchema#boolean")return g.ebv(i)==!0?(i.type=b,i.value=1):(i.type=b,i.value=0),i;else if(i.type=="http://www.w3.org/2001/XMLSchema#float"||i.type=="http://www.w3.org/2001/XMLSchema#double")return i.type=b,i.value=parseFloat(i.value),i;else if(i.type=="http://www.w3.org/2001/XMLSchema#string")try{return i.value=
parseFloat(i.value),isNaN(i.value)?g.ebvError():(i.type=b,i)}catch(q){return g.ebvError()}else if(i.type==null){if(i.value.split(".").length>2)return g.ebvError();else if(i.value.split("-").length>2)return g.ebvError();else if(i.value.split("/").length>2)return g.ebvError();else if(i.value.split("+").length>2)return g.ebvError();try{return i.value=parseFloat(i.value),isNaN(i.value)?g.ebvError():(i.type=b,i)}catch(v){return g.ebvError()}}else return g.ebvError();else return g.ebvError();else return g.ebvError()}};
var F={variablesInBGP:function(b){var c=b.variables;if(c)return c;var d=b.value||b,c=[];for(comp in d)d[comp]&&d[comp].token==="var"?c.push(d[comp].value):d[comp]&&d[comp].token==="blank"&&c.push("blank:"+d[comp].value);return b.variables=c},connected:function(b,c){for(var d="/"+b.vars.join("/")+"/",j=0;j<c.vars.length;j++)if(d.indexOf("/"+c.vars[j]+"/")!=-1)return!0;return!1},variablesIntersectionBGP:function(b,c){for(var d=F.variablesInBGP(b).sort(),j=F.variablesInBGP(c).sort(),g=0,h=0,i=[];g<d.length&&
h<j.length;)d[g]===j[h]?(i.push(d[g]),g++,h++):d[g]<j[h]?g++:h++;return i},executeAndBGPsGroups:function(b){for(var c={},d={},j=0,g=0;g<b.length;g++){var h=b[g],i=[],n;for(n in h)n!="_cost"&&(h[n].token==="var"?i.push(h[n].value):h[n].token==="blank"&&i.push(h[n].value));var o=!1,t;for(t in d){groupVar=d[t];for(var q=0;q<i.length;q++)if(groupVar.indexOf("/"+i[q]+"/")!=-1){c[t].push(h);d[t]=groupVar+i.join("/")+"/";o=!0;break}if(o)break}o||(c[j]=[h],d[j]="/"+i.join("/")+"/",j++)}b=[];for(j in c)b.push(c[j]);
return b},intersectionSize:function(b,c){for(var d=c.i.split("_"),j=0;j<d.length;j++)if(d[j]!=""&&b.i.indexOf("_"+d[j]+"_")!=-1)return 1;return 0},createJoinTree:function(b,c){for(var d="/"+b.vars.join("/")+"/",j=b.vars.concat([]),g=[],h=0;h<c.vars.length;h++)d.indexOf("/"+c.vars[h]+"/")!=-1?c.vars[h].indexOf("_:")==0?g.push("blank:"+c.vars[h]):g.push(c.vars[h]):j.push(c.vars[h]);for(var i=c.i.split("_"),n=b.i.split("_"),d={},h=0;h<i.length;h++)i[h]!=""&&(d[i[h]]=!0);for(h=0;h<n.length;h++)n[h]!=
""&&(d[n[h]]=!0);var h=[],o;for(o in d)h.push(o);return{left:b,right:c,cost:b.cost+c.cost,i:"_"+h.sort().join("_")+"_",vars:j,join:g}}};F.executeBushyTree=function(b,c,d,j){if(b.left==null)return F.executeEmptyJoinBGP(b.right,c,d,j);else if(b.right==null)return F.executeEmptyJoinBGP(b.left,c,d,j);else{var g=F.executeBushyTree(b.left,c,d,j);if(g!=null)return c=F.executeBushyTree(b.right,c,d,j),c!=null?F.joinBindings2(b.join,g,c):null}};F.executeAndBGPsDPSize=function(b,c,d,j){for(var g=F.executeAndBGPsGroups(b),
b=[],h=0;h<g.length;h++){var i=g[h];d.computeCosts(i,j);var n={},o={},t={},q=1,v=null,x={};t["1"]=[];for(var D=0;D<i.length;D++){var q=[],E;for(E in i[D])E!="_cost"&&(i[D][E].token==="var"?q.push(i[D][E].value):i[D][E].token==="blank"&&q.push(i[D][E].value));o["_"+D+"_"]={left:i[D],right:null,cost:i[D]._cost,i:"_"+D+"_",vars:q};q={left:i[D],right:null,cost:i[D]._cost,i:"_"+D+"_",vars:q};n["_"+D+"_"]=q;delete i[D]._cost;x["_"+D+"_"]=!0;t["1"].push("_"+D+"_");if(v==null||v.cost>q.cost)v=q}for(var M=
2;M<=i.length;M++)for(var I=1;I<M;I++)for(var J=t[""+I]||[],K=t[""+(M-I)]||[],D=0;D<J.length;D++)for(var P=0;P<K.length;P++)if(J[D]!==K[P]){var O=o[J[D]],L=o[K[P]];if(F.intersectionSize(O,L)==0&&F.connected(O,L)&&(q=M,L=F.createJoinTree(n[O.i],n[L.i]),!x[L.i])){x[L.i]=!0;var S=L.cost+1;if(n[L.i]!=null)S=n[L.i].cost;O=t[M]||[];O.push(L.i);o[L.i]=L;t[M]=O;S>L.cost&&(q===M&&(v=L),n[L.i]=L)}}b.push(v)}O=null;for(h=0;h<b.length;h++)E=F.executeBushyTree(b[h],c,d,j),O=O==null?E:F.crossProductBindings(O,
E);return O};F.executeEmptyJoinBGP=function(b,c,d,j){return F.executeBGPDatasets(b,c,d,j)};F.executeBGPDatasets=function(b,c,d,j){var g={};if(b.graph==null){for(var h=[],i=0;i<c["default"].length;i++)if(g[c["default"][i].oid]==null){g[c["default"][i].oid]=!0;b.graph=c["default"][i];var n=d.rangeQuery(b,j),n=F.buildBindingsFromRange(n,b);h.push(n)}return b=F.unionManyBindings(h)}else if(b.graph.token==="var"){for(var o=b.graph.value,h=[],i=0;i<c.named.length;i++)if(g[c.named[i].oid]==null)if(g[c.named[i].oid]=
!0,b.graph=c.named[i],n=d.rangeQuery(b,j),n!=null){for(var n=F.buildBindingsFromRange(n,b),t=0;t<n.length;t++)n[t][o]=c.named[i].oid;h.push(n)}else return null;return b=F.unionManyBindings(h||[])}else return n=d.rangeQuery(b,j),n!=null?n=F.buildBindingsFromRange(n,b):null};F.buildBindingsFromRange=function(b,c){F.variablesInBGP(c);var d={},j=c.value||c,d={};for(n in j)j[n]&&j[n].token==="var"?d[n]=j[n].value:j[n]&&j[n].token==="blank"&&(d[n]="blank:"+j[n].value);j=[];if(b!=null)for(var g=0;g<b.length;g++){var h=
{},i=b[g],n;for(n in d)h[d[n]]=i[n];j.push(h)}return j};F.areCompatibleBindings=function(b,c){for(var d in b)if(c[d]!=null&&c[d]!=b[d])return!1;return!0};F.mergeBindings=function(b,c){var d={},j;for(j in b)d[j]=b[j];for(j in c)d[j]=c[j];return d};F.joinBindings2=function(b,c,d){for(var j={},g,h,i,n,o=[],t=0;t<c.length;t++){g=c[t];n=j;for(var q=0;q<b.length;q++)h=b[q],h=g[h],q==b.length-1?(i=n[h]||[],i.push(g),n[h]=i):(i=n[h]||{},n=n[h]=i)}for(t=0;t<d.length;t++){g=d[t];n=j;for(q=0;q<b.length;q++)if(h=
b[q],h=g[h],n[h]!=null)if(q==b.length-1)for(c=0;c<n[h].length;c++)o.push(F.mergeBindings(n[h][c],g));else n=n[h]}return o};F.joinBindings=function(b,c){for(var d=[],j=0;j<b.length;j++)for(var g=b[j],h=0;h<c.length;h++){var i=c[h];F.areCompatibleBindings(g,i)&&d.push(F.mergeBindings(g,i))}return d};F.augmentMissingBindings=function(b,c){for(var d in c)b[d]==null&&(b[d]=null);return b};F.leftOuterJoinBindings=function(b,c){for(var d=[],g=0;g<b.length;g++){for(var k=b[g],h=!1,i=0;i<c.length;i++){var n=
c[i];F.areCompatibleBindings(k,n)&&(h=!0,d.push(F.mergeBindings(k,n)))}h===!1&&(F.augmentMissingBindings(k,n),d.push(k))}return d};F.crossProductBindings=function(b,c){for(var d=[],g=0;g<b.length;g++)for(var k=b[g],h=0;h<c.length;h++)d.push(F.mergeBindings(k,c[h]));return d};F.unionBindings=function(b,c){return b.concat(c)};F.unionManyBindings=function(b){for(var c=[],d=0;d<b.length;d++)c=F.unionBindings(c,b[d]);return c};var J={},ia=F;J.QueryEngine=function(b){if(arguments.length!=0)this.backend=
b.backend,this.lexicon=b.lexicon,this.eventsOnBatchLoad=b.eventsOnBatchLoad||!1,this.defaultPrefixes={},this.abstractQueryTree=new L.AbstractQueryTree,this.rdfLoader=new aa.RDFLoader(b.communication),this.callbacksBackend=new I.CallbacksBackend(this)};J.QueryEngine.prototype.registerNsInEnvironment=function(b,c){var d=[];if(b!=null&&b.prefixes!=null)d=b.prefixes;var g={},k;for(k in this.defaultPrefixes)g[k]=this.defaultPrefixes[k];for(k=0;k<d.length;k++){var h=d[k];if(h.token==="prefix")g[h.prefix]=
h.local}c.namespaces=g;c.base=b!=null&&b.base&&typeof b.base==="object"?b.base.value:null};J.QueryEngine.prototype.applyModifier=function(b,c){if(b=="DISTINCT"){for(var d={},g=[],k=0;k<c.length;k++){var h=c[k],i="",n;for(n in h){var o=h[n];o==null?i=i+n+"null":o.token=="literal"?(o.value!=null&&(i+=o.value),o.lang!=null&&(i+=o.lang),o.type!=null&&(i+=o.type)):i=o.value?i+n+o.value:i+n+o}d[i]==null&&(g.push(h),d[i]=!0)}return g}else return c};J.QueryEngine.prototype.applyLimitOffset=function(b,c,d){if(c==
null&&b==null)return d;b==null&&(b=0);c=c==null?d.length:b+c;return d.slice(b,c)};J.QueryEngine.prototype.applySingleOrderBy=function(b,c,d,j){for(var k=[],h=0;h<b.length;h++){var i=g.collect(b[h].expression,[c],d,j,this);k.push(i[0].value)}return{binding:c,value:k}};J.QueryEngine.prototype.applyOrderBy=function(b,c,d,g){var k=this,h=[];if(b!=null&&b.length>0){for(var i=0;i<c.length;i++){var n=k.applySingleOrderBy(b,c[i],d,g);h.push(n)}h.sort(function(c,d){return k.compareFilteredBindings(c,d,b,g)});
c=[];for(i=0;i<h.length;i++)c.push(h[i].binding)}return c};J.QueryEngine.prototype.compareFilteredBindings=function(b,c,d,j){for(var k=0;;){if(k==b.value.length)return 0;var h=d[k].direction;if(b.value[k]==null&&c.value[k]==null)k++;else{if(b.value[k]==null)b={value:!1};else if(c.value[k]==null)b={value:!0};else if(b.value[k].token==="blank"&&c.value[k].token==="blank"){k++;continue}else if(b.value[k].token==="blank")b={value:!1};else if(c.value[k].token==="blank")b={value:!0};else if(b.value[k].token===
"uri"&&c.value[k].token==="uri")if(g.runEqualityFunction(b.value[k],c.value[k],[],this,j).value==!0){k++;continue}else b=g.runTotalGtFunction(b.value[k],c.value[k],[]);else if(b.value[k].token==="uri")b={value:!1};else if(c.value[k].token==="uri")b={value:!0};else if(b.value[k].token==="literal"&&c.value[k].token==="literal"&&b.value[k].type==null&&c.value[k].type==null)if(g.runEqualityFunction(b.value[k],c.value[k],[],this,j).value==!0){k++;continue}else b=g.runTotalGtFunction(b.value[k],c.value[k],
[]);else if(b.value[k].token==="literal"&&b.value[k].type==null)b={value:!1};else if(c.value[k].token==="literal"&&c.value[k].type==null)b={value:!0};else if(g.runEqualityFunction(b.value[k],c.value[k],[],this,j).value==!0){k++;continue}else b=g.runTotalGtFunction(b.value[k],c.value[k],[]);return b.value==!0?h==="ASC"?1:-1:h==="ASC"?-1:1}}};J.QueryEngine.prototype.removeDefaultGraphBindings=function(b,c){for(var d=[],g={},k=0;k<c.named.length;k++)g[c.named[k].oid]=!0;for(k=0;k<c["default"].length;k++)g[c["default"][k].oid]==
null&&d.push(c["default"][k].oid);d=[];for(k=0;k<b.length;k++){var h=b[k],i=!1,n;for(n in h){for(var o=0;o<g.length;o++)if(h[n]===g[o]){i=!0;break}if(i)break}i||d.push(h)}return d};J.QueryEngine.prototype.aggregateBindings=function(b,c,d,j){for(var c=this.copyDenormalizedBindings(c,j.outCache),k={},h=0;h<b.length;h++){var i=g.runAggregator(b[h],c,this,d,j);b[h].alias?k[b[h].alias.value]=i:k[b[h].value.value]=i}return k};J.QueryEngine.prototype.projectBindings=function(b,c,d){if(b[0].kind==="*")return c;
else{for(var j=[],k=0;k<c.length;k++){for(var h=c[k],i={},n=!0,o=0;o<b.length;o++)if(b[o].token=="variable"&&b[o].kind!="aliased")i[b[o].value.value]=h[b[o].value.value];else if(b[o].token=="variable"&&b[o].kind=="aliased"){var t=g.runFilter(b[o].expression,h,this,d,{blanks:{},outCache:{}});if(g.isEbvError(t)){n=!1;break}else i[b[o].alias.value]=t}n===!0&&j.push(i)}return j}};J.QueryEngine.prototype.resolveNsInEnvironment=function(b,c){return c.namespaces[b]};J.QueryEngine.prototype.termCost=function(b,
c){if(b.token==="uri"){var d=x.lexicalFormBaseUri(b,c);return d==null?0:this.lexicon.resolveUriCost(d)}else return b.token==="literal"?this.lexicon.resolveLiteralCost(x.lexicalFormLiteral(b,c)):b.token==="blank"?this.lexicon.resolveBlankCost(b.value):b.token==="var"?this.lexicon.oidCounter/3:null};J.QueryEngine.prototype.normalizeTerm=function(b,c,d){if(b.token==="uri")return c=x.lexicalFormBaseUri(b,c),c==null?null:d?this.lexicon.registerUri(c):this.lexicon.resolveUri(c);else if(b.token==="literal")return c=
x.lexicalFormLiteral(b,c),b=d?this.lexicon.registerLiteral(c):this.lexicon.resolveLiteral(c);else if(b.token==="blank"){var g=b.value,b=c.blanks[g];b==null&&(b=d?this.lexicon.registerBlank(g):this.lexicon.resolveBlank(g),c.blanks[g]=b);return b}else return b.token==="var"?b.value:null};J.QueryEngine.prototype.normalizeDatasets=function(b,c){for(var d=0;d<b.length;d++){var g=b[d];if(g.value===this.lexicon.defaultGraphUri)g.oid=this.lexicon.defaultGraphOid;else{var k=this.normalizeTerm(g,c,!1);if(k!=
null)g.oid=k;else return null}}return!0};J.QueryEngine.prototype.normalizeQuad=function(b,c,d){var g=null,k=null,h=g=null,i;if(b.graph==null)h=0;else if(i=this.normalizeTerm(b.graph,c,d),i!=null)h=i,d===!0&&b.graph.token!="var"&&this.lexicon.registerGraph(i);else return null;i=this.normalizeTerm(b.subject,c,d);if(i!=null)g=i;else return null;i=this.normalizeTerm(b.predicate,c,d);if(i!=null)k=i;else return null;i=this.normalizeTerm(b.object,c,d);return i==null?null:{subject:g,predicate:k,object:i,
graph:h}};J.QueryEngine.prototype.quadCost=function(b,c){var d=null,g=null,k=null,h=null,h=b.graph==null?this.lexicon.oidCounter/4:this.termCost(b.graph,c),d=this.termCost(b.subject,c),g=this.termCost(b.predicate,c),k=this.termCost(b.object,c);return h+d+g+k};J.QueryEngine.prototype.denormalizeBindingsList=function(b,c){for(var d=[],g=0;g<b.length;g++)result=this.denormalizeBindings(b[g],c),d.push(result);return d};J.QueryEngine.prototype.copyDenormalizedBindings=function(b,c){for(var d=[],g=0;g<
b.length;g++){for(var k={},h=b[g],i=x.keys(h),n=0;n<i.length;n++){var o=h[i[n]];if(o==null)k[i[n]]=null;else if(typeof o==="object")k[i[n]]=o;else{var t=c[o];t==null&&(t=this.lexicon.retrieve(o),c[o]=t);k[i[n]]=t}}d.push(k)}return d};J.QueryEngine.prototype.denormalizeBindings=function(b,c){for(var d=x.keys(b),g=0;g<d.length;g++){var k=b[d[g]];k==null?b[d[g]]=null:c[k]!=null?b[d[g]]=c[k]:(k=this.lexicon.retrieve(k),b[d[g]]=k)}return b};J.QueryEngine.prototype.execute=function(b,c,d,g){b=x.normalizeUnicodeLiterals(b);
b=this.abstractQueryTree.parseQueryString(b);if(b==null)c(!1,"Error parsing query string");else if(b.token==="query"&&b.kind=="update"){this.callbacksBackend.startGraphModification();var k=this;this.executeUpdate(b,function(b,d){k.lexicon.updateAfterWrite&&k.lexicon.updateAfterWrite();b?k.callbacksBackend.endGraphModification(function(){c(b,d)}):(k.callbacksBackend.cancelGraphModification(),c(b,d))})}else b.token==="query"&&b.kind=="query"&&this.executeQuery(b,c,d,g)};J.QueryEngine.prototype.executeQuery=
function(b,c,d,g){var k=b.units,h=this,i={blanks:{},outCache:{}};this.registerNsInEnvironment(b.prologue,i);var n=h.abstractQueryTree.parseExecutableUnit(k[0]);if(n.kind==="select")this.executeSelect(n,i,d,g,function(b,d){b?typeof d==="object"&&d.denorm===!0?c(!0,d.bindings):(d=h.denormalizeBindingsList(d,i.outCache),d!=null?c(!0,d):c(!1,d)):c(!1,d)});else if(n.kind==="ask")n.projection=[{token:"variable",kind:"*"}],this.executeSelect(n,i,d,g,function(b,d){b?b?d.length>0?c(!0,!0):c(!0,!1):c(!1,d):
c(!1,d)});else if(n.kind==="construct")n.projection=[{token:"variable",kind:"*"}],h=this,this.executeSelect(n,i,d,g,function(b,d){if(b)if(b)if(d=h.denormalizeBindingsList(d,i.outCache),d!=null){var g=new v.Graph;if(n.template==null)n.template={triplesContext:n.pattern};for(var j=1,k=[],x=0;x<d.length;x++){for(var E=d[x],F=0;F<k.length;F++)delete k[F].valuetmp;for(F=0;F<n.template.triplesContext.length;F++){for(var I=["subject","predicate","object"],J=n.template.triplesContext[F],K=0;K<I.length;K++){var L=
I[K];if(J[L].token==="blank"&&!(J[L].valuetmp&&J[L].valuetmp!=null)){var O="_:b"+j;j++;J[L].valuetmp=O;k.push(J[L])}}I=v.buildRDFResource(J.subject,E,h,i);K=v.buildRDFResource(J.predicate,E,h,i);J=v.buildRDFResource(J.object,E,h,i);I!=null&&K!=null&&J!=null&&(K=new v.Triple(I,K,J),g.add(K))}}c(!0,g)}else c(!1,d);else c(!1,d);else c(!1,d)})};J.QueryEngine.prototype.executeSelect=function(b,c,d,g,k){if(b.kind==="select"||b.kind==="ask"||b.kind==="construct"||b.kind==="modify"){var h=b.projection,i=
b.dataset,n=b.modifier,o=b.limit,t=b.offset,q=b.order;if(d!=null||g!=null)i["default"]=d||[],i.named=g||[];i["default"]!=null&&i["default"].length===0&&i.named!=null&&i.named.length===0&&i["default"].push(this.lexicon.defaultGraphUriTerm);if(this.normalizeDatasets(i["default"].concat(i.named),c)!=null)if(g=this.executeSelectUnit(h,i,b.pattern,c),g!=null){if(b.group!=null&&b.group===""){for(var v=!1,d=0;d<b.projection.length;d++)if(b.projection[d].expression!=null&&b.projection[d].expression.expressionType===
"aggregate"){v=!0;break}if(v===!0)b.group="singleGroup"}if(b.group&&b.group!="")if(this.checkGroupSemantics(b.group,h)){n=this.groupSolution(g,b.group,i,c);o=[];for(d=0;d<n.length;d++)t=this.aggregateBindings(h,n[d],i,c),o.push(t);k(!0,{bindings:o,denorm:!0})}else k(!1,"Incompatible Group and Projection variables");else c=this.applyOrderBy(q,g,i,c),h=this.projectBindings(h,c,i),modifiedBindings=this.applyModifier(n,h),filteredBindings=this.removeDefaultGraphBindings(this.applyLimitOffset(t,o,modifiedBindings),
i),k(!0,filteredBindings)}else k(!1,g);else k(!1,"Error normalizing datasets")}else k(!1,"Cannot execute "+b.kind+" query as a select query")};J.QueryEngine.prototype.groupSolution=function(b,c,d,j){var k=[],h=[],i=!1;if(c==="singleGroup")return[b];else{for(var n=0;n<b.length;n++){for(var o=b[n],t=!0,q=0;q<c.length;q++){var v=c[q],x=null;if(v.token==="var")x=v.value,i==!1&&k.push(x);else if(v.token==="aliased_expression")if(x=v.alias.value,i==!1&&k.push(x),v.expression.primaryexpression==="var")o[v.alias.value]=
o[v.expression.value.value];else if(x=this.copyDenormalizedBindings([o],j.outCache),x=g.runFilter(v.expression,x[0],this,d,j),g.isEbvError(x))t=!1;else{if(x.value!=null)x.value=""+x.value;o[v.alias.value]=x}else x=this.copyDenormalizedBindings([o],j.outCache),x=g.runFilter(v,x[0],this,j),g.isEbvError(x)?t=!1:(o["groupCondition"+env._i]=x,x="groupCondition"+env._i,i==!1&&k.push(x))}i==!1&&(i=!0);t===!0&&h.push(o)}b={};for(n=0;n<h.length;n++){c=h[n];d="";for(q=0;q<k.length;q++)j=c[k[q]],d+=typeof j===
"object"?j.value:j;b[d]==null?b[d]=[c]:b[d].push(c)}var k=[],D;for(D in b)k.push(b[D]);return k}};J.QueryEngine.prototype.executeSelectUnit=function(b,c,d,j){return d.kind==="BGP"?this.executeAndBGP(b,c,d,j):d.kind==="UNION"?this.executeUNION(b,c,d.value,j):d.kind==="JOIN"?this.executeJOIN(b,c,d,j):d.kind==="LEFT_JOIN"?this.executeLEFT_JOIN(b,c,d,j):d.kind==="FILTER"?(b=this.executeSelectUnit(b,c,d.value,j),b!=null?b=g.checkFilters(d,b,!1,c,j,this):[]):d.kind==="EMPTY_PATTERN"?[]:d.kind==="ZERO_OR_MORE_PATH"||
d.kind==="ONE_OR_MORE_PATH"?this.executeZeroOrMorePath(d,c,j):(console.log("Cannot execute query pattern "+d.kind+". Not implemented yet."),null)};J.QueryEngine.prototype.executeZeroOrMorePath=function(b,c,d){var g=[];b.x.token==="var"&&g.push({token:"variable",kind:"var",value:b.x.value});b.y.token==="var"&&g.push({token:"variable",kind:"var",value:b.y.value});g.length===0&&g.push({token:"variable",kind:"*"});if(b.x.token==="var"&&b.y.token==="var"){var k=this.executeAndBGP(g,c,b.path,d),h={},g=
[],i,n,o,t,q=b.x.value;n=b.x;for(var v=b.path,B=0;B<k.length;B++)if(i=k[B][q],h[i]==null){t=this.lexicon.retrieve(i);b.x=t;b.path=this.abstractQueryTree.replace(v,n,t,d);v=x.clone(b.path);n=this.executeZeroOrMorePath(b,c,d);for(var D=0;D<n.length;D++)o=n[D],o[q]=i,g.push(o);n=t}return g}else if(b.x.token!=="var"&&b.y.token==="var"){h={};i=!0;t=[];for(q=[];i==!0||t.length!==0;){i===!0?(k=this.executeAndBGP(g,c,b.path,d),n=b.x,i=!1):(v=this.lexicon.retrieve(t.pop()),k=b.path,k=this.abstractQueryTree.replace(k,
n,v,d),k=this.executeAndBGP(g,c,k,d),n=v);for(B=0;B<k.length;B++)v=k[B][b.y.value],h[v]!==!0&&(o={},o[b.y.value]=v,q.push(o),h[v]=!0,t.push(v))}return q}else throw"Kind of path not supported!";};J.QueryEngine.prototype.executeUNION=function(b,c,d,j){var k=d[0],h=d[1],i=null,n=null;if(d.length!=2)throw"SPARQL algebra UNION with more than two components";i=this.executeSelectUnit(b,c,k,j);if(i==null)return null;n=this.executeSelectUnit(b,c,h,j);if(n==null)return null;b=ia.unionBindings(i,n);return b=
g.checkFilters(d,b,!1,c,j,this)};J.QueryEngine.prototype.executeAndBGP=function(b,c,d,j){b=ia.executeAndBGPsDPSize(d.value,c,this,j);return b!=null?g.checkFilters(d,b,!1,c,j,this):null};J.QueryEngine.prototype.executeLEFT_JOIN=function(b,c,d,j){var k=d.rvalue,h=null,i=null,h=this.executeSelectUnit(b,c,d.lvalue,j);if(h==null)return null;i=this.executeSelectUnit(b,c,k,j);if(i==null)return null;b=ia.leftOuterJoinBindings(h,i);c=g.checkFilters(d,b,!0,c,j,this);if(h.length>1&&i.length>1){var d=[],j={},
n;for(n in h[0])j[n]=!0;for(n in i[0])j[n]!=!0&&d.push(n);h=[];i={};for(j=0;j<c.length;j++)if(c[j].__nullify__===!0){for(k=0;k<d.length;k++)c[j].bindings[d[k]]=null;k=[];b=[];for(n in c[j].bindings)c[j].bindings[n]!=null&&(k.push(n+c[j].bindings[n]),k.sort(),b.push(k.join("")));if(i[k.join("")]==null){for(k=0;k<b.length;k++)i[b[k]]=!0;h.push(c[j].bindings)}}else for(n in h.push(c[j]),k=[],c[j])k.push(n+c[j][n]),k.sort(),i[k.join("")]=!0;return h}else return c};J.QueryEngine.prototype.executeJOIN=
function(b,c,d,j){var k=d.lvalue,h=d.rvalue,i=null,n=null,i=this.executeSelectUnit(b,c,k,j);if(i==null)return null;n=this.executeSelectUnit(b,c,h,j);if(n==null)return null;b=null;if(i.length===0||n.length===0)b=[];else{var b={},o=[],t;for(t in i[0])b[t]=!1;for(t in n[0])b[t]===!1&&o.push(t);b=o.length==0?ia.joinBindings(i,n):this.abstractQueryTree.treeWithUnion(k)||this.abstractQueryTree.treeWithUnion(h)?ia.joinBindings(i,n):ia.joinBindings2(o,i,n)}return b=g.checkFilters(d,b,!1,c,j,this)};J.QueryEngine.prototype.rangeQuery=
function(b,c){var d=this.normalizeQuad(b,c,!1);return d!=null?(d=this.backend.range(new V.Pattern(d)),d==null||d.length==0?[]:d):(console.log("ERROR normalizing quad"),null)};J.QueryEngine.prototype.executeUpdate=function(b,c){var d=b.units,g=this,k={blanks:{},outCache:{}};this.registerNsInEnvironment(b.prologue,k);for(var h=0;h<d.length;h++){var i=g.abstractQueryTree.parseExecutableUnit(d[h]);if(i.kind==="insertdata"){for(var n=0;n<i.quads.length;n++){var o=i.quads[n];if(g._executeQuadInsert(o,k)!==
!0)return c(!1,error)}c(!0)}else if(i.kind==="deletedata"){for(n=0;n<i.quads.length;n++)o=i.quads[n],this._executeQuadDelete(o,k);c(!0)}else if(i.kind==="modify")this._executeModifyQuery(i,k,c);else if(i.kind==="create")c(!0);else if(i.kind==="load")n={uri:x.lexicalFormBaseUri(i.sourceGraph,k)},i.destinyGraph!=null&&(n={uri:x.lexicalFormBaseUri(i.destinyGraph,k)}),g=this,this.rdfLoader.load(i.sourceGraph.value,n,function(b,d){b==!1?(console.log("Error loading graph"),console.log(d),c(!1,"error batch loading quads")):
(d=g.batchLoad(d),c(d!=null,d||"error batch loading quads"))});else if(i.kind==="drop")this._executeClearGraph(i.destinyGraph,k,c);else if(i.kind==="clear")this._executeClearGraph(i.destinyGraph,k,c);else throw Error("not supported execution unit");}};J.QueryEngine.prototype.batchLoad=function(b,c){var d=null,g=null,k=null,h=null,i=0,n=!0,o={},t,q;this.eventsOnBatchLoad&&this.callbacksBackend.startGraphModification();for(var v=0;v<b.length;v++)if(q=b[v],q.subject.uri||q.subject.token==="uri"?t=this.lexicon.registerUri(q.subject.uri||
q.subject.value):q.subject.literal||q.subject.token==="literal"?t=this.lexicon.registerLiteral(q.subject.literal||q.subject.value):(t=o[q.subject.blank||q.subject.value],t==null&&(t=this.lexicon.registerBlank(q.subject.blank||q.subject.value),o[q.subject.blank||q.subject.value]=t)),d=t,q.predicate.uri||q.predicate.token==="uri"?t=this.lexicon.registerUri(q.predicate.uri||q.predicate.value):q.predicate.literal||q.predicate.token==="literal"?t=this.lexicon.registerLiteral(q.predicate.literal||q.predicate.value):
(t=o[q.predicate.blank||q.predicate.value],t==null&&(t=this.lexicon.registerBlank(q.predicate.blank||q.predicate.value),o[q.predicate.blank||q.predicate.value]=t)),g=t,q.object.uri||q.object.token==="uri"?t=this.lexicon.registerUri(q.object.uri||q.object.value):q.object.literal||q.object.token==="literal"?t=this.lexicon.registerLiteral(q.object.literal||q.object.value):(t=o[q.object.blank||q.object.value],t==null&&(t=this.lexicon.registerBlank(q.object.blank||q.object.value),o[q.object.blank||q.object.value]=
t)),k=t,q.graph.uri||q.graph.token==="uri"?(t=this.lexicon.registerUri(q.graph.uri||q.graph.value),this.lexicon.registerGraph(t)):q.graph.literal||q.graph.token==="literal"?t=this.lexicon.registerLiteral(q.graph.literal||q.graph.value):(t=o[q.graph.blank||q.graph.value],t==null&&(t=this.lexicon.registerBlank(q.graph.blank||q.graph.value),o[q.graph.blank||q.graph.value]=t)),h=t,t=q,q={subject:d,predicate:g,object:k,graph:h},d=new V.NodeKey(q),g=this.backend.search(d),!g)if(g=this.backend.index(d),
g==!0)this.eventsOnBatchLoad&&this.callbacksBackend.nextGraphModification(I.added,[t,q]),i+=1;else{n=!1;break}this.lexicon.updateAfterWrite!=null&&this.lexicon.updateAfterWrite();var x=function(){n?c&&c(!0,i):c&&c(!1,null)};this.eventsOnBatchLoad?this.callbacksBackend.endGraphModification(function(){x()}):x();return n?i:null};J.QueryEngine.prototype.computeCosts=function(b,c){for(var d=0;d<b.length;d++)b[d]._cost=this.quadCost(b[d],c);return b};J.QueryEngine.prototype._executeModifyQuery=function(b,
c,d){var g=this,k=!0,h=null,i=["subject","predicate","object","graph"];b.insert=b.insert==null?[]:b.insert;b["delete"]=b["delete"]==null?[]:b["delete"];x.seq(function(d){var i=[],t=[];b["with"]!=null&&i.push(b["with"]);if(b.using!=null)for(var t=[],q=0;q<b.using.length;q++){var v=b.using[q];v.kind==="named"?t.push(v.uri):i.push(v.uri)}b.dataset={};b.projection=[{token:"variable",kind:"*"}];g.executeSelect(b,c,i,t,function(b,i){b?(i=g.denormalizeBindingsList(i,c.outCache),i!=null?h=i:k=!1):k=!1;return d()})},
function(d){var o=b["with"];if(k){for(var t=[],q=0;q<b["delete"].length;q++)for(var v=b["delete"][q],x=0;x<h.length;x++){for(var D={},E=h[x],F=0;F<i.length;F++){var I=i[F];I=="graph"&&v[I]==null?D.graph=o:D[I]=v[I].token==="var"?E[v[I].value]:v[I]}t.push(D)}for(x=0;x<t.length;x++)D=t[x],g._executeQuadDelete(D,c)}d()},function(d){var o=b["with"];if(k){for(var t=[],q=0;q<b.insert.length;q++)for(var v=b.insert[q],x=0;x<h.length;x++){for(var D={},E=h[x],F=0;F<i.length;F++){var I=i[F];I=="graph"&&v[I]==
null?D.graph=o:D[I]=v[I].token==="var"?E[v[I].value]:v[I]}t.push(D)}for(q=0;q<t.length;q++)D=t[q],g._executeQuadInsert(D,c)}d()})(function(){d(k)})};J.QueryEngine.prototype._executeQuadInsert=function(b,c){var d=this.normalizeQuad(b,c,!0);if(d!=null){var g=new V.NodeKey(d),k=this.backend.search(g);return k?k:(k=this.backend.index(g),k==!0?(this.callbacksBackend.nextGraphModification(I.added,[b,d]),!0):(console.log("ERROR inserting quad"),!1))}else return console.log("ERROR normalizing quad"),!1};
J.QueryEngine.prototype._executeQuadDelete=function(b,c){var d=this.normalizeQuad(b,c,!1);if(d!=null){var g=new V.NodeKey(d);this.backend["delete"](g);return this.lexicon.unregister(b,g)==!0?(this.callbacksBackend.nextGraphModification(I.deleted,[b,d]),!0):(console.log("ERROR unregistering quad"),!1)}else return console.log("ERROR normalizing quad"),!1};J.QueryEngine.prototype._executeClearGraph=function(b,c,d){if(b==="default")this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",d);else if(b===
"named"){var g=this,k=this.lexicon.registeredGraphs(!0);if(k!=null){var h=!1;x.repeat(0,k.length,function(b,c){var d=k[c._i],t=arguments.callee;h?b(t,c):g.execute("DELETE { GRAPH <"+d+"> { ?s ?p ?o } } WHERE { GRAPH <"+d+"> { ?s ?p ?o } }",function(d){h=!d;b(t,c)})},function(){d(!h)})}else d(!1,"Error deleting named graphs")}else b==="all"?(g=this,this.execute("CLEAR DEFAULT",function(b,c){b?g.execute("CLEAR NAMED",d):d(!1,c)})):b.token=="uri"?(b=x.lexicalFormBaseUri(b,c),b!=null?this.execute("DELETE { GRAPH <"+
b+"> { ?s ?p ?o } } WHERE { GRAPH <"+b+"> { ?s ?p ?o } }",d):d(!1,"wrong graph URI")):d(!1,"wrong graph URI")};J.QueryEngine.prototype.checkGroupSemantics=function(b,c){if(b==="singleGroup")return!0;for(var d={},g=0;g<b.length;g++){var k=b[g];k.token==="var"?d[k.value]=!0:k.token==="aliased_expression"&&(d[k.alias.value]=!0)}for(g=0;g<c.length;g++)if(k=c[g],k.kind==="var"){if(d[k.value.value]==null)return!1}else if(k.kind==="aliased"&&k.expression&&k.expression.primaryexpression==="var"&&d[k.expression.value.value]==
null)return!1;return!0};J.QueryEngine.prototype.registerDefaultNamespace=function(b,c){this.defaultPrefixes[b]=c};var I={ANYTHING:{token:"var",value:"_"},added:"added",deleted:"deleted",eventsFlushed:"eventsFlushed",CallbacksBackend:function(b){this.aqt=new L.AbstractQueryTree;this.engine=b;this.indexMap={};this.observersMap={};this.queriesIndexMap={};this.emptyNotificationsMap={};this.queriesList=[];this.pendingQueries=[];this.matchedQueries=[];this.updateInProgress=null;this.indices=["SPOG","GP",
"OGS","POG","GSP","OS"];this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};this.callbackCounter=0;this.callbacksMap={};this.callbacksInverseMap={};this.queryCounter=0;this.queriesMap={};this.queriesCallbacksMap={};this.queriesInverseMap={};for(b=0;b<this.indices.length;b++){var c=
this.indices[b];this.indexMap[c]={};this.queriesIndexMap[c]={}}}};I.CallbacksBackend.prototype.startGraphModification=function(){this.pendingQueries=[].concat(this.queriesList);this.matchedQueries=[];if(this.updateInProgress==null)this.updateInProgress={added:[],deleted:[]}};I.CallbacksBackend.prototype.nextGraphModification=function(b,c){this.updateInProgress[b].push(c)};I.CallbacksBackend.prototype.endGraphModification=function(b){var c=this;if(this.updateInProgress!=null){var d=c.updateInProgress;
c.updateInProgress=null;this.sendNotification(I.deleted,d[I.deleted],function(){c.sendNotification(I.added,d[I.added],function(){c.sendEmptyNotification(I.eventsFlushed,null,function(){c.dispatchQueries(function(){b(!0)})})})})}else b(!0)};I.CallbacksBackend.prototype.cancelGraphModification=function(){this.updateInProgress=null};I.CallbacksBackend.prototype.sendNotification=function(b,c,d){for(var g={},k=0;k<c.length;k++){var h=c[k],i;for(i in this.indexMap){var n=this.indexMap[i],o=this.componentOrders[i];
this._searchCallbacksInIndex(n,o,b,h,g);this.pendingQueries.length!=0&&(n=this.queriesIndexMap[i],this._searchQueriesInIndex(n,o,h))}}this.dispatchNotifications(g);d!=null&&d(!0)};I.CallbacksBackend.prototype.sendEmptyNotification=function(b,c,d){for(var g=this.emptyNotificationsMap[b]||[],k=0;k<g.length;k++)g[k](b,c);d()};I.CallbacksBackend.prototype.dispatchNotifications=function(b){for(var c in b){var d=this.callbacksMap[c],g=b[c][I.deleted];g!=null&&d(I.deleted,g);for(var k in b[c])k!=I.deleted&&
d(k,b[c][k])}};I.CallbacksBackend.prototype._searchCallbacksInIndex=function(b,c,d,g,k){for(var h=g[1],g=g[0],i=0;i<c.length+1;i++){for(var n=b._||[],o=[],t=0;t<n.length;t++){var q=n[t];this.callbacksMap[q]!=null&&(k[q]=k[q]||{},k[q][d]=k[q][d]||[],k[q][d].push(g),o.push(q))}b._=o;n=c[i];if(b[""+h[n]]!=null)b=b[""+h[n]];else break}};I.CallbacksBackend.prototype.subscribeEmpty=function(b,c){var d=this.emptyNotificationsMap[b]||[];d.push(c);this.emptyNotificationsMap[b]=d};I.CallbacksBackend.prototype.unsubscribeEmpty=
function(b,c){var d=this.emptyNotificationsMap[b];d!=null&&(d=x.remove(d,c));this.emptyNotificationsMap[b]=d};I.CallbacksBackend.prototype.subscribe=function(b,c,d,g,k,h){b=this._tokenizeComponents(b,c,d,g);c={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,c);b=this.engine.normalizeQuad(b,c,!0);d=this._indexForPattern(new V.Pattern(b));c=this.componentOrders[d];d=this.indexMap[d];for(g=0;g<c.length;g++){var i=b[c[g]];if(i==="_"){d._==null&&(d._=[]);this.callbackCounter++;d._.push(this.callbackCounter);
this.callbacksMap[this.callbackCounter]=k;this.callbacksInverseMap[k]=this.callbackCounter;break}else g===c.length-1?(d[i]=d[i]||{_:[]},this.callbackCounter++,d[i]._.push(this.callbackCounter),this.callbacksMap[this.callbackCounter]=k,this.callbacksInverseMap[k]=this.callbackCounter):(d[i]=d[i]||{},d=d[i])}h!=null&&h(!0)};I.CallbacksBackend.prototype.unsubscribe=function(b){var c=this.callbacksInverseMap[b];c!=null&&(delete this.callbacksInverseMap[b],delete this.callbacksMap[c])};I.CallbacksBackend.prototype._tokenizeComponents=
function(b,c,d,g){var k={};k.subject=b==null?I.ANYTHING:b.indexOf("_:")==0?{token:"blank",value:b}:{token:"uri",value:b};k.predicate=c==null?I.ANYTHING:{token:"uri",value:c};k.object=d==null?I.ANYTHING:{token:"uri",value:d};k.graph=g==null?I.ANYTHING:{token:"uri",value:g};return k};I.CallbacksBackend.prototype._indexForPattern=function(b){for(var b=b.indexKey,c=this.indices,d=0;d<c.length;d++)for(var g=c[d],k=this.componentOrders[g],h=0;h<k.length;h++){if(x.include(b,k[h])===!1)break;if(h==b.length-
1)return g}return"SPOG"};I.CallbacksBackend.prototype.observeNode=function(){var b,c,d,g;arguments.length===4?(b=arguments[0],c=arguments[1],d=arguments[2],g=arguments[3]):(b=arguments[0],c=this.engine.lexicon.defaultGraphUri,d=arguments[1],g=arguments[2]);c="CONSTRUCT { <"+b+"> ?p ?o } WHERE { GRAPH <"+c+"> { <"+b+"> ?p ?o } }";var k=this,h={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,h);var i=[];this.engine.execute(c,function(c,o){if(c){var t=!1,q=function(b,c){if(b==="eventsFlushed"&&
t)t=!1,d(o);else if(b!=="eventsFlushed"){t=!0;for(var g=0;g<c.length;g++){var j=c[g],n=v.buildRDFResource(j.subject,i,k.engine,h),q=v.buildRDFResource(j.predicate,i,k.engine,h),j=v.buildRDFResource(j.object,i,k.engine,h);n!=null&&q!=null&&j!=null&&(j=new v.Triple(n,q,j),b===I.added?o.add(j):b===I.deleted&&o.remove(j))}}};k.observersMap[d]=q;k.subscribeEmpty(I.eventsFlushed,q);k.subscribe(b,null,null,null,q,function(){d(o);g&&g(!0)})}else g&&g(!1)})};I.CallbacksBackend.prototype.stopObservingNode=
function(b){return(b=this.observersMap[b])?(this.unsubscribe(b),this.unsubscribeEmpty(I.eventsFlushed,b),!0):!1};I.CallbacksBackend.prototype.observeQuery=function(b,c,d){var g=this.aqt.collectBasicTriples(this.aqt.parseSelect(this.aqt.parseQueryString(b).units[0])),k={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,k);var h,i,n,o=this.queryCounter;this.queryCounter++;this.queriesMap[o]=b;this.queriesInverseMap[b]=o;this.queriesList.push(o);this.queriesCallbacksMap[o]=c;for(var t=
0;t<g.length;t++){i=g[t];if(i.graph==null)i.graph=this.engine.lexicon.defaultGraphUriTerm;i=this.engine.normalizeQuad(i,k,!0);h=new V.Pattern(i);n=this._indexForPattern(h);h=this.componentOrders[n];n=this.queriesIndexMap[n];for(var q=0;q<h.length;q++){var v=i[h[q]];if(typeof v==="string"){n._==null&&(n._=[]);n._.push(o);break}else q===h.length-1?(n[v]=n[v]||{_:[]},n[v]._.push(o)):(n[v]=n[v]||{},n=n[v])}}this.engine.execute(b,function(b,d){b?c(d):console.log("ERROR in query callback "+d)});d!=null&&
d()};I.CallbacksBackend.prototype.stopObservingQuery=function(b){var c=this.queriesInverseMap[b];if(c!=null)delete this.queriesInverseMap[b],delete this.queriesMap[c],this.queriesList=x.remove(this.queriesList,c)};I.CallbacksBackend.prototype._searchQueriesInIndex=function(b,c,d){for(var d=d[1],g=0;g<c.length+1;g++){for(var k=b._||[],h=[],i=0;i<k.length;i++){var n=k[i];x.include(this.pendingQueries,n)&&(x.remove(this.pendingQueries,n),this.matchedQueries.push(n));this.queriesMap[n]!=null&&h.push(n)}b._=
h;k=c[g];if(b[""+d[k]]!=null)b=b[""+d[k]];else break}};I.CallbacksBackend.prototype.dispatchQueries=function(b){var c=this,d,g,k,h;x.repeat(0,this.matchedQueries.length,function(b,n){d=arguments.callee;k=c.matchedQueries[n._i];g=c.queriesMap[k];h=c.queriesCallbacksMap[k];x.recur(function(){c.engine.execute(g,function(c,g){c?h(g):console.log("ERROR executing query callback "+g);b(d,n)})})},function(){b()})};var O={};try{typeof Worker=="undefined"&&(Worker=null)}catch(Ec){Worker=null}if(Worker)O.RDFStoreClient=
function(b,c,d){console.log("trying to load "+b);this.connection=Worker.Worker?new Worker.Worker(b):new Worker(b);this.callbacksCounter=1;var g=this;this.rdf=v.rdf;console.log("The worker");console.log(this.connection);g=this;this.connection.onmessage=function(b){g.receive(b)};this.observingCallbacks={};this.callbacks={0:{cb:function(b,c){b===!0?d(!0,g):d(!1,c)},fn:"create"}};this.connection.postMessage({fn:"create",args:c,callback:"0"})},O.RDFStoreClient.prototype.receive=function(b){event=b.data||
b;if(event.fn==="workerRequest:NetworkTransport:load"){var c=this,d=event.callback,b=event.arguments.concat(function(b,g){c.connection.postMessage({fn:"workerRequestResponse",results:[b,g],callback:d})});S.load.apply(S,b)}else if(b=this.callbacks[event.callback])b.fn==="create"||b.fn==="execute"||b.fn==="insert"||b.fn=="graph"||b.fn==="node"||b.fn==="insert"||b.fn==="delete"||b.fn==="clear"||b.fn==="load"||b.fn==="startObservingQueryEndCb"||b.fn==="registeredGraphs"?(delete this.callbacks[event.callback],
b.cb(event.success,event.result)):b.fn==="startObservingQuery"?b.cb(event.result):b.fn==="startObservingNode"?b.cb(event.result):b.fn==="subscribe"&&b.cb(event.event,event.result)},O.RDFStoreClient.prototype.registerCallback=function(b,c){var d=""+this.callbacksCounter;this.callbacks[d]={fn:b,cb:c};this.callbacksCounter++;return d},O.RDFStoreClient.prototype.execute=function(){if(arguments.length===3)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(arguments.length===4)this.executeWithEnvironment(arguments[0],
arguments[1],arguments[2],arguments[3]);else{var b,c;arguments.length===1?(b=arguments[0],c=function(){}):arguments.length===2&&(b=arguments[0],c=arguments[1]);c=this.registerCallback("execute",c);this.connection.postMessage({fn:"execute",args:[b],callback:c})}},O.RDFStoreClient.prototype.insert=function(){var b,c,d;if(arguments.length===1)c=arguments[0],this.connection.postMessage({fn:"insert",args:[c]});else if(arguments.length===2)c=arguments[0],d=arguments[1]||function(){},d=this.registerCallback("insert",
d),this.connection.postMessage({fn:"insert",args:[c],callback:d});else if(arguments.length===3)c=arguments[0],b=arguments[1],d=arguments[2]||function(){},d=this.registerCallback("insert",d),this.connection.postMessage({fn:"insert",args:[c,b],callback:d});else throw"The triples to insert, an optional graph and callback must be provided";},O.RDFStoreClient.prototype.graph=function(){var b=null,c=null;if(arguments.length===1)c=arguments[0]||function(){};else if(arguments.length===2)c=arguments[1]||function(){},
b=arguments[0];else throw"An optional graph URI and a callback function must be provided";var d=this,g=this.registerCallback("insert",function(b,h){if(b){for(var g,j=0;j<h.triples.length;j++)g=h.triples[j],h.triples[j]=new v.Triple(d.adaptJSInterface(g.subject),d.adaptJSInterface(g.predicate),d.adaptJSInterface(g.object));c(b,d.rdf.createGraph(h.triples))}else c(b,h)});b==null?this.connection.postMessage({fn:"graph",args:[],callback:g}):this.connection.postMessage({fn:"graph",args:[b],callback:g})},
O.RDFStoreClient.prototype.node=function(){var b=null,c=null,d=null;if(arguments.length===2)d=arguments[0],c=arguments[1]||function(){};else if(arguments.length===3)d=arguments[0],b=arguments[1],c=arguments[2]||function(){};else throw"An optional graph URI and a callback function must be provided";var g=this,k=this.registerCallback("insert",function(b,d){if(b){for(var k,o=0;o<d.triples.length;o++)k=d.triples[o],d.triples[o]=new v.Triple(g.adaptJSInterface(k.subject),g.adaptJSInterface(k.predicate),
g.adaptJSInterface(k.object));c(b,g.rdf.createGraph(d.triples))}else c(b,d)});b==null?this.connection.postMessage({fn:"node",args:[d],callback:k}):this.connection.postMessage({fn:"node",args:[d,b],callback:k})},O.RDFStoreClient.prototype.setPrefix=function(b,c){this.rdf.setPrefix(b,c);this.connection.postMessage({fn:"rdf/setPrefix",args:[b,c],callback:null})},O.RDFStoreClient.prototype.setDefaultPrefix=function(b){this.rdf.setDefaultPrefix(b);this.connection.postMessage({fn:"rdf/setDefaultPrefix",
args:[b],callback:null})},O.RDFStoreClient.prototype["delete"]=function(){var b,c,d;if(arguments.length===1)c=arguments[0],this.connection.postMessage({fn:"delete",args:[c]});else if(arguments.length===2)c=arguments[0],d=arguments[1]||function(){},d=this.registerCallback("delete",d),this.connection.postMessage({fn:"delete",args:[c],callback:d});else if(arguments.length===3)c=arguments[0],b=arguments[1],d=arguments[2]||function(){},d=this.registerCallback("delete",d),this.connection.postMessage({fn:"delete",
args:[c,b],callback:d});else throw"The triples to delete, an optional graph and callback must be provided";},O.RDFStoreClient.prototype.clear=function(){var b,c;if(arguments.length===1)c=arguments[0]||function(){},c=this.registerCallback("clear",c),this.connection.postMessage({fn:"clear",args:[],callback:c});else if(arguments.length===2)b=arguments[0],c=arguments[1]||function(){},c=this.registerCallback("clear",c),this.connection.postMessage({fn:"clear",args:[b],callback:c});else throw"The optional graph and a callback must be provided";
},O.RDFStoreClient.prototype.setBatchLoadEvents=function(b){this.connection.postMessage({fn:"setBatchLoadEvents",args:[b]})},O.RDFStoreClient.prototype.registerDefaultNamespace=function(b,c){this.connection.postMessage({fn:"registerDefaultNamespace",args:[b,c]})},O.RDFStoreClient.prototype.registerDefaultProfileNamespaces=function(){this.connection.postMessage({fn:"registerDefaultProfileNamespaces",args:[]})},O.RDFStoreClient.prototype.load=function(){var b,c,d,g;if(arguments.length===3)b=arguments[0],
c=arguments[1],g=arguments[2]||function(){},g=this.registerCallback("load",g),this.connection.postMessage({fn:"load",args:[b,c],callback:g});else if(arguments.length===4)b=arguments[0],c=arguments[1],d=arguments[2],g=arguments[3]||function(){},g=this.registerCallback("load",g),this.connection.postMessage({fn:"load",args:[b,c,d],callback:g});else if(arguments.length===2)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";},O.RDFStoreClient.prototype.startObservingQuery=
function(b,c,d){d!=null?(c=this.registerCallback("startObservingQuery",c),this.observingCallbacks[b]=c,d=this.registerCallback("startObservingQueryEndCb",d),this.connection.postMessage({fn:"startObservingQuery",args:[b],callback:[c,d]})):(c=this.registerCallback("startObservingQuery",c),this.observingCallbacks[b]=c,this.connection.postMessage({fn:"startObservingQuery",args:[b],callback:[c]}))},O.RDFStoreClient.prototype.stopObservingQuery=function(b){var c=this.observingCallbacks[b];delete this.observingCallbacks[b];
delete this.callbacks[c];this.connection.postMessage({fn:"stopObservingQuery",args:[b],callback:[]})},O.RDFStoreClient.prototype.startObservingNode=function(){var b,c,d;if(arguments.length===2){b=arguments[0];d=arguments[1];var g=this,k=this.registerCallback("startObservingNode",function(b){for(var c,k=0;k<b.triples.length;k++)c=b.triples[k],b.triples[k]=new v.Triple(g.adaptJSInterface(c.subject),g.adaptJSInterface(c.predicate),g.adaptJSInterface(c.object));d(g.rdf.createGraph(b.triples))});this.observingCallbacks[d]=
k;this.connection.postMessage({fn:"startObservingNode",args:[b],callback:k})}else arguments.length===3&&(b=arguments[0],c=arguments[1],d=arguments[2],g=this,k=this.registerCallback("startObservingNode",function(b){for(var c,k=0;k<b.triples.length;k++)c=b.triples[k],b.triples[k]=new v.Triple(g.adaptJSInterface(c.subject),g.adaptJSInterface(c.predicate),g.adaptJSInterface(c.object));d(g.rdf.createGraph(b.triples))}),this.observingCallbacks[d]=k,this.connection.postMessage({fn:"startObservingNode",args:[b,
c],callback:k}))},O.RDFStoreClient.prototype.stopObservingNode=function(b){var c=this.observingCallbacks[b];delete this.observingCallbacks[b];delete this.callbacks[c];this.connection.postMessage({fn:"stopObservingNode",args:[c],callback:[]})},O.RDFStoreClient.prototype.subscribe=function(b,c,d,g,k){var h=this,i=this.registerCallback("subscribe",function(b,c){for(var d,g=0;g<c.length;g++)d=c[g],c[g]=new v.Triple(h.adaptJSInterface(d.subject),h.adaptJSInterface(d.predicate),h.adaptJSInterface(d.object));
k(b,c)});this.observingCallbacks[k]=i;this.connection.postMessage({fn:"subscribe",args:[b,c,d,g],callback:i})},O.RDFStoreClient.prototype.unsubscribe=function(b){var c=this.observingCallbacks[b];delete this.observingCallbacks[b];delete this.callbacks[c];this.connection.postMessage({fn:"unsubscribe",args:[c],callback:[]})},O.RDFStoreClient.prototype.registeredGraphs=function(b){var c=this;this.connection.postMessage({fn:"registeredGraphs",args:[],callback:this.registerCallback("registeredGraphs",function(d,
g){if(d)for(var k=0;k<g.length;k++)graph=g[k],g[k]=c.adaptJSInterface(graph);b(d,g)})})},O.RDFStoreClient.prototype.adaptJSInterface=function(b){if(b.interfaceName==="BlankNode")return new v.BlankNode(b.bnodeId);else if(b.interfaceName==="Literal")return new v.Literal(b.nominalValue,b.language,b.datatype);else if(b.interfaceName==="NamedNode")return new v.NamedNode(b.nominalValue)},O.RDFStoreClient.prototype.isWebWorkerConnection=!0;var K={},yb={MongodbQueryEngine:function(){throw"MongoDB backend not supported in the browser version";
}};K.VERSION="0.5.9";K.connect=function(){var b,c,d;arguments.length==1&&(b=__dirname,c={},d=arguments[0]);arguments.length==2?(typeof arguments[0]==="string"?(b=arguments[0],c={}):(b=__dirname+"/index.js",c=arguments[0]),d=arguments[1]):(b=arguments[0],c=arguments[1],d=arguments[2]);try{Worker?new O.RDFStoreClient(b,c,function(b,c){d(b,c)}):K.create(c,function(b){d(!1,b)})}catch(g){K.create(c,function(b){d(!1,b)})}};K.create=function(){return arguments.length==1?new K.Store(arguments[0]):arguments.length==
2?new K.Store(arguments[0],arguments[1]):new K.Store};K.Store=function(b,c){var d=null,g=null;if(arguments.length==0)g={};else if(arguments.length==1)g={},d=b;else if(arguments.length>1)g=b,d=c;else throw"An optional argument map and a callback must be provided";g.treeOrder==null&&(g.treeOrder=15);this.functionMap={};var k=this;g.engine==="mongodb"?(this.isMongodb=!0,this.engine=new yb.MongodbQueryEngine(g),this.engine.readConfiguration(function(){g.overwrite===!0?k.engine.clean(function(){d(k)}):
d(k)})):new P.Lexicon(function(b){g.overwrite===!0&&b.clear();new X.QuadBackend(g,function(c){g.overwrite===!0&&c.clear();g.backend=c;g.lexicon=b;k.engine=new J.QueryEngine(g);d&&d(k)})},g.name)};K.Store.prototype.rdf=v.rdf;K.Store.prototype.execute=function(){if(arguments.length===3)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(arguments.length===4)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var b,c;arguments.length===1?(b=arguments[0],
c=function(){}):arguments.length===2&&(b=arguments[0],c=arguments[1]);this.engine.execute(b,c)}};K.Store.prototype.executeWithEnvironment=function(){var b,c,d;if(arguments.length===3){b=arguments[0];var g=function(){};c=arguments[1];d=arguments[2]}else arguments.length===4&&(b=arguments[0],g=arguments[3],c=arguments[1],d=arguments[2]);for(var k=[],h=[],i=0;i<c.length;i++)k.push({token:"uri",value:c[i]});for(i=0;i<d.length;i++)h.push({token:"uri",value:d[i]});this.engine.execute(b,g,k,h)};K.Store.prototype.graph=
function(){var b=null,c=null;if(arguments.length===1)c=arguments[0]||function(){},b=this.engine.lexicon.defaultGraphUri;else if(arguments.length===2)c=arguments[1]||function(){},b=arguments[0];else throw"An optional graph URI and a callback function must be provided";this.rdf.resolve(b)!=null&&(b=this.rdf.resolve(b));this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+b+"> { ?s ?p ?o } }",c)};K.Store.prototype.node=function(){var b=null,c=null,d=null;if(arguments.length===2)d=arguments[0],
c=arguments[1]||function(){},b=this.engine.lexicon.defaultGraphUri;else if(arguments.length===3)d=arguments[0],b=arguments[1],c=arguments[2]||function(){};else throw"An optional graph URI, node URI and a callback function must be provided";this.rdf.resolve(b)!=null&&(b=this.rdf.resolve(b));this.rdf.resolve(d)!=null&&(d=this.rdf.resolve(d));this.engine.execute("CONSTRUCT { <"+d+"> ?p ?o } WHERE { GRAPH <"+b+"> { <"+d+"> ?p ?o } }",c)};K.Store.prototype.startObservingNode=function(){var b,c,d;arguments.length===
2?(b=arguments[0],d=arguments[1],this.engine.callbacksBackend.observeNode(b,d,function(){})):arguments.length===3&&(b=arguments[0],c=arguments[1],d=arguments[2],this.engine.callbacksBackend.observeNode(b,c,d,function(){}))};K.Store.prototype.stopObservingNode=function(b){this.engine.callbacksBackend.stopObservingNode(b)};K.Store.prototype.startObservingQuery=function(b,c,d){d!=null?this.engine.callbacksBackend.observeQuery(b,c,d):this.engine.callbacksBackend.observeQuery(b,c,function(){})};K.Store.prototype.stopObservingQuery=
function(b){this.engine.callbacksBackend.stopObservingQuery(b)};K.Store.prototype.subscribe=function(b,c,d,g,k){var h=function(b,c){for(var d=[],g={blanks:{},outCache:{}},h=[],j=0;j<c.length;j++){var x=c[j],D=v.buildRDFResource(x.subject,h,this.engine,g),E=v.buildRDFResource(x.predicate,h,this.engine,g),x=v.buildRDFResource(x.object,h,this.engine,g);D!=null&&E!=null&&x!=null&&(x=new v.Triple(D,E,x),d.push(x))}k(b,d)};this.functionMap[k]=h;this.engine.callbacksBackend.subscribe(b,c,d,g,h,function(){})};
K.Store.prototype.unsubscribe=function(b){this.engine.callbacksBackend.unsubscribe(this.functionMap[b]);delete this.functionMap[b]};K.Store.prototype.setPrefix=function(b,c){this.rdf.setPrefix(b,c)};K.Store.prototype.setDefaultPrefix=function(b){this.rdf.setDefaultPrefix(b)};K.Store.prototype.insert=function(){var b,c,d;if(arguments.length===1)c=arguments[0];else if(arguments.length===2)b=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),c=arguments[0],d=arguments[1]||function(){};else if(arguments.length===
3)c=arguments[0],b=this.rdf.createNamedNode(arguments[1]),d=arguments[2]||function(){};else throw"The triples to insert, an optional graph and callback must be provided";var g="",k=this;c.forEach(function(b){g=g+k._nodeToQuery(b.subject)+k._nodeToQuery(b.predicate)+k._nodeToQuery(b.object)+"."});g=b!=null?"INSERT DATA { GRAPH "+this._nodeToQuery(b)+" { "+g+" } }":"INSERT DATA { "+this._nodeToQuery(b)+" { "+g+" }";this.engine.execute(g,d)};K.Store.prototype._nodeToQuery=function(b){if(b.interfaceName===
"NamedNode"){var c=this.rdf.resolve(b.valueOf());return c!=null?"<"+c+">":"<"+b.valueOf()+">"}else{if(b.interfaceName!=="")if(b.lang!=null)return'"'+b.valueOf()+'"@'+b.lang;else if(b.datatype!=null)return'"'+b.valueOf()+'"^^<'+b.datatype+">";return b.toString()}};K.Store.prototype["delete"]=function(){var b,c,d;if(arguments.length===1)c=arguments[0];else if(arguments.length===2)b=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),c=arguments[0],d=arguments[1]||function(){};else if(arguments.length===
3)c=arguments[0],b=this.rdf.createNamedNode(arguments[1]),d=arguments[2]||function(){};else throw"The triples to delete, an optional graph and callback must be provided";var g="",k=this;c.forEach(function(b){g=g+k._nodeToQuery(b.subject)+k._nodeToQuery(b.predicate)+k._nodeToQuery(b.object)+"."});g=b!=null?"DELETE DATA { GRAPH "+this._nodeToQuery(b)+" { "+g+" } }":"DELETE DATA { "+this._nodeToQuery(b)+" { "+g+" }";this.engine.execute(g,d)};K.Store.prototype.clear=function(){var b,c;if(arguments.length===
0)b=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),c=function(){};else if(arguments.length===1)b=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),c=arguments[0]||function(){};else if(arguments.length===2)b=this.rdf.createNamedNode(arguments[0]),c=arguments[1]||function(){};else throw"The optional graph and a callback must be provided";this.engine.execute("CLEAR GRAPH "+this._nodeToQuery(b),c)};K.Store.prototype.setBatchLoadEvents=function(b){this.engine.eventsOnBatchLoad=
b};K.Store.prototype.registerDefaultNamespace=function(b,c){this.rdf.prefixes.set(b,c);this.engine.registerDefaultNamespace(b,c)};K.Store.prototype.registerDefaultProfileNamespaces=function(){var b=this.rdf.prefixes.values(),c;for(c in b)this.registerDefaultNamespace(c,b[c])};K.Store.prototype.load=function(){var b,c,d,g;if(arguments.length===3)d=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0],c=arguments[1],g=arguments[2]||function(){};else if(arguments.length===4)b=
arguments[0],c=arguments[1],d=this.rdf.createNamedNode(arguments[2]),g=arguments[3]||function(){};else if(arguments.length===2)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";if(b==="remote")c=this.rdf.createNamedNode(c),this.engine.execute("LOAD <"+c.valueOf()+"> INTO GRAPH <"+d.valueOf()+">",g);else if(c&&typeof c==="string"&&c.indexOf("file://")===0){b=this.engine.rdfLoader.parsers[b];var k=this;this.engine.rdfLoader.loadFromFile(b,{token:"uri",value:d.valueOf()},
c,function(b,c){b?k.engine.batchLoad(c,g):g(b,c)})}else b=this.engine.rdfLoader.parsers[b],k=this,this.engine.rdfLoader.tryToParse(b,{token:"uri",value:d.valueOf()},c,function(b,c){b?k.engine.batchLoad(c,g):g(b,c)})};K.Store.prototype.registerParser=function(b,c){this.engine.rdfLoader.registerParser(b,c)};K.Store.prototype.registeredGraphs=function(b){if(this.isMongodb)this.engine.registeredGraphs(!0,function(c){for(var d=[],g=0;g<c.length;g++){var j=new v.NamedNode(c[g]);d.push(j)}return b(!0,d)});
else{for(var c=this.engine.lexicon.registeredGraphs(!0),d=[],g=0;g<c.length;g++){var k=new v.NamedNode(c[g]);d.push(k)}return b(!0,d)}};K.Store.prototype._nodeToQuery=function(b){if(b.interfaceName==="NamedNode"){var c=this.rdf.resolve(b.valueOf());return c!=null?"<"+c+">":"<"+b.valueOf()+">"}else return b.toString()};K.Store.prototype.getNetworkTransport=function(){return S};K.Store.prototype.setNetworkTransport=function(b){S=b};RDFStoreWorker={observingCallbacks:{},workerCallbacksCounter:0,workerCallbacks:{}};
RDFStoreWorker.registerCallback=function(b){var c=""+RDFStoreWorker.workerCallbacksCounter;RDFStoreWorker.workerCallbacksCounter++;RDFStoreWorker.workerCallbacks[c]=b;return c};RDFStoreWorker.handleCreate=function(b,c){typeof S!="undefined"&&S!=null&&(S={load:function(b,c,g){var h=RDFStoreWorker.registerCallback(function(b){g.apply(g,b)});postMessage({fn:"workerRequest:NetworkTransport:load",callback:h,arguments:[b,c]})},loadFromFile:function(){}});args=[b];args.push(function(b){RDFStoreWorker.store=
b;postMessage({callback:c,result:"created",success:!0})});K.create.apply(K,args)};RDFStoreWorker.receive=function(b){var c=b.data||b;if(c.fn==="workerRequestResponse"){var d=c.callback,g=RDFStoreWorker.workerCallbacks[d];g!=null&&(delete RDFStoreWorker.workerCallbacks[d],g(c.results))}else if(c.fn==="create"&&c.args!=null)RDFStoreWorker.handleCreate(c.args,c.callback);else if(c.fn==="setBatchLoadEvents")RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args);else if(c.fn==="registerDefaultNamespace")RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,
c.args);else if(c.fn==="registerDefaultProfileNamespaces")RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args);else if((c.fn==="execute"||c.fn==="executeWithEnvironment"||c.fn==="graph"||c.fn==="node"||c.fn==="clear"||c.fn==="load")&&c.args!=null){c.args.push(function(b,d){c.callback!=null&&postMessage({callback:c.callback,result:d,success:b})});try{RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args)}catch(k){console.log("Error executing method through connection"),console.log(k)}}else if((c.fn===
"insert"||c.fn==="delete")&&c.args!=null)try{c.args.push(function(b,d){c.callback!=null&&postMessage({callback:c.callback,result:d,success:b})});g=c.args[0];for(b=0;b<g.triples.length;b++)d=g.triples[b],g.triples[b]=new v.Triple(RDFStoreWorker.adaptJSInterface(d.subject),RDFStoreWorker.adaptJSInterface(d.predicate),RDFStoreWorker.adaptJSInterface(d.object));c.args[1].interfaceName!=null&&(c.args[1]=RDFStoreWorker.adaptJSInterface(c.args[1]));c.args[0]=RDFStoreWorker.store.rdf.createGraph(g.triples);
RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args)}catch(h){console.log("Error executing method through connection"),console.log(h)}else c.fn==="rdf/setPrefix"&&c.args!=null?RDFStoreWorker.store.rdf.setPrefix(c.args[0],c.args[1]):c.fn==="rdf/setDefaultPrefix"&&c.args!=null?RDFStoreWorker.store.rdf.setDefaultPrefix(c.args[0]):c.fn==="startObservingQuery"&&c.args!=null?(d=function(b,d){postMessage({callback:c.callback[0],result:d,success:b})},RDFStoreWorker.observingCallbacks[c.args[0]]=
d,c.args.push(d),c.args.push(function(b,d){c.callback&&c.callback[1]!=null&&postMessage({callback:c.callback[1],result:d,success:b})}),RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args)):c.fn==="stopObservingQuery"?((d=RDFStoreWorker.observingCallbacks[c.args[0]])&&RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,[d]),delete RDFStoreWorker.observingCallbacks[c.args[0]]):c.fn==="startObservingNode"&&c.args!=null?(d=function(b){postMessage({callback:c.callback,result:b})},RDFStoreWorker.observingCallbacks[c.callback]=
d,c.args.push(d),RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,c.args)):c.fn==="stopObservingNode"&&c.args!=null?((d=RDFStoreWorker.observingCallbacks[c.args[0]])&&RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,[d]),delete RDFStoreWorker.observingCallbacks[c.args[0]]):c.fn==="subscribe"&&c.args!=null?(d=function(b,d){postMessage({callback:c.callback,event:b,result:d})},RDFStoreWorker.observingCallbacks[c.callback]=d,c.args.push(d),RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,
c.args)):c.fn==="stopObservingNode"&&c.args!=null?((d=RDFStoreWorker.observingCallbacks[c.args[0]])&&RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,[d]),delete RDFStoreWorker.observingCallbacks[c.args[0]]):c.fn==="registeredGraphs"&&c.args!=null&&RDFStoreWorker.store[c.fn].apply(RDFStoreWorker.store,[function(b,d){c.callback!=null&&postMessage({callback:c.callback,result:d,success:b})}])};RDFStoreWorker.adaptJSInterface=function(b){if(b.interfaceName==="BlankNode")return new v.BlankNode(b.bnodeId);
else if(b.interfaceName==="Literal")return new v.Literal(b.nominalValue,b.language,b.datatype);else if(b.interfaceName==="NamedNode")return new v.NamedNode(b.nominalValue)};onmessage=RDFStoreWorker.receive;try{window.rdfstore=K}catch(Fc){}})();
